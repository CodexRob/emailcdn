(()=>{"use strict";var e,b={},m={};function r(e){var n=m[e];if(void 0!==n)return n.exports;var t=m[e]={id:e,loaded:!1,exports:{}};return b[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}r.m=b,e=[],r.O=(n,t,o,f)=>{if(!t){var a=1/0;for(i=0;i<e.length;i++){for(var[t,o,f]=e[i],d=!0,l=0;l<t.length;l++)(!1&f||a>=f)&&Object.keys(r.O).every(v=>r.O[v](t[l]))?t.splice(l--,1):(d=!1,f<a&&(a=f));if(d){e.splice(i--,1);var u=o();void 0!==u&&(n=u)}}return n}f=f||0;for(var i=e.length;i>0&&e[i-1][2]>f;i--)e[i]=e[i-1];e[i]=[t,o,f]},r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},r.d=(e,n)=>{for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((n,t)=>(r.f[t](e,n),n),[])),r.u=e=>e+".js",r.miniCssF=e=>{},r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={},n="elementsv13:";r.l=(t,o,f,i)=>{if(e[t])e[t].push(o);else{var a,d;if(void 0!==f)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var s=l[u];if(s.getAttribute("src")==t||s.getAttribute("data-webpack")==n+f){a=s;break}}a||(d=!0,(a=document.createElement("script")).type="module",a.charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",n+f),a.src=r.tu(t)),e[t]=[o];var c=(g,v)=>{a.onerror=a.onload=null,clearTimeout(p);var h=e[t];if(delete e[t],a.parentNode&&a.parentNode.removeChild(a),h&&h.forEach(y=>y(v)),g)return g(v)},p=setTimeout(c.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=c.bind(null,a.onerror),a.onload=c.bind(null,a.onload),d&&document.head.appendChild(a)}}})(),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.tt=()=>(void 0===e&&(e={createScriptURL:n=>n},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(e=trustedTypes.createPolicy("angular#bundler",e))),e)})(),r.tu=e=>r.tt().createScriptURL(e),r.p="",(()=>{var e={666:0};r.f.j=(o,f)=>{var i=r.o(e,o)?e[o]:void 0;if(0!==i)if(i)f.push(i[2]);else if(666!=o){var a=new Promise((s,c)=>i=e[o]=[s,c]);f.push(i[2]=a);var d=r.p+r.u(o),l=new Error;r.l(d,s=>{if(r.o(e,o)&&(0!==(i=e[o])&&(e[o]=void 0),i)){var c=s&&("load"===s.type?"missing":s.type),p=s&&s.target&&s.target.src;l.message="Loading chunk "+o+" failed.\n("+c+": "+p+")",l.name="ChunkLoadError",l.type=c,l.request=p,i[1](l)}},"chunk-"+o,o)}else e[o]=0},r.O.j=o=>0===e[o];var n=(o,f)=>{var l,u,[i,a,d]=f,s=0;if(i.some(p=>0!==e[p])){for(l in a)r.o(a,l)&&(r.m[l]=a[l]);if(d)var c=d(r)}for(o&&o(f);s<i.length;s++)r.o(e,u=i[s])&&e[u]&&e[u][0](),e[u]=0;return r.O(c)},t=self.webpackChunkelementsv13=self.webpackChunkelementsv13||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})()})();
"use strict";(self.webpackChunkelementsv13=self.webpackChunkelementsv13||[]).push([[429],{7435:(ie,Ee,de)=>{de(8583)},8583:()=>{!function(e){const n=e.performance;function i(M){n&&n.mark&&n.mark(M)}function o(M,E){n&&n.measure&&n.measure(M,E)}i("Zone");const c=e.__Zone_symbol_prefix||"__zone_symbol__";function a(M){return c+M}const y=!0===e[a("forceDuplicateZoneCheck")];if(e.Zone){if(y||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}let d=(()=>{class M{constructor(t,r){this._parent=t,this._name=r?r.name||"unnamed":"<root>",this._properties=r&&r.properties||{},this._zoneDelegate=new v(this,this._parent&&this._parent._zoneDelegate,r)}static assertZonePatched(){if(e.Promise!==oe.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t=M.current;for(;t.parent;)t=t.parent;return t}static get current(){return U.zone}static get currentTask(){return re}static __load_patch(t,r,k=!1){if(oe.hasOwnProperty(t)){if(!k&&y)throw Error("Already loaded patch: "+t)}else if(!e["__Zone_disable_"+t]){const C="Zone:"+t;i(C),oe[t]=r(e,M,z),o(C,C)}}get parent(){return this._parent}get name(){return this._name}get(t){const r=this.getZoneWith(t);if(r)return r._properties[t]}getZoneWith(t){let r=this;for(;r;){if(r._properties.hasOwnProperty(t))return r;r=r._parent}return null}fork(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)}wrap(t,r){if("function"!=typeof t)throw new Error("Expecting function got: "+t);const k=this._zoneDelegate.intercept(this,t,r),C=this;return function(){return C.runGuarded(k,this,arguments,r)}}run(t,r,k,C){U={parent:U,zone:this};try{return this._zoneDelegate.invoke(this,t,r,k,C)}finally{U=U.parent}}runGuarded(t,r=null,k,C){U={parent:U,zone:this};try{try{return this._zoneDelegate.invoke(this,t,r,k,C)}catch($){if(this._zoneDelegate.handleError(this,$))throw $}}finally{U=U.parent}}runTask(t,r,k){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||K).name+"; Execution: "+this.name+")");if(t.state===x&&(t.type===Q||t.type===w))return;const C=t.state!=p;C&&t._transitionTo(p,j),t.runCount++;const $=re;re=t,U={parent:U,zone:this};try{t.type==w&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,r,k)}catch(l){if(this._zoneDelegate.handleError(this,l))throw l}}finally{t.state!==x&&t.state!==h&&(t.type==Q||t.data&&t.data.isPeriodic?C&&t._transitionTo(j,p):(t.runCount=0,this._updateTaskCount(t,-1),C&&t._transitionTo(x,p,x))),U=U.parent,re=$}}scheduleTask(t){if(t.zone&&t.zone!==this){let k=this;for(;k;){if(k===t.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${t.zone.name}`);k=k.parent}}t._transitionTo(X,x);const r=[];t._zoneDelegates=r,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(k){throw t._transitionTo(h,X,x),this._zoneDelegate.handleError(this,k),k}return t._zoneDelegates===r&&this._updateTaskCount(t,1),t.state==X&&t._transitionTo(j,X),t}scheduleMicroTask(t,r,k,C){return this.scheduleTask(new m(I,t,r,k,C,void 0))}scheduleMacroTask(t,r,k,C,$){return this.scheduleTask(new m(w,t,r,k,C,$))}scheduleEventTask(t,r,k,C,$){return this.scheduleTask(new m(Q,t,r,k,C,$))}cancelTask(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||K).name+"; Execution: "+this.name+")");t._transitionTo(G,j,p);try{this._zoneDelegate.cancelTask(this,t)}catch(r){throw t._transitionTo(h,G),this._zoneDelegate.handleError(this,r),r}return this._updateTaskCount(t,-1),t._transitionTo(x,G),t.runCount=0,t}_updateTaskCount(t,r){const k=t._zoneDelegates;-1==r&&(t._zoneDelegates=null);for(let C=0;C<k.length;C++)k[C]._updateTaskCount(t.type,r)}}return M.__symbol__=a,M})();const P={name:"",onHasTask:(M,E,t,r)=>M.hasTask(t,r),onScheduleTask:(M,E,t,r)=>M.scheduleTask(t,r),onInvokeTask:(M,E,t,r,k,C)=>M.invokeTask(t,r,k,C),onCancelTask:(M,E,t,r)=>M.cancelTask(t,r)};class v{constructor(E,t,r){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=E,this._parentDelegate=t,this._forkZS=r&&(r&&r.onFork?r:t._forkZS),this._forkDlgt=r&&(r.onFork?t:t._forkDlgt),this._forkCurrZone=r&&(r.onFork?this.zone:t._forkCurrZone),this._interceptZS=r&&(r.onIntercept?r:t._interceptZS),this._interceptDlgt=r&&(r.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=r&&(r.onIntercept?this.zone:t._interceptCurrZone),this._invokeZS=r&&(r.onInvoke?r:t._invokeZS),this._invokeDlgt=r&&(r.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=r&&(r.onInvoke?this.zone:t._invokeCurrZone),this._handleErrorZS=r&&(r.onHandleError?r:t._handleErrorZS),this._handleErrorDlgt=r&&(r.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=r&&(r.onHandleError?this.zone:t._handleErrorCurrZone),this._scheduleTaskZS=r&&(r.onScheduleTask?r:t._scheduleTaskZS),this._scheduleTaskDlgt=r&&(r.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=r&&(r.onScheduleTask?this.zone:t._scheduleTaskCurrZone),this._invokeTaskZS=r&&(r.onInvokeTask?r:t._invokeTaskZS),this._invokeTaskDlgt=r&&(r.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=r&&(r.onInvokeTask?this.zone:t._invokeTaskCurrZone),this._cancelTaskZS=r&&(r.onCancelTask?r:t._cancelTaskZS),this._cancelTaskDlgt=r&&(r.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=r&&(r.onCancelTask?this.zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const k=r&&r.onHasTask;(k||t&&t._hasTaskZS)&&(this._hasTaskZS=k?r:P,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=E,r.onScheduleTask||(this._scheduleTaskZS=P,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),r.onInvokeTask||(this._invokeTaskZS=P,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),r.onCancelTask||(this._cancelTaskZS=P,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}fork(E,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,E,t):new d(E,t)}intercept(E,t,r){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,E,t,r):t}invoke(E,t,r,k,C){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,E,t,r,k,C):t.apply(r,k)}handleError(E,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,E,t)}scheduleTask(E,t){let r=t;if(this._scheduleTaskZS)this._hasTaskZS&&r._zoneDelegates.push(this._hasTaskDlgtOwner),r=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,E,t),r||(r=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=I)throw new Error("Task is missing scheduleFn.");R(t)}return r}invokeTask(E,t,r,k){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,E,t,r,k):t.callback.apply(r,k)}cancelTask(E,t){let r;if(this._cancelTaskZS)r=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,E,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");r=t.cancelFn(t)}return r}hasTask(E,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,E,t)}catch(r){this.handleError(E,r)}}_updateTaskCount(E,t){const r=this._taskCounts,k=r[E],C=r[E]=k+t;if(C<0)throw new Error("More tasks executed then were scheduled.");0!=k&&0!=C||this.hasTask(this.zone,{microTask:r.microTask>0,macroTask:r.macroTask>0,eventTask:r.eventTask>0,change:E})}}class m{constructor(E,t,r,k,C,$){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=E,this.source=t,this.data=k,this.scheduleFn=C,this.cancelFn=$,!r)throw new Error("callback is not defined");this.callback=r;const l=this;this.invoke=E===Q&&k&&k.useG?m.invokeTask:function(){return m.invokeTask.call(e,l,this,arguments)}}static invokeTask(E,t,r){E||(E=this),ee++;try{return E.runCount++,E.zone.runTask(E,t,r)}finally{1==ee&&_(),ee--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(x,X)}_transitionTo(E,t,r){if(this._state!==t&&this._state!==r)throw new Error(`${this.type} '${this.source}': can not transition to '${E}', expecting state '${t}'${r?" or '"+r+"'":""}, was '${this._state}'.`);this._state=E,E==x&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const L=a("setTimeout"),Z=a("Promise"),N=a("then");let J,B=[],H=!1;function q(M){if(J||e[Z]&&(J=e[Z].resolve(0)),J){let E=J[N];E||(E=J.then),E.call(J,M)}else e[L](M,0)}function R(M){0===ee&&0===B.length&&q(_),M&&B.push(M)}function _(){if(!H){for(H=!0;B.length;){const M=B;B=[];for(let E=0;E<M.length;E++){const t=M[E];try{t.zone.runTask(t,null,null)}catch(r){z.onUnhandledError(r)}}}z.microtaskDrainDone(),H=!1}}const K={name:"NO ZONE"},x="notScheduled",X="scheduling",j="scheduled",p="running",G="canceling",h="unknown",I="microTask",w="macroTask",Q="eventTask",oe={},z={symbol:a,currentZoneFrame:()=>U,onUnhandledError:W,microtaskDrainDone:W,scheduleMicroTask:R,showUncaughtError:()=>!d[a("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:W,patchMethod:()=>W,bindArguments:()=>[],patchThen:()=>W,patchMacroTask:()=>W,patchEventPrototype:()=>W,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>W,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>W,wrapWithCurrentZone:()=>W,filterProperties:()=>[],attachOriginToPatched:()=>W,_redefineProperty:()=>W,patchCallbacks:()=>W,nativeScheduleMicroTask:q};let U={parent:null,zone:new d(null,null)},re=null,ee=0;function W(){}o("Zone","Zone"),e.Zone=d}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const ie=Object.getOwnPropertyDescriptor,Ee=Object.defineProperty,de=Object.getPrototypeOf,ge=Object.create,Ve=Array.prototype.slice,Oe="addEventListener",Se="removeEventListener",Ze=Zone.__symbol__(Oe),Ne=Zone.__symbol__(Se),ce="true",ae="false",ke=Zone.__symbol__("");function Ie(e,n){return Zone.current.wrap(e,n)}function Me(e,n,i,o,c){return Zone.current.scheduleMacroTask(e,n,i,o,c)}const A=Zone.__symbol__,Pe="undefined"!=typeof window,Te=Pe?window:void 0,Y=Pe&&Te||"object"==typeof self&&self||global;function Le(e,n){for(let i=e.length-1;i>=0;i--)"function"==typeof e[i]&&(e[i]=Ie(e[i],n+"_"+i));return e}function Fe(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&void 0===e.set)}const Be="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,we=!("nw"in Y)&&void 0!==Y.process&&"[object process]"==={}.toString.call(Y.process),je=!we&&!Be&&!(!Pe||!Te.HTMLElement),Ue=void 0!==Y.process&&"[object process]"==={}.toString.call(Y.process)&&!Be&&!(!Pe||!Te.HTMLElement),Re={},We=function(e){if(!(e=e||Y.event))return;let n=Re[e.type];n||(n=Re[e.type]=A("ON_PROPERTY"+e.type));const i=this||e.target||Y,o=i[n];let c;if(je&&i===Te&&"error"===e.type){const a=e;c=o&&o.call(this,a.message,a.filename,a.lineno,a.colno,a.error),!0===c&&e.preventDefault()}else c=o&&o.apply(this,arguments),null!=c&&!c&&e.preventDefault();return c};function qe(e,n,i){let o=ie(e,n);if(!o&&i&&ie(i,n)&&(o={enumerable:!0,configurable:!0}),!o||!o.configurable)return;const c=A("on"+n+"patched");if(e.hasOwnProperty(c)&&e[c])return;delete o.writable,delete o.value;const a=o.get,y=o.set,d=n.slice(2);let P=Re[d];P||(P=Re[d]=A("ON_PROPERTY"+d)),o.set=function(v){let m=this;!m&&e===Y&&(m=Y),m&&("function"==typeof m[P]&&m.removeEventListener(d,We),y&&y.call(m,null),m[P]=v,"function"==typeof v&&m.addEventListener(d,We,!1))},o.get=function(){let v=this;if(!v&&e===Y&&(v=Y),!v)return null;const m=v[P];if(m)return m;if(a){let L=a.call(this);if(L)return o.set.call(this,L),"function"==typeof v.removeAttribute&&v.removeAttribute(n),L}return null},Ee(e,n,o),e[c]=!0}function Xe(e,n,i){if(n)for(let o=0;o<n.length;o++)qe(e,"on"+n[o],i);else{const o=[];for(const c in e)"on"==c.slice(0,2)&&o.push(c);for(let c=0;c<o.length;c++)qe(e,o[c],i)}}const ne=A("originalInstance");function ve(e){const n=Y[e];if(!n)return;Y[A(e)]=n,Y[e]=function(){const c=Le(arguments,e);switch(c.length){case 0:this[ne]=new n;break;case 1:this[ne]=new n(c[0]);break;case 2:this[ne]=new n(c[0],c[1]);break;case 3:this[ne]=new n(c[0],c[1],c[2]);break;case 4:this[ne]=new n(c[0],c[1],c[2],c[3]);break;default:throw new Error("Arg list too long.")}},ue(Y[e],n);const i=new n(function(){});let o;for(o in i)"XMLHttpRequest"===e&&"responseBlob"===o||function(c){"function"==typeof i[c]?Y[e].prototype[c]=function(){return this[ne][c].apply(this[ne],arguments)}:Ee(Y[e].prototype,c,{set:function(a){"function"==typeof a?(this[ne][c]=Ie(a,e+"."+c),ue(this[ne][c],a)):this[ne][c]=a},get:function(){return this[ne][c]}})}(o);for(o in n)"prototype"!==o&&n.hasOwnProperty(o)&&(Y[e][o]=n[o])}function le(e,n,i){let o=e;for(;o&&!o.hasOwnProperty(n);)o=de(o);!o&&e[n]&&(o=e);const c=A(n);let a=null;if(o&&(!(a=o[c])||!o.hasOwnProperty(c))&&(a=o[c]=o[n],Fe(o&&ie(o,n)))){const d=i(a,c,n);o[n]=function(){return d(this,arguments)},ue(o[n],a)}return a}function lt(e,n,i){let o=null;function c(a){const y=a.data;return y.args[y.cbIdx]=function(){a.invoke.apply(this,arguments)},o.apply(y.target,y.args),a}o=le(e,n,a=>function(y,d){const P=i(y,d);return P.cbIdx>=0&&"function"==typeof d[P.cbIdx]?Me(P.name,d[P.cbIdx],P,c):a.apply(y,d)})}function ue(e,n){e[A("OriginalDelegate")]=n}let ze=!1,Ae=!1;function ft(){if(ze)return Ae;ze=!0;try{const e=Te.navigator.userAgent;(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/"))&&(Ae=!0)}catch(e){}return Ae}Zone.__load_patch("ZoneAwarePromise",(e,n,i)=>{const o=Object.getOwnPropertyDescriptor,c=Object.defineProperty,y=i.symbol,d=[],P=!0===e[y("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],v=y("Promise"),m=y("then");i.onUnhandledError=l=>{if(i.showUncaughtError()){const u=l&&l.rejection;u?console.error("Unhandled Promise rejection:",u instanceof Error?u.message:u,"; Zone:",l.zone.name,"; Task:",l.task&&l.task.source,"; Value:",u,u instanceof Error?u.stack:void 0):console.error(l)}},i.microtaskDrainDone=()=>{for(;d.length;){const l=d.shift();try{l.zone.runGuarded(()=>{throw l.throwOriginal?l.rejection:l})}catch(u){N(u)}}};const Z=y("unhandledPromiseRejectionHandler");function N(l){i.onUnhandledError(l);try{const u=n[Z];"function"==typeof u&&u.call(this,l)}catch(u){}}function B(l){return l&&l.then}function H(l){return l}function J(l){return t.reject(l)}const q=y("state"),R=y("value"),_=y("finally"),K=y("parentPromiseValue"),x=y("parentPromiseState"),j=null,p=!0,G=!1;function I(l,u){return s=>{try{z(l,u,s)}catch(f){z(l,!1,f)}}}const w=function(){let l=!1;return function(s){return function(){l||(l=!0,s.apply(null,arguments))}}},oe=y("currentTaskTrace");function z(l,u,s){const f=w();if(l===s)throw new TypeError("Promise resolved with itself");if(l[q]===j){let g=null;try{("object"==typeof s||"function"==typeof s)&&(g=s&&s.then)}catch(b){return f(()=>{z(l,!1,b)})(),l}if(u!==G&&s instanceof t&&s.hasOwnProperty(q)&&s.hasOwnProperty(R)&&s[q]!==j)re(s),z(l,s[q],s[R]);else if(u!==G&&"function"==typeof g)try{g.call(s,f(I(l,u)),f(I(l,!1)))}catch(b){f(()=>{z(l,!1,b)})()}else{l[q]=u;const b=l[R];if(l[R]=s,l[_]===_&&u===p&&(l[q]=l[x],l[R]=l[K]),u===G&&s instanceof Error){const T=n.currentTask&&n.currentTask.data&&n.currentTask.data.__creationTrace__;T&&c(s,oe,{configurable:!0,enumerable:!1,writable:!0,value:T})}for(let T=0;T<b.length;)ee(l,b[T++],b[T++],b[T++],b[T++]);if(0==b.length&&u==G){l[q]=0;let T=s;try{throw new Error("Uncaught (in promise): "+function a(l){return l&&l.toString===Object.prototype.toString?(l.constructor&&l.constructor.name||"")+": "+JSON.stringify(l):l?l.toString():Object.prototype.toString.call(l)}(s)+(s&&s.stack?"\n"+s.stack:""))}catch(D){T=D}P&&(T.throwOriginal=!0),T.rejection=s,T.promise=l,T.zone=n.current,T.task=n.currentTask,d.push(T),i.scheduleMicroTask()}}}return l}const U=y("rejectionHandledHandler");function re(l){if(0===l[q]){try{const u=n[U];u&&"function"==typeof u&&u.call(this,{rejection:l[R],promise:l})}catch(u){}l[q]=G;for(let u=0;u<d.length;u++)l===d[u].promise&&d.splice(u,1)}}function ee(l,u,s,f,g){re(l);const b=l[q],T=b?"function"==typeof f?f:H:"function"==typeof g?g:J;u.scheduleMicroTask("Promise.then",()=>{try{const D=l[R],O=!!s&&_===s[_];O&&(s[K]=D,s[x]=b);const S=u.run(T,void 0,O&&T!==J&&T!==H?[]:[D]);z(s,!0,S)}catch(D){z(s,!1,D)}},s)}const M=function(){},E=e.AggregateError;class t{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(u){return z(new this(null),p,u)}static reject(u){return z(new this(null),G,u)}static any(u){if(!u||"function"!=typeof u[Symbol.iterator])return Promise.reject(new E([],"All promises were rejected"));const s=[];let f=0;try{for(let T of u)f++,s.push(t.resolve(T))}catch(T){return Promise.reject(new E([],"All promises were rejected"))}if(0===f)return Promise.reject(new E([],"All promises were rejected"));let g=!1;const b=[];return new t((T,D)=>{for(let O=0;O<s.length;O++)s[O].then(S=>{g||(g=!0,T(S))},S=>{b.push(S),f--,0===f&&(g=!0,D(new E(b,"All promises were rejected")))})})}static race(u){let s,f,g=new this((D,O)=>{s=D,f=O});function b(D){s(D)}function T(D){f(D)}for(let D of u)B(D)||(D=this.resolve(D)),D.then(b,T);return g}static all(u){return t.allWithCallback(u)}static allSettled(u){return(this&&this.prototype instanceof t?this:t).allWithCallback(u,{thenCallback:f=>({status:"fulfilled",value:f}),errorCallback:f=>({status:"rejected",reason:f})})}static allWithCallback(u,s){let f,g,b=new this((S,V)=>{f=S,g=V}),T=2,D=0;const O=[];for(let S of u){B(S)||(S=this.resolve(S));const V=D;try{S.then(F=>{O[V]=s?s.thenCallback(F):F,T--,0===T&&f(O)},F=>{s?(O[V]=s.errorCallback(F),T--,0===T&&f(O)):g(F)})}catch(F){g(F)}T++,D++}return T-=2,0===T&&f(O),b}constructor(u){const s=this;if(!(s instanceof t))throw new Error("Must be an instanceof Promise.");s[q]=j,s[R]=[];try{const f=w();u&&u(f(I(s,p)),f(I(s,G)))}catch(f){z(s,!1,f)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return t}then(u,s){var f;let g=null===(f=this.constructor)||void 0===f?void 0:f[Symbol.species];(!g||"function"!=typeof g)&&(g=this.constructor||t);const b=new g(M),T=n.current;return this[q]==j?this[R].push(T,b,u,s):ee(this,T,b,u,s),b}catch(u){return this.then(null,u)}finally(u){var s;let f=null===(s=this.constructor)||void 0===s?void 0:s[Symbol.species];(!f||"function"!=typeof f)&&(f=t);const g=new f(M);g[_]=_;const b=n.current;return this[q]==j?this[R].push(b,g,u,u):ee(this,b,g,u,u),g}}t.resolve=t.resolve,t.reject=t.reject,t.race=t.race,t.all=t.all;const r=e[v]=e.Promise;e.Promise=t;const k=y("thenPatched");function C(l){const u=l.prototype,s=o(u,"then");if(s&&(!1===s.writable||!s.configurable))return;const f=u.then;u[m]=f,l.prototype.then=function(g,b){return new t((D,O)=>{f.call(this,D,O)}).then(g,b)},l[k]=!0}return i.patchThen=C,r&&(C(r),le(e,"fetch",l=>function $(l){return function(u,s){let f=l.apply(u,s);if(f instanceof t)return f;let g=f.constructor;return g[k]||C(g),f}}(l))),Promise[n.__symbol__("uncaughtPromiseErrors")]=d,t}),Zone.__load_patch("toString",e=>{const n=Function.prototype.toString,i=A("OriginalDelegate"),o=A("Promise"),c=A("Error"),a=function(){if("function"==typeof this){const v=this[i];if(v)return"function"==typeof v?n.call(v):Object.prototype.toString.call(v);if(this===Promise){const m=e[o];if(m)return n.call(m)}if(this===Error){const m=e[c];if(m)return n.call(m)}}return n.call(this)};a[i]=n,Function.prototype.toString=a;const y=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":y.call(this)}});let ye=!1;if("undefined"!=typeof window)try{const e=Object.defineProperty({},"passive",{get:function(){ye=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){ye=!1}const ht={useG:!0},te={},Ye={},$e=new RegExp("^"+ke+"(\\w+)(true|false)$"),Ke=A("propagationStopped");function Je(e,n){const i=(n?n(e):e)+ae,o=(n?n(e):e)+ce,c=ke+i,a=ke+o;te[e]={},te[e][ae]=c,te[e][ce]=a}function dt(e,n,i,o){const c=o&&o.add||Oe,a=o&&o.rm||Se,y=o&&o.listeners||"eventListeners",d=o&&o.rmAll||"removeAllListeners",P=A(c),v="."+c+":",Z=function(R,_,K){if(R.isRemoved)return;const x=R.callback;let X;"object"==typeof x&&x.handleEvent&&(R.callback=p=>x.handleEvent(p),R.originalDelegate=x);try{R.invoke(R,_,[K])}catch(p){X=p}const j=R.options;return j&&"object"==typeof j&&j.once&&_[a].call(_,K.type,R.originalDelegate?R.originalDelegate:R.callback,j),X};function N(R,_,K){if(!(_=_||e.event))return;const x=R||_.target||e,X=x[te[_.type][K?ce:ae]];if(X){const j=[];if(1===X.length){const p=Z(X[0],x,_);p&&j.push(p)}else{const p=X.slice();for(let G=0;G<p.length&&(!_||!0!==_[Ke]);G++){const h=Z(p[G],x,_);h&&j.push(h)}}if(1===j.length)throw j[0];for(let p=0;p<j.length;p++){const G=j[p];n.nativeScheduleMicroTask(()=>{throw G})}}}const B=function(R){return N(this,R,!1)},H=function(R){return N(this,R,!0)};function J(R,_){if(!R)return!1;let K=!0;_&&void 0!==_.useG&&(K=_.useG);const x=_&&_.vh;let X=!0;_&&void 0!==_.chkDup&&(X=_.chkDup);let j=!1;_&&void 0!==_.rt&&(j=_.rt);let p=R;for(;p&&!p.hasOwnProperty(c);)p=de(p);if(!p&&R[c]&&(p=R),!p||p[P])return!1;const G=_&&_.eventNameToString,h={},I=p[P]=p[c],w=p[A(a)]=p[a],Q=p[A(y)]=p[y],oe=p[A(d)]=p[d];let z;function U(s,f){return!ye&&"object"==typeof s&&s?!!s.capture:ye&&f?"boolean"==typeof s?{capture:s,passive:!0}:s?"object"==typeof s&&!1!==s.passive?Object.assign(Object.assign({},s),{passive:!0}):s:{passive:!0}:s}_&&_.prepend&&(z=p[A(_.prepend)]=p[_.prepend]);const t=K?function(s){if(!h.isExisting)return I.call(h.target,h.eventName,h.capture?H:B,h.options)}:function(s){return I.call(h.target,h.eventName,s.invoke,h.options)},r=K?function(s){if(!s.isRemoved){const f=te[s.eventName];let g;f&&(g=f[s.capture?ce:ae]);const b=g&&s.target[g];if(b)for(let T=0;T<b.length;T++)if(b[T]===s){b.splice(T,1),s.isRemoved=!0,0===b.length&&(s.allRemoved=!0,s.target[g]=null);break}}if(s.allRemoved)return w.call(s.target,s.eventName,s.capture?H:B,s.options)}:function(s){return w.call(s.target,s.eventName,s.invoke,s.options)},C=_&&_.diff?_.diff:function(s,f){const g=typeof f;return"function"===g&&s.callback===f||"object"===g&&s.originalDelegate===f},$=Zone[A("UNPATCHED_EVENTS")],l=e[A("PASSIVE_EVENTS")],u=function(s,f,g,b,T=!1,D=!1){return function(){const O=this||e;let S=arguments[0];_&&_.transferEventName&&(S=_.transferEventName(S));let V=arguments[1];if(!V)return s.apply(this,arguments);if(we&&"uncaughtException"===S)return s.apply(this,arguments);let F=!1;if("function"!=typeof V){if(!V.handleEvent)return s.apply(this,arguments);F=!0}if(x&&!x(s,V,O,arguments))return;const fe=ye&&!!l&&-1!==l.indexOf(S),se=U(arguments[2],fe);if($)for(let _e=0;_e<$.length;_e++)if(S===$[_e])return fe?s.call(O,S,V,se):s.apply(this,arguments);const xe=!!se&&("boolean"==typeof se||se.capture),nt=!(!se||"object"!=typeof se)&&se.once,gt=Zone.current;let Ge=te[S];Ge||(Je(S,G),Ge=te[S]);const rt=Ge[xe?ce:ae];let De,me=O[rt],ot=!1;if(me){if(ot=!0,X)for(let _e=0;_e<me.length;_e++)if(C(me[_e],V))return}else me=O[rt]=[];const st=O.constructor.name,it=Ye[st];it&&(De=it[S]),De||(De=st+f+(G?G(S):S)),h.options=se,nt&&(h.options.once=!1),h.target=O,h.capture=xe,h.eventName=S,h.isExisting=ot;const be=K?ht:void 0;be&&(be.taskData=h);const he=gt.scheduleEventTask(De,V,be,g,b);return h.target=null,be&&(be.taskData=null),nt&&(se.once=!0),!ye&&"boolean"==typeof he.options||(he.options=se),he.target=O,he.capture=xe,he.eventName=S,F&&(he.originalDelegate=V),D?me.unshift(he):me.push(he),T?O:void 0}};return p[c]=u(I,v,t,r,j),z&&(p.prependListener=u(z,".prependListener:",function(s){return z.call(h.target,h.eventName,s.invoke,h.options)},r,j,!0)),p[a]=function(){const s=this||e;let f=arguments[0];_&&_.transferEventName&&(f=_.transferEventName(f));const g=arguments[2],b=!!g&&("boolean"==typeof g||g.capture),T=arguments[1];if(!T)return w.apply(this,arguments);if(x&&!x(w,T,s,arguments))return;const D=te[f];let O;D&&(O=D[b?ce:ae]);const S=O&&s[O];if(S)for(let V=0;V<S.length;V++){const F=S[V];if(C(F,T))return S.splice(V,1),F.isRemoved=!0,0===S.length&&(F.allRemoved=!0,s[O]=null,"string"==typeof f)&&(s[ke+"ON_PROPERTY"+f]=null),F.zone.cancelTask(F),j?s:void 0}return w.apply(this,arguments)},p[y]=function(){const s=this||e;let f=arguments[0];_&&_.transferEventName&&(f=_.transferEventName(f));const g=[],b=Qe(s,G?G(f):f);for(let T=0;T<b.length;T++){const D=b[T];g.push(D.originalDelegate?D.originalDelegate:D.callback)}return g},p[d]=function(){const s=this||e;let f=arguments[0];if(f){_&&_.transferEventName&&(f=_.transferEventName(f));const g=te[f];if(g){const D=s[g[ae]],O=s[g[ce]];if(D){const S=D.slice();for(let V=0;V<S.length;V++){const F=S[V];this[a].call(this,f,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}if(O){const S=O.slice();for(let V=0;V<S.length;V++){const F=S[V];this[a].call(this,f,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}}}else{const g=Object.keys(s);for(let b=0;b<g.length;b++){const D=$e.exec(g[b]);let O=D&&D[1];O&&"removeListener"!==O&&this[d].call(this,O)}this[d].call(this,"removeListener")}if(j)return this},ue(p[c],I),ue(p[a],w),oe&&ue(p[d],oe),Q&&ue(p[y],Q),!0}let q=[];for(let R=0;R<i.length;R++)q[R]=J(i[R],o);return q}function Qe(e,n){if(!n){const a=[];for(let y in e){const d=$e.exec(y);let P=d&&d[1];if(P&&(!n||P===n)){const v=e[y];if(v)for(let m=0;m<v.length;m++)a.push(v[m])}}return a}let i=te[n];i||(Je(n),i=te[n]);const o=e[i[ae]],c=e[i[ce]];return o?c?o.concat(c):o.slice():c?c.slice():[]}function _t(e,n){const i=e.Event;i&&i.prototype&&n.patchMethod(i.prototype,"stopImmediatePropagation",o=>function(c,a){c[Ke]=!0,o&&o.apply(c,a)})}function Et(e,n,i,o,c){const a=Zone.__symbol__(o);if(n[a])return;const y=n[a]=n[o];n[o]=function(d,P,v){return P&&P.prototype&&c.forEach(function(m){const L=`${i}.${o}::`+m,Z=P.prototype;try{if(Z.hasOwnProperty(m)){const N=e.ObjectGetOwnPropertyDescriptor(Z,m);N&&N.value?(N.value=e.wrapWithCurrentZone(N.value,L),e._redefineProperty(P.prototype,m,N)):Z[m]&&(Z[m]=e.wrapWithCurrentZone(Z[m],L))}else Z[m]&&(Z[m]=e.wrapWithCurrentZone(Z[m],L))}catch(N){}}),y.call(n,d,P,v)},e.attachOriginToPatched(n[o],y)}function et(e,n,i){if(!i||0===i.length)return n;const o=i.filter(a=>a.target===e);if(!o||0===o.length)return n;const c=o[0].ignoreProperties;return n.filter(a=>-1===c.indexOf(a))}function tt(e,n,i,o){e&&Xe(e,et(e,n,i),o)}function He(e){return Object.getOwnPropertyNames(e).filter(n=>n.startsWith("on")&&n.length>2).map(n=>n.substring(2))}Zone.__load_patch("util",(e,n,i)=>{const o=He(e);i.patchOnProperties=Xe,i.patchMethod=le,i.bindArguments=Le,i.patchMacroTask=lt;const c=n.__symbol__("BLACK_LISTED_EVENTS"),a=n.__symbol__("UNPATCHED_EVENTS");e[a]&&(e[c]=e[a]),e[c]&&(n[c]=n[a]=e[c]),i.patchEventPrototype=_t,i.patchEventTarget=dt,i.isIEOrEdge=ft,i.ObjectDefineProperty=Ee,i.ObjectGetOwnPropertyDescriptor=ie,i.ObjectCreate=ge,i.ArraySlice=Ve,i.patchClass=ve,i.wrapWithCurrentZone=Ie,i.filterProperties=et,i.attachOriginToPatched=ue,i._redefineProperty=Object.defineProperty,i.patchCallbacks=Et,i.getGlobalObjects=()=>({globalSources:Ye,zoneSymbolEventNames:te,eventNames:o,isBrowser:je,isMix:Ue,isNode:we,TRUE_STR:ce,FALSE_STR:ae,ZONE_SYMBOL_PREFIX:ke,ADD_EVENT_LISTENER_STR:Oe,REMOVE_EVENT_LISTENER_STR:Se})});const Ce=A("zoneTask");function pe(e,n,i,o){let c=null,a=null;i+=o;const y={};function d(v){const m=v.data;return m.args[0]=function(){return v.invoke.apply(this,arguments)},m.handleId=c.apply(e,m.args),v}function P(v){return a.call(e,v.data.handleId)}c=le(e,n+=o,v=>function(m,L){if("function"==typeof L[0]){const Z={isPeriodic:"Interval"===o,delay:"Timeout"===o||"Interval"===o?L[1]||0:void 0,args:L},N=L[0];L[0]=function(){try{return N.apply(this,arguments)}finally{Z.isPeriodic||("number"==typeof Z.handleId?delete y[Z.handleId]:Z.handleId&&(Z.handleId[Ce]=null))}};const B=Me(n,L[0],Z,d,P);if(!B)return B;const H=B.data.handleId;return"number"==typeof H?y[H]=B:H&&(H[Ce]=B),H&&H.ref&&H.unref&&"function"==typeof H.ref&&"function"==typeof H.unref&&(B.ref=H.ref.bind(H),B.unref=H.unref.bind(H)),"number"==typeof H||H?H:B}return v.apply(e,L)}),a=le(e,i,v=>function(m,L){const Z=L[0];let N;"number"==typeof Z?N=y[Z]:(N=Z&&Z[Ce],N||(N=Z)),N&&"string"==typeof N.type?"notScheduled"!==N.state&&(N.cancelFn&&N.data.isPeriodic||0===N.runCount)&&("number"==typeof Z?delete y[Z]:Z&&(Z[Ce]=null),N.zone.cancelTask(N)):v.apply(e,L)})}Zone.__load_patch("legacy",e=>{const n=e[Zone.__symbol__("legacyPatch")];n&&n()}),Zone.__load_patch("queueMicrotask",(e,n,i)=>{i.patchMethod(e,"queueMicrotask",o=>function(c,a){n.current.scheduleMicroTask("queueMicrotask",a[0])})}),Zone.__load_patch("timers",e=>{const n="set",i="clear";pe(e,n,i,"Timeout"),pe(e,n,i,"Interval"),pe(e,n,i,"Immediate")}),Zone.__load_patch("requestAnimationFrame",e=>{pe(e,"request","cancel","AnimationFrame"),pe(e,"mozRequest","mozCancel","AnimationFrame"),pe(e,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(e,n)=>{const i=["alert","prompt","confirm"];for(let o=0;o<i.length;o++)le(e,i[o],(a,y,d)=>function(P,v){return n.current.run(a,e,v,d)})}),Zone.__load_patch("EventTarget",(e,n,i)=>{(function mt(e,n){n.patchEventPrototype(e,n)})(e,i),function pt(e,n){if(Zone[n.symbol("patchEventTarget")])return;const{eventNames:i,zoneSymbolEventNames:o,TRUE_STR:c,FALSE_STR:a,ZONE_SYMBOL_PREFIX:y}=n.getGlobalObjects();for(let P=0;P<i.length;P++){const v=i[P],Z=y+(v+a),N=y+(v+c);o[v]={},o[v][a]=Z,o[v][c]=N}const d=e.EventTarget;d&&d.prototype&&n.patchEventTarget(e,n,[d&&d.prototype])}(e,i);const o=e.XMLHttpRequestEventTarget;o&&o.prototype&&i.patchEventTarget(e,i,[o.prototype])}),Zone.__load_patch("MutationObserver",(e,n,i)=>{ve("MutationObserver"),ve("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(e,n,i)=>{ve("IntersectionObserver")}),Zone.__load_patch("FileReader",(e,n,i)=>{ve("FileReader")}),Zone.__load_patch("on_property",(e,n,i)=>{!function Tt(e,n){if(we&&!Ue||Zone[e.symbol("patchEvents")])return;const i=n.__Zone_ignore_on_properties;let o=[];if(je){const c=window;o=o.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const a=function ut(){try{const e=Te.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch(e){}return!1}()?[{target:c,ignoreProperties:["error"]}]:[];tt(c,He(c),i&&i.concat(a),de(c))}o=o.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let c=0;c<o.length;c++){const a=n[o[c]];a&&a.prototype&&tt(a.prototype,He(a.prototype),i)}}(i,e)}),Zone.__load_patch("customElements",(e,n,i)=>{!function yt(e,n){const{isBrowser:i,isMix:o}=n.getGlobalObjects();(i||o)&&e.customElements&&"customElements"in e&&n.patchCallbacks(n,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(e,i)}),Zone.__load_patch("XHR",(e,n)=>{!function P(v){const m=v.XMLHttpRequest;if(!m)return;const L=m.prototype;let N=L[Ze],B=L[Ne];if(!N){const h=v.XMLHttpRequestEventTarget;if(h){const I=h.prototype;N=I[Ze],B=I[Ne]}}const H="readystatechange",J="scheduled";function q(h){const I=h.data,w=I.target;w[a]=!1,w[d]=!1;const Q=w[c];N||(N=w[Ze],B=w[Ne]),Q&&B.call(w,H,Q);const oe=w[c]=()=>{if(w.readyState===w.DONE)if(!I.aborted&&w[a]&&h.state===J){const U=w[n.__symbol__("loadfalse")];if(0!==w.status&&U&&U.length>0){const re=h.invoke;h.invoke=function(){const ee=w[n.__symbol__("loadfalse")];for(let W=0;W<ee.length;W++)ee[W]===h&&ee.splice(W,1);!I.aborted&&h.state===J&&re.call(h)},U.push(h)}else h.invoke()}else!I.aborted&&!1===w[a]&&(w[d]=!0)};return N.call(w,H,oe),w[i]||(w[i]=h),p.apply(w,I.args),w[a]=!0,h}function R(){}function _(h){const I=h.data;return I.aborted=!0,G.apply(I.target,I.args)}const K=le(L,"open",()=>function(h,I){return h[o]=0==I[2],h[y]=I[1],K.apply(h,I)}),X=A("fetchTaskAborting"),j=A("fetchTaskScheduling"),p=le(L,"send",()=>function(h,I){if(!0===n.current[j]||h[o])return p.apply(h,I);{const w={target:h,url:h[y],isPeriodic:!1,args:I,aborted:!1},Q=Me("XMLHttpRequest.send",R,w,q,_);h&&!0===h[d]&&!w.aborted&&Q.state===J&&Q.invoke()}}),G=le(L,"abort",()=>function(h,I){const w=function Z(h){return h[i]}(h);if(w&&"string"==typeof w.type){if(null==w.cancelFn||w.data&&w.data.aborted)return;w.zone.cancelTask(w)}else if(!0===n.current[X])return G.apply(h,I)})}(e);const i=A("xhrTask"),o=A("xhrSync"),c=A("xhrListener"),a=A("xhrScheduled"),y=A("xhrURL"),d=A("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&function at(e,n){const i=e.constructor.name;for(let o=0;o<n.length;o++){const c=n[o],a=e[c];if(a){if(!Fe(ie(e,c)))continue;e[c]=(d=>{const P=function(){return d.apply(this,Le(arguments,i+"."+c))};return ue(P,d),P})(a)}}}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(e,n)=>{function i(o){return function(c){Qe(e,o).forEach(y=>{const d=e.PromiseRejectionEvent;if(d){const P=new d(o,{promise:c.promise,reason:c.rejection});y.invoke(P)}})}}e.PromiseRejectionEvent&&(n[A("unhandledPromiseRejectionHandler")]=i("unhandledrejection"),n[A("rejectionHandledHandler")]=i("rejectionhandled"))})}},ie=>{ie(ie.s=7435)}]);
var scriptUrl="http://www.youtube.com/s/player/d33d444d/www-widgetapi.vflset/www-widgetapi.js";try{var ttPolicy=window.trustedTypes.createPolicy("youtube-widget-api",{createScriptURL:function(e){return e}});scriptUrl=ttPolicy.createScriptURL(scriptUrl)}catch(e){}if(!window.YT)var YT={loading:0,loaded:0};if(!window.YTConfig)var YTConfig={host:"https://www.youtube.com"};YT.loading||(YT.loading=1,function(){var e=[];YT.ready=function(t){YT.loaded?t():e.push(t)},window.onYTReady=function(){YT.loaded=1;for(var t=0;t<e.length;t++)try{e[t]()}catch(i){}},YT.setConfig=function(t){for(var i in t)t.hasOwnProperty(i)&&(YTConfig[i]=t[i])};var r=document.createElement("script");r.type="text/javascript",r.id="www-widgetapi-script",r.src=scriptUrl,r.async=!0;var n=document.currentScript;if(n){var a=n.nonce||n.getAttribute("nonce");a&&r.setAttribute("nonce",a)}var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(r,o)}());
var hH=Object.defineProperty,fH=Object.defineProperties,pH=Object.getOwnPropertyDescriptors,vF=Object.getOwnPropertySymbols,gH=Object.prototype.hasOwnProperty,mH=Object.prototype.propertyIsEnumerable,xF=(st,Ce,L)=>Ce in st?hH(st,Ce,{enumerable:!0,configurable:!0,writable:!0,value:L}):st[Ce]=L,bF=(st,Ce)=>{for(var L in Ce||(Ce={}))gH.call(Ce,L)&&xF(st,L,Ce[L]);if(vF)for(var L of vF(Ce))mH.call(Ce,L)&&xF(st,L,Ce[L]);return st},wF=(st,Ce)=>fH(st,pH(Ce));(self.webpackChunkelementsv13=self.webpackChunkelementsv13||[]).push([[179],{2011:(st,Ce,L)=>{"use strict";L.d(Ce,{hO:()=>Qe,xv:()=>xe,Dh:()=>_e,GT:()=>be,cc:()=>Ue,on:()=>Q,pX:()=>fe});var c=L(5e3),ae=L(127),B=L(5813);st=L.hmd(st);const pe=["ngOnDestroy"],fe=(Re,lt,ht,Ve={})=>new Proxy(Re,{get:(Me,Oe)=>ht.runOutsideAngular(()=>{var Ke;if(Re[Oe])return(null===(Ke=null==Ve?void 0:Ve.spy)||void 0===Ke?void 0:Ke.get)&&Ve.spy.get(Oe,Re[Oe]),Re[Oe];if(pe.indexOf(Oe)>-1)return()=>{};const te=lt.toPromise().then(X=>{const ye=X&&X[Oe];return"function"==typeof ye?ye.bind(X):ye&&ye.then?ye.then(ie=>ht.run(()=>ie)):ht.run(()=>ye)});return new Proxy(()=>{},{get:(X,ye)=>te[ye],apply:(X,ye,ie)=>te.then(ue=>{var re;const Ee=ue&&ue(...ie);return(null===(re=null==Ve?void 0:Ve.spy)||void 0===re?void 0:re.apply)&&Ve.spy.apply(Oe,ie,Ee),Ee})})})}),be=(Re,lt)=>{lt.forEach(ht=>{Object.getOwnPropertyNames(ht.prototype||ht).forEach(Ve=>{Object.defineProperty(Re.prototype,Ve,Object.getOwnPropertyDescriptor(ht.prototype||ht,Ve))})})};class de{constructor(lt){return lt}}const _e=new c.OlP("angularfire2.app.options"),xe=new c.OlP("angularfire2.app.name");function Q(Re,lt,ht){const Me="object"==typeof ht&&ht||{};Me.name=Me.name||"string"==typeof ht&&ht||"[DEFAULT]";const Ke=ae.Z.apps.filter(te=>te&&te.name===Me.name)[0]||lt.runOutsideAngular(()=>ae.Z.initializeApp(Re,Me));try{JSON.stringify(Re)!==JSON.stringify(Ke.options)&&J("error",`${Ke.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(te){}return new de(Ke)}const J=(Re,...lt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Re](...lt)},oe={provide:de,useFactory:Q,deps:[_e,c.R0b,[new c.FiY,xe]]};let Qe=(()=>{class Re{constructor(ht){ae.Z.registerVersion("angularfire",B.q4.full,"core"),ae.Z.registerVersion("angularfire",B.q4.full,"app-compat"),ae.Z.registerVersion("angular",c.q4F.full,ht.toString())}static initializeApp(ht,Ve){return{ngModule:Re,providers:[{provide:_e,useValue:ht},{provide:xe,useValue:Ve}]}}}return Re.\u0275fac=function(ht){return new(ht||Re)(c.LFG(c.Lbi))},Re.\u0275mod=c.oAB({type:Re}),Re.\u0275inj=c.cJS({providers:[oe]}),Re})();function Ue(Re,lt,ht,Ve,Me){const[,Oe,Ke]=globalThis.\u0275AngularfireInstanceCache.find(te=>te[0]===Re)||[];if(Oe)return function Be(Re,lt){try{return Re.toString()===lt.toString()}catch(ht){return Re===lt}}(Me,Ke)||(Se("error",`${lt} was already initialized on the ${ht} Firebase App with different settings.${_t?" You may need to reload as Firebase is not HMR aware.":""}`),Se("warn",{is:Me,was:Ke})),Oe;{const te=Ve();return globalThis.\u0275AngularfireInstanceCache.push([Re,te,Me]),te}}const _t=!!st.hot,Se=(Re,...lt)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[Re](...lt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(st,Ce,L)=>{"use strict";L.d(Ce,{q4:()=>_f,iC:()=>dl,fc:()=>Bc,HU:()=>Lc,vb:()=>ys,JM:()=>Nc});var c=L(5e3),ae=L(5867),B=L(5861),pe=L(9681),fe=L(2090),be=L(4859),de=L(1877),_e=L(8766);const xe="@firebase/installations",Q="0.5.12",oe=`w:${Q}`,Qe="FIS_v2",lt=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ht(D){return D instanceof fe.ZR&&D.code.includes("request-failed")}function Ve({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Me(D){return{token:D.token,requestStatus:2,expiresIn:ue(D.expiresIn),creationTime:Date.now()}}function Oe(D,T){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,B.Z)(function*(D,T){const j=(yield T.json()).error;return lt.create("request-failed",{requestName:D,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function te({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function X(D,{refreshToken:T}){const P=te(D);return P.append("Authorization",function re(D){return`${Qe} ${D}`}(T)),P}function ye(D){return ie.apply(this,arguments)}function ie(){return(ie=(0,B.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function ue(D){return Number(D.replace("s","000"))}function Ee(D,T){return me.apply(this,arguments)}function me(){return(me=(0,B.Z)(function*({appConfig:D,heartbeatServiceProvider:T},{fid:P}){const j=Ve(D),se=te(D),ge=T.getImmediate({optional:!0});if(ge){const kt=yield ge.getHeartbeatsHeader();kt&&se.append("x-firebase-client",kt)}const Xe={method:"POST",headers:se,body:JSON.stringify({fid:P,authVersion:Qe,appId:D.appId,sdkVersion:oe})},Ct=yield ye(()=>fetch(j,Xe));if(Ct.ok){const kt=yield Ct.json();return{fid:kt.fid||P,registrationStatus:2,refreshToken:kt.refreshToken,authToken:Me(kt.authToken)}}throw yield Oe("Create Installation",Ct)})).apply(this,arguments)}function je(D){return new Promise(T=>{setTimeout(T,D)})}const Xt=/^[cdef][\w-]{21}$/;function Ze(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const P=function Qt(D){return function pt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Xt.test(P)?P:""}catch(D){return""}}function Bn(D){return`${D.appName}!${D.appId}`}const rn=new Map;function Kt(D,T){const P=Bn(D);Ht(P,T),function xr(D,T){const P=function ai(){return!tr&&"BroadcastChannel"in self&&(tr=new BroadcastChannel("[Firebase] FID Change"),tr.onmessage=D=>{Ht(D.data.key,D.data.fid)}),tr}();P&&P.postMessage({key:D,fid:T}),function Ci(){0===rn.size&&tr&&(tr.close(),tr=null)}()}(P,T)}function Ht(D,T){const P=rn.get(D);if(P)for(const j of P)j(T)}let tr=null;const Jn="firebase-installations-store";let In=null;function ft(){return In||(In=(0,_e.X3)("firebase-installations-database",1,{upgrade:(D,T)=>{0===T&&D.createObjectStore(Jn)}})),In}function Ki(D,T){return sn.apply(this,arguments)}function sn(){return(sn=(0,B.Z)(function*(D,T){const P=Bn(D),se=(yield ft()).transaction(Jn,"readwrite"),ge=se.objectStore(Jn),Le=yield ge.get(P);return yield ge.put(T,P),yield se.done,(!Le||Le.fid!==T.fid)&&Kt(D,T.fid),T})).apply(this,arguments)}function Vn(D){return br.apply(this,arguments)}function br(){return(br=(0,B.Z)(function*(D){const T=Bn(D),j=(yield ft()).transaction(Jn,"readwrite");yield j.objectStore(Jn).delete(T),yield j.done})).apply(this,arguments)}function Vr(D,T){return bt.apply(this,arguments)}function bt(){return(bt=(0,B.Z)(function*(D,T){const P=Bn(D),se=(yield ft()).transaction(Jn,"readwrite"),ge=se.objectStore(Jn),Le=yield ge.get(P),Xe=T(Le);return void 0===Xe?yield ge.delete(P):yield ge.put(Xe,P),yield se.done,Xe&&(!Le||Le.fid!==Xe.fid)&&Kt(D,Xe.fid),Xe})).apply(this,arguments)}function cn(D){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,B.Z)(function*(D){let T;const P=yield Vr(D.appConfig,j=>{const se=wr(j),ge=St(D,se);return T=ge.registrationPromise,ge.installationEntry});return""===P.fid?{installationEntry:yield T}:{installationEntry:P,registrationPromise:T}})).apply(this,arguments)}function wr(D){return as(D||{fid:Ze(),registrationStatus:0})}function St(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(lt.create("app-offline"))};const P={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},j=function nt(D,T){return Mt.apply(this,arguments)}(D,P);return{installationEntry:P,registrationPromise:j}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:ei(D)}:{installationEntry:T}}function Mt(){return(Mt=(0,B.Z)(function*(D,T){try{const P=yield Ee(D,T);return Ki(D.appConfig,P)}catch(P){throw ht(P)&&409===P.customData.serverCode?yield Vn(D.appConfig):yield Ki(D.appConfig,{fid:T.fid,registrationStatus:0}),P}})).apply(this,arguments)}function ei(D){return En.apply(this,arguments)}function En(){return(En=(0,B.Z)(function*(D){let T=yield Zt(D.appConfig);for(;1===T.registrationStatus;)yield je(100),T=yield Zt(D.appConfig);if(0===T.registrationStatus){const{installationEntry:P,registrationPromise:j}=yield cn(D);return j||P}return T})).apply(this,arguments)}function Zt(D){return Vr(D,T=>{if(!T)throw lt.create("installation-not-found");return as(T)})}function as(D){return function _i(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function yi(D,T){return yt.apply(this,arguments)}function yt(){return(yt=(0,B.Z)(function*({appConfig:D,heartbeatServiceProvider:T},P){const j=ls(D,P),se=X(D,P),ge=T.getImmediate({optional:!0});if(ge){const kt=yield ge.getHeartbeatsHeader();kt&&se.append("x-firebase-client",kt)}const Xe={method:"POST",headers:se,body:JSON.stringify({installation:{sdkVersion:oe,appId:D.appId}})},Ct=yield ye(()=>fetch(j,Xe));if(Ct.ok)return Me(yield Ct.json());throw yield Oe("Generate Auth Token",Ct)})).apply(this,arguments)}function ls(D,{fid:T}){return`${Ve(D)}/${T}/authTokens:generate`}function W(D){return z.apply(this,arguments)}function z(){return(z=(0,B.Z)(function*(D,T=!1){let P;const j=yield Vr(D.appConfig,ge=>{if(!gt(ge))throw lt.create("not-registered");const Le=ge.authToken;if(!T&&fn(Le))return ge;if(1===Le.requestStatus)return P=$(D,T),ge;{if(!navigator.onLine)throw lt.create("app-offline");const Xe=li(ge);return P=Pe(D,Xe),Xe}});return P?yield P:j.authToken})).apply(this,arguments)}function $(D,T){return K.apply(this,arguments)}function K(){return(K=(0,B.Z)(function*(D,T){let P=yield ee(D.appConfig);for(;1===P.authToken.requestStatus;)yield je(100),P=yield ee(D.appConfig);const j=P.authToken;return 0===j.requestStatus?W(D,T):j})).apply(this,arguments)}function ee(D){return Vr(D,T=>{if(!gt(T))throw lt.create("not-registered");return function zt(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Pe(D,T){return $e.apply(this,arguments)}function $e(){return($e=(0,B.Z)(function*(D,T){try{const P=yield yi(D,T),j=Object.assign(Object.assign({},T),{authToken:P});return yield Ki(D.appConfig,j),P}catch(P){if(!ht(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const j=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Ki(D.appConfig,j)}else yield Vn(D.appConfig);throw P}})).apply(this,arguments)}function gt(D){return void 0!==D&&2===D.registrationStatus}function fn(D){return 2===D.requestStatus&&!function nn(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+36e5}(D)}function li(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}function Ur(){return(Ur=(0,B.Z)(function*(D){const T=D,{installationEntry:P,registrationPromise:j}=yield cn(T);return j?j.catch(console.error):W(T).catch(console.error),P.fid})).apply(this,arguments)}function cs(){return(cs=(0,B.Z)(function*(D,T=!1){const P=D;return yield ti(P),(yield W(P,T)).token})).apply(this,arguments)}function ti(D){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,B.Z)(function*(D){const{registrationPromise:T}=yield cn(D);T&&(yield T)})).apply(this,arguments)}function Ro(D){return lt.create("missing-app-config-values",{valueName:D})}const Zi="installations",mt=D=>{const T=D.getProvider("app").getImmediate(),P=function At(D){if(!D||!D.options)throw Ro("App Configuration");if(!D.name)throw Ro("App Name");const T=["projectId","apiKey","appId"];for(const P of T)if(!D.options[P])throw Ro(P);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:P,heartbeatServiceProvider:(0,pe._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},pn=D=>{const T=D.getProvider("app").getImmediate(),P=(0,pe._getProvider)(T,Zi).getImmediate();return{getId:()=>function Ii(D){return Ur.apply(this,arguments)}(P),getToken:se=>function ko(D){return cs.apply(this,arguments)}(P,se)}};(function Yi(){(0,pe._registerComponent)(new be.wA(Zi,mt,"PUBLIC")),(0,pe._registerComponent)(new be.wA("installations-internal",pn,"PRIVATE"))})(),(0,pe.registerVersion)(xe,Q),(0,pe.registerVersion)(xe,Q,"esm2017");const nr="@firebase/remote-config",Un=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class xc{constructor(T,P,j,se){this.client=T,this.storage=P,this.storageCache=j,this.logger=se}isCachedDataFresh(T,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-P,se=j<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${se}.`),se}fetch(T){var P=this;return(0,B.Z)(function*(){const[j,se]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(se&&P.isCachedDataFresh(T.cacheMaxAgeMillis,j))return se;T.eTag=se&&se.eTag;const ge=yield P.client.fetch(T),Le=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ge.status&&Le.push(P.storage.setLastSuccessfulFetchResponse(ge)),yield Promise.all(Le),ge})()}}function Dl(D=navigator){return D.languages&&D.languages[0]||D.language}class Ai{constructor(T,P,j,se,ge,Le){this.firebaseInstallations=T,this.sdkVersion=P,this.namespace=j,this.projectId=se,this.apiKey=ge,this.appId=Le}fetch(T){var P=this;return(0,B.Z)(function*(){var j,se,ge;const[Le,Xe]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),kt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,Ft={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},vt={sdk_version:P.sdkVersion,app_instance_id:Le,app_instance_id_token:Xe,app_id:P.appId,language_code:Dl()},kn={method:"POST",headers:Ft,body:JSON.stringify(vt)},Mr=fetch(kt,kn),Qo=new Promise((kr,zs)=>{T.signal.addEventListener(()=>{const Af=new Error("The operation was aborted.");Af.name="AbortError",zs(Af)})});let vs;try{yield Promise.race([Mr,Qo]),vs=yield Mr}catch(kr){let zs="fetch-client-network";throw"AbortError"===(null===(j=kr)||void 0===j?void 0:j.name)&&(zs="fetch-timeout"),Un.create(zs,{originalErrorMessage:null===(se=kr)||void 0===se?void 0:se.message})}let js=vs.status;const Yd=vs.headers.get("ETag")||void 0;let Yl,Ia;if(200===vs.status){let kr;try{kr=yield vs.json()}catch(zs){throw Un.create("fetch-client-parse",{originalErrorMessage:null===(ge=zs)||void 0===ge?void 0:ge.message})}Yl=kr.entries,Ia=kr.state}if("INSTANCE_STATE_UNSPECIFIED"===Ia?js=500:"NO_CHANGE"===Ia?js=304:("NO_TEMPLATE"===Ia||"EMPTY_CONFIG"===Ia)&&(Yl={}),304!==js&&200!==js)throw Un.create("fetch-status",{httpStatus:js});return{status:js,eTag:Yd,config:Yl}})()}}class Bd{constructor(T,P){this.client=T,this.storage=P}fetch(T){var P=this;return(0,B.Z)(function*(){const j=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(T,j)})()}attemptFetch(T,{throttleEndTimeMillis:P,backoffCount:j}){var se=this;return(0,B.Z)(function*(){yield function Ss(D,T){return new Promise((P,j)=>{const se=Math.max(T-Date.now(),0),ge=setTimeout(P,se);D.addEventListener(()=>{clearTimeout(ge),j(Un.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,P);try{const ge=yield se.client.fetch(T);return yield se.storage.deleteThrottleMetadata(),ge}catch(ge){if(!function bc(D){if(!(D instanceof fe.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ge))throw ge;const Le={throttleEndTimeMillis:Date.now()+(0,fe.$s)(j),backoffCount:j+1};return yield se.storage.setThrottleMetadata(Le),se.attemptFetch(T,Le)}})()}}class wc{constructor(T,P,j,se,ge){this.app=T,this._client=P,this._storageCache=j,this._storage=se,this._logger=ge,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Tl(D,T){var P;const j=D.target.error||void 0;return Un.create(T,{originalErrorMessage:j&&(null===(P=j)||void 0===P?void 0:P.message)})}const Ms="app_namespace_store";class Ud{constructor(T,P,j,se=function Vd(){return new Promise((D,T)=>{var P;try{const j=indexedDB.open("firebase_remote_config",1);j.onerror=se=>{T(Tl(se,"storage-open"))},j.onsuccess=se=>{D(se.target.result)},j.onupgradeneeded=se=>{0===se.oldVersion&&se.target.result.createObjectStore(Ms,{keyPath:"compositeKey"})}}catch(j){T(Un.create("storage-open",{originalErrorMessage:null===(P=j)||void 0===P?void 0:P.message}))}})}()){this.appId=T,this.appName=P,this.namespace=j,this.openDbPromise=se}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var P=this;return(0,B.Z)(function*(){const j=yield P.openDbPromise;return new Promise((se,ge)=>{var Le;const Ct=j.transaction([Ms],"readonly").objectStore(Ms),kt=P.createCompositeKey(T);try{const Ft=Ct.get(kt);Ft.onerror=vt=>{ge(Tl(vt,"storage-get"))},Ft.onsuccess=vt=>{const kn=vt.target.result;se(kn?kn.value:void 0)}}catch(Ft){ge(Un.create("storage-get",{originalErrorMessage:null===(Le=Ft)||void 0===Le?void 0:Le.message}))}})})()}set(T,P){var j=this;return(0,B.Z)(function*(){const se=yield j.openDbPromise;return new Promise((ge,Le)=>{var Xe;const kt=se.transaction([Ms],"readwrite").objectStore(Ms),Ft=j.createCompositeKey(T);try{const vt=kt.put({compositeKey:Ft,value:P});vt.onerror=kn=>{Le(Tl(kn,"storage-set"))},vt.onsuccess=()=>{ge()}}catch(vt){Le(Un.create("storage-set",{originalErrorMessage:null===(Xe=vt)||void 0===Xe?void 0:Xe.message}))}})})()}delete(T){var P=this;return(0,B.Z)(function*(){const j=yield P.openDbPromise;return new Promise((se,ge)=>{var Le;const Ct=j.transaction([Ms],"readwrite").objectStore(Ms),kt=P.createCompositeKey(T);try{const Ft=Ct.delete(kt);Ft.onerror=vt=>{ge(Tl(vt,"storage-delete"))},Ft.onsuccess=()=>{se()}}catch(Ft){ge(Un.create("storage-delete",{originalErrorMessage:null===(Le=Ft)||void 0===Le?void 0:Le.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Ec{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,B.Z)(function*(){const P=T.storage.getLastFetchStatus(),j=T.storage.getLastSuccessfulFetchTimestampMillis(),se=T.storage.getActiveConfig(),ge=yield P;ge&&(T.lastFetchStatus=ge);const Le=yield j;Le&&(T.lastSuccessfulFetchTimestampMillis=Le);const Xe=yield se;Xe&&(T.activeConfig=Xe)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Ya(){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,B.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch(D){return!1}})).apply(this,arguments)}!function Po(){(0,pe._registerComponent)(new be.wA("remote-config",function D(T,{instanceIdentifier:P}){const j=T.getProvider("app").getImmediate(),se=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Un.create("registration-window");if(!(0,fe.hl)())throw Un.create("indexed-db-unavailable");const{projectId:ge,apiKey:Le,appId:Xe}=j.options;if(!ge)throw Un.create("registration-project-id");if(!Le)throw Un.create("registration-api-key");if(!Xe)throw Un.create("registration-app-id");const Ct=new Ud(Xe,j.name,P=P||"firebase"),kt=new Ec(Ct),Ft=new de.Yd(nr);Ft.logLevel=de.in.ERROR;const vt=new Ai(se,pe.SDK_VERSION,P,ge,Le,Xe),kn=new Bd(vt,Ct),Mr=new xc(kn,Ct,kt,Ft),Qo=new wc(j,Mr,kt,Ct,Ft);return function mn(D){const T=(0,fe.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Qo),Qo},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(nr,"0.3.11"),(0,pe.registerVersion)(nr,"0.3.11","esm2017")}();const Ic="/firebase-messaging-sw.js",Si="/firebase-cloud-messaging-push-scope",ks="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",No="google.c.a.c_id",Ml="google.c.a.c_l",bu="google.c.a.ts",ao="google.c.a.e";var Lo=(()=>{return(D=Lo||(Lo={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Lo;var D})();function Bi(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function co(D){const P=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(P),se=new Uint8Array(j.length);for(let ge=0;ge<j.length;++ge)se[ge]=j.charCodeAt(ge);return se}const Sn="fcm_token_details_db",or="fcm_token_object_Store";function kl(D){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,B.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ge=>ge.name).includes(Sn))return null;let T=null;return(yield(0,_e.X3)(Sn,5,{upgrade:(j=(0,B.Z)(function*(se,ge,Le,Xe){var Ct;if(ge<2||!se.objectStoreNames.contains(or))return;const kt=Xe.objectStore(or),Ft=yield kt.index("fcmSenderId").get(D);if(yield kt.clear(),Ft)if(2===ge){const vt=Ft;if(!vt.auth||!vt.p256dh||!vt.endpoint)return;T={token:vt.fcmToken,createTime:null!==(Ct=vt.createTime)&&void 0!==Ct?Ct:Date.now(),subscriptionOptions:{auth:vt.auth,p256dh:vt.p256dh,endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:"string"==typeof vt.vapidKey?vt.vapidKey:Bi(vt.vapidKey)}}}else if(3===ge){const vt=Ft;T={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:Bi(vt.auth),p256dh:Bi(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:Bi(vt.vapidKey)}}}else if(4===ge){const vt=Ft;T={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:Bi(vt.auth),p256dh:Bi(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:Bi(vt.vapidKey)}}}}),function(ge,Le,Xe,Ct){return j.apply(this,arguments)})})).close(),yield(0,_e.Lj)(Sn),yield(0,_e.Lj)("fcm_vapid_details_db"),yield(0,_e.Lj)("undefined"),Tc(T)?T:null;var j}),Dc.apply(this,arguments)}function Tc(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const jr="firebase-messaging-store";let Ol=null;function un(){return Ol||(Ol=(0,_e.X3)("firebase-messaging-database",1,{upgrade:(D,T)=>{0===T&&D.createObjectStore(jr)}})),Ol}function Bo(D){return uo.apply(this,arguments)}function uo(){return(uo=(0,B.Z)(function*(D){const T=vi(D),j=yield(yield un()).transaction(jr).objectStore(jr).get(T);if(j)return j;{const se=yield kl(D.appConfig.senderId);if(se)return yield an(D,se),se}})).apply(this,arguments)}function an(D,T){return fs.apply(this,arguments)}function fs(){return(fs=(0,B.Z)(function*(D,T){const P=vi(D),se=(yield un()).transaction(jr,"readwrite");return yield se.objectStore(jr).put(T,P),yield se.done,T})).apply(this,arguments)}function Ja(D){return ps.apply(this,arguments)}function ps(){return(ps=(0,B.Z)(function*(D){const T=vi(D),j=(yield un()).transaction(jr,"readwrite");yield j.objectStore(jr).delete(T),yield j.done})).apply(this,arguments)}function vi({appConfig:D}){return D.appId}const Mn=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zr(D,T){return ii.apply(this,arguments)}function ii(){return(ii=(0,B.Z)(function*(D,T){var P;const j=yield Vo(D),se=ho(T),ge={method:"POST",headers:j,body:JSON.stringify(se)};let Le;try{Le=yield(yield fetch($r(D.appConfig),ge)).json()}catch(Xe){throw Mn.create("token-subscribe-failed",{errorInfo:null===(P=Xe)||void 0===P?void 0:P.toString()})}if(Le.error)throw Mn.create("token-subscribe-failed",{errorInfo:Le.error.message});if(!Le.token)throw Mn.create("token-subscribe-no-token");return Le.token})).apply(this,arguments)}function Rs(D,T){return gs.apply(this,arguments)}function gs(){return(gs=(0,B.Z)(function*(D,T){var P;const j=yield Vo(D),se=ho(T.subscriptionOptions),ge={method:"PATCH",headers:j,body:JSON.stringify(se)};let Le;try{Le=yield(yield fetch(`${$r(D.appConfig)}/${T.token}`,ge)).json()}catch(Xe){throw Mn.create("token-update-failed",{errorInfo:null===(P=Xe)||void 0===P?void 0:P.toString()})}if(Le.error)throw Mn.create("token-update-failed",{errorInfo:Le.error.message});if(!Le.token)throw Mn.create("token-update-no-token");return Le.token})).apply(this,arguments)}function ua(D,T){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,B.Z)(function*(D,T){var P;const se={method:"DELETE",headers:yield Vo(D)};try{const Le=yield(yield fetch(`${$r(D.appConfig)}/${T}`,se)).json();if(Le.error)throw Mn.create("token-unsubscribe-failed",{errorInfo:Le.error.message})}catch(ge){throw Mn.create("token-unsubscribe-failed",{errorInfo:null===(P=ge)||void 0===P?void 0:P.toString()})}})).apply(this,arguments)}function $r({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Vo(D){return wt.apply(this,arguments)}function wt(){return(wt=(0,B.Z)(function*({appConfig:D,installations:T}){const P=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function ho({p256dh:D,auth:T,endpoint:P,vapidKey:j}){const se={web:{endpoint:P,auth:T,p256dh:D}};return j!==ks&&(se.web.applicationPubKey=j),se}const Xa=6048e5;function Os(D){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,B.Z)(function*(D){const T=yield bn(D.swRegistration,D.vapidKey),P={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:Bi(T.getKey("auth")),p256dh:Bi(T.getKey("p256dh"))},j=yield Bo(D.firebaseDependencies);if(j){if(Fs(j.subscriptionOptions,P))return Date.now()>=j.createTime+Xa?fo(D,{token:j.token,createTime:Date.now(),subscriptionOptions:P}):j.token;try{yield ua(D.firebaseDependencies,j.token)}catch(se){console.warn(se)}return $t(D.firebaseDependencies,P)}return $t(D.firebaseDependencies,P)})).apply(this,arguments)}function da(D){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,B.Z)(function*(D){const T=yield Bo(D.firebaseDependencies);T&&(yield ua(D.firebaseDependencies,T.token),yield Ja(D.firebaseDependencies));const P=yield D.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()})).apply(this,arguments)}function fo(D,T){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,B.Z)(function*(D,T){try{const P=yield Rs(D.firebaseDependencies,T),j=Object.assign(Object.assign({},T),{token:P,createTime:Date.now()});return yield an(D.firebaseDependencies,j),P}catch(P){throw yield da(D),P}})).apply(this,arguments)}function $t(D,T){return el.apply(this,arguments)}function el(){return(el=(0,B.Z)(function*(D,T){const j={token:yield zr(D,T),createTime:Date.now(),subscriptionOptions:T};return yield an(D,j),j.token})).apply(this,arguments)}function bn(D,T){return po.apply(this,arguments)}function po(){return(po=(0,B.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:co(T)})})).apply(this,arguments)}function Fs(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}function ar(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function ha(D,T){if(!T.notification)return;D.notification={};const P=T.notification.title;P&&(D.notification.title=P);const j=T.notification.body;j&&(D.notification.body=j);const se=T.notification.image;se&&(D.notification.image=se)}(T,D),function Ll(D,T){!T.data||(D.data=T.data)}(T,D),function Gd(D,T){var P,j,se,ge,Le;if(!T.fcmOptions&&!(null===(P=T.notification)||void 0===P?void 0:P.click_action))return;D.fcmOptions={};const Xe=null!==(se=null===(j=T.fcmOptions)||void 0===j?void 0:j.link)&&void 0!==se?se:null===(ge=T.notification)||void 0===ge?void 0:ge.click_action;Xe&&(D.fcmOptions.link=Xe);const Ct=null===(Le=T.fcmOptions)||void 0===Le?void 0:Le.analytics_label;Ct&&(D.fcmOptions.analyticsLabel=Ct)}(T,D),T}function tl(D){return"object"==typeof D&&!!D&&No in D}function fa(D,T){const P=[];for(let j=0;j<D.length;j++)P.push(D.charAt(j)),j<T.length&&P.push(T.charAt(j));return P.join("")}function Gn(D){return Mn.create("missing-app-config-values",{valueName:D})}fa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),fa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ms{constructor(T,P,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const se=function nl(D){if(!D||!D.options)throw Gn("App Configuration Object");if(!D.name)throw Gn("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:P}=D;for(const j of T)if(!P[j])throw Gn(j);return{appName:D.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:se,installations:P,analyticsProvider:j}}_delete(){return Promise.resolve()}}function pa(D){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,B.Z)(function*(D){var T;try{D.swRegistration=yield navigator.serviceWorker.register(Ic,{scope:Si}),D.swRegistration.update().catch(()=>{})}catch(P){throw Mn.create("failed-service-worker-registration",{browserErrorMessage:null===(T=P)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function lr(D,T){return ga.apply(this,arguments)}function ga(){return(ga=(0,B.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield pa(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Mn.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function ma(D,T){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,B.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=ks)})).apply(this,arguments)}function _a(){return(_a=(0,B.Z)(function*(D,T){if(!navigator)throw Mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mn.create("permission-blocked");return yield ma(D,null==T?void 0:T.vapidKey),yield lr(D,null==T?void 0:T.serviceWorkerRegistration),Os(D)})).apply(this,arguments)}function go(D,T,P){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,B.Z)(function*(D,T,P){const j=mo(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:P[No],message_name:P[Ml],message_time:P[bu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function mo(D){switch(D){case Lo.NOTIFICATION_CLICKED:return"notification_open";case Lo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function rl(){return(rl=(0,B.Z)(function*(D,T){const P=T.data;if(!P.isFirebaseMessaging)return;D.onMessageHandler&&P.messageType===Lo.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(ar(P)):D.onMessageHandler.next(ar(P)));const j=P.data;tl(j)&&"1"===j[ao]&&(yield go(D,P.messageType,j))})).apply(this,arguments)}const Ns="@firebase/messaging",Sc=D=>{const T=new ms(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function wu(D,T){return rl.apply(this,arguments)}(T,P)),T},Uo=D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:j=>function il(D,T){return _a.apply(this,arguments)}(T,j)}};function Go(){return qr.apply(this,arguments)}function qr(){return(qr=(0,B.Z)(function*(){try{yield(0,fe.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Aa(){(0,pe._registerComponent)(new be.wA("messaging",Sc,"PUBLIC")),(0,pe._registerComponent)(new be.wA("messaging-internal",Uo,"PRIVATE")),(0,pe.registerVersion)(Ns,"0.9.16"),(0,pe.registerVersion)(Ns,"0.9.16","esm2017")}();const Ul="analytics",jd="firebase_id",Wr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ls="https://www.googletagmanager.com/gtag/js",ui=new de.Yd("@firebase/analytics");function Iu(D){return Promise.all(D.map(T=>T.catch(P=>P)))}function _o(D,T){const P=document.createElement("script");P.src=`${Ls}?l=${D}&id=${T}`,P.async=!0,document.head.appendChild(P)}function yo(D,T,P,j,se,ge){return sl.apply(this,arguments)}function sl(){return(sl=(0,B.Z)(function*(D,T,P,j,se,ge){const Le=j[se];try{if(Le)yield T[Le];else{const Ct=(yield Iu(P)).find(kt=>kt.measurementId===se);Ct&&(yield T[Ct.appId])}}catch(Xe){ui.error(Xe)}D("config",se,ge)})).apply(this,arguments)}function Vi(D,T,P,j,se){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,B.Z)(function*(D,T,P,j,se){try{let ge=[];if(se&&se.send_to){let Le=se.send_to;Array.isArray(Le)||(Le=[Le]);const Xe=yield Iu(P);for(const Ct of Le){const kt=Xe.find(vt=>vt.measurementId===Ct),Ft=kt&&T[kt.appId];if(!Ft){ge=[];break}ge.push(Ft)}}0===ge.length&&(ge=Object.values(T)),yield Promise.all(ge),D("event",j,se||{})}catch(ge){ui.error(ge)}})).apply(this,arguments)}function Ui(){const D=window.document.getElementsByTagName("script");for(const T of Object.values(D))if(T.src&&T.src.includes(Ls))return T;return null}const $n=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),G=new class R{constructor(T={},P=1e3){this.throttleMetadata=T,this.intervalMillis=P}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,P){this.throttleMetadata[T]=P}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Ae(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Ne(D){return vn.apply(this,arguments)}function vn(){return(vn=(0,B.Z)(function*(D){var T;const{appId:P,apiKey:j}=D,se={method:"GET",headers:Ae(j)},ge=Wr.replace("{app-id}",P),Le=yield fetch(ge,se);if(200!==Le.status&&304!==Le.status){let Xe="";try{const Ct=yield Le.json();(null===(T=Ct.error)||void 0===T?void 0:T.message)&&(Xe=Ct.error.message)}catch(Ct){}throw $n.create("config-fetch-failed",{httpStatus:Le.status,responseMessage:Xe})}return Le.json()})).apply(this,arguments)}function en(D){return qn.apply(this,arguments)}function qn(){return(qn=(0,B.Z)(function*(D,T=G,P){const{appId:j,apiKey:se,measurementId:ge}=D.options;if(!j)throw $n.create("no-app-id");if(!se){if(ge)return{measurementId:ge,appId:j};throw $n.create("no-api-key")}const Le=T.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xe=new ff;return setTimeout((0,B.Z)(function*(){Xe.abort()}),void 0!==P?P:6e4),cr({appId:j,apiKey:se,measurementId:ge},Le,Xe,T)})).apply(this,arguments)}function cr(D,T,P){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,B.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:P},j,se=G){var ge,Le;const{appId:Xe,measurementId:Ct}=D;try{yield ol(j,T)}catch(kt){if(Ct)return ui.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ct} provided in the "measurementId" field in the local Firebase config. [${null===(ge=kt)||void 0===ge?void 0:ge.message}]`),{appId:Xe,measurementId:Ct};throw kt}try{const kt=yield Ne(D);return se.deleteThrottleMetadata(Xe),kt}catch(kt){const Ft=kt;if(!qd(Ft)){if(se.deleteThrottleMetadata(Xe),Ct)return ui.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ct} provided in the "measurementId" field in the local Firebase config. [${null==Ft?void 0:Ft.message}]`),{appId:Xe,measurementId:Ct};throw kt}const vt=503===Number(null===(Le=null==Ft?void 0:Ft.customData)||void 0===Le?void 0:Le.httpStatus)?(0,fe.$s)(P,se.intervalMillis,30):(0,fe.$s)(P,se.intervalMillis),kn={throttleEndTimeMillis:Date.now()+vt,backoffCount:P+1};return se.setThrottleMetadata(Xe,kn),ui.debug(`Calling attemptFetch again in ${vt} millis`),cr(D,kn,j,se)}})).apply(this,arguments)}function ol(D,T){return new Promise((P,j)=>{const se=Math.max(T-Date.now(),0),ge=setTimeout(P,se);D.addEventListener(()=>{clearTimeout(ge),j($n.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function qd(D){if(!(D instanceof fe.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}class ff{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let kc,Wn;function Ho(){return(Ho=(0,B.Z)(function*(D,T,P,j,se){if(se&&se.global)D("event",P,j);else{const ge=yield T;D("event",P,Object.assign(Object.assign({},j),{send_to:ge}))}})).apply(this,arguments)}function Su(D){Wn=D}function zl(D){kc=D}function $l(){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,B.Z)(function*(){var D;if(!(0,fe.hl)())return ui.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(T){return ui.warn($n.create("indexeddb-unavailable",{errorInfo:null===(D=T)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function Fc(){return(Fc=(0,B.Z)(function*(D,T,P,j,se,ge,Le){var Xe;const Ct=en(D);Ct.then(Mr=>{P[Mr.measurementId]=Mr.appId,D.options.measurementId&&Mr.measurementId!==D.options.measurementId&&ui.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Mr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mr=>ui.error(Mr)),T.push(Ct);const kt=$l().then(Mr=>{if(Mr)return j.getId()}),[Ft,vt]=yield Promise.all([Ct,kt]);Ui()||_o(ge,Ft.measurementId),Wn&&(se("consent","default",Wn),Su(void 0)),se("js",new Date);const kn=null!==(Xe=null==Le?void 0:Le.config)&&void 0!==Xe?Xe:{};return kn.origin="firebase",kn.update=!0,null!=vt&&(kn[jd]=vt),se("config",Ft.measurementId,kn),kc&&(se("set",kc),zl(void 0)),Ft.measurementId})).apply(this,arguments)}class ur{constructor(T){this.app=T}_delete(){return delete Us[this.app.options.appId],Promise.resolve()}}let Us={},ll=[];const zo={};let $o,Gi,_s="dataLayer",Mi=!1;function pf(D,T,P){!function Qd(){const D=[];if((0,fe.ru)()&&D.push("This is a browser extension environment."),(0,fe.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((j,se)=>`(${se+1}) ${j}`).join(" "),P=$n.create("invalid-analytics-context",{errorInfo:T});ui.warn(P.message)}}();const j=D.options.appId;if(!j)throw $n.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw $n.create("no-api-key");ui.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Us[j])throw $n.create("already-exists",{id:j});if(!Mi){!function Ji(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(_s);const{wrappedGtag:ge,gtagCore:Le}=function zd(D,T,P,j,se){let ge=function(...Le){window[j].push(arguments)};return window[se]&&"function"==typeof window[se]&&(ge=window[se]),window[se]=function Gl(D,T,P,j){function ge(){return(ge=(0,B.Z)(function*(Le,Xe,Ct){try{"event"===Le?yield Vi(D,T,P,Xe,Ct):"config"===Le?yield yo(D,T,P,j,Xe,Ct):"consent"===Le?D("consent","update",Ct):D("set",Xe)}catch(kt){ui.error(kt)}})).apply(this,arguments)}return function se(Le,Xe,Ct){return ge.apply(this,arguments)}}(ge,D,T,P),{gtagCore:ge,wrappedGtag:window[se]}}(Us,ll,zo,_s,"gtag");Gi=ge,$o=Le,Mi=!0}return Us[j]=function jo(D,T,P,j,se,ge,Le){return Fc.apply(this,arguments)}(D,ll,zo,T,$o,_s,P),new ur(D)}function Mu(){return vo.apply(this,arguments)}function vo(){return(vo=(0,B.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch(D){return!1}})).apply(this,arguments)}const Wl="@firebase/analytics";!function mf(){(0,pe._registerComponent)(new be.wA(Ul,(T,{options:P})=>pf(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,pe._registerComponent)(new be.wA("analytics-internal",function D(T){try{const P=T.getProvider(Ul).getImmediate();return{logEvent:(j,se,ge)=>function gf(D,T,P,j){D=(0,fe.m9)(D),function jl(D,T,P,j,se){return Ho.apply(this,arguments)}(Gi,Us[D.app.options.appId],T,P,j).catch(se=>ui.error(se))}(P,j,se,ge)}}catch(P){throw $n.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,pe.registerVersion)(Wl,"0.8.0"),(0,pe.registerVersion)(Wl,"0.8.0","esm2017")}();var Pc=L(4408),Sr=L(7565);const wa=new class qo extends Sr.v{}(class Tr extends Pc.o{constructor(T,P){super(T,P),this.scheduler=T,this.work=P}schedule(T,P=0){return P>0?super.schedule(T,P):(this.delay=P,this.state=T,this.scheduler.flush(this),this)}execute(T,P){return P>0||this.closed?super.execute(T,P):this._execute(T,P)}requestAsyncId(T,P,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(T,P,j):T.flush(this)}});var Kl=L(4986),cl=L(8505),Wo=L(5363),ku=L(9468);const _f=new c.GfV("7.4.1"),ul="__angularfire_symbol__analyticsIsSupportedValue",Hi="__angularfire_symbol__analyticsIsSupported",bo="__angularfire_symbol__remoteConfigIsSupportedValue",Gs="__angularfire_symbol__remoteConfigIsSupported",Ru="__angularfire_symbol__messagingIsSupportedValue",Zl="__angularfire_symbol__messagingIsSupported";function Nc(D,T,P){if(T){if(1===T.length)return T[0];const ge=T.filter(Le=>Le.app===P);if(1===ge.length)return ge[0]}return P.container.getProvider(D).getImmediate({optional:!0})}globalThis[Hi]||(globalThis[Hi]=Mu().then(D=>globalThis[ul]=D).catch(()=>globalThis[ul]=!1)),globalThis[Zl]||(globalThis[Zl]=Go().then(D=>globalThis[Ru]=D).catch(()=>globalThis[Ru]=!1)),globalThis[Gs]||(globalThis[Gs]=Ya().then(D=>globalThis[bo]=D).catch(()=>globalThis[bo]=!1));const ys=(D,T)=>{const P=T?[T]:(0,ae.C6)(),j=[];return P.forEach(se=>{se.container.getProvider(D).instances.forEach(Le=>{j.includes(Le)||j.push(Le)})}),j};function jn(){}class Hs{constructor(T,P=wa){this.zone=T,this.delegate=P}now(){return this.delegate.now()}schedule(T,P,j){const se=this.zone;return this.delegate.schedule(function(Le){se.runGuarded(()=>{T.apply(this,[Le])})},P,j)}}class dy{constructor(T){this.zone=T,this.task=null}call(T,P){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jn,{},jn,jn)),P.pipe((0,cl.b)({next:j,complete:j,error:j})).subscribe(T).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Lc=(()=>{class D{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new Hs(Zone.current)),this.insideAngular=P.run(()=>new Hs(Zone.current,Kl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(P){return new(P||D)(c.LFG(c.R0b))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Kr(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Bc(D){return D.pipe((0,Wo.Q)(Kr().outsideAngular))}function dl(D){return Kr(),function Zd(D){return function(P){return(P=P.lift(new dy(D.ngZone))).pipe((0,ku.R)(D.outsideAngular),(0,Wo.Q)(D.insideAngular))}}(Kr())(D)}},2090:(st,Ce,L)=>{"use strict";L.d(Ce,{BH:()=>Qe,LL:()=>me,ZR:()=>Ee,zI:()=>ie,US:()=>be,tV:()=>xe,L:()=>_e,$s:()=>_i,r3:()=>Yn,Sg:()=>Ue,ne:()=>ft,vZ:()=>tr,ZB:()=>J,pd:()=>Jn,m9:()=>ls,z$:()=>Be,jU:()=>Re,ru:()=>lt,d:()=>Ve,xb:()=>Ht,w1:()=>Me,hl:()=>X,uI:()=>_t,UG:()=>Se,b$:()=>ht,G6:()=>te,Mn:()=>Oe,xO:()=>Qi,zd:()=>Is,eu:()=>ye});const pe=function(W){const z=[];let $=0;for(let K=0;K<W.length;K++){let ee=W.charCodeAt(K);ee<128?z[$++]=ee:ee<2048?(z[$++]=ee>>6|192,z[$++]=63&ee|128):55296==(64512&ee)&&K+1<W.length&&56320==(64512&W.charCodeAt(K+1))?(ee=65536+((1023&ee)<<10)+(1023&W.charCodeAt(++K)),z[$++]=ee>>18|240,z[$++]=ee>>12&63|128,z[$++]=ee>>6&63|128,z[$++]=63&ee|128):(z[$++]=ee>>12|224,z[$++]=ee>>6&63|128,z[$++]=63&ee|128)}return z},be={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,z){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,K=[];for(let ee=0;ee<W.length;ee+=3){const Pe=W[ee],$e=ee+1<W.length,gt=$e?W[ee+1]:0,fn=ee+2<W.length,nn=fn?W[ee+2]:0;let Ii=(15&gt)<<2|nn>>6,Ur=63&nn;fn||(Ur=64,$e||(Ii=64)),K.push($[Pe>>2],$[(3&Pe)<<4|gt>>4],$[Ii],$[Ur])}return K.join("")},encodeString(W,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(W):this.encodeByteArray(pe(W),z)},decodeString(W,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(W):function(W){const z=[];let $=0,K=0;for(;$<W.length;){const ee=W[$++];if(ee<128)z[K++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Pe=W[$++];z[K++]=String.fromCharCode((31&ee)<<6|63&Pe)}else if(ee>239&&ee<365){const fn=((7&ee)<<18|(63&W[$++])<<12|(63&W[$++])<<6|63&W[$++])-65536;z[K++]=String.fromCharCode(55296+(fn>>10)),z[K++]=String.fromCharCode(56320+(1023&fn))}else{const Pe=W[$++],$e=W[$++];z[K++]=String.fromCharCode((15&ee)<<12|(63&Pe)<<6|63&$e)}}return z.join("")}(this.decodeStringToByteArray(W,z))},decodeStringToByteArray(W,z){this.init_();const $=z?this.charToByteMapWebSafe_:this.charToByteMap_,K=[];for(let ee=0;ee<W.length;){const Pe=$[W.charAt(ee++)],gt=ee<W.length?$[W.charAt(ee)]:0;++ee;const nn=ee<W.length?$[W.charAt(ee)]:64;++ee;const zt=ee<W.length?$[W.charAt(ee)]:64;if(++ee,null==Pe||null==gt||null==nn||null==zt)throw Error();K.push(Pe<<2|gt>>4),64!==nn&&(K.push(gt<<4&240|nn>>2),64!==zt&&K.push(nn<<6&192|zt))}return K},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},_e=function(W){return function(W){const z=pe(W);return be.encodeByteArray(z,!0)}(W).replace(/\./g,"")},xe=function(W){try{return be.decodeString(W,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function J(W,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return z}for(const $ in z)!z.hasOwnProperty($)||!oe($)||(W[$]=J(W[$],z[$]));return W}function oe(W){return"__proto__"!==W}class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,$)=>{this.resolve=z,this.reject=$})}wrapCallback(z){return($,K)=>{$?this.reject($):this.resolve(K),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z($):z($,K))}}}function Ue(W,z){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const K=z||"demo-project",ee=W.iat||0,Pe=W.sub||W.user_id;if(!Pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $e=Object.assign({iss:`https://securetoken.google.com/${K}`,aud:K,iat:ee,exp:ee+3600,auth_time:ee,sub:Pe,user_id:Pe,firebase:{sign_in_provider:"custom",identities:{}}},W);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify($e)),""].join(".")}function Be(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _t(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function Se(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function Re(){return"object"==typeof self&&self.self===self}function lt(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ve(){return Be().indexOf("Electron/")>=0}function Me(){const W=Be();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Oe(){return Be().indexOf("MSAppHost/")>=0}function te(){return!Se()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X(){return"object"==typeof indexedDB}function ye(){return new Promise((W,z)=>{try{let $=!0;const K="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(K);ee.onsuccess=()=>{ee.result.close(),$||self.indexedDB.deleteDatabase(K),W(!0)},ee.onupgradeneeded=()=>{$=!1},ee.onerror=()=>{var Pe;z((null===(Pe=ee.error)||void 0===Pe?void 0:Pe.message)||"")}}catch($){z($)}})}function ie(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ee extends Error{constructor(z,$,K){super($),this.code=z,this.customData=K,this.name="FirebaseError",Object.setPrototypeOf(this,Ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,me.prototype.create)}}class me{constructor(z,$,K){this.service=z,this.serviceName=$,this.errors=K}create(z,...$){const K=$[0]||{},ee=`${this.service}/${z}`,Pe=this.errors[z],$e=Pe?function je(W,z){return W.replace(pt,($,K)=>{const ee=z[K];return null!=ee?String(ee):`<${K}?>`})}(Pe,K):"Error";return new Ee(ee,`${this.serviceName}: ${$e} (${ee}).`,K)}}const pt=/\{\$([^}]+)}/g;function Yn(W,z){return Object.prototype.hasOwnProperty.call(W,z)}function Ht(W){for(const z in W)if(Object.prototype.hasOwnProperty.call(W,z))return!1;return!0}function tr(W,z){if(W===z)return!0;const $=Object.keys(W),K=Object.keys(z);for(const ee of $){if(!K.includes(ee))return!1;const Pe=W[ee],$e=z[ee];if(ai(Pe)&&ai($e)){if(!tr(Pe,$e))return!1}else if(Pe!==$e)return!1}for(const ee of K)if(!$.includes(ee))return!1;return!0}function ai(W){return null!==W&&"object"==typeof W}function Qi(W){const z=[];for(const[$,K]of Object.entries(W))Array.isArray(K)?K.forEach(ee=>{z.push(encodeURIComponent($)+"="+encodeURIComponent(ee))}):z.push(encodeURIComponent($)+"="+encodeURIComponent(K));return z.length?"&"+z.join("&"):""}function Is(W){const z={};return W.replace(/^\?/,"").split("&").forEach(K=>{if(K){const[ee,Pe]=K.split("=");z[decodeURIComponent(ee)]=decodeURIComponent(Pe)}}),z}function Jn(W){const z=W.indexOf("?");if(!z)return"";const $=W.indexOf("#",z);return W.substring(z,$>0?$:void 0)}function ft(W,z){const $=new Ki(W,z);return $.subscribe.bind($)}class Ki{constructor(z,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{z(this)}).catch(K=>{this.error(K)})}next(z){this.forEachObserver($=>{$.next(z)})}error(z){this.forEachObserver($=>{$.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,$,K){let ee;if(void 0===z&&void 0===$&&void 0===K)throw new Error("Missing Observer.");ee=function Vn(W,z){if("object"!=typeof W||null===W)return!1;for(const $ of z)if($ in W&&"function"==typeof W[$])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:$,complete:K},void 0===ee.next&&(ee.next=br),void 0===ee.error&&(ee.error=br),void 0===ee.complete&&(ee.complete=br);const Pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch($e){}}),this.observers.push(ee),Pe}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,z)}sendOne(z,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{$(this.observers[z])}catch(K){"undefined"!=typeof console&&console.error&&console.error(K)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function br(){}function _i(W,z=1e3,$=2){const K=z*Math.pow($,W),ee=Math.round(.5*K*(Math.random()-.5)*2);return Math.min(144e5,K+ee)}function ls(W){return W&&W._delegate?W._delegate:W}},8077:(st,Ce,L)=>{"use strict";var c=L(5e3);let ae=null;function B(){return ae}const de=new c.OlP("DocumentToken");function Oo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}class Ts{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Tn=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,d)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ts(r.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)i.remove(null===a?void 0:a);else if(null!==a){const p=i.get(a);i.move(p,d),oo(p,r)}});for(let r=0,a=i.length;r<a;r++){const p=i.get(r).context;p.index=r,p.count=a,p.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{oo(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function oo(n,e){n.context.$implicit=e.item}let An=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new mn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ka("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ka("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class mn{constructor(){this.$implicit=null,this.ngIf=null}}function Ka(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}class oa{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ti=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),rr=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new oa(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Ti,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),aa=(()=>{class n{constructor(t,i,r){r._addDefault(new oa(t,i))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(Ti,9))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),Li=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,a]=t.split(".");null!=(i=null!=i&&a?`${i}${a}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),xc=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[c.TTD]}),n})();class Ss{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class bc{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const Bd=new bc,hs=new Ss;let Za=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,c.QGY)(t))return Bd;if((0,c.F4k)(t))return hs;throw function Ai(n,e){return new c.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),ao=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const lo="browser";function Sn(n){return n===lo}function sr(n){return"server"===n}class un{}class uo extends class Bo extends class be{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function fe(n){ae||(ae=n)}(new uo)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function fs(){return an=an||document.querySelector("base"),an?an.getAttribute("href"):null}();return null==t?null:function ps(n){Ja=Ja||document.createElement("a"),Ja.setAttribute("href",n);const e=Ja.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){an=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Oo(document.cookie,e)}}let Ja,an=null;const vi=new c.OlP("TRANSITION_ID"),Mn=[{provide:c.ip1,useFactory:function Fl(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=B(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[vi,de,c.zs3],multi:!0}];class zr{static init(){(0,c.VLi)(new zr)}addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let a=r.length,d=!1;const p=function(_){d=d||_,a--,0==a&&i(d)};r.forEach(function(_){_.whenStable(p)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?B().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let ii=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Rs=new c.OlP("EventManagerPlugins");let gs=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const d=r[a];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Rs),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ua{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=B().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Ir=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),$r=(()=>{class n extends Ir{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const d=this._doc.createElement("style");d.textContent=a,r.push(i.appendChild(d))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Vo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Vo))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Vo(n){B().remove(n)}const wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ho=/%COMP%/g;function Fe(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Fe(n,r,t):(r=r.replace(ho,n),t.push(r))}return t}function $t(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let bn=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new po(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new ha(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case c.ifc.ShadowDom:return new Ll(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Fe(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gs),c.LFG($r),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class po{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(wt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=wt[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=wt[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,$t(i)):this.eventManager.addEventListener(e,t,$t(i))}}class ha extends po{constructor(e,t,i,r){super(e),this.component=i;const a=Fe(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function Nl(n){return"_ngcontent-%COMP%".replace(ho,n)}(r+"-"+i.id),this.hostAttr=function fo(n){return"_nghost-%COMP%".replace(ho,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Ll extends po{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Fe(r.id,r.styles,[]);for(let d=0;d<a.length;d++){const p=document.createElement("style");p.textContent=a[d],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Gd=(()=>{class n extends ua{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const tl=["alt","control","meta","shift"],nl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ms={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let pa=(()=>{class n extends ua{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),d=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(t,a.domEventName,d))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let d="";if(tl.forEach(_=>{const w=i.indexOf(_);w>-1&&(i.splice(w,1),d+=_+".")}),d+=a,0!=i.length||0===a.length)return null;const p={};return p.domEventName=r,p.fullKey=d,p}static getEventFullKey(t){let i="",r=function Ps(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Gn.hasOwnProperty(e)&&(e=Gn[e]))}return nl[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),tl.forEach(a=>{a!=r&&ms[a](t)&&(i+=a+".")}),i+=r,i}static eventCallback(t,i,r){return a=>{n.getEventFullKey(a)===t&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const il=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:lo},{provide:c.g9A,useValue:function lr(){uo.makeCurrent(),zr.init()},multi:!0},{provide:de,useFactory:function ma(){return(0,c.RDi)(document),document},deps:[]}]),_a=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function ga(){return new c.qLn},deps:[]},{provide:Rs,useClass:Gd,multi:!0,deps:[de,c.R0b,c.Lbi]},{provide:Rs,useClass:pa,multi:!0,deps:[de]},{provide:bn,useClass:bn,deps:[gs,$r,c.AFp]},{provide:c.FYo,useExisting:bn},{provide:Ir,useExisting:$r},{provide:$r,useClass:$r,deps:[de]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:gs,useClass:gs,deps:[Rs,c.R0b]},{provide:un,useClass:ii,deps:[]}];let go=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:vi,useExisting:c.AFp},Mn]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:_a,imports:[ao,c.hGG]}),n})();"undefined"!=typeof window&&window;let Vi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):c.LFG(Gl),i},providedIn:"root"}),n})(),Gl=(()=>{class n extends Vi{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(i),(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Bs(n){return new Gl(n.get(de))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var Ui=L(7579),$d=L(6063);class $n extends Ui.x{constructor(e=1/0,t=1/0,i=$d.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:d}=this;t||(i.push(e),!r&&i.push(a.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let d=0;d<a.length&&!e.closed;d+=i?1:2)e.next(a[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const d=t.now();let p=0;for(let _=1;_<i.length&&i[_]<=d;_+=2)p=_;p&&i.splice(0,p+1)}}}var E=L(6451),C=L(8421),R=L(4482),G=L(5403);function Ae(n,e){return(0,R.e)((t,i)=>{let r=null,a=0,d=!1;const p=()=>d&&!r&&i.complete();t.subscribe((0,G.x)(i,_=>{null==r||r.unsubscribe();let w=0;const S=a++;(0,C.Xf)(n(_,S)).subscribe(r=(0,G.x)(i,O=>i.next(e?e(_,O,S,w++):O),()=>{r=null,p()}))},()=>{d=!0,p()}))})}var Ne=L(4004);const vn={schedule(n,e){const t=setTimeout(n,e);return()=>clearTimeout(t)},scheduleBeforeRender(n){if("undefined"==typeof window)return vn.schedule(n,0);if(void 0===window.requestAnimationFrame)return vn.schedule(n,16);const e=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(e)}};let ol;function Rc(n,e,t){let i=t;return function qn(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&e.some((r,a)=>!("*"===r||!function qd(n,e){if(!ol){const t=Element.prototype;ol=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&ol.call(n,e)}(n,r)||(i=a,0))),i}class xa{constructor(e,t){this.componentFactory=t.get(c._Vd).resolveComponentFactory(e)}create(e){return new Du(this.componentFactory,e)}}class Du{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new $n(1),this.events=this.eventEmitters.pipe(Ae(i=>(0,E.T)(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(c.R0b),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=vn.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(e){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,t){this.runInZone(()=>{null!==this.componentRef?function ff(n,e){return n===e||n!=n&&e!=e}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)})}initializeComponent(e){const t=c.zs3.create({providers:[],parent:this.injector}),i=function Ho(n,e){const t=n.childNodes,i=e.map(()=>[]);let r=-1;e.some((a,d)=>"*"===a&&(r=d,!0));for(let a=0,d=t.length;a<d;++a){const p=t[a],_=Rc(p,e,r);-1!==_&&i[_].push(p)}return i}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,i,e),this.viewChangeDetectorRef=this.componentRef.injector.get(c.sBO),this.implementsOnChanges=function cr(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(c.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e))}),this.initialInputValues.clear()}initializeOutputs(e){const t=this.componentFactory.outputs.map(({propName:i,templateName:r})=>e.instance[i].pipe((0,Ne.U)(d=>({name:r,value:d}))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;const t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=vn.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const i=this.inputChanges[e];if(i)return void(i.currentValue=t);const r=this.unchangedInputs.has(e),a=r?void 0:this.getInputValue(e);this.inputChanges[e]=new c.WD2(a,t,r)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}}class Oc extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function al(n,e){const t=function jl(n,e){return e.get(c._Vd).resolveComponentFactory(n).inputs}(n,e.injector),i=e.strategyFactory||new xa(n,e.injector),r=function kc(n){const e={};return n.forEach(({propName:t,templateName:i})=>{e[function en(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}(i)]=t}),e}(t);class a extends Oc{constructor(p){super(),this.injector=p}get ngElementStrategy(){if(!this._ngElementStrategy){const p=this._ngElementStrategy=i.create(this.injector||e.injector);t.forEach(({propName:_})=>{if(!this.hasOwnProperty(_))return;const w=this[_];delete this[_],p.setInputValue(_,w)})}return this._ngElementStrategy}attributeChangedCallback(p,_,w,S){this.ngElementStrategy.setInputValue(r[p],w)}connectedCallback(){let p=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),p=!0),this.ngElementStrategy.connect(this),p||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(p=>{const _=new CustomEvent(p.name,{detail:p.value});this.dispatchEvent(_)})}}return a.observedAttributes=Object.keys(r),t.forEach(({propName:d})=>{Object.defineProperty(a.prototype,d,{get(){return this.ngElementStrategy.getInputValue(d)},set(p){this.ngElementStrategy.setInputValue(d,p)},configurable:!0,enumerable:!0})}),a}var di=L(8996),Wn=L(9751);const{isArray:Su}=Array,{getPrototypeOf:zl,prototype:$l,keys:Wd}=Object;var ur=L(3269);const{isArray:Us}=Array;function zo(n){return(0,Ne.U)(e=>function ll(n,e){return Us(e)?n(...e):n(e)}(n,e))}function _s(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Ao(...n){const e=(0,ur.jO)(n),{args:t,keys:i}=function jo(n){if(1===n.length){const e=n[0];if(Su(e))return{args:e,keys:null};if(function Fc(n){return n&&"object"==typeof n&&zl(n)===$l}(e)){const t=Wd(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}(n),r=new Wn.y(a=>{const{length:d}=t;if(!d)return void a.complete();const p=new Array(d);let _=d,w=d;for(let S=0;S<d;S++){let O=!1;(0,C.Xf)(t[S]).subscribe((0,G.x)(a,V=>{O||(O=!0,w--),p[S]=V},()=>_--,void 0,()=>{(!_||!O)&&(w||a.next(i?_s(i,p):p),a.complete())}))}});return e?r.pipe(zo(e)):r}let $o=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Gi=(()=>{class n extends $o{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Mi=new c.OlP("NgValueAccessor"),ql={provide:Mi,useExisting:(0,c.Gpc)(()=>Qd),multi:!0};let Qd=(()=>{class n extends Gi{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,i){1&t&&c.NdJ("change",function(a){return i.onChange(a.target.checked)})("blur",function(){return i.onTouched()})},features:[c._Bn([ql]),c.qOj]}),n})();const pf={provide:Mi,useExisting:(0,c.Gpc)(()=>Mu),multi:!0},Tg=new c.OlP("CompositionEventMode");let Mu=(()=>{class n extends $o{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Hn(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Tg,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[c._Bn([pf]),c.qOj]}),n})();function vo(n){return null==n||0===n.length}function Sg(n){return null!=n&&"number"==typeof n.length}const dr=new c.OlP("NgValidators"),ba=new c.OlP("NgAsyncValidators"),uy=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qr{static min(e){return function gf(n){return e=>{if(vo(e.value)||vo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Qn(n){return e=>{if(vo(e.value)||vo(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Wl(n){return vo(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function xo(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function mf(n){return vo(n.value)||uy.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Pc(n){return e=>vo(e.value)||!Sg(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Tr(n){return e=>Sg(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Sr(n){if(!n)return qo;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(vo(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return _f(e)}static composeAsync(e){return Hi(e)}}function qo(n){return null}function wa(n){return null!=n}function Ql(n){const e=(0,c.QGY)(n)?(0,di.D)(n):n;return(0,c.CqO)(e),e}function Kl(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function cl(n,e){return e.map(t=>t(n))}function ku(n){return n.map(e=>function Wo(n){return!n.validate}(e)?e:t=>e.validate(t))}function _f(n){if(!n)return null;const e=n.filter(wa);return 0==e.length?null:function(t){return Kl(cl(t,e))}}function ul(n){return null!=n?_f(ku(n)):null}function Hi(n){if(!n)return null;const e=n.filter(wa);return 0==e.length?null:function(t){return Ao(cl(t,e).map(Ql)).pipe((0,Ne.U)(Kl))}}function bo(n){return null!=n?Hi(ku(n)):null}function Gs(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ru(n){return n._rawValidators}function Zl(n){return n._rawAsyncValidators}function Ea(n){return n?Array.isArray(n)?n:[n]:[]}function Ou(n,e){return Array.isArray(n)?n.includes(e):n===e}function Fu(n,e){const t=Ea(e);return Ea(n).forEach(r=>{Ou(t,r)||t.push(r)}),t}function yf(n,e){return Ea(e).filter(t=>!Ou(n,t))}class Nc{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ul(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=bo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ys extends Nc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jn extends Nc{get formDirective(){return null}get path(){return null}}class Hs{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let Kr=(()=>{class n extends Hs{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ys,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[c.qOj]}),n})(),Ca=(()=>{class n extends Hs{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(jn,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[c.qOj]}),n})();function Ft(n,e){Qo(n,e),e.valueAccessor.writeValue(n.value),function js(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Yl(n,e)})}(n,e),function Ia(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Yd(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Yl(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Mr(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function vt(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),vs(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function kn(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Qo(n,e){const t=Ru(n);null!==e.validator?n.setValidators(Gs(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=Zl(n);null!==e.asyncValidator?n.setAsyncValidators(Gs(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();kn(e._rawValidators,r),kn(e._rawAsyncValidators,r)}function vs(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Ru(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(d=>d!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=Zl(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(d=>d!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return kn(e._rawValidators,i),kn(e._rawAsyncValidators,i),t}function Yl(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Uc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Nu="VALID",Jd="INVALID",Lu="PENDING",fl="DISABLED";function Xd(n){return(th(n)?n.validators:n)||null}function wf(n){return Array.isArray(n)?ul(n):n||null}function eh(n,e){return(th(e)?e.asyncValidators:n)||null}function pl(n){return Array.isArray(n)?bo(n):n||null}function th(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const nh=n=>n instanceof Vu,ih=n=>n instanceof sh,Og=n=>n instanceof Ef;function Fg(n){return nh(n)?n.value:n.getRawValue()}function Ko(n,e){const t=ih(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new c.vHH(1e3,"");if(!i[e])throw new c.vHH(1001,"")}function Da(n,e){ih(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new c.vHH(1002,"")})}class rh{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=wf(this._rawValidators),this._composedAsyncValidatorFn=pl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Nu}get invalid(){return this.status===Jd}get pending(){return this.status==Lu}get disabled(){return this.status===fl}get enabled(){return this.status!==fl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=wf(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=pl(e)}addValidators(e){this.setValidators(Fu(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Fu(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yf(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yf(e,this._rawAsyncValidators))}hasValidator(e){return Ou(this._rawValidators,e)}hasAsyncValidator(e){return Ou(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Lu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fl,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Nu,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nu||this.status===Lu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fl:Nu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Lu,this._hasOwnPendingAsyncValidator=!0;const t=Ql(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Bu(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=ih(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:Og(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?fl:this.errors?Jd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Lu)?Lu:this._anyControlsHaveStatus(Jd)?Jd:Nu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){th(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Vu extends rh{constructor(e=null,t,i){super(Xd(t),eh(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),th(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Uc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Uc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class sh extends rh{constructor(e,t,i){super(Xd(t),eh(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Da(this,e),Object.keys(e).forEach(i=>{Ko(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=Fg(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Ef extends rh{constructor(e,t,i){super(Xd(t),eh(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Da(this,e),e.forEach((i,r)=>{Ko(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Fg(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let If=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const ah={provide:Mi,useExisting:(0,c.Gpc)(()=>lh),multi:!0};let lh=(()=>{class n extends Gi{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&c.NdJ("input",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},features:[c._Bn([ah]),c.qOj]}),n})(),my=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Ng=new c.OlP("NgModelWithFormControlWarning"),Vg={provide:jn,useExisting:(0,c.Gpc)(()=>Hc)};let Hc=(()=>{class n extends jn{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(vs(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Ft(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){vt(t.control||null,t,!1),Uc(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,function Pu(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(vt(i||null,t),nh(r)&&(Ft(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);(function kr(n,e){Qo(n,e)})(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function zs(n,e){return vs(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Qo(this.form,this),this._oldForm&&vs(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(dr,10),c.Y36(ba,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&c.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([Vg]),c.qOj,c.TTD]}),n})();const Ay={provide:ys,useExisting:(0,c.Gpc)(()=>Rn)};let Rn=(()=>{class n extends ys{constructor(t,i,r,a,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function bf(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===Mu?t=a:function hy(n){return Object.getPrototypeOf(n.constructor)===Gi}(a)?i=a:r=a}),r||i||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function xf(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function kt(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(jn,13),c.Y36(dr,10),c.Y36(ba,10),c.Y36(Mi,10),c.Y36(Ng,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Ay]),c.qOj,c.TTD]}),n})();const Ug={provide:Mi,useExisting:(0,c.Gpc)(()=>Xl),multi:!0};function Gg(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Xl=(()=>{class n extends Gi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=Gg(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function Sf(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,i){1&t&&c.NdJ("change",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([Ug]),c.qOj]}),n})(),Hg=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Gg(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(Xl,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const vy={provide:Mi,useExisting:(0,c.Gpc)(()=>zg),multi:!0};function jg(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let zg=(()=>{class n extends Gi{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(a=>this._getOptionId(a));i=(a,d)=>{a._setSelected(r.indexOf(d.toString())>-1)}}else i=(r,a)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],a=i.selectedOptions;if(void 0!==a){const d=a;for(let p=0;p<d.length;p++){const w=this._getOptionValue(d[p].value);r.push(w)}}else{const d=i.options;for(let p=0;p<d.length;p++){const _=d[p];if(_.selected){const w=this._getOptionValue(_.value);r.push(w)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function xy(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,i){1&t&&c.NdJ("change",function(a){return i.onChange(a.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([vy]),c.qOj]}),n})(),$g=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(jg(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(jg(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(zg,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Gu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[my]]}),n})(),Ey=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Gu]}),n})(),Ff=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ng,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Gu]}),n})(),Pf=(()=>{class n{group(t,i=null){const r=this._reduceControls(t);let p,a=null,d=null;return null!=i&&(function Yr(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(a=null!=i.validators?i.validators:null,d=null!=i.asyncValidators?i.asyncValidators:null,p=null!=i.updateOn?i.updateOn:void 0):(a=null!=i.validator?i.validator:null,d=null!=i.asyncValidator?i.asyncValidator:null)),new sh(r,{asyncValidators:d,updateOn:p,validators:a})}control(t,i,r){return new Vu(t,i,r)}array(t,i,r){const a=t.map(d=>this._createControl(d));return new Ef(a,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return nh(t)||ih(t)||Og(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:Ff}),n})();var ri=L(2011);const Zo_firebase={projectId:"clientesimages",appId:"1:109342587355:web:337c569d65f2e1dba30ffe",storageBucket:"clientesimages.appspot.com",locationId:"us-central",apiKey:"AIzaSyCfHFG9CkG5PZNYyLLdBFrkk5WEvk1GtSw",authDomain:"clientesimages.firebaseapp.com",messagingSenderId:"109342587355",measurementId:"G-ZXN4TP2L5E"};function Pn(...n){const e=(0,ur.yG)(n);return(0,di.D)(n,e)}var Hu=L(4986);function Nf(n,e=Hu.z){return(0,R.e)((t,i)=>{let r=null,a=null,d=null;const p=()=>{if(r){r.unsubscribe(),r=null;const w=a;a=null,i.next(w)}};function _(){const w=d+n,S=e.now();if(S<w)return r=this.schedule(void 0,w-S),void i.add(r);p()}t.subscribe((0,G.x)(i,w=>{a=w,d=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{p(),i.complete()},void 0,()=>{a=r=null}))})}var Nn=L(5813),ju=L(3942),Ie=L(5861),Eo=L(9681),Tt=L(2090),Or=L(4859);const y="firebasestorage.googleapis.com",f="storageBucket";class M extends Tt.ZR{constructor(e,t){super(N(e),`Firebase Storage: ${t} (${N(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,M.prototype)}_codeEquals(e){return N(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function N(n){return"storage/"+n}function ne(){return new M("unknown","An unknown error occurred, please check the error payload for server response.")}function Jr(){return new M("canceled","User canceled the upload/download.")}function $u(){return new M("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Sa(n){return new M("invalid-argument",n)}function Vf(){return new M("app-deleted","The Firebase app was deleted.")}function mh(n){return new M("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wc(n,e){return new M("invalid-format","String does not match format '"+n+"': "+e)}function qu(n){throw new M("internal-error","Internal error: "+n)}class ji{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=ji.makeFromUrl(e,t)}catch(r){return new ji(e,"")}if(""===i.path)return i;throw function Cy(n){return new M("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",p=new RegExp("^gs://"+r+"(/(.*))?$","i");function w(Ye){Ye.path_=decodeURIComponent(Ye.path)}const O=t.replace(/[.]/g,"\\."),at=[{regex:p,indices:{bucket:1,path:3},postModify:function a(Ye){"/"===Ye.path.charAt(Ye.path.length-1)&&(Ye.path_=Ye.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${O}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:w},{regex:new RegExp(`^https?://${t===y?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:w}];for(let Ye=0;Ye<at.length;Ye++){const It=at[Ye],Ot=It.regex.exec(e);if(Ot){let er=Ot[It.indices.path];er||(er=""),i=new ji(Ot[It.indices.bucket],er),It.postModify(i);break}}if(null==i)throw function zu(n){return new M("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class Iy{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Zg(n){return"string"==typeof n||n instanceof String}function Sy(n){return Yg()&&n instanceof Blob}function Yg(){return"undefined"!=typeof Blob}function tc(n,e,t,i){if(i<e)throw Sa(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Sa(`Invalid value for '${n}'. Expected ${t} or less.`)}function yl(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function My(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Qc=(()=>{return(n=Qc||(Qc={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",Qc;var n})();class Jg{constructor(e,t,i,r,a,d,p,_,w,S,O){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=_,this.timeout_=w,this.progressCallback_=S,this.connectionFactory_=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,H)=>{this.resolve_=V,this.reject_=H,this.start_()})}start_(){const t=(i,r)=>{const a=this.resolve_,d=this.reject_,p=r.connection;if(r.wasSuccessCode)try{const _=this.callback_(p,p.getResponse());!function Fv(n){return void 0!==n}(_)?a():a(_)}catch(_){d(_)}else if(null!==p){const _=ne();_.serverResponse=p.getErrorText(),d(this.errorCallback_?this.errorCallback_(p,_):_)}else d(r.canceled?this.appDelete_?Vf():Jr():function hi(){return new M("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new Xg(!1,null,!0)):this.backoffId_=function Ov(n,e,t){let i=1,r=null,a=null,d=!1,p=0;function _(){return 2===p}let w=!1;function S(...De){w||(w=!0,e.apply(null,De))}function O(De){r=setTimeout(()=>{r=null,n(H,_())},De)}function V(){a&&clearTimeout(a)}function H(De,...Ge){if(w)return void V();if(De)return V(),void S.call(null,De,...Ge);if(_()||d)return V(),void S.call(null,De,...Ge);let at;i<64&&(i*=2),1===p?(p=2,at=0):at=1e3*(i+Math.random()),O(at)}let q=!1;function ce(De){q||(q=!0,V(),!w&&(null!==r?(De||(p=2),clearTimeout(r),O(0)):De||(p=1)))}return O(0),a=setTimeout(()=>{d=!0,ce(!0)},t),ce}((i,r)=>{if(r)return void i(!1,new Xg(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const d=p=>{null!==this.progressCallback_&&this.progressCallback_(p.loaded,p.lengthComputable?p.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(d),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(d),this.pendingConnection_=null;const p=a.getErrorCode()===Qc.NO_ERROR,_=a.getStatus();if(!p||this.isRetryStatusCode_(_)){const S=a.getErrorCode()===Qc.ABORT;return void i(!1,new Xg(!1,null,S))}const w=-1!==this.successCodes_.indexOf(_);i(!0,new Xg(w,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Dy(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),a=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||a}}class Xg{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function tm(...n){const e=function em(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(Yg())return new Blob(n);throw new M("unsupported-environment","This browser doesn't seem to support creating Blobs")}const qs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Uf{constructor(e,t){this.data=e,this.contentType=t||null}}function Wu(n,e){switch(n){case qs.RAW:return new Uf(Uv(e));case qs.BASE64:case qs.BASE64URL:return new Uf(Hv(n,e));case qs.DATA_URL:return new Uf(function zv(n){const e=new jv(n);return e.base64?Hv(qs.BASE64,e.rest):function Gv(n){let e;try{e=decodeURIComponent(n)}catch(t){throw Wc(qs.DATA_URL,"Malformed data URL.")}return Uv(e)}(e.rest)}(e),function Oy(n){return new jv(n).contentType}(e))}throw ne()}function Uv(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function Hv(n,e){switch(n){case qs.BASE64:{const r=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(r||a)throw Wc(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case qs.BASE64URL:{const r=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(r||a)throw Wc(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function Ry(n){return atob(n)}(e)}catch(r){throw Wc(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class jv{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Wc(qs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function $v(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class nc{constructor(e,t){let i=0,r="";Sy(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Sy(this.data_)){const r=function Vv(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new nc(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new nc(i,!0)}}static getBlob(...e){if(Yg()){const t=e.map(i=>i instanceof nc?i.data_:i);return new nc(tm.apply(null,t))}{const t=e.map(d=>Zg(d)?Wu(qs.RAW,d).data:d.data_);let i=0;t.forEach(d=>{i+=d.byteLength});const r=new Uint8Array(i);let a=0;return t.forEach(d=>{for(let p=0;p<d.length;p++)r[a++]=d[p]}),new nc(r,!0)}}uploadData(){return this.data_}}function nm(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function zE(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Wv(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function qE(n,e){return e}class Kn{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||qE}}let im=null;function Gf(){if(im)return im;const n=[];n.push(new Kn("bucket")),n.push(new Kn("generation")),n.push(new Kn("metageneration")),n.push(new Kn("name","fullPath",!0));const t=new Kn("name");t.xform=function e(a,d){return function Qv(n){return!Zg(n)||n.length<2?n:Wv(n)}(d)},n.push(t);const r=new Kn("size");return r.xform=function i(a,d){return void 0!==d?Number(d):d},n.push(r),n.push(new Kn("timeCreated")),n.push(new Kn("updated")),n.push(new Kn("md5Hash",null,!0)),n.push(new Kn("cacheControl",null,!0)),n.push(new Kn("contentDisposition",null,!0)),n.push(new Kn("contentEncoding",null,!0)),n.push(new Kn("contentLanguage",null,!0)),n.push(new Kn("contentType",null,!0)),n.push(new Kn("metadata","customMetadata",!0)),im=n,im}function Kv(n,e,t){const i=nm(e);return null===i?null:function QE(n,e,t){const i={type:"file"},r=t.length;for(let a=0;a<r;a++){const d=t[a];i[d.local]=d.xform(i,e[d.server])}return function WE(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new ji(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(i,n),i}(n,i,t)}function Fy(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const a=e[r];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const Yv="prefixes";class Ma{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ka(n){if(!n)throw ne()}function Qu(n,e){return function t(i,r){const a=Kv(n,r,e);return ka(null!==a),a}}function _h(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Rt(){return new M("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function ot(){return new M("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function We(n){return new M("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Et(n){return new M("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function Ku(n){const e=_h(n);return function t(i,r){let a=e(i,r);return 404===i.getStatus()&&(a=function ve(n){return new M("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=r.serverResponse,a}}function Al(n,e,t){const r=yl(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,p=new Ma(r,"GET",Qu(n,t),d);return p.errorHandler=Ku(e),p}function Py(n,e,t,i,r){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),i&&(a.pageToken=i),r&&(a.maxResults=r);const p=yl(e.bucketOnlyServerUrl(),n.host,n._protocol),w=n.maxOperationRetryTime,S=new Ma(p,"GET",function Ra(n,e){return function t(i,r){const a=function Xv(n,e,t){const i=nm(t);return null===i?null:function qt(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[Yv])for(const r of t[Yv]){const a=r.replace(/\/$/,""),d=n._makeStorageReference(new ji(e,a));i.prefixes.push(d)}if(t.items)for(const r of t.items){const a=n._makeStorageReference(new ji(e,r.name));i.items.push(a)}return i}(n,e,i)}(n,e,r);return ka(null!==a),a}}(n,e.bucket),w);return S.urlParams=a,S.errorHandler=_h(e),S}function Hf(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function jS(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class yh{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function zf(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){ka(!1)}return ka(!!t&&-1!==(e||["active"]).indexOf(t)),t}const ZE={STATE_CHANGED:"state_changed"},xs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function rm(n){switch(n){case"running":case"pausing":case"canceling":return xs.RUNNING;case"paused":return xs.PAUSED;case"success":return xs.SUCCESS;case"canceled":return xs.CANCELED;default:return xs.ERROR}}class $S{constructor(e,t,i){if(function Ty(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=i?i:void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function Ah(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class rx extends class ix{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Qc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Qc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw qu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const a in r)r.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,r[a].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw qu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw qu("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw qu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw qu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Oa(){return new rx}class JE{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Gf(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,a)=>{this._resolve=r,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function By(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),d=Hf(e,i,r),p={name:d.fullPath},_=yl(a,n.host,n._protocol),S={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},O=Fy(d,t),q=new Ma(_,"POST",function H(ce){let De;zf(ce);try{De=ce.getResponseHeader("X-Goog-Upload-URL")}catch(Ge){ka(!1)}return ka(Zg(De)),De},n.maxUploadRetryTime);return q.urlParams=p,q.headers=S,q.body=O,q.errorHandler=_h(e),q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Oa,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function zS(n,e,t,i){const _=new Ma(t,"POST",function a(w){const S=zf(w,["active","final"]);let O=null;try{O=w.getResponseHeader("X-Goog-Upload-Size-Received")}catch(H){ka(!1)}O||ka(!1);const V=Number(O);return ka(!isNaN(V)),new yh(V,i.size(),"final"===S)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=_h(e),_}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(r,Oa,t,i);this._request=a,a.getPromise().then(d=>{d=d,this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new yh(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,a)=>{let d;try{d=function KE(n,e,t,i,r,a,d,p){const _=new yh(0,0);if(d?(_.current=d.current,_.total=d.total):(_.current=0,_.total=i.size()),i.size()!==_.total)throw function Lf(){return new M("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const w=_.total-_.current;let S=w;r>0&&(S=Math.min(S,r));const O=_.current,q={"X-Goog-Upload-Command":S===w?"upload, finalize":"upload","X-Goog-Upload-Offset":`${_.current}`},ce=i.slice(O,O+S);if(null===ce)throw $u();const at=new Ma(t,"POST",function De(Ye,It){const Ot=zf(Ye,["active","final"]),on=_.current+S,er=i.size();let Wa;return Wa="final"===Ot?Qu(e,a)(Ye,It):null,new yh(on,er,"final"===Ot,Wa)},e.maxUploadRetryTime);return at.headers=q,at.body=ce.uploadData(),at.progressCallback=p||null,at.errorHandler=_h(n),at}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const p=this._ref.storage._makeRequest(d,Oa,r,a);this._request=p,p.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=Al(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Oa,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function jf(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},_=function p(){let at="";for(let Ye=0;Ye<2;Ye++)at+=Math.random().toString().slice(2);return at}();d["Content-Type"]="multipart/related; boundary="+_;const w=Hf(e,i,r),S=Fy(w,t),H=nc.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+S+"\r\n--"+_+"\r\nContent-Type: "+w.contentType+"\r\n\r\n",i,"\r\n--"+_+"--");if(null===H)throw $u();const q={name:w.fullPath},ce=yl(a,n.host,n._protocol),Ge=n.maxUploadRetryTime,rt=new Ma(ce,"POST",Qu(n,t),Ge);return rt.urlParams=q,rt.headers=d,rt.body=H.uploadData(),rt.errorHandler=_h(e),rt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Oa,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Jr(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=rm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const a=new $S(t||void 0,i||void 0,r||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(rm(this._state)){case xs.SUCCESS:Ah(this._resolve.bind(null,this.snapshot))();break;case xs.CANCELED:case xs.ERROR:Ah(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(rm(this._state)){case xs.RUNNING:case xs.PAUSED:e.next&&Ah(e.next.bind(e,this.snapshot))();break;case xs.SUCCESS:e.complete&&Ah(e.complete.bind(e))();break;default:e.error&&Ah(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class vh{constructor(e,t){this._service=e,this._location=t instanceof ji?t:ji.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new vh(e,t)}get root(){const e=new ji(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Wv(this._location.path)}get storage(){return this._service}get parent(){const e=function $E(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ji(this._location.bucket,e);return new vh(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw mh(e)}}function sm(n,e,t){return Uy.apply(this,arguments)}function Uy(){return(Uy=(0,Ie.Z)(function*(n,e,t){const r=yield Gy(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield sm(n,e,r.nextPageToken))})).apply(this,arguments)}function Gy(n,e){null!=e&&"number"==typeof e.maxResults&&tc("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=Py(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Oa)}function jy(n){n._throwIfRoot("getDownloadURL");const e=function Ly(n,e,t){const r=yl(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,p=new Ma(r,"GET",function ex(n,e){return function t(i,r){const a=Kv(n,r,e);return ka(null!==a),function Zv(n,e,t,i){const r=nm(e);if(null===r||!Zg(r.downloadTokens))return null;const a=r.downloadTokens;if(0===a.length)return null;const d=encodeURIComponent;return a.split(",").map(w=>{const O=n.fullPath;return yl("/b/"+d(n.bucket)+"/o/"+d(O),t,i)+My({alt:"media",token:w})})[0]}(a,r,n.host,n._protocol)}}(n,t),d);return p.errorHandler=Ku(e),p}(n.storage,n._location,Gf());return n.storage.makeRequestWithTokens(e,Oa).then(t=>{if(null===t)throw function Bf(){return new M("no-download-url","The given file does not have any download URLs.")}();return t})}function ic(n,e){const t=function qv(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new ji(n._location.bucket,t);return new vh(n.storage,i)}function om(n,e){if(n instanceof $y){const t=n;if(null==t._bucket)throw function _l(){return new M("no-default-bucket","No default bucket found. Did you set the '"+f+"' property when initializing the app?")}();const i=new vh(t,t._bucket);return null!=e?om(i,e):i}return void 0!==e?ic(n,e):n}function nC(n,e){if(e&&function ox(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof $y)return function tC(n,e){return new vh(n,e)}(n,e);throw Sa("To use ref(service, url), the first argument must be a Storage instance.")}return om(n,e)}function zy(n,e){const t=null==e?void 0:e[f];return null==t?null:ji.makeFromBucketSpec(t,n)}class $y{constructor(e,t,i,r,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=a,this._bucket=null,this._host=y,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ji.makeFromBucketSpec(r,this._host):zy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ji.makeFromBucketSpec(this._url,e):zy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tc("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tc("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ie.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ie.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vh(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new Iy(Vf());{const a=function Bv(n,e,t,i,r,a){const d=My(n.urlParams),p=n.url+d,_=Object.assign({},n.headers);return function Lv(n,e){e&&(n["X-Firebase-GMPID"]=e)}(_,e),function Pv(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(_,t),function Nv(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(_,a),function ky(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(_,i),new Jg(p,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var i=this;return(0,Ie.Z)(function*(){const[r,a]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,a).getPromise()})()}}const xh="@firebase/storage";function ux(n,e){return nC(n=(0,Tt.m9)(n),e)}function fx(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new $y(t,i,r,e,Eo.SDK_VERSION)}!function oC(){(0,Eo._registerComponent)(new Or.wA("storage",fx,"PUBLIC").setMultipleInstances(!0)),(0,Eo.registerVersion)(xh,"0.9.9",""),(0,Eo.registerVersion)(xh,"0.9.9","esm2017")}();class um{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ws{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new um(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new um(i,this,this._ref))},t)}on(e,t,i,r){let a;return t&&(a="function"==typeof t?d=>t(new um(d,this,this._ref)):{next:t.next?d=>t.next(new um(d,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,i||void 0,r||void 0)}}class px{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new rc(e,this._service))}get items(){return this._delegate.items.map(e=>new rc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class rc{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function dx(n,e){return ic(n,e)}(this._delegate,e);return new rc(t,this.storage)}get root(){return new rc(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new rc(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Ws(function rC(n,e,t){return function YS(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new JE(n,new nc(e),t)}(n=(0,Tt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=qs.RAW,i){this._throwIfRoot("putString");const r=Wu(t,e),a=Object.assign({},i);return null==a.contentType&&null!=r.contentType&&(a.contentType=r.contentType),new Ws(new JE(this._delegate,new nc(r.data,!0),a),this)}listAll(){return function Wy(n){return function Kc(n){const e={prefixes:[],items:[]};return sm(n,e).then(()=>e)}(n=(0,Tt.m9)(n))}(this._delegate).then(e=>new px(e,this.storage))}list(e){return function qy(n,e){return Gy(n=(0,Tt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new px(t,this.storage))}getMetadata(){return function ax(n){return function Hy(n){n._throwIfRoot("getMetadata");const e=Al(n.storage,n._location,Gf());return n.storage.makeRequestWithTokens(e,Oa)}(n=(0,Tt.m9)(n))}(this._delegate)}updateMetadata(e){return function lx(n,e){return function sx(n,e){n._throwIfRoot("updateMetadata");const t=function HS(n,e,t,i){const a=yl(e.fullServerUrl(),n.host,n._protocol),p=Fy(t,i),w=n.maxOperationRetryTime,S=new Ma(a,"PATCH",Qu(n,i),w);return S.headers={"Content-Type":"application/json; charset=utf-8"},S.body=p,S.errorHandler=Ku(e),S}(n.storage,n._location,e,Gf());return n.storage.makeRequestWithTokens(t,Oa)}(n=(0,Tt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function cx(n){return jy(n=(0,Tt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function cm(n){return function eC(n){n._throwIfRoot("deleteObject");const e=function tx(n,e){const i=yl(e.fullServerUrl(),n.host,n._protocol),p=new Ma(i,"DELETE",function d(_,w){},n.maxOperationRetryTime);return p.successCodes=[200,204],p.errorHandler=Ku(e),p}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Oa)}(n=(0,Tt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw mh(e)}}class aC{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(lC(e))throw Sa("ref() expected a child path but got a URL, use refFromURL instead.");return new rc(ux(this._delegate,e),this)}refFromURL(e){if(!lC(e))throw Sa("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ji.makeFromUrl(e,this._delegate.host)}catch(t){throw Sa("refFromUrl() expected a valid full URL but got an invalid one.")}return new rc(ux(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function hx(n,e,t,i={}){!function iC(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,Tt.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function lC(n){return/^[A-Za-z]+:\/\//.test(n)}function Qy(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new aC(t,i)}!function mx(n){const e={TaskState:xs,TaskEvent:ZE,StringFormat:qs,Storage:aC,Reference:rc};n.INTERNAL.registerComponent(new Or.wA("storage-compat",Qy,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(ju.Z),L(5867);var Zc=L(1877);const xx=new Map,Ky={activated:!1,tokenObservers:[]},pC={initialized:!1,enabled:!1};function hr(n){return xx.get(n)||Ky}function Qs(n,e){xx.set(n,e)}function bh(){return pC}class Xy{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ie.Z)(function*(){t.stop();try{t.pending=new Tt.BH,yield function l1(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Tt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Xr=new Tt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function eA(n){if(!hr(n).activated)throw Xr.create("use-before-activation",{appName:n.name})}function Fa(n,e){return wh.apply(this,arguments)}function wh(){return(wh=(0,Ie.Z)(function*({url:n,body:e},t){var i,r;const a={"Content-Type":"application/json"},d=t.getImmediate({optional:!0});if(d){const H=yield d.getHeartbeatsHeader();H&&(a["X-Firebase-Client"]=H)}const p={method:"POST",body:JSON.stringify(e),headers:a};let _,w;try{_=yield fetch(n,p)}catch(H){throw Xr.create("fetch-network-error",{originalErrorMessage:null===(i=H)||void 0===i?void 0:i.message})}if(200!==_.status)throw Xr.create("fetch-status-error",{httpStatus:_.status});try{w=yield _.json()}catch(H){throw Xr.create("fetch-parse-error",{originalErrorMessage:null===(r=H)||void 0===r?void 0:r.message})}const S=w.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw Xr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const O=1e3*Number(S[1]),V=Date.now();return{token:w.token,expireTimeMillis:V+O,issuedAtTimeMillis:V}})).apply(this,arguments)}function c1(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Yu="firebase-app-check-store";let pm=null;function gm(){return pm||(pm=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var a;e(Xr.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Yu,{keyPath:"compositeKey"})}}catch(i){e(Xr.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),pm)}function nA(){return(nA=(0,Ie.Z)(function*(n,e){const i=(yield gm()).transaction(Yu,"readwrite"),a=i.objectStore(Yu).put({compositeKey:n,value:e});return new Promise((d,p)=>{a.onsuccess=_=>{d()},i.onerror=_=>{var w;p(Xr.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const Ch=new Zc.Yd("@firebase/app-check");function Xu(n,e){return(0,Tt.hl)()?function Ix(n,e){return function mm(n,e){return nA.apply(this,arguments)}(function Ju(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ch.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Sx(){return bh().enabled}function Mx(){return Co.apply(this,arguments)}function Co(){return(Co=(0,Ie.Z)(function*(){const n=bh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const kx={error:"UNKNOWN_ERROR"};function Rx(n){return Tt.US.encodeString(JSON.stringify(n),!1)}function Kf(n){return ym.apply(this,arguments)}function ym(){return(ym=(0,Ie.Z)(function*(n,e=!1){const t=n.app;eA(t);const i=hr(t);let a,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&cA(_)&&(r=_)}if(!e&&r&&cA(r))return{token:r.token};let p,d=!1;if(Sx()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Fa(c1(t,yield Mx()),n.heartbeatServiceProvider).then(w=>(i.exchangeTokenPromise=void 0,w)),d=!0);const _=yield i.exchangeTokenPromise;return yield Xu(t,_),Qs(t,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),d=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Ch.warn(_.message):Ch.error(_),a=_}return r?(p={token:r.token},Qs(t,Object.assign(Object.assign({},i),{token:r})),yield Xu(t,r)):p=Fx(a),d&&lA(t,p),p})).apply(this,arguments)}function aA(n,e){const t=hr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Qs(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function Ox(n){const{app:e}=n,t=hr(e);let i=t.tokenRefresher;i||(i=function bC(n){const{app:e}=n;return new Xy((0,Ie.Z)(function*(){let i;if(i=hr(e).token?yield Kf(n,!0):yield Kf(n),i.error)throw i.error}),()=>!0,()=>{const t=hr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Qs(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function lA(n,e){const t=hr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function cA(n){return n.expireTimeMillis-Date.now()>0}function Fx(n){return{token:Rx(kx),error:n}}class wC{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=hr(this.app);for(const t of e)aA(this.app,t.next);return Promise.resolve()}}const ed="app-check-internal";!function kC(){(0,Eo._registerComponent)(new Or.wA("app-check",n=>function EC(n,e){return new wC(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ed).initialize()})),(0,Eo._registerComponent)(new Or.wA(ed,n=>function u1(n){return{getToken:e=>Kf(n,e),addTokenListener:e=>function oA(n,e,t,i){const{app:r}=n,a=hr(r),d={next:t,error:i,type:e};if(Qs(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,d]})),a.token&&cA(a.token)){const p=a.token;Promise.resolve().then(()=>{t({token:p.token}),Ox(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Ox(n))}(n,"INTERNAL",e),removeTokenListener:e=>aA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Eo.registerVersion)("@firebase/app-check","0.5.12")}();class Zf{constructor(){return(0,Nn.vb)("app-check")}}"undefined"!=typeof window&&window;var Yc=L(127);function pA(n){const e=function Sh(n){return new Wn.y(e=>{const t=d=>e.next(d);t(n.snapshot);const a=n.on("state_changed",t);return n.then(d=>{t(d),e.complete()},d=>{t(n.snapshot),(d=>{e.error(d)})(d)}),function(){a()}}).pipe(Nf(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Ne.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function ip(n){return{getDownloadURL:()=>Pn(void 0).pipe(Nn.fc,Ae(()=>n.getDownloadURL()),Nn.iC),getMetadata:()=>Pn(void 0).pipe(Nn.fc,Ae(()=>n.getMetadata()),Nn.iC),delete:()=>(0,di.D)(n.delete()),child:e=>ip(n.child(e)),updateMetadata:e=>(0,di.D)(n.updateMetadata(e)),put:(e,t)=>pA(n.put(e,t)),putString:(e,t,i)=>pA(n.putString(e,t,i)),list:e=>(0,di.D)(n.list(e)),listAll:()=>(0,di.D)(n.listAll())}}const Hx=new c.OlP("angularfire2.storageBucket"),jx=new c.OlP("angularfire2.storage.maxUploadRetryTime"),zx=new c.OlP("angularfire2.storage.maxOperationRetryTime"),$x=new c.OlP("angularfire2.storage.use-emulator");let gA=(()=>{class n{constructor(t,i,r,a,d,p,_,w,S,O){const V=(0,ri.on)(t,d,i);this.storage=(0,ri.cc)(`${V.name}.storage.${r}`,"AngularFireStorage",V.name,()=>{const H=d.runOutsideAngular(()=>V.storage(r||void 0)),q=S;return q&&H.useEmulator(...q),_&&H.setMaxUploadRetryTime(_),w&&H.setMaxOperationRetryTime(w),H},[_,w])}ref(t){return ip(this.storage.ref(t))}refFromURL(t){return ip(this.storage.refFromURL(t))}upload(t,i,r){return ip(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ri.Dh),c.LFG(ri.xv,8),c.LFG(Hx,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Nn.HU),c.LFG(jx,8),c.LFG(zx,8),c.LFG($x,8),c.LFG(Zf,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),OC=(()=>{class n{constructor(){Yc.Z.registerVersion("angularfire",Nn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[gA],imports:[qx]}),n})();var Wx=L(8189);function Cm(...n){return function FC(){return(0,Wx.J)(1)}()((0,di.D)(n,(0,ur.yG)(n)))}function Mh(...n){const e=(0,ur.yG)(n);return(0,R.e)((t,i)=>{(e?Cm(n,t,e):Cm(n,t)).subscribe(i)})}function mA(){return(0,R.e)((n,e)=>{let t,i=!1;n.subscribe((0,G.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function PC(n,e,t,i,r){return(a,d)=>{let p=t,_=e,w=0;a.subscribe((0,G.x)(d,S=>{const O=w++;_=p?n(_,S,O):(p=!0,S),i&&d.next(_)},r&&(()=>{p&&d.next(_),d.complete()})))}}function rp(n,e){return(0,R.e)(PC(n,e,arguments.length>=2,!0))}var sp=L(4671);function NC(n,e){return n===e}function Pa(n,e){return(0,R.e)((t,i)=>{let r=0;t.subscribe((0,G.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}L(1451);var ct,LC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Na={},yA=yA||{},Wt=LC||self;function AA(){}function Qx(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function op(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Zx="closure_uid_"+(1e9*Math.random()>>>0),BC=0;function kh(n,e,t){return n.call.apply(n.bind,arguments)}function VC(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function fr(n,e,t){return(fr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?kh:VC).apply(null,arguments)}function Im(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function pr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var d=Array(arguments.length-2),p=2;p<arguments.length;p++)d[p-2]=arguments[p];return e.prototype[r].apply(i,d)}}function La(){this.s=this.s,this.o=this.o}var Yx={};La.prototype.s=!1,La.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Kx(n){return Object.prototype.hasOwnProperty.call(n,Zx)&&n[Zx]||(n[Zx]=++BC)}(this);delete Yx[n]}},La.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Jx=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Xx=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<i;a++)a in r&&e.call(t,r[a],a,n)};function eb(n){return Array.prototype.concat.apply([],arguments)}function vA(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function ap(n){return/^[\s\xa0]*$/.test(n)}var Fr,tb=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ts(n,e){return-1!=n.indexOf(e)}function Dm(n,e){return n<e?-1:n>e?1:0}e:{var HC=Wt.navigator;if(HC){var Tm=HC.userAgent;if(Tm){Fr=Tm;break e}}Fr=""}function xA(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function jC(n){const e={};for(const t in n)e[t]=n[t];return e}var Rh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nb(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<Rh.length;a++)t=Rh[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function lp(n){return lp[" "](n),n}lp[" "]=AA;var td,n,zC=ts(Fr,"Opera"),oc=ts(Fr,"Trident")||ts(Fr,"MSIE"),cp=ts(Fr,"Edge"),up=cp||oc,$C=ts(Fr,"Gecko")&&!(ts(Fr.toLowerCase(),"webkit")&&!ts(Fr,"Edge"))&&!(ts(Fr,"Trident")||ts(Fr,"MSIE"))&&!ts(Fr,"Edge"),qC=ts(Fr.toLowerCase(),"webkit")&&!ts(Fr,"Edge");function dp(){var n=Wt.document;return n?n.documentMode:void 0}e:{var hp="",Sm=(n=Fr,$C?/rv:([^\);]+)(\)|;)/.exec(n):cp?/Edge\/([\d\.]+)/.exec(n):oc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):qC?/WebKit\/(\S+)/.exec(n):zC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Sm&&(hp=Sm?Sm[1]:""),oc){var fp=dp();if(null!=fp&&fp>parseFloat(hp)){td=String(fp);break e}}td=hp}var ib={};var WC=Wt.document&&oc&&(dp()||parseInt(td,10))||void 0,sb=function(){if(!Wt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Wt.addEventListener("test",AA,e),Wt.removeEventListener("test",AA,e)}catch(t){}return n}();function Pr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function nd(n,e){if(Pr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if($C){e:{try{lp(e.nodeName);var r=!0;break e}catch(a){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ob[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&nd.Z.h.call(this)}}Pr.prototype.h=function(){this.defaultPrevented=!0},pr(nd,Pr);var ob={2:"touch",3:"pen",4:"mouse"};nd.prototype.h=function(){nd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var gp="closure_listenable_"+(1e6*Math.random()|0),ab=0;function lb(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++ab,this.ca=this.fa=!1}function mp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Oh(n){this.src=n,this.g={},this.h=0}function Mm(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=Jx(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(mp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function km(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==i)return r}return-1}Oh.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var d=km(n,e,i,r);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new lb(e,this.src,a,!!i,r)).fa=t,n.push(e)),e};var Rm="closure_lm_"+(1e6*Math.random()|0),Om={};function EA(n,e,t,i,r){if(i&&i.once)return IA(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)EA(n,e[a],t,i,r);return null}return t=Fm(t),n&&n[gp]?n.N(e,t,op(i)?!!i.capture:!!i,r):CA(n,e,t,!1,i,r)}function CA(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var d=op(r)?!!r.capture:!!r,p=TA(n);if(p||(n[Rm]=p=new Oh(n)),(t=p.add(e,t,i,d,a)).proxy)return t;if(i=function cb(){var e=db;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)sb||(r=d),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(ub(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function IA(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)IA(n,e[a],t,i,r);return null}return t=Fm(t),n&&n[gp]?n.O(e,t,op(i)?!!i.capture:!!i,r):CA(n,e,t,!0,i,r)}function QC(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)QC(n,e[a],t,i,r);else i=op(i)?!!i.capture:!!i,t=Fm(t),n&&n[gp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=km(a=n.g[e],t,i,r))&&(mp(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=TA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=km(e,t,i,r)),(t=-1<n?e[n]:null)&&DA(t))}function DA(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[gp])Mm(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(ub(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=TA(e))?(Mm(t,n),0==t.h&&(t.src=null,e[Rm]=null)):mp(n)}}}function ub(n){return n in Om?Om[n]:Om[n]="on"+n}function db(n,e){if(n.ca)n=!0;else{e=new nd(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&DA(n),n=t.call(i,e)}return n}function TA(n){return(n=n[Rm])instanceof Oh?n:null}var Ri="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fm(n){return"function"==typeof n?n:(n[Ri]||(n[Ri]=function(e){return n.handleEvent(e)}),n[Ri])}function gr(){La.call(this),this.i=new Oh(this),this.P=this,this.I=null}function Nr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Pr(e,n);else if(e instanceof Pr)e.target=e.target||n;else{var r=e;nb(e=new Pr(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var d=e.g=t[a];r=_p(d,i,!0,e)&&r}if(r=_p(d=e.g=n,i,!0,e)&&r,r=_p(d,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=_p(d=e.g=t[a],i,!1,e)&&r}function _p(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var d=e[a];if(d&&!d.ca&&d.capture==t){var p=d.listener,_=d.ia||d.src;d.fa&&Mm(n.i,d),r=!1!==p.call(_,i)&&r}}return r&&!i.defaultPrevented}pr(gr,La),gr.prototype[gp]=!0,gr.prototype.removeEventListener=function(n,e,t,i){QC(this,n,e,t,i)},gr.prototype.M=function(){if(gr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)mp(t[i]);delete n.g[e],n.h--}}this.I=null},gr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},gr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var SA=Wt.JSON.stringify;function hb(){var n=Nm;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var MA,id=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new KC,n=>n.reset());class KC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ZC(n){Wt.setTimeout(()=>{throw n},0)}function Pm(n,e){MA||function pb(){var n=Wt.Promise.resolve(void 0);MA=function(){n.then(kA)}}(),gb||(MA(),gb=!0),Nm.add(n,e)}var gb=!1,Nm=new class fb{constructor(){this.h=this.g=null}add(e,t){const i=id.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function kA(){for(var n;n=hb();){try{n.h.call(n.g)}catch(t){ZC(t)}var e=id;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}gb=!1}function Zs(n,e){gr.call(this),this.h=n||1,this.g=e||Wt,this.j=fr(this.kb,this),this.l=Date.now()}function RA(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function OA(n,e,t){if("function"==typeof n)t&&(n=fr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=fr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Wt.setTimeout(n,e||0)}function Ba(n){n.g=OA(()=>{n.g=null,n.i&&(n.i=!1,Ba(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}pr(Zs,gr),(ct=Zs.prototype).da=!1,ct.S=null,ct.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Nr(this,"tick"),this.da&&(RA(this),this.start()))}},ct.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.M=function(){Zs.Z.M.call(this),RA(this),delete this.g};class Va extends La{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ba(this)}M(){super.M(),this.g&&(Wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(n){La.call(this),this.h=n,this.g={}}pr(bs,La);var FA=[];function PA(n,e,t,i){Array.isArray(t)||(t&&(FA[0]=t.toString()),t=FA);for(var r=0;r<t.length;r++){var a=EA(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function mb(n){xA(n.g,function(e,t){this.g.hasOwnProperty(t)&&DA(e)},n),n.g={}}function Lm(){this.g=!0}function Jc(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function XC(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var d=1;d<r.length;d++)r[d]=""}}}return SA(t)}catch(p){return e}}(n,t)+(i?" "+i:"")})}bs.prototype.M=function(){bs.Z.M.call(this),mb(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lm.prototype.Aa=function(){this.g=!1},Lm.prototype.info=function(){};var Xc={},_b=null;function Ap(){return _b=_b||new gr}function NA(n){Pr.call(this,Xc.Ma,n)}function eu(n){const e=Ap();Nr(e,new NA(e,n))}function yb(n,e){Pr.call(this,Xc.STAT_EVENT,n),this.stat=e}function ns(n){const e=Ap();Nr(e,new yb(e,n))}function LA(n,e){Pr.call(this,Xc.Na,n),this.size=e}function rd(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Wt.setTimeout(function(){n()},e)}Xc.Ma="serverreachability",pr(NA,Pr),Xc.STAT_EVENT="statevent",pr(yb,Pr),Xc.Na="timingevent",pr(LA,Pr);var sd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Bm={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Vm(){}function VA(){}Vm.prototype.h=null;var Hm,Fh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Um(){Pr.call(this,"d")}function Gm(){Pr.call(this,"c")}function jm(){}function vp(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new bs(this),this.P=eI,this.W=new Zs(n=up?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ab}function Ab(){this.i=null,this.g="",this.h=!1}pr(Um,Pr),pr(Gm,Pr),pr(jm,Vm),jm.prototype.g=function(){return new XMLHttpRequest},jm.prototype.i=function(){return{}},Hm=new jm;var eI=45e3,UA={},zm={};function GA(n,e,t){n.K=1,n.v=Qm(vl(e)),n.s=t,n.U=!0,vb(n,null)}function vb(n,e){n.F=Date.now(),xp(n),n.A=vl(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),Tp(t.h,"t",i),n.C=0,t=n.l.H,n.h=new Ab,n.g=i_(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Va(fr(n.Ia,n,n.g),n.O)),PA(n.V,n.g,"readystatechange",n.gb),e=n.H?jC(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),eu(1),function YC(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var d="",p=a.split("&"),_=0;_<p.length;_++){var w=p[_].split("=");if(1<w.length){var S=w[0];w=w[1];var O=S.split("_");d=2<=O.length&&"type"==O[1]?d+(S+"=")+w+"&":d+(S+"=redacted&")}}else d=null;else d=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function xb(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function bb(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=tI(n,t),r==zm){4==e&&(n.o=4,ns(14),i=!1),Jc(n.j,n.m,null,"[Incomplete Response]");break}if(r==UA){n.o=4,ns(15),Jc(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Jc(n.j,n.m,r,null),HA(n,r)}xb(n)&&r!=zm&&r!=UA&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ns(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),au(e),e.L=!0,ns(11))):(Jc(n.j,n.m,t,"[Invalid Chunked Response]"),od(n),bp(n))}function tI(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?zm:(t=Number(e.substring(t,i)),isNaN(t)?UA:(i+=1)+t>e.length?zm:(e=e.substr(i,t),n.C=i+t,e))}function xp(n){n.Y=Date.now()+n.P,wb(n,n.P)}function wb(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=rd(fr(n.eb,n),e)}function $m(n){n.B&&(Wt.clearTimeout(n.B),n.B=null)}function bp(n){0==n.l.G||n.I||Gb(n.l,n)}function od(n){$m(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,RA(n.W),mb(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function HA(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Zm(t.i,n)))if(t.I=n.N,!n.J&&Zm(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(w){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=rd(fr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Pp(t),Op(t)}XA(t),ns(18)}if(1>=qA(t.i)&&t.ka){try{t.ka()}catch(w){}t.ka=void 0}}else cd(t,11)}else if((n.J||t.g==n)&&Pp(t),!ap(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let w=r[e];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const S=w[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const O=w[4];null!=O&&(t.za=O,t.h.info("SVER="+t.za));const V=w[5];null!=V&&"number"==typeof V&&0<V&&(t.K=i=1.5*V,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const H=n.g;if(H){const q=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var a=i.i;!a.g&&(ts(q,"spdy")||ts(q,"quic")||ts(q,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(Ym(a,a.h),a.h=null))}if(i.D){const ce=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;ce&&(i.sa=ce,si(i.F,i.D,ce))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((i=t).oa=Hb(i,i.H?i.la:null,i.W),d.J){Sb(i.i,d);var p=d,_=i.K;_&&p.setTimeout(_),p.B&&($m(p),xp(p)),i.g=d}else Vb(i);0<t.l.length&&n_(t)}else"stop"!=w[0]&&"close"!=w[0]||cd(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?cd(t,7):ZA(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}eu(4)}catch(w){}}function qm(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Qx(n)||"string"==typeof n)Xx(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Qx(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function nI(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Qx(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}}function ad(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof ad)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function Wm(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];tu(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)tu(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function tu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ct=vp.prototype).setTimeout=function(n){this.P=n},ct.gb=function(n){n=n.target;const e=this.L;e&&3==su(n)?e.l():this.Ia(n)},ct.Ia=function(n){try{if(n==this.g)e:{const S=su(this.g);var e=this.g.Da();const O=this.g.ba();if(!(3>S)&&(3!=S||up||this.g&&(this.h.h||this.g.ga()||uI(this.g)))){this.I||4!=S||7==e||eu(8==e||0>=O?3:2),$m(this);var t=this.g.ba();this.N=t;t:if(xb(this)){var i=uI(this.g);n="";var r=i.length,a=4==su(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){od(this),bp(this);var d="";break t}this.h.i=new Wt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function JC(n,e,t,i,r,a,d){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+d})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,_=this.g;if((p=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ap(p)){var w=p;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,ns(12),od(this),bp(this);break e}Jc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,HA(this,t)}this.U?(bb(this,S,d),up&&this.i&&3==S&&(PA(this.V,this.W,"tick",this.fb),this.W.start())):(Jc(this.j,this.m,d,null),HA(this,d)),4==S&&od(this),this.i&&!this.I&&(4==S?Gb(this.l,this):(this.i=!1,xp(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,ns(12)):(this.o=0,ns(13)),od(this),bp(this)}}}catch(S){}},ct.fb=function(){if(this.g){var n=su(this.g),e=this.g.ga();this.C<e.length&&($m(this),bb(this,n,e),this.i&&4!=n&&xp(this))}},ct.cancel=function(){this.I=!0,od(this)},ct.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function yp(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(eu(3),ns(17)),od(this),this.o=2,bp(this)):wb(this,this.Y-n)},(ct=ad.prototype).R=function(){Wm(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ct.T=function(){return Wm(this),this.g.concat()},ct.get=function(n,e){return tu(this.h,n)?this.h[n]:e},ct.set=function(n,e){tu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ct.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],a=this.get(r);n.call(e,a,r,this)}};var jA=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function nu(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof nu){this.g=void 0!==e?e:n.g,wp(this,n.j),this.s=n.s,Ep(this,n.i),Cp(this,n.m),this.l=n.l,e=n.h;var t=new Ip;t.i=e.i,e.g&&(t.g=new ad(e.g),t.h=e.h),iu(this,t),this.o=n.o}else n&&(t=String(n).match(jA))?(this.g=!!e,wp(this,t[1]||"",!0),this.s=ld(t[2]||""),Ep(this,t[3]||"",!0),Cp(this,t[4]),this.l=ld(t[5]||"",!0),iu(this,t[6]||"",!0),this.o=ld(t[7]||"")):(this.g=!!e,this.h=new Ip(null,this.g))}function vl(n){return new nu(n)}function wp(n,e,t){n.j=t?ld(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ep(n,e,t){n.i=t?ld(e,!0):e}function Cp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function iu(n,e,t){e instanceof Ip?(n.h=e,function A1(n,e){e&&!n.j&&(Ua(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Ib(this,i),Tp(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Km(e,iI)),n.h=new Ip(e,n.g))}function si(n,e,t){n.h.set(e,t)}function Qm(n){return si(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ld(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Km(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Cb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Cb(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}nu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Km(e,zA,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Km(e,zA,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Km(t,"/"==t.charAt(0)?Pt:y1,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Km(t,rI)),n.join("")};var zA=/[#\/\?@]/g,y1=/[#\?:]/g,Pt=/[#\?]/g,iI=/[#\?@]/g,rI=/#/g;function Ip(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ua(n){n.g||(n.g=new ad,n.h=0,n.i&&function Eb(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ib(n,e){Ua(n),e=Ln(n,e),tu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,tu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Wm(n)))}function Dp(n,e){return Ua(n),e=Ln(n,e),tu(n.g.h,e)}function Tp(n,e,t){Ib(n,e),0<t.length&&(n.i=null,n.g.set(Ln(n,e),vA(t)),n.h+=t.length)}function Ln(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Tb(n){this.l=n||sI,n=Wt.PerformanceNavigationTiming?0<(n=Wt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Wt.g&&Wt.g.Ea&&Wt.g.Ea()&&Wt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ct=Ip.prototype).add=function(n,e){Ua(this),this.i=null,n=Ln(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ct.forEach=function(n,e){Ua(this),this.g.forEach(function(t,i){Xx(t,function(r){n.call(e,r,i,this)},this)},this)},ct.T=function(){Ua(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],a=0;a<r.length;a++)t.push(e[i]);return t},ct.R=function(n){Ua(this);var e=[];if("string"==typeof n)Dp(this,n)&&(e=eb(e,this.g.get(Ln(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=eb(e,n[t])}return e},ct.set=function(n,e){return Ua(this),this.i=null,Dp(this,n=Ln(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ct.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var d=r;""!==i[a]&&(d+="="+encodeURIComponent(String(i[a]))),n.push(d)}}return this.i=n.join("&")};var sI=10;function $A(n){return!!n.h||!!n.g&&n.g.size>=n.j}function qA(n){return n.h?1:n.g?n.g.size:0}function Zm(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Ym(n,e){n.g?n.g.add(e):n.h=e}function Sb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Mb(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return vA(n.i)}function WA(){}function Sp(){this.g=new WA}function oI(n,e,t){const i=t||"";try{qm(n,function(r,a){let d=r;op(r)&&(d=SA(r)),e.push(i+a+"="+encodeURIComponent(d))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Jm(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(a){}}function ru(n){this.l=n.$b||null,this.j=n.ib||!1}function Mp(n,e){gr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Xm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tb.prototype.cancel=function(){if(this.i=Mb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},WA.prototype.stringify=function(n){return Wt.JSON.stringify(n,void 0)},WA.prototype.parse=function(n){return Wt.JSON.parse(n,void 0)},pr(ru,Vm),ru.prototype.g=function(){return new Mp(this.l,this.j)},ru.prototype.i=function(n){return function(){return n}}({}),pr(Mp,gr);var Xm=0;function QA(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function kp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ac(n)}function ac(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ct=Mp.prototype).open=function(n,e){if(this.readyState!=Xm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ac(this)},ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Wt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,kp(this)),this.readyState=Xm},ct.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ac(this)),this.g&&(this.readyState=3,ac(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Wt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;QA(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ct.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?kp(this):ac(this),3==this.readyState&&QA(this)}},ct.Ua=function(n){this.g&&(this.response=this.responseText=n,kp(this))},ct.Ta=function(n){this.g&&(this.response=n,kp(this))},ct.ha=function(){this.g&&kp(this)},ct.setRequestHeader=function(n,e){this.v.append(n,e)},ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Mp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Rp=Wt.JSON.parse;function zi(n){gr.call(this),this.headers=new ad,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=kb,this.K=this.L=!1}pr(zi,gr);var kb="",lI=/^https?$/i,Rb=["POST","PUT"];function Fb(n){return"content-type"==n.toLowerCase()}function Pb(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,KA(n),e_(n)}function KA(n){n.D||(n.D=!0,Nr(n,"complete"),Nr(n,"error"))}function Nb(n){if(n.h&&void 0!==yA&&(!n.C[1]||4!=su(n)||2!=n.ba()))if(n.v&&4==su(n))OA(n.Fa,0,n);else if(Nr(n,"readystatechange"),4==su(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===p){var r=String(n.H).match(jA)[1]||null;if(!r&&Wt.self&&Wt.self.location){var a=Wt.self.location.protocol;r=a.substr(0,a.length-1)}i=!lI.test(r?r.toLowerCase():"")}t=i}if(t)Nr(n,"complete"),Nr(n,"success");else{n.m=6;try{var d=2<su(n)?n.g.statusText:""}catch(_){d=""}n.j=d+" ["+n.ba()+"]",KA(n)}}finally{e_(n)}}}function e_(n,e){if(n.g){cI(n);const t=n.g,i=n.C[0]?AA:null;n.g=null,n.C=null,e||Nr(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function cI(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Wt.clearTimeout(n.A),n.A=null)}function su(n){return n.g?n.g.readyState:0}function uI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case kb:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function t_(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function v1(n){let e="";return xA(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):si(n,e,t))}function ou(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Lb(n){this.za=0,this.l=[],this.h=new Lm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ou("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ou("baseRetryDelayMs",5e3,n),this.$a=ou("retryDelaySeedMs",1e4,n),this.Ya=ou("forwardChannelMaxRetries",2,n),this.ra=ou("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Tb(n&&n.concurrentRequestLimit),this.Ca=new Sp,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ZA(n){if(Nh(n),3==n.G){var e=n.V++,t=vl(n.F);si(t,"SID",n.J),si(t,"RID",e),si(t,"TYPE","terminate"),Fp(n,t),(e=new vp(n,n.h,e,void 0)).K=2,e.v=Qm(vl(t)),t=!1,Wt.navigator&&Wt.navigator.sendBeacon&&(t=Wt.navigator.sendBeacon(e.v.toString(),"")),!t&&Wt.Image&&((new Image).src=e.v,t=!0),t||(e.g=i_(e.l,null),e.g.ea(e.v)),e.F=Date.now(),xp(e)}t0(n)}function Op(n){n.g&&(au(n),n.g.cancel(),n.g=null)}function Nh(n){Op(n),n.u&&(Wt.clearTimeout(n.u),n.u=null),Pp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Wt.clearTimeout(n.m),n.m=null)}function YA(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&n_(n)}function n_(n){$A(n.i)||n.m||(n.m=!0,Pm(n.Ha,n),n.C=0)}function Bb(n,e){var t;t=e?e.m:n.V++;const i=vl(n.F);si(i,"SID",n.J),si(i,"RID",t),si(i,"AID",n.U),Fp(n,i),n.o&&n.s&&t_(i,n.o,n.s),t=new vp(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=JA(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Ym(n.i,t),GA(t,i,e)}function Fp(n,e){n.j&&qm({},function(t,i){si(e,i,t)})}function JA(n,e,t){t=Math.min(n.l.length,t);var i=n.j?fr(n.j.Oa,n.j,n):null;e:{var r=n.l;let a=-1;for(;;){const d=["count="+t];-1==a?0<t?(a=r[0].h,d.push("ofs="+a)):a=0:d.push("ofs="+a);let p=!0;for(let _=0;_<t;_++){let w=r[_].h;const S=r[_].g;if(w-=a,0>w)a=Math.max(0,r[_].h-100),p=!1;else try{oI(S,d,"req"+w+"_")}catch(O){i&&i(S)}}if(p){i=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function Vb(n){n.g||n.u||(n.Y=1,Pm(n.Ga,n),n.A=0)}function XA(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=rd(fr(n.Ga,n),e0(n,n.A)),n.A++,0))}function au(n){null!=n.B&&(Wt.clearTimeout(n.B),n.B=null)}function Ub(n){n.g=new vp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=vl(n.oa);si(e,"RID","rpc"),si(e,"SID",n.J),si(e,"CI",n.N?"0":"1"),si(e,"AID",n.U),Fp(n,e),si(e,"TYPE","xmlhttp"),n.o&&n.s&&t_(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Qm(vl(e)),t.s=null,t.U=!0,vb(t,n)}function Pp(n){null!=n.v&&(Wt.clearTimeout(n.v),n.v=null)}function Gb(n,e){var t=null;if(n.g==e){Pp(n),au(n),n.g=null;var i=2}else{if(!Zm(n.i,e))return;t=e.D,Sb(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Nr(i=Ap(),new LA(i,t,e,r)),n_(n)}else Vb(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function dI(n,e){return!(qA(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=rd(fr(n.Ha,n,e),e0(n,n.C)),n.C++,0)))}(n,e)||2==i&&XA(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:cd(n,5);break;case 4:cd(n,10);break;case 3:cd(n,6);break;default:cd(n,2)}}function e0(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function cd(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=fr(n.jb,n);t||(t=new nu("//www.google.com/images/cleardot.gif"),Wt.location&&"http"==Wt.location.protocol||wp(t,"https"),Qm(t)),function aI(n,e){const t=new Lm;if(Wt.Image){const i=new Image;i.onload=Im(Jm,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Im(Jm,t,i,"TestLoadImage: error",!1,e),i.onabort=Im(Jm,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Im(Jm,t,i,"TestLoadImage: timeout",!1,e),Wt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else ns(2);n.G=0,n.j&&n.j.va(e),t0(n),Nh(n)}function t0(n){n.G=0,n.I=-1,n.j&&((0!=Mb(n.i).length||0!=n.l.length)&&(n.i.i.length=0,vA(n.l),n.l.length=0),n.j.ua())}function Hb(n,e,t){let i=function Ph(n){return n instanceof nu?vl(n):new nu(n,void 0)}(t);if(""!=i.i)e&&Ep(i,e+"."+i.i),Cp(i,i.m);else{const r=Wt.location;i=function _1(n,e,t,i){var r=new nu(null,void 0);return n&&wp(r,n),e&&Ep(r,e),t&&Cp(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&xA(n.aa,function(r,a){si(i,a,r)}),t=n.sa,(e=n.D)&&t&&si(i,e,t),si(i,"VER",n.ma),Fp(n,i),i}function i_(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zi(t&&n.Ba&&!n.qa?new ru({ib:!0}):n.qa)).L=n.H,e}function jb(){}function Np(){if(oc&&!(10<=Number(WC)))throw Error("Environmental error: no available transport.")}function Ys(n,e){gr.call(this),this.g=new Lb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!ap(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ap(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Lh(this)}function zb(n){Um.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function $b(){Gm.call(this),this.status=1}function Lh(n){this.g=n}(ct=zi.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hm.g(),this.C=function BA(n){return n.h||(n.h=n.i())}(this.u?this.u:Hm),this.g.onreadystatechange=fr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void Pb(this,a)}n=t||"";const r=new ad(this.headers);i&&qm(i,function(a,d){r.set(d,a)}),i=function GC(n){e:{var e=Fb;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=Wt.FormData&&n instanceof Wt.FormData,!(0<=Jx(Rb,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(a,d){this.g.setRequestHeader(d,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{cI(this),0<this.B&&((this.K=function Ob(n){return oc&&function rb(){return function bA(n){var e=ib;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=tb(String(td)).split("."),t=tb("9").split("."),i=Math.max(e.length,t.length);for(let d=0;0==n&&d<i;d++){var r=e[d]||"",a=t[d]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=Dm(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||Dm(0==r[2].length,0==a[2].length)||Dm(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fr(this.pa,this)):this.A=OA(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){Pb(this,a)}},ct.pa=function(){void 0!==yA&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nr(this,"timeout"),this.abort(8))},ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Nr(this,"complete"),Nr(this,"abort"),e_(this))},ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),e_(this,!0)),zi.Z.M.call(this)},ct.Fa=function(){this.s||(this.F||this.v||this.l?Nb(this):this.cb())},ct.cb=function(){Nb(this)},ct.ba=function(){try{return 2<su(this)?this.g.status:-1}catch(n){return-1}},ct.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ct.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Rp(e)}},ct.Da=function(){return this.m},ct.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=Lb.prototype).ma=8,ct.G=1,ct.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ct.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new vp(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=jC(a),nb(a,this.P)):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=JA(this,r,e),si(t=vl(this.F),"RID",n),si(t,"CVER",22),this.D&&si(t,"X-HTTP-Session-Id",this.D),Fp(this,t),this.o&&a&&t_(t,this.o,a),Ym(this.i,r),this.Ra&&si(t,"TYPE","init"),this.ja?(si(t,"$req",e),si(t,"SID","null"),r.$=!0,GA(r,t,null)):GA(r,t,e),this.G=2}}else 3==this.G&&(n?Bb(this,n):0==this.l.length||$A(this.i)||Bb(this))},ct.Ga=function(){if(this.u=null,Ub(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=rd(fr(this.bb,this),n)}},ct.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ns(10),Op(this),Ub(this))},ct.ab=function(){null!=this.v&&(this.v=null,Op(this),XA(this),ns(19))},ct.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ns(2)):(this.h.info("Failed to ping google.com"),ns(1))},(ct=jb.prototype).xa=function(){},ct.wa=function(){},ct.va=function(){},ct.ua=function(){},ct.Oa=function(){},Np.prototype.g=function(n,e){return new Ys(n,e)},pr(Ys,gr),Ys.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Pm(fr(n.hb,n,e))),ns(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Hb(n,null,n.W),n_(n)},Ys.prototype.close=function(){ZA(this.g)},Ys.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,YA(this.g,e)}else this.v?((e={}).__data__=SA(n),YA(this.g,e)):YA(this.g,n)},Ys.prototype.M=function(){this.g.j=null,delete this.j,ZA(this.g),delete this.g,Ys.Z.M.call(this)},pr(zb,Um),pr($b,Gm),pr(Lh,jb),Lh.prototype.xa=function(){Nr(this.g,"a")},Lh.prototype.wa=function(n){Nr(this.g,new zb(n))},Lh.prototype.va=function(n){Nr(this.g,new $b(n))},Lh.prototype.ua=function(){Nr(this.g,"b")},Np.prototype.createWebChannel=Np.prototype.g,Ys.prototype.send=Ys.prototype.u,Ys.prototype.open=Ys.prototype.m,Ys.prototype.close=Ys.prototype.close,sd.NO_ERROR=0,sd.TIMEOUT=8,sd.HTTP_ERROR=6,Bm.COMPLETE="complete",VA.EventType=Fh,Fh.OPEN="a",Fh.CLOSE="b",Fh.ERROR="c",Fh.MESSAGE="d",gr.prototype.listen=gr.prototype.N,zi.prototype.listenOnce=zi.prototype.O,zi.prototype.getLastError=zi.prototype.La,zi.prototype.getLastErrorCode=zi.prototype.Da,zi.prototype.getStatus=zi.prototype.ba,zi.prototype.getResponseJson=zi.prototype.Qa,zi.prototype.getResponseText=zi.prototype.ga,zi.prototype.send=zi.prototype.ea;var n0=Na.createWebChannelTransport=function(){return new Np},hI=Na.getStatEventTarget=function(){return Ap()},r_=Na.ErrorCode=sd,fI=Na.EventType=Bm,pI=Na.Event=Xc,qb=Na.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},gI=Na.FetchXmlHttpFactory=ru,s_=Na.WebChannel=VA,mI=Na.XhrIo=zi;const Wb="@firebase/firestore";class mr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");let ud="9.9.2";const lc=new Zc.Yd("@firebase/firestore");function r0(){return lc.logLevel}function ze(n,...e){if(lc.logLevel<=Zc.in.DEBUG){const t=e.map(s0);lc.debug(`Firestore (${ud}): ${n}`,...t)}}function Oi(n,...e){if(lc.logLevel<=Zc.in.ERROR){const t=e.map(s0);lc.error(`Firestore (${ud}): ${n}`,...t)}}function dd(n,...e){if(lc.logLevel<=Zc.in.WARN){const t=e.map(s0);lc.warn(`Firestore (${ud}): ${n}`,...t)}}function s0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ut(n="Unexpected state"){const e=`FIRESTORE (${ud}) INTERNAL ASSERTION FAILED: `+n;throw Oi(e),new Error(e)}function Lt(n,e){n||ut()}function it(n,e){return n}const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends Tt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Kb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mr.UNAUTHENTICATED))}shutdown(){}}class yI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Yb{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=w=>this.i!==r?(r=this.i,t(w)):Promise.resolve();let d=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new $i,e.enqueueRetryable(()=>a(this.currentUser))};const p=()=>{const w=d;e.enqueueRetryable((0,Ie.Z)(function*(){yield w.promise,yield a(i.currentUser)}))},_=w=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new $i)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Lt("string"==typeof i.accessToken),new Kb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Lt(null===e||"string"==typeof e),new mr(e)}}class AI{constructor(e,t,i){this.type="FirstParty",this.user=mr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class Jb{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new AI(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xI{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=a=>{null!=a.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const d=a.token!==this.p;return this.p=a.token,ze("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?r(a):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Lt("string"==typeof t.token),this.p=t.token,new vI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function bI(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class hd{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=bI(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Bt(n,e){return n<e?-1:n>e?1:0}function Bh(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function wI(n){return n+"\0"}class Zn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new He(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new He(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new He(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new He(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Zn.fromMillis(Date.now())}static fromDate(e){return Zn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Zn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Vt(e)}static min(){return new Vt(new Zn(0,0))}static max(){return new Vt(new Zn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Lp{constructor(e,t,i){void 0===t?t=0:t>e.length&&ut(),void 0===i?i=e.length-t:i>e.length-t&&ut(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Lp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lp?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),d=t.get(r);if(a<d)return-1;if(a>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dn extends Lp{construct(e,t,i){return new dn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new He(we.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new dn(t)}static emptyPath(){return new dn([])}}const EI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fi extends Lp{construct(e,t,i){return new fi(e,t,i)}static isValidIdentifier(e){return EI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new He(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let d=!1;for(;r<e.length;){const p=e[r];if("\\"===p){if(r+1===e.length)throw new He(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new He(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===p?(d=!d,r++):"."!==p||d?(i+=p,r++):(a(),r++)}if(a(),d)throw new He(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fi(t)}static emptyPath(){return new fi([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(dn.fromString(e))}static fromName(e){return new et(dn.fromString(e).popFirst(5))}static empty(){return new et(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new dn(e.slice()))}}class Vh{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Uh(n){return n.fields.find(e=>2===e.kind)}function Ga(n){return n.fields.filter(e=>2!==e.kind)}Vh.UNKNOWN_ID=-1;class Bp{constructor(e,t){this.fieldPath=e,this.kind=t}}class Vp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Vp(0,Io.min())}}function ew(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Vt.fromTimestamp(1e9===i?new Zn(t+1,0):new Zn(t,i));return new Io(r,et.empty(),e)}function o_(n){return new Io(n.readTime,n.key,-1)}class Io{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Io(Vt.min(),et.empty(),-1)}static max(){return new Io(Vt.max(),et.empty(),-1)}}function tw(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=et.comparator(n.documentKey,e.documentKey),0!==t?t:Bt(n.largestBatchId,e.largestBatchId))}const nw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Do(n){return a0.apply(this,arguments)}function a0(){return a0=(0,Ie.Z)(function*(n){if(n.code!==we.FAILED_PRECONDITION||n.message!==nw)throw n;ze("LocalStore","Unexpectedly lost primary lease")}),a0.apply(this,arguments)}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,i)=>{t(e)})}static reject(e){return new he((t,i)=>{i(e)})}static waitFor(e){return new he((t,i)=>{let r=0,a=0,d=!1;e.forEach(p=>{++r,p.next(()=>{++a,d&&a===r&&t()},_=>i(_))}),d=!0,a===r&&t()})}static or(e){let t=he.resolve(!1);for(const i of e)t=t.next(r=>r?he.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new he((i,r)=>{const a=e.length,d=new Array(a);let p=0;for(let _=0;_<a;_++){const w=_;t(e[w]).next(S=>{d[w]=S,++p,p===a&&i(d)},S=>r(S))}})}static doWhile(e,t){return new he((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class l0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new $i,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new a_(e,t.error)):this.T.resolve()},this.transaction.onerror=i=>{const r=c_(i.target.error);this.T.reject(new a_(e,r))}}static open(e,t,i,r){try{return new l0(t,e.transaction(r,i))}catch(a){throw new a_(t,a)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new x1(t)}}class Xo{constructor(e,t,i){this.name=e,this.version=t,this.P=i,12.2===Xo.v((0,Tt.z$)())&&Oi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ze("SimpleDb","Removing database:",e),lu(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Tt.hl)())return!1;if(Xo.S())return!0;const e=(0,Tt.z$)(),t=Xo.v(e),i=0<t&&t<10,r=Xo.D(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(e){var t=this;return(0,Ie.Z)(function*(){return t.db||(ze("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=d=>{i(d.target.result)},a.onblocked=()=>{r(new a_(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=d=>{const p=d.target.error;r("VersionError"===p.name?new He(we.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new He(we.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new a_(e,p))},a.onupgradeneeded=d=>{ze("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.P.M(d.target.result,a.transaction,d.oldVersion,t.version).next(()=>{ze("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.O&&(t.db.onversionchange=i=>t.O(i)),t.db})()}F(e){this.O=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,Ie.Z)(function*(){const d="readonly"===t;let p=0;for(;;){++p;try{a.db=yield a.k(e);const _=l0.open(a.db,e,d?"readonly":"readwrite",i),w=r(_).next(S=>(_.R(),S)).catch(S=>(_.abort(S),he.reject(S))).toPromise();return w.catch(()=>{}),yield _.A,w}catch(_){const w=_,S="FirebaseError"!==w.name&&p<3;if(ze("SimpleDb","Transaction failed with error:",w.message,"Retrying:",S),a.close(),!S)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class II{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return lu(this.$.delete())}}class a_ extends He{constructor(e,t){super(we.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function cc(n){return"IndexedDbTransactionError"===n.name}class x1{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(ze("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),lu(i)}add(e){return ze("SimpleDb","ADD",this.store.name,e,e),lu(this.store.add(e))}get(e){return lu(this.store.get(e)).next(t=>(void 0===t&&(t=null),ze("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ze("SimpleDb","DELETE",this.store.name,e),lu(this.store.delete(e))}count(){return ze("SimpleDb","COUNT",this.store.name),lu(this.store.count())}K(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.G(r,(d,p)=>{a.push(p)}).next(()=>a)}{const r=this.store.getAll(i.range);return new he((a,d)=>{r.onerror=p=>{d(p.target.error)},r.onsuccess=p=>{a(p.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new he((r,a)=>{i.onerror=d=>{a(d.target.error)},i.onsuccess=d=>{r(d.target.result)}})}W(e,t){ze("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.H=!1;const r=this.cursor(i);return this.G(r,(a,d,p)=>p.delete())}J(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Y(e){const t=this.cursor({});return new he((i,r)=>{t.onerror=a=>{const d=c_(a.target.error);r(d)},t.onsuccess=a=>{const d=a.target.result;d?e(d.primaryKey,d.value).next(p=>{p?d.continue():i()}):i()}})}G(e,t){const i=[];return new he((r,a)=>{e.onerror=d=>{a(d.target.error)},e.onsuccess=d=>{const p=d.target.result;if(!p)return void r();const _=new II(p),w=t(p.primaryKey,p.value,_);if(w instanceof he){const S=w.catch(O=>(_.done(),he.reject(O)));i.push(S)}_.isDone?r():null===_.U?p.continue():p.continue(_.U)}}).next(()=>he.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function lu(n){return new he((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=c_(i.target.error);t(r)}})}let l_=!1;function c_(n){const e=Xo.v((0,Tt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new He("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return l_||(l_=!0,setTimeout(()=>{throw i},0)),i}}return n}class rw{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;ze("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ie.Z)(function*(){t.task=null;try{ze("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(i){cc(i)?ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Do(i)}yield t.Z(1)}))}}class sw{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,Ie.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.et(i,e))})()}et(e,t){const i=new Set;let r=t,a=!0;return he.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!i.has(d))return ze("IndexBackiller",`Processing collection: ${d}`),this.nt(e,d,r).next(p=>{r-=p,i.add(d)});a=!1})).next(()=>t-r)}nt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const d=a.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.st(r,a)).next(p=>(ze("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>d.size)}))}st(e,t){let i=e;return t.changes.forEach((r,a)=>{const d=o_(a);tw(d,i)>0&&(i=d)}),new Io(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ws{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.it(i),this.rt=i=>t.writeSequenceNumber(i))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function c0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ow(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}ws.ot=-1;class xi{constructor(e,t){this.comparator=e,this.root=t||Lr.EMPTY}insert(e,t){return new xi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lr.BLACK,null,null))}remove(e){return new xi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new u_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new u_(this.root,e,this.comparator,!1)}getReverseIterator(){return new u_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new u_(this.root,e,this.comparator,!0)}}class u_{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lr{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=null!=i?i:Lr.RED,this.left=null!=r?r:Lr.EMPTY,this.right=null!=a?a:Lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Lr(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Lr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)}}Lr.EMPTY=null,Lr.RED=!0,Lr.BLACK=!1,Lr.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Lr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xn{constructor(e){this.comparator=e,this.data=new xi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new u0(this.data.getIterator())}getIteratorFrom(e){return new u0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xn(this.comparator);return t.data=e,t}}class u0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function pd(n){return n.hasNext()?n.getNext():void 0}class Js{constructor(e){this.fields=e,e.sort(fi.comparator)}static empty(){return new Js([])}unionWith(e){let t=new xn(fi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Js(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class qi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new qi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new qi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qi.EMPTY_BYTE_STRING=new qi("");const lw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cu(n){if(Lt(!!n),"string"==typeof n){let e=0;const t=lw.exec(n);if(Lt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:pi(n.seconds),nanos:pi(n.nanos)}}function pi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function gd(n){return"string"==typeof n?qi.fromBase64String(n):qi.fromUint8Array(n)}function d0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function cw(n){const e=n.mapValue.fields.__previous_value__;return d0(e)?cw(e):e}function Up(n){const e=cu(n.mapValue.fields.__local_write_time__.timestampValue);return new Zn(e.seconds,e.nanos)}class Gp{constructor(e,t,i,r,a,d,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.useFetchStreams=_}}class uc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new uc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof uc&&e.projectId===this.projectId&&e.database===this.database}}function md(n){return null==n}function Xs(n){return 0===n&&1/n==-1/0}function uw(n){return"number"==typeof n&&Number.isInteger(n)&&!Xs(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const xl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},uu={nullValue:"NULL_VALUE"};function _d(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?d0(n)?4:p_(n)?9007199254740991:10:ut()}function bl(n,e){if(n===e)return!0;const t=_d(n);if(t!==_d(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Up(n).isEqual(Up(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=cu(i.timestampValue),d=cu(r.timestampValue);return a.seconds===d.seconds&&a.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,gd(n.bytesValue).isEqual(gd(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return pi(i.geoPointValue.latitude)===pi(r.geoPointValue.latitude)&&pi(i.geoPointValue.longitude)===pi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return pi(i.integerValue)===pi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=pi(i.doubleValue),d=pi(r.doubleValue);return a===d?Xs(a)===Xs(d):isNaN(a)&&isNaN(d)}return!1}(n,e);case 9:return Bh(n.arrayValue.values||[],e.arrayValue.values||[],bl);case 10:return function(i,r){const a=i.mapValue.fields||{},d=r.mapValue.fields||{};if(c0(a)!==c0(d))return!1;for(const p in a)if(a.hasOwnProperty(p)&&(void 0===d[p]||!bl(a[p],d[p])))return!1;return!0}(n,e);default:return ut()}var r}function Hp(n,e){return void 0!==(n.values||[]).find(t=>bl(t,e))}function Ha(n,e){if(n===e)return 0;const t=_d(n),i=_d(e);if(t!==i)return Bt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const d=pi(r.integerValue||r.doubleValue),p=pi(a.integerValue||a.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return jp(n.timestampValue,e.timestampValue);case 4:return jp(Up(n),Up(e));case 5:return Bt(n.stringValue,e.stringValue);case 6:return function(r,a){const d=gd(r),p=gd(a);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const d=r.split("/"),p=a.split("/");for(let _=0;_<d.length&&_<p.length;_++){const w=Bt(d[_],p[_]);if(0!==w)return w}return Bt(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const d=Bt(pi(r.latitude),pi(a.latitude));return 0!==d?d:Bt(pi(r.longitude),pi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const d=r.values||[],p=a.values||[];for(let _=0;_<d.length&&_<p.length;++_){const w=Ha(d[_],p[_]);if(w)return w}return Bt(d.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===xl.mapValue&&a===xl.mapValue)return 0;if(r===xl.mapValue)return 1;if(a===xl.mapValue)return-1;const d=r.fields||{},p=Object.keys(d),_=a.fields||{},w=Object.keys(_);p.sort(),w.sort();for(let S=0;S<p.length&&S<w.length;++S){const O=Bt(p[S],w[S]);if(0!==O)return O;const V=Ha(d[p[S]],_[w[S]]);if(0!==V)return V}return Bt(p.length,w.length)}(n.mapValue,e.mapValue);default:throw ut()}}function jp(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Bt(n,e);const t=cu(n),i=cu(e),r=Bt(t.seconds,i.seconds);return 0!==r?r:Bt(t.nanos,i.nanos)}function Gh(n){return h0(n)}function h0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=cu(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?gd(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const d of i.values||[])a?a=!1:r+=",",r+=h0(d);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",d=!0;for(const p of r)d?d=!1:a+=",",a+=`${p}:${h0(i.fields[p])}`;return a+"}"}(n.mapValue):ut();var e}function du(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function d_(n){return!!n&&"integerValue"in n}function yd(n){return!!n&&"arrayValue"in n}function f0(n){return!!n&&"nullValue"in n}function dw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function h_(n){return!!n&&"mapValue"in n}function f_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return fd(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=f_(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=f_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function p_(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function p0(n){return"nullValue"in n?uu:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?du(uc.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ut()}function hw(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?du(uc.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?xl:ut()}function g_(n,e){const t=Ha(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function m_(n,e){const t=Ha(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Br{constructor(e){this.value=e}static empty(){return new Br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!h_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=f_(t)}setAll(e){let t=fi.emptyPath(),i={},r=[];e.forEach((d,p)=>{if(!t.isImmediateParentOf(p)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=p.popLast()}d?i[p.lastSegment()]=f_(d):r.push(p.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());h_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];h_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){fd(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Br(f_(this.value))}}function fw(n){const e=[];return fd(n.fields,(t,i)=>{const r=new fi([t]);if(h_(i)){const a=fw(i.mapValue).fields;if(0===a.length)e.push(r);else for(const d of a)e.push(r.child(d))}else e.push(r)}),new Js(e)}class zn{constructor(e,t,i,r,a,d){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=a,this.documentState=d}static newInvalidDocument(e){return new zn(e,0,Vt.min(),Vt.min(),Br.empty(),0)}static newFoundDocument(e,t,i){return new zn(e,1,t,Vt.min(),i,0)}static newNoDocument(e,t){return new zn(e,2,t,Vt.min(),Br.empty(),0)}static newUnknownDocument(e,t){return new zn(e,3,t,Vt.min(),Br.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class DI{constructor(e,t=null,i=[],r=[],a=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=d,this.endAt=p,this.ut=null}}function g0(n,e=null,t=[],i=[],r=null,a=null,d=null){return new DI(n,e,t,i,r,a,d)}function dc(n){const e=it(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Gh(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),md(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Gh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Gh(i)).join(",")),e.ut=t}return e.ut}function Hh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!_0(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!bl(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!y0(n.startAt,e.startAt)&&y0(n.endAt,e.endAt)}function __(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function zp(n,e){return n.filters.filter(t=>t instanceof _r&&t.field.isEqual(e))}function gw(n,e,t){let i=uu,r=!0;for(const a of zp(n,e)){let d=uu,p=!0;switch(a.op){case"<":case"<=":d=p0(a.value);break;case"==":case"in":case">=":d=a.value;break;case">":d=a.value,p=!1;break;case"!=":case"not-in":d=uu}g_({value:i,inclusive:r},{value:d,inclusive:p})<0&&(i=d,r=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];g_({value:i,inclusive:r},{value:d,inclusive:t.inclusive})<0&&(i=d,r=t.inclusive);break}return{value:i,inclusive:r}}function m0(n,e,t){let i=xl,r=!0;for(const a of zp(n,e)){let d=xl,p=!0;switch(a.op){case">=":case">":d=hw(a.value),p=!1;break;case"==":case"in":case"<=":d=a.value;break;case"<":d=a.value,p=!1;break;case"!=":case"not-in":d=xl}m_({value:i,inclusive:r},{value:d,inclusive:p})>0&&(i=d,r=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];m_({value:i,inclusive:r},{value:d,inclusive:t.inclusive})>0&&(i=d,r=t.inclusive);break}return{value:i,inclusive:r}}class _r extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,i):new TI(e,t,i):"array-contains"===t?new jh(e,i):"in"===t?new SI(e,i):"not-in"===t?new MI(e,i):"array-contains-any"===t?new b1(e,i):new _r(e,t,i)}static ct(e,t,i){return"in"===t?new mw(e,i):new _w(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Ha(t,this.value)):null!==t&&_d(this.value)===_d(t)&&this.at(Ha(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ut()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class TI extends _r{constructor(e,t,i){super(e,t,i),this.key=et.fromName(i.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.at(t)}}class mw extends _r{constructor(e,t){super(e,"in",t),this.keys=is(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _w extends _r{constructor(e,t){super(e,"not-in",t),this.keys=is(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function is(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>et.fromName(i.referenceValue))}class jh extends _r{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yd(t)&&Hp(t.arrayValue,this.value)}}class SI extends _r{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Hp(this.value.arrayValue,t)}}class MI extends _r{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Hp(this.value.arrayValue,t)}}class b1 extends _r{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Hp(this.value.arrayValue,i))}}class ea{constructor(e,t){this.position=e,this.inclusive=t}}class zh{constructor(e,t="asc"){this.field=e,this.dir=t}}function _0(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function yw(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],d=n.position[r];if(i=a.field.isKeyField()?et.comparator(et.fromName(d.referenceValue),t.key):Ha(d,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function y0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!bl(n.position[t],e.position[t]))return!1;return!0}class hc{constructor(e,t=null,i=[],r=[],a=null,d="F",p=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=d,this.startAt=p,this.endAt=_,this.lt=null,this.ft=null}}function Aw(n,e,t,i,r,a,d,p){return new hc(n,e,t,i,r,a,d,p)}function hu(n){return new hc(n)}function A0(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function y_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function $h(n){for(const e of n.filters)if(e.ht())return e.field;return null}function $p(n){return null!==n.collectionGroup}function qp(n){const e=it(n);if(null===e.lt){e.lt=[];const t=$h(e),i=y_(e);if(null!==t&&null===i)t.isKeyField()||e.lt.push(new zh(t)),e.lt.push(new zh(fi.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.lt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new zh(fi.keyField(),a))}}}return e.lt}function Es(n){const e=it(n);if(!e.ft)if("F"===e.limitType)e.ft=g0(e.path,e.collectionGroup,qp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of qp(e))t.push(new zh(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new ea(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ea(e.startAt.position,e.startAt.inclusive):null;e.ft=g0(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.ft}function A_(n,e,t){return new hc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qh(n,e){return Hh(Es(n),Es(e))&&n.limitType===e.limitType}function Wp(n){return`${dc(Es(n))}|lt:${n.limitType}`}function v_(n){return`Query(target=${function pw(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Gh(i.value)}`;var i}).join(", ")}]`),md(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Gh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Gh(t)).join(",")),`Target(${e})`}(Es(n))}; limitType=${n.limitType})`}function v0(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):et.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,d){const p=yw(r,a,d);return r.inclusive?p<=0:p<0}(t.startAt,qp(t),i)||t.endAt&&!function(r,a,d){const p=yw(r,a,d);return r.inclusive?p>=0:p>0}(t.endAt,qp(t),i)));var t,i}function x_(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function b_(n){return(e,t)=>{let i=!1;for(const r of qp(n)){const a=w1(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function w1(n,e,t){const i=n.field.isKeyField()?et.comparator(e.key,t.key):function(r,a,d){const p=a.data.field(r),_=d.data.field(r);return null!==p&&null!==_?Ha(p,_):ut()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ut()}}function vw(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xs(e)?"-0":e}}function xw(n){return{integerValue:""+n}}function x0(n,e){return uw(e)?xw(e):vw(n,e)}class Qp{constructor(){this._=void 0}}function kI(n,e,t){return n instanceof Wh?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof Ad?w0(n,e):n instanceof vd?E0(n,e):function(i,r){const a=b0(i,r),d=C0(a)+C0(i._t);return d_(a)&&d_(i._t)?xw(d):vw(i.wt,d)}(n,e)}function bw(n,e,t){return n instanceof Ad?w0(n,e):n instanceof vd?E0(n,e):t}function b0(n,e){return n instanceof xd?d_(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Wh extends Qp{}class Ad extends Qp{constructor(e){super(),this.elements=e}}function w0(n,e){const t=I0(e);for(const i of n.elements)t.some(r=>bl(r,i))||t.push(i);return{arrayValue:{values:t}}}class vd extends Qp{constructor(e){super(),this.elements=e}}function E0(n,e){let t=I0(e);for(const i of n.elements)t=t.filter(r=>!bl(r,i));return{arrayValue:{values:t}}}class xd extends Qp{constructor(e,t){super(),this.wt=e,this._t=t}}function C0(n){return pi(n.integerValue||n.doubleValue)}function I0(n){return yd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Kp{constructor(e,t){this.field=e,this.transform=t}}class E1{constructor(e,t){this.version=e,this.transformResults=t}}class oi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function D0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class T0{}function OI(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new bd(n.key,oi.none()):new Zp(n.key,n.data,oi.none());{const t=n.data,i=Br.empty();let r=new xn(fi.comparator);for(let a of e.fields)if(!r.has(a)){let d=t.field(a);null===d&&a.length>1&&(a=a.popLast(),d=t.field(a)),null===d?i.delete(a):i.set(a,d),r=r.add(a)}return new ta(n.key,i,new Js(r.toArray()),oi.none())}}function C1(n,e,t){n instanceof Zp?function(i,r,a){const d=i.value.clone(),p=S0(i.fieldTransforms,r,a.transformResults);d.setAll(p),r.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(n,e,t):n instanceof ta?function(i,r,a){if(!D0(i.precondition,r))return void r.convertToUnknownDocument(a.version);const d=S0(i.fieldTransforms,r,a.transformResults),p=r.data;p.setAll(PI(i)),p.setAll(d),r.convertToFoundDocument(a.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function w_(n,e,t,i){return n instanceof Zp?function(r,a,d,p){if(!D0(r.precondition,a))return d;const _=r.value.clone(),w=E_(r.fieldTransforms,p,a);return _.setAll(w),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof ta?function(r,a,d,p){if(!D0(r.precondition,a))return d;const _=E_(r.fieldTransforms,p,a),w=a.data;return w.setAll(PI(r)),w.setAll(_),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===d?null:d.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(S=>S.field))}(n,e,t,i):(d=t,D0(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):d);var a,d}function I1(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=b0(i.transform,r||null);null!=a&&(null===t&&(t=Br.empty()),t.set(i.field,a))}return t||null}function FI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Bh(t,i,(r,a)=>function RI(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Ad&&i instanceof Ad||t instanceof vd&&i instanceof vd?Bh(t.elements,i.elements,bl):t instanceof xd&&i instanceof xd?bl(t._t,i._t):t instanceof Wh&&i instanceof Wh);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Zp extends T0{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ta extends T0{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function PI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function S0(n,e,t){const i=new Map;Lt(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],d=a.transform,p=e.data.field(a.field);i.set(a.field,bw(d,p,t[r]))}return i}function E_(n,e,t){const i=new Map;for(const r of n){const a=r.transform,d=t.data.field(r.field);i.set(r.field,kI(a,d,e))}return i}class bd extends T0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C_ extends T0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class D1{constructor(e){this.count=e}}var bi,ln;function M0(n){switch(n){default:return ut();case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0}}function k0(n){if(void 0===n)return Oi("GRPC error has no .code"),we.UNKNOWN;switch(n){case bi.OK:return we.OK;case bi.CANCELLED:return we.CANCELLED;case bi.UNKNOWN:return we.UNKNOWN;case bi.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case bi.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case bi.INTERNAL:return we.INTERNAL;case bi.UNAVAILABLE:return we.UNAVAILABLE;case bi.UNAUTHENTICATED:return we.UNAUTHENTICATED;case bi.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case bi.NOT_FOUND:return we.NOT_FOUND;case bi.ALREADY_EXISTS:return we.ALREADY_EXISTS;case bi.PERMISSION_DENIED:return we.PERMISSION_DENIED;case bi.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case bi.ABORTED:return we.ABORTED;case bi.OUT_OF_RANGE:return we.OUT_OF_RANGE;case bi.UNIMPLEMENTED:return we.UNIMPLEMENTED;case bi.DATA_LOSS:return we.DATA_LOSS;default:return ut()}}(ln=bi||(bi={}))[ln.OK=0]="OK",ln[ln.CANCELLED=1]="CANCELLED",ln[ln.UNKNOWN=2]="UNKNOWN",ln[ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ln[ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ln[ln.NOT_FOUND=5]="NOT_FOUND",ln[ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",ln[ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",ln[ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",ln[ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ln[ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ln[ln.ABORTED=10]="ABORTED",ln[ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",ln[ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",ln[ln.INTERNAL=13]="INTERNAL",ln[ln.UNAVAILABLE=14]="UNAVAILABLE",ln[ln.DATA_LOSS=15]="DATA_LOSS";class wd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){fd(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return ow(this.inner)}size(){return this.innerSize}}const NI=new xi(et.comparator);function eo(){return NI}const I_=new xi(et.comparator);function Yp(...n){let e=I_;for(const t of n)e=e.insert(t.key,t);return e}function LI(n){let e=I_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function fc(){return Jp()}function BI(){return Jp()}function Jp(){return new wd(n=>n.toString(),(n,e)=>n.isEqual(e))}const T1=new xi(et.comparator),VI=new xn(et.comparator);function Yt(...n){let e=VI;for(const t of n)e=e.add(t);return e}const UI=new xn(Bt);function Qh(){return UI}class Xp{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,Cs.createSynthesizedTargetChangeForCurrentChange(e,t)),new Xp(Vt.min(),i,Qh(),eo(),Yt())}}class Cs{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Cs(qi.EMPTY_BYTE_STRING,t,Yt(),Yt(),Yt())}}class D_{constructor(e,t,i,r){this.gt=e,this.removedTargetIds=t,this.key=i,this.yt=r}}class T_{constructor(e,t){this.targetId=e,this.It=t}}class ww{constructor(e,t,i=qi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Ew{constructor(){this.Tt=0,this.Et=F0(),this.At=qi.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Yt(),t=Yt(),i=Yt();return this.Et.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ut()}}),new Cs(this.At,this.Rt,e,t,i)}Dt(){this.bt=!1,this.Et=F0()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class R0{constructor(e){this.Ot=e,this.Ft=new Map,this.$t=eo(),this.Bt=O0(),this.Lt=new xn(Bt)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const i=this.Qt(t);switch(e.state){case 0:this.jt(t)&&i.Vt(e.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(e.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(i.Mt(),i.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),i.Vt(e.resumeToken));break;default:ut()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((i,r)=>{this.jt(r)&&t(r)})}zt(e){const t=e.targetId,i=e.It.count,r=this.Ht(t);if(r){const a=r.target;if(__(a))if(0===i){const d=new et(a.path);this.Kt(t,d,zn.newNoDocument(d,Vt.min()))}else Lt(1===i);else this.Jt(t)!==i&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((a,d)=>{const p=this.Ht(d);if(p){if(a.current&&__(p.target)){const _=new et(p.target.path);null!==this.$t.get(_)||this.Xt(d,_)||this.Kt(d,_,zn.newNoDocument(_,e))}a.vt&&(t.set(d,a.St()),a.Dt())}});let i=Yt();this.Bt.forEach((a,d)=>{let p=!0;d.forEachWhile(_=>{const w=this.Ht(_);return!w||2===w.purpose||(p=!1,!1)}),p&&(i=i.add(a))}),this.$t.forEach((a,d)=>d.setReadTime(e));const r=new Xp(e,t,this.Lt,this.$t,i);return this.$t=eo(),this.Bt=O0(),this.Lt=new xn(Bt),r}qt(e,t){if(!this.jt(e))return;const i=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,i),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,i){if(!this.jt(e))return;const r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),i&&(this.$t=this.$t.insert(t,i))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new Ew,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new xn(Bt),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||ze("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}Wt(e){this.Ft.set(e,new Ew),this.Ot.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}function O0(){return new xi(et.comparator)}function F0(){return new xi(et.comparator)}const GI={asc:"ASCENDING",desc:"DESCENDING"},Cw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Iw{constructor(e,t){this.databaseId=e,this.dt=t}}function eg(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dw(n,e){return n.dt?e.toBase64():e.toUint8Array()}function P0(n,e){return eg(n,e.toTimestamp())}function On(n){return Lt(!!n),Vt.fromTimestamp(function(e){const t=cu(e);return new Zn(t.seconds,t.nanos)}(n))}function N0(n,e){return(t=n,new dn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function HI(n){const e=dn.fromString(n);return Lt(Pw(e)),e}function tg(n,e){return N0(n.databaseId,e.path)}function ja(n,e){const t=HI(e);if(t.get(1)!==n.databaseId.projectId)throw new He(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new He(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(Mw(t))}function Tw(n,e){return N0(n.databaseId,e)}function Sw(n){const e=HI(n);return 4===e.length?dn.emptyPath():Mw(e)}function Kh(n){return new dn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Mw(n){return Lt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function jI(n,e,t){return{name:tg(n,e),fields:t.value.mapValue.fields}}function L0(n,e,t){const i=ja(n,e.name),r=On(e.updateTime),a=new Br({mapValue:{fields:e.fields}}),d=zn.newFoundDocument(i,r,a);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function ng(n,e){let t;if(e instanceof Zp)t={update:jI(n,e.key,e.value)};else if(e instanceof bd)t={delete:tg(n,e.key)};else if(e instanceof ta)t={update:jI(n,e.key,e.data),updateMask:QI(e.fieldMask)};else{if(!(e instanceof C_))return ut();t={verify:tg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const d=a.transform;if(d instanceof Wh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ad)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof vd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof xd)return{fieldPath:a.field.canonicalString(),increment:d._t};throw ut()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:P0(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ut()),t;var r}function S_(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?oi.updateTime(On(r.updateTime)):void 0!==r.exists?oi.exists(r.exists):oi.none():oi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,d){let p=null;"setToServerValue"in d?(Lt("REQUEST_TIME"===d.setToServerValue),p=new Wh):"appendMissingElements"in d?p=new Ad(d.appendMissingElements.values||[]):"removeAllFromArray"in d?p=new vd(d.removeAllFromArray.values||[]):"increment"in d?p=new xd(a,d.increment):ut();const _=fi.fromServerFormat(d.fieldPath);return new Kp(_,p)}(n,r)):[];var r;if(e.update){const r=ja(n,e.update.name),a=new Br({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new Js((e.updateMask.fieldPaths||[]).map(w=>fi.fromServerFormat(w)));return new ta(r,a,d,t,i)}return new Zp(r,a,t,i)}if(e.delete){const r=ja(n,e.delete);return new bd(r,t)}if(e.verify){const r=ja(n,e.verify);return new C_(r,t)}return ut()}function M_(n,e){return{documents:[Tw(n,e.path)]}}function V0(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Tw(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Tw(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const w=_.map(S=>function(O){if("=="===O.op){if(dw(O.value))return{unaryFilter:{field:ig(O.field),op:"IS_NAN"}};if(f0(O.value))return{unaryFilter:{field:ig(O.field),op:"IS_NULL"}}}else if("!="===O.op){if(dw(O.value))return{unaryFilter:{field:ig(O.field),op:"IS_NOT_NAN"}};if(f0(O.value))return{unaryFilter:{field:ig(O.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ig(O.field),op:qI(O.op),value:O.value}}}(S));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:ig((S=w).field),direction:$I(S.dir)};var S})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const d=(w=e.limit,n.dt||md(w)?w:{value:w});var w,p,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function Rw(n){let e=Sw(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Lt(1===i);const S=t.from[0];S.allDescendants?r=S.collectionId:e=e.child(S.collectionId)}let a=[];t.where&&(a=U0(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(S=>{return new zh(rg((O=S).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let p=null;t.limit&&(p=function(S){let O;return O="object"==typeof S?S.value:S,md(O)?null:O}(t.limit));let _=null;var S;t.startAt&&(_=new ea((S=t.startAt).values||[],!!S.before));let w=null;return t.endAt&&(w=function(S){return new ea(S.values||[],!S.before)}(t.endAt)),Aw(e,r,d,a,p,"F",_,w)}function U0(n){return n?void 0!==n.unaryFilter?[WI(n)]:void 0!==n.fieldFilter?[Fw(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>U0(e)).reduce((e,t)=>e.concat(t)):ut():[]}function $I(n){return GI[n]}function qI(n){return Cw[n]}function ig(n){return{fieldPath:n.canonicalString()}}function rg(n){return fi.fromServerFormat(n.fieldPath)}function Fw(n){return _r.create(rg(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(n.fieldFilter.op),n.fieldFilter.value)}function WI(n){switch(n.unaryFilter.op){case"IS_NAN":const e=rg(n.unaryFilter.field);return _r.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=rg(n.unaryFilter.field);return _r.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=rg(n.unaryFilter.field);return _r.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=rg(n.unaryFilter.field);return _r.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}function QI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Pw(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function to(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=KI(e)),e=S1(n.get(t),e);return KI(e)}function S1(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function KI(n){return n+"\x01\x01"}function pc(n){const e=n.length;if(Lt(e>=2),2===e)return Lt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),dn.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const d=n.indexOf("\x01",a);switch((d<0||d>t)&&ut(),n.charAt(d+1)){case"\x01":const p=n.substring(a,d);let _;0===r.length?_=p:(r+=p,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,d),r+="\0";break;case"\x11":r+=n.substring(a,d+1);break;default:ut()}a=d+2}return new dn(i)}const ZI=["userId","batchId"];function k_(n,e){return[n,to(e)]}function sg(n,e,t){return[n,to(e),t]}const YI={},JI=["prefixPath","collectionGroup","readTime","documentId"],Nw=["prefixPath","collectionGroup","documentId"],Ed=["collectionGroup","readTime","prefixPath","documentId"],Lw=["canonicalId","targetId"],G0=["targetId","path"],H0=["path","targetId"],XI=["collectionId","parent"],j0=["indexId","uid"],z0=["uid","sequenceNumber"],R_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],M1=["indexId","uid","orderedDocumentKey"],k1=["userId","collectionPath","documentId"],R1=["userId","collectionPath","largestBatchId"],O1=["userId","collectionGroup","largestBatchId"],$0=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],eD=[...$0,"documentOverlays"],Bw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Vw=Bw,tD=[...Vw,"indexConfiguration","indexState","indexEntries"];class O_ extends iw{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Xi(n,e){const t=it(n);return Xo.N(t.ee,e)}class F_{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&C1(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=w_(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=w_(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=BI();return this.mutations.forEach(r=>{const a=e.get(r.key),d=a.overlayedDocument;let p=this.applyToLocalView(d,a.mutatedFields);p=t.has(r.key)?null:p;const _=OI(d,p);null!==_&&i.set(r.key,_),d.isValidDocument()||d.convertToNoDocument(Vt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Yt())}isEqual(e){return this.batchId===e.batchId&&Bh(this.mutations,e.mutations,(t,i)=>FI(t,i))&&Bh(this.baseMutations,e.baseMutations,(t,i)=>FI(t,i))}}class q0{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Lt(e.mutations.length===i.length);let r=T1;const a=e.mutations;for(let d=0;d<a.length;d++)r=r.insert(a[d].key,i[d].version);return new q0(e,t,i,r)}}class W0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gc{constructor(e,t,i,r,a=Vt.min(),d=Vt.min(),p=qi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p}withSequenceNumber(e){return new gc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new gc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new gc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class P_{constructor(e){this.ne=e}}function Q0(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Zh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:tg(r=n.ne,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:eg(r,a.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Cd(e.version)};else{if(!e.isUnknownDocument())return ut();i.unknownDocument={path:t.path.toArray(),version:Cd(e.version)}}var r,a;return i}function Zh(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Cd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Id(n){const e=new Zn(n.seconds,n.nanoseconds);return Vt.fromTimestamp(e)}function Yh(n,e){const t=(e.baseMutations||[]).map(a=>S_(n.ne,a));for(let a=0;a<e.mutations.length-1;++a){const d=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(d.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>S_(n.ne,a)),r=Zn.fromMillis(e.localWriteTimeMs);return new F_(e.batchId,r,t,i)}function N_(n){const e=Id(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Id(n.lastLimboFreeSnapshotVersion):Vt.min();let i;var r;return void 0!==n.query.documents?(Lt(1===(r=n.query).documents.length),i=Es(hu(Sw(r.documents[0])))):i=Es(Rw(n.query)),new gc(i,n.targetId,0,n.lastListenSequenceNumber,e,t,qi.fromBase64String(n.resumeToken))}function nD(n,e){const t=Cd(e.snapshotVersion),i=Cd(e.lastLimboFreeSnapshotVersion);let r;r=__(e.target)?M_(n.ne,e.target):V0(n.ne,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:dc(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function K0(n){const e=Rw({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?A_(e,e.limit,"L"):e}function Z0(n,e){return new W0(e.largestBatchId,S_(n.ne,e.overlayMutation))}function iD(n,e){const t=e.path.lastSegment();return[n,to(e.path.popLast()),t]}function rD(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Cd(i.readTime),documentKey:to(i.documentKey.path),largestBatchId:i.largestBatchId}}class P1{getBundleMetadata(e,t){return sD(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Id(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return sD(e).put({bundleId:(i=t).id,createTime:Cd(On(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return oD(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:K0(r.bundledQuery),readTime:Id(r.readTime)};var r})}saveNamedQuery(e,t){return oD(e).put({name:(i=t).name,readTime:Cd(On(i.readTime)),bundledQuery:i.bundledQuery});var i}}function sD(n){return Xi(n,"bundles")}function oD(n){return Xi(n,"namedQueries")}class L_{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new L_(e,t.uid||"")}getOverlay(e,t){return B_(e).get(iD(this.userId,t)).next(i=>i?Z0(this.wt,i):null)}getOverlays(e,t){const i=fc();return he.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,d)=>{const p=new W0(t,d);r.push(this.ie(e,p))}),he.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(d=>r.add(to(d.getCollectionPath())));const a=[];return r.forEach(d=>{const p=IDBKeyRange.bound([this.userId,d,i],[this.userId,d,i+1],!1,!0);a.push(B_(e).W("collectionPathOverlayIndex",p))}),he.waitFor(a)}getOverlaysForCollection(e,t,i){const r=fc(),a=to(t),d=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return B_(e).K("collectionPathOverlayIndex",d).next(p=>{for(const _ of p){const w=Z0(this.wt,_);r.set(w.getKey(),w)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=fc();let d;const p=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return B_(e).J({index:"collectionGroupOverlayIndex",range:p},(_,w,S)=>{const O=Z0(this.wt,w);a.size()<r||O.largestBatchId===d?(a.set(O.getKey(),O),d=O.largestBatchId):S.done()}).next(()=>a)}ie(e,t){return B_(e).put(function(i,r,a){const[d,p,_]=iD(r,a.mutation.key);return{userId:r,collectionPath:p,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:ng(i.ne,a.mutation)}}(this.wt,this.userId,t))}}function B_(n){return Xi(n,"documentOverlays")}class Jh{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(pi(e.integerValue));else if("doubleValue"in e){const i=pi(e.doubleValue);isNaN(i)?this.ce(t,13):(this.ce(t,15),Xs(i)?t.ae(0):t.ae(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ce(t,20),"string"==typeof i?t.he(i):(t.he(`${i.seconds||""}`),t.ae(i.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(gd(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?p_(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):ut()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const i=e.fields||{};this.ce(t,55);for(const r of Object.keys(i))this.le(r,t),this.oe(i[r],t)}me(e,t){const i=e.values||[];this.ce(t,50);for(const r of i)this.oe(r,t)}_e(e,t){this.ce(t,37),et.fromName(e).path.forEach(i=>{this.ce(t,60),this.ge(i,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function N1(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function aD(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=N1(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}Jh.ye=new Jh;class s{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ie(i.value),i=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const r=t.codePointAt(0);this.Ie(240|r>>>18),this.Ie(128|63&r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r)}}this.Te()}Pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}ve(e){const t=this.Ve(e),i=aD(t);this.Se(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}De(e){const t=this.Ve(e),i=aD(t);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Me(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class o{constructor(e){this.Oe=e}de(e){this.Oe.pe(e)}he(e){this.Oe.be(e)}ae(e){this.Oe.ve(e)}ue(){this.Oe.Ce()}}class l{constructor(e){this.Oe=e}de(e){this.Oe.Ee(e)}he(e){this.Oe.Pe(e)}ae(e){this.Oe.De(e)}ue(){this.Oe.Ne()}}class u{constructor(){this.Oe=new s,this.Fe=new o(this.Oe),this.$e=new l(this.Oe)}seed(e){this.Oe.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class h{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new h(this.indexId,this.documentKey,this.arrayValue,i)}}function g(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=v(n.arrayValue,e.arrayValue),0!==t?t:(t=v(n.directionalValue,e.directionalValue),0!==t?t:et.comparator(n.documentKey,e.documentKey)))}function v(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class b{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const i=t;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(e){const t=Uh(e);if(void 0!==t&&!this.Qe(t))return!1;const i=Ga(e);let r=0,a=0;for(;r<i.length&&this.Qe(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ke){const d=i[r];if(!this.je(this.Ke,d)||!this.We(this.Ue[a++],d))return!1;++r}for(;r<i.length;++r){const d=i[r];if(a>=this.Ue.length||!this.We(this.Ue[a++],d))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class I{constructor(){this.ze=new k}addToCollectionParentIndex(e,t){return this.ze.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(Io.min())}updateCollectionGroup(e,t,i){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class k{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new xn(dn.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new xn(dn.comparator)).toArray()}}const F=new Uint8Array(0);class U{constructor(e,t){this.user=e,this.databaseId=t,this.He=new k,this.Je=new wd(i=>dc(i),(i,r)=>Hh(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const a={collectionId:i,parent:to(r)};return Y(e).put(a)}return he.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[wI(t),""],!1,!0);return Y(e).K(r).next(a=>{for(const d of a){if(d.collectionId!==t)break;i.push(pc(d.parent))}return i})}addFieldIndex(e,t){const i=Te(e),r={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var d;delete r.indexId;const a=i.add(r);if(t.indexState){const d=qe(e);return a.next(p=>{d.put(rD(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=Te(e),r=qe(e),a=le(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=le(e);let r=!0;const a=new Map;return he.forEach(this.Ye(t),d=>this.Xe(e,d).next(p=>{r&&(r=!!p),a.set(d,p)})).next(()=>{if(r){let d=Yt();const p=[];return he.forEach(a,(_,w)=>{var S;ze("IndexedDbIndexManager",`Using index ${S=_,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(at=>`${at.fieldPath}:${at.kind}`).join(",")}`} to execute ${dc(t)}`);const O=function(at,Ye){const It=Uh(Ye);if(void 0===It)return null;for(const Ot of zp(at,It.fieldPath))switch(Ot.op){case"array-contains-any":return Ot.value.arrayValue.values||[];case"array-contains":return[Ot.value]}return null}(w,_),V=function(at,Ye){const It=new Map;for(const Ot of Ga(Ye))for(const on of zp(at,Ot.fieldPath))switch(on.op){case"==":case"in":It.set(Ot.fieldPath.canonicalString(),on.value);break;case"not-in":case"!=":return It.set(Ot.fieldPath.canonicalString(),on.value),Array.from(It.values())}return null}(w,_),H=function(at,Ye){const It=[];let Ot=!0;for(const on of Ga(Ye)){const er=0===on.kind?gw(at,on.fieldPath,at.startAt):m0(at,on.fieldPath,at.startAt);It.push(er.value),Ot&&(Ot=er.inclusive)}return new ea(It,Ot)}(w,_),q=function(at,Ye){const It=[];let Ot=!0;for(const on of Ga(Ye)){const er=0===on.kind?m0(at,on.fieldPath,at.endAt):gw(at,on.fieldPath,at.endAt);It.push(er.value),Ot&&(Ot=er.inclusive)}return new ea(It,Ot)}(w,_),ce=this.Ze(_,w,H),De=this.Ze(_,w,q),Ge=this.tn(_,w,V),rt=this.en(_.indexId,O,ce,H.inclusive,De,q.inclusive,Ge);return he.forEach(rt,at=>i.j(at,t.limit).next(Ye=>{Ye.forEach(It=>{const Ot=et.fromSegments(It.documentKey);d.has(Ot)||(d=d.add(Ot),p.push(Ot))})}))}).next(()=>p)}return he.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,i,r,a,d,p){const _=(null!=t?t.length:1)*Math.max(i.length,a.length),w=_/(null!=t?t.length:1),S=[];for(let O=0;O<_;++O){const V=t?this.nn(t[O/w]):F,H=this.sn(e,V,i[O%w],r),q=this.rn(e,V,a[O%w],d),ce=p.map(De=>this.sn(e,V,De,!0));S.push(...this.createRange(H,q,ce))}return S}sn(e,t,i,r){const a=new h(e,et.empty(),t,i);return r?a:a.Le()}rn(e,t,i,r){const a=new h(e,et.empty(),t,i);return r?a.Le():a}Xe(e,t){const i=new b(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let d=null;for(const p of a)i.Ge(p)&&(!d||p.fields.length>d.fields.length)&&(d=p);return d})}getIndexType(e,t){let i=2;return he.forEach(this.Ye(t),r=>this.Xe(e,r).next(a=>{a?0!==i&&a.fields.length<function(d){let p=new xn(fi.comparator),_=!1;for(const w of d.filters){const S=w;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?_=!0:p=p.add(S.field))}for(const w of d.orderBy)w.field.isKeyField()||(p=p.add(w.field));return p.size+(_?1:0)}(r)&&(i=1):i=0})).next(()=>i)}on(e,t){const i=new u;for(const r of Ga(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const d=i.Be(r.kind);Jh.ye.re(a,d)}return i.Me()}nn(e){const t=new u;return Jh.ye.re(e,t.Be(0)),t.Me()}un(e,t){const i=new u;return Jh.ye.re(du(this.databaseId,t),i.Be(function(r){const a=Ga(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.Me()}tn(e,t,i){if(null===i)return[];let r=[];r.push(new u);let a=0;for(const d of Ga(e)){const p=i[a++];for(const _ of r)if(this.cn(t,d.fieldPath)&&yd(p))r=this.an(r,d,p);else{const w=_.Be(d.kind);Jh.ye.re(p,w)}}return this.hn(r)}Ze(e,t,i){return this.tn(e,t,i.position)}hn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Me();return t}an(e,t,i){const r=[...e],a=[];for(const d of i.arrayValue.values||[])for(const p of r){const _=new u;_.seed(p.Me()),Jh.ye.re(d,_.Be(t.kind)),a.push(_)}return a}cn(e,t){return!!e.filters.find(i=>i instanceof _r&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Te(e),r=qe(e);return(t?i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.K()).next(a=>{const d=[];return he.forEach(a,p=>r.get([p.indexId,this.uid]).next(_=>{d.push(function(w,S){const O=S?new Vp(S.sequenceNumber,new Io(Id(S.readTime),new et(pc(S.documentKey)),S.largestBatchId)):Vp.empty(),V=w.fields.map(([H,q])=>new Bp(fi.fromServerFormat(H),q));return new Vh(w.indexId,w.collectionGroup,V,O)}(p,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Bt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Te(e),a=qe(e);return this.ln(e).next(d=>r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>he.forEach(p,_=>a.put(rD(_.indexId,this.user,d,i)))))}updateIndexEntries(e,t){const i=new Map;return he.forEach(t,(r,a)=>{const d=i.get(r.collectionGroup);return(d?he.resolve(d):this.getFieldIndexes(e,r.collectionGroup)).next(p=>(i.set(r.collectionGroup,p),he.forEach(p,_=>this.fn(e,r,_).next(w=>{const S=this.dn(a,_);return w.isEqual(S)?he.resolve():this._n(e,a,_,w,S)}))))})}wn(e,t,i,r){return le(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(i,t.key),documentKey:t.key.path.toArray()})}mn(e,t,i,r){return le(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(i,t.key),t.key.path.toArray()])}fn(e,t,i){const r=le(e);let a=new xn(g);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,t)])},(d,p)=>{a=a.add(new h(i.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>a)}dn(e,t){let i=new xn(g);const r=this.on(t,e);if(null==r)return i;const a=Uh(t);if(null!=a){const d=e.data.field(a.fieldPath);if(yd(d))for(const p of d.arrayValue.values||[])i=i.add(new h(t.indexId,e.key,this.nn(p),r))}else i=i.add(new h(t.indexId,e.key,F,r));return i}_n(e,t,i,r,a){ze("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(p,_,w,S,O){const V=p.getIterator(),H=_.getIterator();let q=pd(V),ce=pd(H);for(;q||ce;){let De=!1,Ge=!1;if(q&&ce){const rt=w(q,ce);rt<0?Ge=!0:rt>0&&(De=!0)}else null!=q?Ge=!0:De=!0;De?(S(ce),ce=pd(H)):Ge?(O(q),q=pd(V)):(q=pd(V),ce=pd(H))}}(r,a,g,p=>{d.push(this.wn(e,t,i,p))},p=>{d.push(this.mn(e,t,i,p))}),he.waitFor(d)}ln(e){let t=1;return qe(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((d,p)=>g(d,p)).filter((d,p,_)=>!p||0!==g(d,_[p-1]));const r=[];r.push(e);for(const d of i){const p=g(d,e),_=g(d,t);if(0===p)r[0]=e.Le();else if(p>0&&_<0)r.push(d),r.push(d.Le());else if(_>0)break}r.push(t);const a=[];for(let d=0;d<r.length;d+=2)a.push(IDBKeyRange.bound([r[d].indexId,this.uid,r[d].arrayValue,r[d].directionalValue,F,[]],[r[d+1].indexId,this.uid,r[d+1].arrayValue,r[d+1].directionalValue,F,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Je)}getMinOffset(e,t){return he.mapArray(this.Ye(t),i=>this.Xe(e,i).next(r=>r||ut())).next(Je)}}function Y(n){return Xi(n,"collectionParents")}function le(n){return Xi(n,"indexEntries")}function Te(n){return Xi(n,"indexConfiguration")}function qe(n){return Xi(n,"indexState")}function Je(n){Lt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;tw(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Io(e.readTime,e.documentKey,t)}const dt={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ke{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ke(e,ke.DEFAULT_COLLECTION_PERCENTILE,ke.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Dt(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],d=IDBKeyRange.only(t.batchId);let p=0;const _=i.J({range:d},(S,O,V)=>(p++,V.delete()));a.push(_.next(()=>{Lt(1===p)}));const w=[];for(const S of t.mutations){const O=sg(e,S.key.path,t.batchId);a.push(r.delete(O)),w.push(S.key)}return he.waitFor(a).next(()=>w)}function Jt(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ut();e=n.noDocument}return JSON.stringify(e).length}ke.DEFAULT_COLLECTION_PERCENTILE=10,ke.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ke.DEFAULT=new ke(41943040,ke.DEFAULT_COLLECTION_PERCENTILE,ke.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ke.DISABLED=new ke(-1,0,0);class _n{constructor(e,t,i,r){this.userId=e,this.wt=t,this.indexManager=i,this.referenceDelegate=r,this.gn={}}static se(e,t,i,r){Lt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new _n(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return io(e).J({index:"userMutationsIndex",range:i},(r,a,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=fu(e),d=io(e);return d.add({}).next(p=>{Lt("number"==typeof p);const _=new F_(p,t,i,r),w=function(V,H,q){const ce=q.baseMutations.map(Ge=>ng(V.ne,Ge)),De=q.mutations.map(Ge=>ng(V.ne,Ge));return{userId:H,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:ce,mutations:De}}(this.wt,this.userId,_),S=[];let O=new xn((V,H)=>Bt(V.canonicalString(),H.canonicalString()));for(const V of r){const H=sg(this.userId,V.key.path,p);O=O.add(V.key.path.popLast()),S.push(d.put(w)),S.push(a.put(H,YI))}return O.forEach(V=>{S.push(this.indexManager.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.gn[p]=_.keys()}),he.waitFor(S).next(()=>_)})}lookupMutationBatch(e,t){return io(e).get(t).next(i=>i?(Lt(i.userId===this.userId),Yh(this.wt,i)):null)}yn(e,t){return this.gn[t]?he.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.gn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return io(e).J({index:"userMutationsIndex",range:r},(d,p,_)=>{p.userId===this.userId&&(Lt(p.batchId>=i),a=Yh(this.wt,p)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return io(e).J({index:"userMutationsIndex",range:t,reverse:!0},(r,a,d)=>{i=a.batchId,d.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return io(e).K("userMutationsIndex",t).next(i=>i.map(r=>Yh(this.wt,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=k_(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return fu(e).J({range:r},(d,p,_)=>{const[w,S,O]=d,V=pc(S);if(w===this.userId&&t.path.isEqual(V))return io(e).get(O).next(H=>{if(!H)throw ut();Lt(H.userId===this.userId),a.push(Yh(this.wt,H))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new xn(Bt);const r=[];return t.forEach(a=>{const d=k_(this.userId,a.path),p=IDBKeyRange.lowerBound(d),_=fu(e).J({range:p},(w,S,O)=>{const[V,H,q]=w,ce=pc(H);V===this.userId&&a.path.isEqual(ce)?i=i.add(q):O.done()});r.push(_)}),he.waitFor(r).next(()=>this.pn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=k_(this.userId,i),d=IDBKeyRange.lowerBound(a);let p=new xn(Bt);return fu(e).J({range:d},(_,w,S)=>{const[O,V,H]=_,q=pc(V);O===this.userId&&i.isPrefixOf(q)?q.length===r&&(p=p.add(H)):S.done()}).next(()=>this.pn(e,p))}pn(e,t){const i=[],r=[];return t.forEach(a=>{r.push(io(e).get(a).next(d=>{if(null===d)throw ut();Lt(d.userId===this.userId),i.push(Yh(this.wt,d))}))}),he.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Dt(e.ee,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),he.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return he.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return fu(e).J({range:i},(a,d,p)=>{if(a[0]===this.userId){const _=pc(a[1]);r.push(_)}else p.done()}).next(()=>{Lt(0===r.length)})})}containsKey(e,t){return no(e,this.userId,t)}Tn(e){return V_(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function no(n,e,t){const i=k_(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let d=!1;return fu(n).J({range:a,H:!0},(p,_,w)=>{const[S,O,V]=p;S===e&&O===r&&(d=!0),w.done()}).next(()=>d)}function io(n){return Xi(n,"mutations")}function fu(n){return Xi(n,"documentMutations")}function V_(n){return Xi(n,"mutationQueues")}class mc{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new mc(0)}static Rn(){return new mc(-1)}}class Y0{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const i=new mc(t.highestTargetId);return t.highestTargetId=i.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>Vt.fromTimestamp(new Zn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Pn(e,r)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(i=>(i.targetCount+=1,this.Vn(t,i),this.Pn(e,i))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>pu(e).delete(t.targetId)).next(()=>this.bn(e)).next(i=>(Lt(i.targetCount>0),i.targetCount-=1,this.Pn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return pu(e).J((d,p)=>{const _=N_(p);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>he.waitFor(a)).next(()=>r)}forEachTarget(e,t){return pu(e).J((i,r)=>{const a=N_(r);t(a)})}bn(e){return U_(e).get("targetGlobalKey").next(t=>(Lt(null!==t),t))}Pn(e,t){return U_(e).put("targetGlobalKey",t)}vn(e,t){return pu(e).put(nD(this.wt,t))}Vn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=dc(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return pu(e).J({range:r,index:"queryTargetsIndex"},(d,p,_)=>{const w=N_(p);Hh(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=wl(e);return t.forEach(d=>{const p=to(d.path);r.push(a.put({targetId:i,path:p})),r.push(this.referenceDelegate.addReference(e,i,d))}),he.waitFor(r)}removeMatchingKeys(e,t,i){const r=wl(e);return he.forEach(t,a=>{const d=to(a.path);return he.waitFor([r.delete([i,d]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=wl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=wl(e);let a=Yt();return r.J({range:i,H:!0},(d,p,_)=>{const w=pc(d[1]),S=new et(w);a=a.add(S)}).next(()=>a)}containsKey(e,t){const i=to(t.path),r=IDBKeyRange.bound([i],[wI(i)],!1,!0);let a=0;return wl(e).J({index:"documentTargetsIndex",H:!0,range:r},([d,p],_,w)=>{0!==d&&(a++,w.done())}).next(()=>a>0)}te(e,t){return pu(e).get(t).next(i=>i?N_(i):null)}}function pu(n){return Xi(n,"targets")}function U_(n){return Xi(n,"targetGlobal")}function wl(n){return Xi(n,"targetDocuments")}function G_([n,e],[t,i]){const r=Bt(n,t);return 0===r?Bt(e,i):r}class J0{constructor(e){this.Sn=e,this.buffer=new xn(G_),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();G_(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class DF{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ie.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){cc(i)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Do(i)}yield t.kn(3e5)}))}}class TF{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.On(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return he.resolve(ws.ot);const i=new J0(t);return this.Mn.forEachTarget(e,r=>i.xn(r.sequenceNumber)).next(()=>this.Mn.Fn(e,r=>i.xn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Mn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(dt)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dt):this.$n(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}$n(e,t){let i,r,a,d,p,_,w;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),r=this.params.maximumSequenceNumbersToCollect):r=O,d=Date.now(),this.nthSequenceNumber(e,r))).next(O=>(i=O,p=Date.now(),this.removeTargets(e,i,t))).next(O=>(a=O,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(O=>(w=Date.now(),r0()<=Zc.in.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-S}ms\n\tDetermined least recently used ${r} in `+(p-d)+`ms\n\tRemoved ${a} targets in `+(_-p)+`ms\n\tRemoved ${O} documents in `+(w-_)+`ms\nTotal Duration: ${w-S}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:O})))}}class SF{constructor(e,t){this.db=e,this.garbageCollector=new TF(this,t)}On(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Bn(e){let t=0;return this.Fn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(i,r)=>t(r))}addReference(e,t,i){return Uw(e,i)}removeReference(e,t,i){return Uw(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Uw(e,t)}Un(e,t){return function(i,r){let a=!1;return V_(i).Y(d=>no(i,d,r).next(p=>(p&&(a=!0),he.resolve(!p)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Ln(e,(d,p)=>{if(p<=t){const _=this.Un(e,d).next(w=>{if(!w)return a++,i.getEntry(e,d).next(()=>(i.removeEntry(d,Vt.min()),wl(e).delete([0,to(d.path)])))});r.push(_)}}).next(()=>he.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Uw(e,t)}Ln(e,t){const i=wl(e);let r,a=ws.ot;return i.J({index:"documentTargetsIndex"},([d,p],{path:_,sequenceNumber:w})=>{0===d?(a!==ws.ot&&t(new et(pc(r)),a),a=w,r=_):a=ws.ot}).next(()=>{a!==ws.ot&&t(new et(pc(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Uw(n,e){return wl(n).put((i=n.currentSequenceNumber,{targetId:0,path:to(e.path),sequenceNumber:i}));var i}class L1{constructor(){this.changes=new wd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?he.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class MF{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return og(e).put(i)}removeEntry(e,t,i){return og(e).delete(function(r,a){const d=r.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Zh(a),d[d.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.qn(e,i)))}getEntry(e,t){let i=zn.newInvalidDocument(t);return og(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(X0(t))},(r,a)=>{i=this.Kn(t,a)}).next(()=>i)}Gn(e,t){let i={size:0,document:zn.newInvalidDocument(t)};return og(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(X0(t))},(r,a)=>{i={document:this.Kn(t,a),size:Jt(a)}}).next(()=>i)}getEntries(e,t){let i=eo();return this.Qn(e,t,(r,a)=>{const d=this.Kn(r,a);i=i.insert(r,d)}).next(()=>i)}jn(e,t){let i=eo(),r=new xi(et.comparator);return this.Qn(e,t,(a,d)=>{const p=this.Kn(a,d);i=i.insert(a,p),r=r.insert(a,Jt(d))}).next(()=>({documents:i,Wn:r}))}Qn(e,t,i){if(t.isEmpty())return he.resolve();let r=new xn(G1);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(X0(r.first()),X0(r.last())),d=r.getIterator();let p=d.getNext();return og(e).J({index:"documentKeyIndex",range:a},(_,w,S)=>{const O=et.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;p&&G1(p,O)<0;)i(p,null),p=d.getNext();p&&p.isEqual(O)&&(i(p,w),p=d.hasNext()?d.getNext():null),p?S.q(X0(p)):S.done()}).next(()=>{for(;p;)i(p,null),p=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),Zh(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return og(e).K(IDBKeyRange.bound(r,a,!0)).next(d=>{let p=eo();for(const _ of d){const w=this.Kn(et.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);p=p.insert(w.key,w)}return p})}getAllFromCollectionGroup(e,t,i,r){let a=eo();const d=U1(t,i),p=U1(t,Io.max());return og(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,p,!0)},(_,w,S)=>{const O=this.Kn(et.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(O.key,O),a.size===r&&S.done()}).next(()=>a)}newChangeBuffer(e){return new kF(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return V1(e).get("remoteDocumentGlobalKey").next(t=>(Lt(!!t),t))}qn(e,t){return V1(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const i=function F1(n,e){let t;if(e.document)t=L0(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=et.fromSegments(e.noDocument.path),r=Id(e.noDocument.readTime);t=zn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ut();{const i=et.fromSegments(e.unknownDocument.path),r=Id(e.unknownDocument.version);t=zn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Zn(i[0],i[1]);return Vt.fromTimestamp(r)}(e.readTime)),t}(this.wt,t);if(!i.isNoDocument()||!i.version.isEqual(Vt.min()))return i}return zn.newInvalidDocument(e)}}function B1(n){return new MF(n)}class kF extends L1{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new wd(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new xn((a,d)=>Bt(a.canonicalString(),d.canonicalString()));return this.changes.forEach((a,d)=>{const p=this.Hn.get(a);if(t.push(this.zn.removeEntry(e,a,p.readTime)),d.isValidDocument()){const _=Q0(this.zn.wt,d);r=r.add(a.path.popLast()),i+=Jt(_)-p.size,t.push(this.zn.addEntry(e,a,_))}else if(i-=p.size,this.trackRemovals){const _=Q0(this.zn.wt,d.convertToNoDocument(Vt.min()));t.push(this.zn.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.zn.updateMetadata(e,i)),he.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(i=>(this.Hn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:i,Wn:r})=>(r.forEach((a,d)=>{this.Hn.set(a,{size:d,readTime:i.get(a).readTime})}),i))}}function V1(n){return Xi(n,"remoteDocumentGlobal")}function og(n){return Xi(n,"remoteDocumentsV14")}function X0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function U1(n,e){const t=e.documentKey.path.toArray();return[n,Zh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function G1(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Bt(t[a],i[a]),r)return r;return r=Bt(t.length,i.length),r||(r=Bt(t[t.length-2],i[i.length-2]),r||Bt(t[t.length-1],i[i.length-1]))}class RF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class H1{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&w_(i.mutation,r,Js.empty(),Zn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Yt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Yt()){const r=fc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let d=Yp();return a.forEach((p,_)=>{d=d.insert(p,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const i=fc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Yt()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((d,p)=>{t.set(d,p)})})}computeViews(e,t,i,r){let a=eo();const d=Jp(),p=Jp();return t.forEach((_,w)=>{const S=i.get(w.key);r.has(w.key)&&(void 0===S||S.mutation instanceof ta)?a=a.insert(w.key,w):void 0!==S&&(d.set(w.key,S.mutation.getFieldMask()),w_(S.mutation,w,S.mutation.getFieldMask(),Zn.now()))}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((w,S)=>d.set(w,S)),t.forEach((w,S)=>{var O;return p.set(w,new RF(S,null!==(O=d.get(w))&&void 0!==O?O:null))}),p))}recalculateAndSaveOverlays(e,t){const i=Jp();let r=new xi((d,p)=>d-p),a=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const p of d)p.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let S=i.get(_)||Js.empty();S=p.applyToLocalView(w,S),i.set(_,S);const O=(r.get(p.batchId)||Yt()).add(_);r=r.insert(p.batchId,O)})}).next(()=>{const d=[],p=r.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),w=_.key,S=_.value,O=BI();S.forEach(V=>{if(!a.has(V)){const H=OI(t.get(V),i.get(V));null!==H&&O.set(V,H),a=a.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(e,w,O))}return he.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return et.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):$p(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const d=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):he.resolve(fc());let p=-1,_=a;return d.next(w=>he.forEach(w,(S,O)=>(p<O.largestBatchId&&(p=O.largestBatchId),a.get(S)?he.resolve():this.getBaseDocument(e,S,O).next(V=>{_=_.insert(S,V)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,_,w,Yt())).next(S=>({batchId:p,changes:LI(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(i=>{let r=Yp();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=Yp();return this.indexManager.getCollectionParents(e,r).next(d=>he.forEach(d,p=>{const _=(w=t,S=p.child(r),new hc(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,S;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(w=>{w.forEach((S,O)=>{a=a.insert(S,O)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(a=>(r=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(a=>{a.forEach((p,_)=>{const w=_.getKey();null===r.get(w)&&(r=r.insert(w,zn.newInvalidDocument(w)))});let d=Yp();return r.forEach((p,_)=>{const w=a.get(p);void 0!==w&&w_(w.mutation,_,Js.empty(),Zn.now()),v0(t,_)&&(d=d.insert(p,_))}),d})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):he.resolve(zn.newInvalidDocument(t))}}class OF{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return he.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var i;return this.Jn.set(t.id,{id:(i=t).id,version:i.version,createTime:On(i.createTime)}),he.resolve()}getNamedQuery(e,t){return he.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(i=t).name,query:K0(i.bundledQuery),readTime:On(i.readTime)}),he.resolve();var i}}class FF{constructor(){this.overlays=new xi(et.comparator),this.Xn=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const i=fc();return he.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.ie(e,t,a)}),he.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.Xn.delete(i)),he.resolve()}getOverlaysForCollection(e,t,i){const r=fc(),a=t.length+1,d=new et(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return he.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new xi((w,S)=>w-S);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>i){let S=a.get(w.largestBatchId);null===S&&(S=fc(),a=a.insert(w.largestBatchId,S)),S.set(w.getKey(),w)}}const p=fc(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,S)=>p.set(w,S)),!(p.size()>=r)););return he.resolve(p)}ie(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const d=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new W0(t,i));let a=this.Xn.get(t);void 0===a&&(a=Yt(),this.Xn.set(t,a)),this.Xn.set(t,a.add(i.key))}}class lD{constructor(){this.Zn=new xn(rs.ts),this.es=new xn(rs.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const i=new rs(e,t);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.rs(new rs(e,t))}os(e,t){e.forEach(i=>this.removeReference(i,t))}us(e){const t=new et(new dn([])),i=new rs(t,e),r=new rs(t,e+1),a=[];return this.es.forEachInRange([i,r],d=>{this.rs(d),a.push(d.key)}),a}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new et(new dn([])),i=new rs(t,e),r=new rs(t,e+1);let a=Yt();return this.es.forEachInRange([i,r],d=>{a=a.add(d.key)}),a}containsKey(e){const t=new rs(e,0),i=this.Zn.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class rs{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return et.comparator(e.key,t.key)||Bt(e.ls,t.ls)}static ns(e,t){return Bt(e.ls,t.ls)||et.comparator(e.key,t.key)}}class PF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new xn(rs.ts)}checkEmpty(e){return he.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.fs;this.fs++;const d=new F_(a,t,i,r);this.mutationQueue.push(d);for(const p of r)this.ds=this.ds.add(new rs(p.key,a)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return he.resolve(d)}lookupMutationBatch(e,t){return he.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ws(t+1),a=r<0?0:r;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new rs(t,0),r=new rs(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([i,r],d=>{const p=this._s(d.ls);a.push(p)}),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new xn(Bt);return t.forEach(r=>{const a=new rs(r,0),d=new rs(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([a,d],p=>{i=i.add(p.ls)})}),he.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;et.isDocumentKey(a)||(a=a.child(""));const d=new rs(new et(a),0);let p=new xn(Bt);return this.ds.forEachWhile(_=>{const w=_.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(p=p.add(_.ls)),!0)},d),he.resolve(this.gs(p))}gs(e){const t=[];return e.forEach(i=>{const r=this._s(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Lt(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return he.forEach(t.mutations,r=>{const a=new rs(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=i})}In(e){}containsKey(e,t){const i=new rs(t,0),r=this.ds.firstAfterOrEqual(i);return he.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return he.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class NF{constructor(e){this.ps=e,this.docs=new xi(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,d=this.ps(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:d}),this.size+=d-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return he.resolve(i?i.document.mutableCopy():zn.newInvalidDocument(t))}getEntries(e,t){let i=eo();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():zn.newInvalidDocument(r))}),he.resolve(i)}getAllFromCollection(e,t,i){let r=eo();const a=new et(t.child("")),d=this.docs.getIteratorFrom(a);for(;d.hasNext();){const{key:p,value:{document:_}}=d.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||tw(o_(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return he.resolve(r)}getAllFromCollectionGroup(e,t,i,r){ut()}Is(e,t){return he.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new LF(this)}getSize(e){return he.resolve(this.size)}}class LF extends L1{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.zn.addEntry(e,r)):this.zn.removeEntry(i)}),he.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class BF{constructor(e){this.persistence=e,this.Ts=new wd(t=>dc(t),Hh),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.Es=0,this.As=new lD,this.targetCount=0,this.Rs=mc.An()}forEachTarget(e,t){return this.Ts.forEach((i,r)=>t(r)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Es&&(this.Es=t),he.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new mc(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.vn(t),he.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Ts.forEach((d,p)=>{p.sequenceNumber<=t&&null===i.get(p.targetId)&&(this.Ts.delete(d),a.push(this.removeMatchingKeysForTargetId(e,p.targetId)),r++)}),he.waitFor(a).next(()=>r)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const i=this.Ts.get(t)||null;return he.resolve(i)}addMatchingKeys(e,t,i){return this.As.ss(t,i),he.resolve()}removeMatchingKeys(e,t,i){this.As.os(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(d=>{a.push(r.markPotentiallyOrphaned(e,d))}),he.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),he.resolve()}getMatchingKeysForTargetId(e,t){const i=this.As.hs(t);return he.resolve(i)}containsKey(e,t){return he.resolve(this.As.containsKey(t))}}class j1{constructor(e,t){this.bs={},this.overlays={},this.Ps=new ws(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new BF(this),this.indexManager=new I,this.remoteDocumentCache=new NF(i=>this.referenceDelegate.Ss(i)),this.wt=new P_(t),this.Ds=new OF(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new FF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.bs[e.toKey()];return i||(i=new PF(t,this.referenceDelegate),this.bs[e.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,i){ze("MemoryPersistence","Starting transaction:",e);const r=new VF(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(a=>this.referenceDelegate.xs(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ns(e,t){return he.or(Object.values(this.bs).map(i=>()=>i.containsKey(e,t)))}}class VF extends iw{constructor(e){super(),this.currentSequenceNumber=e}}class Gw{constructor(e){this.persistence=e,this.ks=new lD,this.Ms=null}static Os(e){return new Gw(e)}get Fs(){if(this.Ms)return this.Ms;throw ut()}addReference(e,t,i){return this.ks.addReference(i,t),this.Fs.delete(i.toString()),he.resolve()}removeReference(e,t,i){return this.ks.removeReference(i,t),this.Fs.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),he.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Fs.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Cs(){this.Ms=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Fs,i=>{const r=et.fromPath(i);return this.$s(e,r).next(a=>{a||t.removeEntry(r,Vt.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(i=>{i?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return he.or([()=>he.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class UF{constructor(e){this.wt=e}M(e,t,i,r){const a=new l0("createOrUpgrade",t);var p;i<1&&r>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ZI,{unique:!0}),p.createObjectStore("documentMutations"),z1(e),function(p){p.createObjectStore("remoteDocuments")}(e));let d=he.resolve();return i<3&&r>=3&&(0!==i&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),z1(e)),d=d.next(()=>function(p){const _=p.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),i<4&&r>=4&&(0!==i&&(d=d.next(()=>function(p,_){return _.store("mutations").K().next(w=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ZI,{unique:!0});const S=_.store("mutations"),O=w.map(V=>S.put(V));return he.waitFor(O)})}(e,a))),d=d.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(d=d.next(()=>this.Bs(a))),i<6&&r>=6&&(d=d.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(a)))),i<7&&r>=7&&(d=d.next(()=>this.Us(a))),i<8&&r>=8&&(d=d.next(()=>this.qs(e,a))),i<9&&r>=9&&(d=d.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(d=d.next(()=>this.Ks(a))),i<11&&r>=11&&(d=d.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(d=d.next(()=>{!function(p){const _=p.createObjectStore("documentOverlays",{keyPath:k1});_.createIndex("collectionPathOverlayIndex",R1,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",O1,{unique:!1})}(e)})),i<13&&r>=13&&(d=d.next(()=>function(p){const _=p.createObjectStore("remoteDocumentsV14",{keyPath:JI});_.createIndex("documentKeyIndex",Nw),_.createIndex("collectionGroupIndex",Ed)}(e)).next(()=>this.Gs(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(d=d.next(()=>this.Qs(e,a))),i<15&&r>=15&&(d=d.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:j0}).createIndex("sequenceNumberIndex",z0,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:R_}).createIndex("documentKeyIndex",M1,{unique:!1})}(e))),d}Ls(e){let t=0;return e.store("remoteDocuments").J((i,r)=>{t+=Jt(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.K().next(r=>he.forEach(r,a=>{const d=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",d).next(p=>he.forEach(p,_=>{Lt(_.userId===a.userId);const w=Yh(this.wt,_);return Dt(e,a.userId,w).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.J((d,p)=>{const _=new dn(d),w=[0,to(_)];a.push(t.get(w).next(S=>S?he.resolve():t.put({targetId:0,path:to(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>he.waitFor(a))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:XI});const i=t.store("collectionParents"),r=new k,a=d=>{if(r.add(d)){const p=d.lastSegment(),_=d.popLast();return i.put({collectionId:p,parent:to(_)})}};return t.store("remoteDocuments").J({H:!0},(d,p)=>{const _=new dn(d);return a(_.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([d,p,_],w)=>{const S=pc(p);return a(S.popLast())}))}Ks(e){const t=e.store("targets");return t.J((i,r)=>{const a=N_(r),d=nD(this.wt,a);return t.put(d)})}Gs(e,t){const i=t.store("remoteDocuments"),r=[];return i.J((a,d)=>{const p=t.store("remoteDocumentsV14"),_=(w=d,w.document?new et(dn.fromString(w.document.name).popFirst(5)):w.noDocument?et.fromSegments(w.noDocument.path):w.unknownDocument?et.fromSegments(w.unknownDocument.path):ut()).path.toArray();var w;const S={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};r.push(p.put(S))}).next(()=>he.waitFor(r))}Qs(e,t){const i=t.store("mutations"),r=B1(this.wt),a=new j1(Gw.Os,this.wt.ne);return i.K().next(d=>{const p=new Map;return d.forEach(_=>{var w;let S=null!==(w=p.get(_.userId))&&void 0!==w?w:Yt();Yh(this.wt,_).keys().forEach(O=>S=S.add(O)),p.set(_.userId,S)}),he.forEach(p,(_,w)=>{const S=new mr(w),O=L_.se(this.wt,S),V=a.getIndexManager(S),H=_n.se(S,this.wt,V,a.referenceDelegate);return new H1(r,H,O,V).recalculateAndSaveOverlaysForDocumentKeys(new O_(t,ws.ot),_).next()})})}}function z1(n){n.createObjectStore("targetDocuments",{keyPath:G0}).createIndex("documentTargetsIndex",H0,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Lw,{unique:!0}),n.createObjectStore("targetGlobal")}const cD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class uD{constructor(e,t,i,r,a,d,p,_,w,S,O=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.js=a,this.window=d,this.document=p,this.Ws=w,this.zs=S,this.Hs=O,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=V=>Promise.resolve(),!uD.V())throw new He(we.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new SF(this,r),this.ei=t+"main",this.wt=new P_(_),this.ni=new Xo(this.ei,this.Hs,new UF(this.wt)),this.Vs=new Y0(this.referenceDelegate,this.wt),this.remoteDocumentCache=B1(this.wt),this.Ds=new P1,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===S&&Oi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new He(we.FAILED_PRECONDITION,cD);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new ws(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var i=(0,Ie.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,Ie.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,Ie.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Hw(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(cc(e))return ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return ev(e).get("owner").next(t=>he.resolve(this.di(t)))}_i(e){return Hw(e).delete(this.clientId)}wi(){var e=this;return(0,Ie.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Xi(i,"clientMetadata");return r.K().next(a=>{const d=e.gi(a,18e5),p=a.filter(_=>-1===d.indexOf(_));return he.forEach(p,_=>r.delete(_.clientId)).next(()=>p)})}).catch(()=>[]);if(e.si)for(const i of t)e.si.removeItem(e.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?he.resolve(!0):ev(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new He(we.FAILED_PRECONDITION,cD);return!1}}return!(!this.networkEnabled||!this.inForeground)||Hw(e).K().next(i=>void 0===this.gi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const d=!this.inForeground&&r.inForeground,p=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||d&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ze("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ie.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new O_(t,ws.ot);return e.li(i).next(()=>e._i(i))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(i=>this.mi(i.updateTimeMs,t)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>Hw(e).K().next(t=>this.gi(t,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return _n.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new U(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return L_.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,i){ze("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(d=this.Hs)?tD:14===d?Vw:13===d?Bw:12===d?eD:11===d?$0:void ut();var d;let p;return this.ni.runTransaction(e,r,a,_=>(p=new O_(_,this.Ps?this.Ps.next():ws.ot),"readwrite-primary"===t?this.ai(p).next(w=>!!w||this.hi(p)).next(w=>{if(!w)throw Oi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new He(we.FAILED_PRECONDITION,nw);return i(p)}).next(w=>this.fi(p).next(()=>w)):this.bi(p).next(()=>i(p)))).then(_=>(p.raiseOnCommittedEvent(),_))}bi(e){return ev(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new He(we.FAILED_PRECONDITION,cD)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ev(e).put("owner",t)}static V(){return Xo.V()}li(e){const t=ev(e);return t.get("owner").next(i=>this.di(i)?(ze("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):he.resolve())}mi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Oi(`Detected an update time that is in the future: ${e} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Tt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const i=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return ze("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Oi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Oi("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ev(n){return Xi(n,"owner")}function Hw(n){return Xi(n,"clientMetadata")}function dD(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class hD{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Pi=i,this.vi=r}static Vi(e,t){let i=Yt(),r=Yt();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new hD(e,t.fromCache,i,r)}}class $1{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ci(e,t).next(a=>a||this.xi(e,t,r,i)).next(a=>a||this.Ni(e,t))}Ci(e,t){if(A0(t))return he.resolve(null);let i=Es(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=A_(t,null,"F"),i=Es(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const d=Yt(...a);return this.Di.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,i).next(_=>{const w=this.ki(t,p);return this.Mi(t,w,d,_.readTime)?this.Ci(e,A_(t,null,"F")):this.Oi(e,w,t,_)}))})))}xi(e,t,i,r){return A0(t)||r.isEqual(Vt.min())?this.Ni(e,t):this.Di.getDocuments(e,i).next(a=>{const d=this.ki(t,a);return this.Mi(t,d,i,r)?this.Ni(e,t):(r0()<=Zc.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),v_(t)),this.Oi(e,d,t,ew(r,-1)))})}ki(e,t){let i=new xn(b_(e));return t.forEach((r,a)=>{v0(e,a)&&(i=i.add(a))}),i}Mi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ni(e,t){return r0()<=Zc.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",v_(t)),this.Di.getDocumentsMatchingQuery(e,t,Io.min())}Oi(e,t,i,r){return this.Di.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(d=>{a=a.insert(d.key,d)}),a))}}class GF{constructor(e,t,i,r){this.persistence=e,this.Fi=t,this.wt=r,this.$i=new xi(Bt),this.Bi=new wd(a=>dc(a),Hh),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(i)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H1(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function q1(n,e,t,i){return new GF(n,e,t,i)}function W1(n,e){return fD.apply(this,arguments)}function fD(){return fD=(0,Ie.Z)(function*(n,e){const t=it(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.qi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const d=[],p=[];let _=Yt();for(const w of r){d.push(w.batchId);for(const S of w.mutations)_=_.add(S.key)}for(const w of a){p.push(w.batchId);for(const S of w.mutations)_=_.add(S.key)}return t.localDocuments.getDocuments(i,_).next(w=>({Ki:w,removedBatchIds:d,addedBatchIds:p}))})})}),fD.apply(this,arguments)}function HF(n,e){const t=it(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Ui.newChangeBuffer({trackRemovals:!0});return function(d,p,_,w){const S=_.batch,O=S.keys();let V=he.resolve();return O.forEach(H=>{V=V.next(()=>w.getEntry(p,H)).next(q=>{const ce=_.docVersions.get(H);Lt(null!==ce),q.version.compareTo(ce)<0&&(S.applyToRemoteDocument(q,_),q.isValidDocument()&&(q.setReadTime(_.commitVersion),w.addEntry(q)))})}),V.next(()=>d.mutationQueue.removeMutationBatch(p,S))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Yt();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(p=p.add(d.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function Q1(n){const e=it(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function jF(n,e){const t=it(n),i=e.snapshotVersion;let r=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const d=t.Ui.newChangeBuffer({trackRemovals:!0});r=t.$i;const p=[];e.targetChanges.forEach((S,O)=>{const V=r.get(O);if(!V)return;p.push(t.Vs.removeMatchingKeys(a,S.removedDocuments,O).next(()=>t.Vs.addMatchingKeys(a,S.addedDocuments,O)));let H=V.withSequenceNumber(a.currentSequenceNumber);var q,ce,De;e.targetMismatches.has(O)?H=H.withResumeToken(qi.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):S.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(S.resumeToken,i)),r=r.insert(O,H),ce=H,De=S,(0===(q=V).resumeToken.approximateByteSize()||ce.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||De.addedDocuments.size+De.modifiedDocuments.size+De.removedDocuments.size>0)&&p.push(t.Vs.updateTargetData(a,H))});let _=eo(),w=Yt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(a,S))}),p.push(K1(a,d,e.documentUpdates).next(S=>{_=S.Gi,w=S.Qi})),!i.isEqual(Vt.min())){const S=t.Vs.getLastRemoteSnapshotVersion(a).next(O=>t.Vs.setTargetsMetadata(a,a.currentSequenceNumber,i));p.push(S)}return he.waitFor(p).next(()=>d.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,w)).next(()=>_)}).then(a=>(t.$i=r,a))}function K1(n,e,t){let i=Yt(),r=Yt();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let d=eo();return t.forEach((p,_)=>{const w=a.get(p);_.isFoundDocument()!==w.isFoundDocument()&&(r=r.add(p)),_.isNoDocument()&&_.version.isEqual(Vt.min())?(e.removeEntry(p,_.readTime),d=d.insert(p,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),d=d.insert(p,_)):ze("LocalStore","Ignoring outdated watch update for ",p,". Current version:",w.version," Watch version:",_.version)}),{Gi:d,Qi:r}})}function zF(n,e){const t=it(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function H_(n,e){const t=it(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Vs.getTargetData(i,e).next(a=>a?(r=a,he.resolve(r)):t.Vs.allocateTargetId(i).next(d=>(r=new gc(e,d,0,i.currentSequenceNumber),t.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.$i=t.$i.insert(i.targetId,i),t.Bi.set(e,i.targetId)),i})}function j_(n,e,t){return pD.apply(this,arguments)}function pD(){return pD=(0,Ie.Z)(function*(n,e,t){const i=it(n),r=i.$i.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,d=>i.persistence.referenceDelegate.removeTarget(d,r)))}catch(d){if(!cc(d))throw d;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}i.$i=i.$i.remove(e),i.Bi.delete(r.target)}),pD.apply(this,arguments)}function jw(n,e,t){const i=it(n);let r=Vt.min(),a=Yt();return i.persistence.runTransaction("Execute query","readonly",d=>function(p,_,w){const S=it(p),O=S.Bi.get(w);return void 0!==O?he.resolve(S.$i.get(O)):S.Vs.getTargetData(_,w)}(i,d,Es(e)).next(p=>{if(p)return r=p.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(d,p.targetId).next(_=>{a=_})}).next(()=>i.Fi.getDocumentsMatchingQuery(d,e,t?r:Vt.min(),t?a:Yt())).next(p=>(J1(i,x_(e),p),{documents:p,ji:a})))}function Z1(n,e){const t=it(n),i=it(t.Vs),r=t.$i.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.te(a,e).next(d=>d?d.target:null))}function Y1(n,e){const t=it(n),i=t.Li.get(e)||Vt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Ui.getAllFromCollectionGroup(r,e,ew(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(J1(t,e,r),r))}function J1(n,e,t){let i=Vt.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Li.set(e,i)}function gD(){return gD=(0,Ie.Z)(function*(n,e,t,i){const r=it(n);let a=Yt(),d=eo();for(const w of t){const S=e.Wi(w.metadata.name);w.document&&(a=a.add(S));const O=e.zi(w);O.setReadTime(e.Hi(w.metadata.readTime)),d=d.insert(S,O)}const p=r.Ui.newChangeBuffer({trackRemovals:!0}),_=yield H_(r,(w=i,Es(hu(dn.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",w=>K1(w,p,d).next(S=>(p.apply(w),S)).next(S=>r.Vs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>r.Vs.addMatchingKeys(w,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(w,S.Gi,S.Qi)).next(()=>S.Gi)))}),gD.apply(this,arguments)}function qF(n,e){return mD.apply(this,arguments)}function mD(){return mD=(0,Ie.Z)(function*(n,e,t=Yt()){const i=yield H_(n,Es(K0(e.bundledQuery))),r=it(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const d=On(e.readTime);if(i.snapshotVersion.compareTo(d)>=0)return r.Ds.saveNamedQuery(a,e);const p=i.withResumeToken(qi.EMPTY_BYTE_STRING,d);return r.$i=r.$i.insert(p.targetId,p),r.Vs.updateTargetData(a,p).next(()=>r.Vs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Vs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ds.saveNamedQuery(a,e))})}),mD.apply(this,arguments)}function X1(n,e){return`firestore_clients_${n}_${e}`}function eM(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function _D(n,e){return`firestore_targets_${n}_${e}`}class zw{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ji(e,t,i){const r=JSON.parse(i);let a,d="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return d&&r.error&&(d="string"==typeof r.error.message&&"string"==typeof r.error.code,d&&(a=new He(r.error.code,r.error.message))),d?new zw(e,t,r.state,a):(Oi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tv{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ji(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new He(i.error.code,i.error.message))),a?new tv(e,i.state,r):(Oi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class $w{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=Qh();for(let d=0;r&&d<i.activeTargetIds.length;++d)r=uw(i.activeTargetIds[d]),a=a.add(i.activeTargetIds[d]);return r?new $w(e,a):(Oi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class yD{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new yD(t.clientId,t.onlineState):(Oi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class AD{constructor(){this.activeTargetIds=Qh()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vD{constructor(e,t,i,r,a){this.window=e,this.js=t,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new xi(Bt),this.started=!1,this.ir=[];const d=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=X1(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new AD),this.cr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.syncEngine.Ri();for(const r of t){if(r===e.tr)continue;const a=e.getItem(X1(e.persistenceKey,r));if(a){const d=$w.Ji(r,a);d&&(e.sr=e.sr.insert(d.clientId,d))}}e._r();const i=e.storage.getItem(e.lr);if(i){const r=e.wr(i);r&&e.mr(r)}for(const r of e.ir)e.nr(r);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,i){this.yr(e,t,i),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(_D(this.persistenceKey,e));if(i){const r=tv.Ji(e,i);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(_D(this.persistenceKey,e))}updateQueryState(e,t,i){this.Tr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.pr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ze("SharedClientState","READ",e,t),t}setItem(e,t){ze("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(ze("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void Oi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Ie.Z)(function*(){if(t.started){if(null!==i.key)if(t.cr.test(i.key)){if(null==i.newValue){const r=t.Rr(i.key);return t.br(r,null)}{const r=t.Pr(i.key,i.newValue);if(r)return t.br(r.clientId,r)}}else if(t.ar.test(i.key)){if(null!==i.newValue){const r=t.vr(i.key,i.newValue);if(r)return t.Vr(r)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const r=t.Sr(i.key,i.newValue);if(r)return t.Dr(r)}}else if(i.key===t.lr){if(null!==i.newValue){const r=t.wr(i.newValue);if(r)return t.mr(r)}}else if(i.key===t.ur){const r=function(a){let d=ws.ot;if(null!=a)try{const p=JSON.parse(a);Lt("number"==typeof p),d=p}catch(p){Oi("SharedClientState","Failed to read sequence number from WebStorage",p)}return d}(i.newValue);r!==ws.ot&&t.sequenceNumberHandler(r)}else if(i.key===t.dr){const r=t.Cr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Nr(a)))}}else t.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,i){const r=new zw(this.currentUser,e,t,i),a=eM(this.persistenceKey,this.currentUser,e);this.setItem(a,r.Yi())}pr(e){const t=eM(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,i){const r=_D(this.persistenceKey,e),a=new tv(e,t,i);this.setItem(r,a.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const i=this.Rr(e);return $w.Ji(i,t)}vr(e,t){const i=this.ar.exec(e),r=Number(i[1]);return zw.Ji(new mr(void 0!==i[2]?i[2]:null),r,t)}Sr(e,t){const i=this.hr.exec(e),r=Number(i[1]);return tv.Ji(r,t)}wr(e){return yD.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,Ie.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const i=t?this.sr.insert(e,t):this.sr.remove(e),r=this.gr(this.sr),a=this.gr(i),d=[],p=[];return a.forEach(_=>{r.has(_)||d.push(_)}),r.forEach(_=>{a.has(_)||p.push(_)}),this.syncEngine.Or(d,p).then(()=>{this.sr=i})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=Qh();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class tM{constructor(){this.Fr=new AD,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,i){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new AD,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class WF{Br(e){}shutdown(){}}class nM{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const QF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class KF{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class ZF extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,i,r,a){const d=this.oo(e,t);ze("RestConnection","Sending: ",d,i);const p={};return this.uo(p,r,a),this.co(e,d,p,i).then(_=>(ze("RestConnection","Received: ",_),_),_=>{throw dd("RestConnection",`${e} failed with error: `,_,"url: ",d,"request:",i),_})}ao(e,t,i,r,a,d){return this.ro(e,t,i,r,a)}uo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+ud,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}oo(e,t){return`${this.so}/v1/${t}:${QF[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,i,r){return new Promise((a,d)=>{const p=new mI;p.listenOnce(fI.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case r_.NO_ERROR:const w=p.getResponseJson();ze("Connection","XHR received:",JSON.stringify(w)),a(w);break;case r_.TIMEOUT:ze("Connection",'RPC "'+e+'" timed out'),d(new He(we.DEADLINE_EXCEEDED,"Request time out"));break;case r_.HTTP_ERROR:const S=p.getStatus();if(ze("Connection",'RPC "'+e+'" failed with status:',S,"response text:",p.getResponseText()),S>0){const O=p.getResponseJson().error;if(O&&O.status&&O.message){const V=function(H){const q=H.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(q)>=0?q:we.UNKNOWN}(O.status);d(new He(V,O.message))}else d(new He(we.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new He(we.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{ze("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(r);p.send(t,"POST",_,i,15)})}ho(e,t,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=n0(),d=hI(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new gI({})),this.uo(p.initMessageHeaders,t,i),(0,Tt.uI)()||(0,Tt.b$)()||(0,Tt.d)()||(0,Tt.w1)()||(0,Tt.Mn)()||(0,Tt.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");ze("Connection","Creating WebChannel: "+_,p);const w=a.createWebChannel(_,p);let S=!1,O=!1;const V=new KF({jr:q=>{O?ze("Connection","Not sending because WebChannel is closed:",q):(S||(ze("Connection","Opening WebChannel transport."),w.open(),S=!0),ze("Connection","WebChannel sending:",q),w.send(q))},Wr:()=>w.close()}),H=(q,ce,De)=>{q.listen(ce,Ge=>{try{De(Ge)}catch(rt){setTimeout(()=>{throw rt},0)}})};return H(w,s_.EventType.OPEN,()=>{O||ze("Connection","WebChannel transport opened.")}),H(w,s_.EventType.CLOSE,()=>{O||(O=!0,ze("Connection","WebChannel transport closed"),V.eo())}),H(w,s_.EventType.ERROR,q=>{O||(O=!0,dd("Connection","WebChannel transport errored:",q),V.eo(new He(we.UNAVAILABLE,"The operation could not be completed")))}),H(w,s_.EventType.MESSAGE,q=>{var ce;if(!O){const De=q.data[0];Lt(!!De);const Ge=De,rt=Ge.error||(null===(ce=Ge[0])||void 0===ce?void 0:ce.error);if(rt){ze("Connection","WebChannel received error:",rt);const at=rt.status;let Ye=function(Ot){const on=bi[Ot];if(void 0!==on)return k0(on)}(at),It=rt.message;void 0===Ye&&(Ye=we.INTERNAL,It="Unknown error status: "+at+" with message "+rt.message),O=!0,V.eo(new He(Ye,It)),w.close()}else ze("Connection","WebChannel received:",De),V.no(De)}}),H(d,pI.STAT_EVENT,q=>{q.stat===qb.PROXY?ze("Connection","Detected buffering proxy"):q.stat===qb.NOPROXY&&ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.Zr()},0),V}}function iM(){return"undefined"!=typeof window?window:null}function qw(){return"undefined"!=typeof document?document:null}function nv(n){return new Iw(n,!0)}class xD{constructor(e,t,i=1e3,r=1.5,a=6e4){this.js=e,this.timerId=t,this.lo=i,this.fo=r,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,t-i);r>0&&ze("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class rM{constructor(e,t,i,r,a,d,p,_){this.js=e,this.Ao=i,this.Ro=r,this.bo=a,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new xD(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Ie.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,Ie.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var i=this;return(0,Ie.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==e?i.So.reset():t&&t.code===we.RESOURCE_EXHAUSTED?(Oi(t.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):t&&t.code===we.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===t&&this.Uo(i,r)},i=>{e(()=>{const r=new He(we.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(e,t){const i=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var e=this;this.state=5,this.So.Io((0,Ie.Z)(function*(){e.state=0,e.start()}))}qo(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YF extends rM{constructor(e,t,i,r,a,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,d),this.wt=a}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function zI(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ut(),r=e.targetChange.targetIds||[],a=function(_,w){return _.dt?(Lt(void 0===w||"string"==typeof w),qi.fromBase64String(w||"")):(Lt(void 0===w||w instanceof Uint8Array),qi.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(_){const w=void 0===_.code?we.UNKNOWN:k0(_.code);return new He(w,_.message||"")}(d);t=new ww(i,r,a,p||null)}else if("documentChange"in e){const i=e.documentChange,r=ja(n,i.document.name),a=On(i.document.updateTime),d=new Br({mapValue:{fields:i.document.fields}}),p=zn.newFoundDocument(r,a,d);t=new D_(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const i=e.documentDelete,r=ja(n,i.document),a=i.readTime?On(i.readTime):Vt.min(),d=zn.newNoDocument(r,a);t=new D_([],i.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const i=e.documentRemove,r=ja(n,i.document);t=new D_([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ut();{const i=e.filter,a=new D1(i.count||0);t=new T_(i.targetId,a)}}var _;return t}(this.wt,e),i=function(r){if(!("targetChange"in r))return Vt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Vt.min():a.readTime?On(a.readTime):Vt.min()}(e);return this.listener.Go(t,i)}Qo(e){const t={};t.database=Kh(this.wt),t.addTarget=function(r,a){let d;const p=a.target;return d=__(p)?{documents:M_(r,p)}:{query:V0(r,p)},d.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?d.resumeToken=Dw(r,a.resumeToken):a.snapshotVersion.compareTo(Vt.min())>0&&(d.readTime=eg(r,a.snapshotVersion.toTimestamp())),d}(this.wt,e);const i=function Ow(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ut()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Oo(t)}jo(e){const t={};t.database=Kh(this.wt),t.removeTarget=e,this.Oo(t)}}class JF extends rM{constructor(e,t,i,r,a,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,d),this.wt=a,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function B0(n,e){return n&&n.length>0?(Lt(void 0!==e),n.map(t=>function(i,r){let a=On(i.updateTime?i.updateTime:r);return a.isEqual(Vt.min())&&(a=On(r)),new E1(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=On(e.commitTime);return this.listener.Jo(i,t)}return Lt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Kh(this.wt),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>ng(this.wt,i))};this.Oo(t)}}class XF extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new He(we.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.bo.ro(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new He(we.UNKNOWN,r.toString())})}ao(e,t,i,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.bo.ao(e,t,i,a,d,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new He(we.UNKNOWN,a.toString())})}terminate(){this.Zo=!0}}class e2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Oi(t),this.su=!1):ze("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class t2{constructor(e,t,i,r,a){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(p=>{i.enqueueAndForget((0,Ie.Z)(function*(){var _;Xh(d)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ie.Z)(function*(w){const S=it(w);S.lu.add(4),yield z_(S),S._u.set("Unknown"),S.lu.delete(4),yield iv(S)}),function(w){return _.apply(this,arguments)})(d))}))}),this._u=new e2(i,r)}}function iv(n){return bD.apply(this,arguments)}function bD(){return bD=(0,Ie.Z)(function*(n){if(Xh(n))for(const e of n.fu)yield e(!0)}),bD.apply(this,arguments)}function z_(n){return wD.apply(this,arguments)}function wD(){return wD=(0,Ie.Z)(function*(n){for(const e of n.fu)yield e(!1)}),wD.apply(this,arguments)}function Ww(n,e){const t=it(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),ID(t)?CD(t):q_(t).Co()&&ED(t,e))}function rv(n,e){const t=it(n),i=q_(t);t.hu.delete(e),i.Co()&&sM(t,e),0===t.hu.size&&(i.Co()?i.ko():Xh(t)&&t._u.set("Unknown"))}function ED(n,e){n.wu.Nt(e.targetId),q_(n).Qo(e)}function sM(n,e){n.wu.Nt(e),q_(n).jo(e)}function CD(n){n.wu=new R0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),q_(n).start(),n._u.iu()}function ID(n){return Xh(n)&&!q_(n).Do()&&n.hu.size>0}function Xh(n){return 0===it(n).lu.size}function oM(n){n.wu=void 0}function n2(n){return DD.apply(this,arguments)}function DD(){return DD=(0,Ie.Z)(function*(n){n.hu.forEach((e,t)=>{ED(n,e)})}),DD.apply(this,arguments)}function r2(n,e){return TD.apply(this,arguments)}function TD(){return TD=(0,Ie.Z)(function*(n,e){oM(n),ID(n)?(n._u.uu(e),CD(n)):n._u.set("Unknown")}),TD.apply(this,arguments)}function s2(n,e,t){return SD.apply(this,arguments)}function SD(){return SD=(0,Ie.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof ww&&2===e.state&&e.cause)try{yield(i=(0,Ie.Z)(function*(r,a){const d=a.cause;for(const p of a.targetIds)r.hu.has(p)&&(yield r.remoteSyncer.rejectListen(p,d),r.hu.delete(p),r.wu.removeTarget(p))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Qw(n,i)}else if(e instanceof D_?n.wu.Ut(e):e instanceof T_?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(Vt.min()))try{const i=yield Q1(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const d=r.wu.Yt(a);return d.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const w=r.hu.get(_);w&&r.hu.set(_,w.withResumeToken(p.resumeToken,a))}}),d.targetMismatches.forEach(p=>{const _=r.hu.get(p);if(!_)return;r.hu.set(p,_.withResumeToken(qi.EMPTY_BYTE_STRING,_.snapshotVersion)),sM(r,p);const w=new gc(_.target,p,1,_.sequenceNumber);ED(r,w)}),r.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(i){ze("RemoteStore","Failed to raise snapshot:",i),yield Qw(n,i)}var i}),SD.apply(this,arguments)}function Qw(n,e,t){return MD.apply(this,arguments)}function MD(){return MD=(0,Ie.Z)(function*(n,e,t){if(!cc(e))throw e;n.lu.add(1),yield z_(n),n._u.set("Offline"),t||(t=()=>Q1(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield iv(n)}))}),MD.apply(this,arguments)}function aM(n,e){return e().catch(t=>Qw(n,t,e))}function $_(n){return kD.apply(this,arguments)}function kD(){return kD=(0,Ie.Z)(function*(n){const e=it(n),t=ef(e);let i=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;o2(e);)try{const r=yield zF(e.localStore,i);if(null===r){0===e.au.length&&t.ko();break}i=r.batchId,a2(e,r)}catch(r){yield Qw(e,r)}lM(e)&&cM(e)}),kD.apply(this,arguments)}function o2(n){return Xh(n)&&n.au.length<10}function a2(n,e){n.au.push(e);const t=ef(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function lM(n){return Xh(n)&&!ef(n).Do()&&n.au.length>0}function cM(n){ef(n).start()}function l2(n){return RD.apply(this,arguments)}function RD(){return RD=(0,Ie.Z)(function*(n){ef(n).Xo()}),RD.apply(this,arguments)}function c2(n){return OD.apply(this,arguments)}function OD(){return OD=(0,Ie.Z)(function*(n){const e=ef(n);for(const t of n.au)e.Ho(t.mutations)}),OD.apply(this,arguments)}function u2(n,e,t){return FD.apply(this,arguments)}function FD(){return FD=(0,Ie.Z)(function*(n,e,t){const i=n.au.shift(),r=q0.from(i,e,t);yield aM(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield $_(n)}),FD.apply(this,arguments)}function d2(n,e){return PD.apply(this,arguments)}function PD(){return PD=(0,Ie.Z)(function*(n,e){var t;e&&ef(n).zo&&(yield(t=(0,Ie.Z)(function*(i,r){if(M0(a=r.code)&&a!==we.ABORTED){const d=i.au.shift();ef(i).No(),yield aM(i,()=>i.remoteSyncer.rejectFailedWrite(d.batchId,r)),yield $_(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),lM(n)&&cM(n)}),PD.apply(this,arguments)}function uM(n,e){return ND.apply(this,arguments)}function ND(){return ND=(0,Ie.Z)(function*(n,e){const t=it(n);t.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const i=Xh(t);t.lu.add(3),yield z_(t),i&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield iv(t)}),ND.apply(this,arguments)}function LD(n,e){return BD.apply(this,arguments)}function BD(){return BD=(0,Ie.Z)(function*(n,e){const t=it(n);e?(t.lu.delete(2),yield iv(t)):e||(t.lu.add(2),yield z_(t),t._u.set("Unknown"))}),BD.apply(this,arguments)}function q_(n){return n.mu||(n.mu=function(e,t,i){const r=it(e);return r.tu(),new YF(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:n2.bind(null,n),Jr:r2.bind(null,n),Go:s2.bind(null,n)}),n.fu.push(function(){var e=(0,Ie.Z)(function*(t){t?(n.mu.No(),ID(n)?CD(n):n._u.set("Unknown")):(yield n.mu.stop(),oM(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function ef(n){return n.gu||(n.gu=function(e,t,i){const r=it(e);return r.tu(),new JF(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:l2.bind(null,n),Jr:d2.bind(null,n),Yo:c2.bind(null,n),Jo:u2.bind(null,n)}),n.fu.push(function(){var e=(0,Ie.Z)(function*(t){t?(n.gu.No(),yield $_(n)):(yield n.gu.stop(),n.au.length>0&&(ze("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class VD{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,i,r,a){const d=Date.now()+i,p=new VD(e,t,d,r,a);return p.start(i),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new He(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function W_(n,e){if(Oi("AsyncQueue",`${e}: ${n}`),cc(n))return new He(we.UNAVAILABLE,`${e}: ${n}`);throw n}class Q_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||et.comparator(t.key,i.key):(t,i)=>et.comparator(t.key,i.key),this.keyedMap=Yp(),this.sortedSet=new xi(this.comparator)}static emptySet(e){return new Q_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Q_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Q_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class dM{constructor(){this.yu=new xi(et.comparator)}track(e){const t=e.doc.key,i=this.yu.get(t);i?0!==e.type&&3===i.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==i.type?this.yu=this.yu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.yu=this.yu.remove(t):1===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):ut():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,i)=>{e.push(i)}),e}}class K_{constructor(e,t,i,r,a,d,p,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,i,r){const a=[];return t.forEach(d=>{a.push({type:0,doc:d})}),new K_(e,t,Q_.emptySet(t),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class h2{constructor(){this.Iu=void 0,this.listeners=[]}}class f2{constructor(){this.queries=new wd(e=>Wp(e),qh),this.onlineState="Unknown",this.Tu=new Set}}function UD(n,e){return GD.apply(this,arguments)}function GD(){return GD=(0,Ie.Z)(function*(n,e){const t=it(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new h2),r)try{a.Iu=yield t.onListen(i)}catch(d){const p=W_(d,`Initialization of query '${v_(e.query)}' failed`);return void e.onError(p)}t.queries.set(i,a),a.listeners.push(e),e.Eu(t.onlineState),a.Iu&&e.Au(a.Iu)&&zD(t)}),GD.apply(this,arguments)}function HD(n,e){return jD.apply(this,arguments)}function jD(){return jD=(0,Ie.Z)(function*(n,e){const t=it(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const d=a.listeners.indexOf(e);d>=0&&(a.listeners.splice(d,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),jD.apply(this,arguments)}function p2(n,e){const t=it(n);let i=!1;for(const r of e){const d=t.queries.get(r.query);if(d){for(const p of d.listeners)p.Au(r)&&(i=!0);d.Iu=r}}i&&zD(t)}function g2(n,e,t){const i=it(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function zD(n){n.Tu.forEach(e=>{e.next()})}class $D{constructor(e,t,i){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new K_(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=K_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class m2{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class hM{constructor(e){this.wt=e}Wi(e){return ja(this.wt,e)}zi(e){return e.metadata.exists?L0(this.wt,e.document,!1):zn.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return On(e)}}class _2{constructor(e,t,i){this.xu=e,this.localStore=t,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fM(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=dn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,i=new hM(this.wt);for(const r of e)if(r.metadata.queries){const a=i.Wi(r.metadata.name);for(const d of r.metadata.queries){const p=(t.get(d)||Yt()).add(a);t.set(d,p)}}return t}complete(){var e=this;return(0,Ie.Z)(function*(){const t=yield function $F(n,e,t,i){return gD.apply(this,arguments)}(e.localStore,new hM(e.wt),e.documents,e.xu.id),i=e.ku(e.documents);for(const r of e.queries)yield qF(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function fM(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class pM{constructor(e){this.key=e}}class gM{constructor(e){this.key=e}}class mM{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Yt(),this.mutatedKeys=Yt(),this.Lu=b_(e),this.Uu=new Q_(this.Lu)}get qu(){return this.Fu}Ku(e,t){const i=t?t.Gu:new dM,r=t?t.Uu:this.Uu;let a=t?t.mutatedKeys:this.mutatedKeys,d=r,p=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,w="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((S,O)=>{const V=r.get(S),H=v0(this.query,O)?O:null,q=!!V&&this.mutatedKeys.has(V.key),ce=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let De=!1;V&&H?V.data.isEqual(H.data)?q!==ce&&(i.track({type:3,doc:H}),De=!0):this.Qu(V,H)||(i.track({type:2,doc:H}),De=!0,(_&&this.Lu(H,_)>0||w&&this.Lu(H,w)<0)&&(p=!0)):!V&&H?(i.track({type:0,doc:H}),De=!0):V&&!H&&(i.track({type:1,doc:V}),De=!0,(_||w)&&(p=!0)),De&&(H?(d=d.add(H),a=ce?a.add(S):a.delete(S)):(d=d.delete(S),a=a.delete(S)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const S="F"===this.query.limitType?d.last():d.first();d=d.delete(S.key),a=a.delete(S.key),i.track({type:1,doc:S})}return{Uu:d,Gu:i,Mi:p,mutatedKeys:a}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const a=e.Gu.pu();a.sort((w,S)=>function(O,V){const H=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return H(O)-H(V)}(w.type,S.type)||this.Lu(w.doc,S.doc)),this.ju(i);const d=t?this.Wu():[],p=0===this.Bu.size&&this.current?1:0,_=p!==this.$u;return this.$u=p,0!==a.length||_?{snapshot:new K_(this.query,e.Uu,r,a,e.mutatedKeys,0===p,_,!1),zu:d}:{zu:d}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new dM,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Yt(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const t=[];return e.forEach(i=>{this.Bu.has(i)||t.push(new gM(i))}),this.Bu.forEach(i=>{e.has(i)||t.push(new pM(i))}),t}Ju(e){this.Fu=e.ji,this.Bu=Yt();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return K_.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class y2{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class A2{constructor(e){this.key=e,this.Xu=!1}}class v2{constructor(e,t,i,r,a,d){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=d,this.Zu={},this.tc=new wd(p=>Wp(p),qh),this.ec=new Map,this.nc=new Set,this.sc=new xi(et.comparator),this.ic=new Map,this.rc=new lD,this.oc={},this.uc=new Map,this.cc=mc.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function x2(n,e){return qD.apply(this,arguments)}function qD(){return qD=(0,Ie.Z)(function*(n,e){const t=gT(n);let i,r;const a=t.tc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.Yu();else{const d=yield H_(t.localStore,Es(e));t.isPrimaryClient&&Ww(t.remoteStore,d);const p=t.sharedClientState.addLocalQueryTarget(d.targetId);i=d.targetId,r=yield WD(t,e,i,"current"===p)}return r}),qD.apply(this,arguments)}function WD(n,e,t,i){return QD.apply(this,arguments)}function QD(){return QD=(0,Ie.Z)(function*(n,e,t,i){n.hc=(S,O,V)=>{return(H=(0,Ie.Z)(function*(q,ce,De,Ge){let rt=ce.view.Ku(De);rt.Mi&&(rt=yield jw(q.localStore,ce.query,!1).then(({documents:It})=>ce.view.Ku(It,rt)));const at=Ge&&Ge.targetChanges.get(ce.targetId),Ye=ce.view.applyChanges(rt,q.isPrimaryClient,at);return rT(q,ce.targetId,Ye.zu),Ye.snapshot}),function(q,ce,De,Ge){return H.apply(this,arguments)})(n,S,O,V);var H};const r=yield jw(n.localStore,e,!0),a=new mM(e,r.ji),d=a.Ku(r.documents),p=Cs.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),_=a.applyChanges(d,n.isPrimaryClient,p);rT(n,t,_.zu);const w=new y2(e,t,a);return n.tc.set(e,w),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),_.snapshot}),QD.apply(this,arguments)}function b2(n,e){return KD.apply(this,arguments)}function KD(){return KD=(0,Ie.Z)(function*(n,e){const t=it(n),i=t.tc.get(e),r=t.ec.get(i.targetId);if(r.length>1)return t.ec.set(i.targetId,r.filter(a=>!qh(a,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield j_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),rv(t.remoteStore,i.targetId),Z_(t,i.targetId)}).catch(Do))):(Z_(t,i.targetId),yield j_(t.localStore,i.targetId,!0))}),KD.apply(this,arguments)}function ZD(){return ZD=(0,Ie.Z)(function*(n,e,t){const i=mT(n);try{const r=yield function(a,d){const p=it(a),_=Zn.now(),w=d.reduce((V,H)=>V.add(H.key),Yt());let S,O;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let H=eo(),q=Yt();return p.Ui.getEntries(V,w).next(ce=>{H=ce,H.forEach((De,Ge)=>{Ge.isValidDocument()||(q=q.add(De))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,H)).next(ce=>{S=ce;const De=[];for(const Ge of d){const rt=I1(Ge,S.get(Ge.key).overlayedDocument);null!=rt&&De.push(new ta(Ge.key,rt,fw(rt.value.mapValue),oi.exists(!0)))}return p.mutationQueue.addMutationBatch(V,_,De,d)}).next(ce=>{O=ce;const De=ce.applyToLocalDocumentSet(S,q);return p.documentOverlayCache.saveOverlays(V,ce.batchId,De)})}).then(()=>({batchId:O.batchId,changes:LI(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,d,p){let _=a.oc[a.currentUser.toKey()];_||(_=new xi(Bt)),_=_.insert(d,p),a.oc[a.currentUser.toKey()]=_}(i,r.batchId,t),yield Dd(i,r.changes),yield $_(i.remoteStore)}catch(r){const a=W_(r,"Failed to persist write");t.reject(a)}}),ZD.apply(this,arguments)}function _M(n,e){return YD.apply(this,arguments)}function YD(){return YD=(0,Ie.Z)(function*(n,e){const t=it(n);try{const i=yield jF(t.localStore,e);e.targetChanges.forEach((r,a)=>{const d=t.ic.get(a);d&&(Lt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?d.Xu=!0:r.modifiedDocuments.size>0?Lt(d.Xu):r.removedDocuments.size>0&&(Lt(d.Xu),d.Xu=!1))}),yield Dd(t,i,e)}catch(i){yield Do(i)}}),YD.apply(this,arguments)}function yM(n,e,t){const i=it(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.tc.forEach((a,d)=>{const p=d.view.Eu(e);p.snapshot&&r.push(p.snapshot)}),function(a,d){const p=it(a);p.onlineState=d;let _=!1;p.queries.forEach((w,S)=>{for(const O of S.listeners)O.Eu(d)&&(_=!0)}),_&&zD(p)}(i.eventManager,e),r.length&&i.Zu.Go(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function E2(n,e,t){return JD.apply(this,arguments)}function JD(){return JD=(0,Ie.Z)(function*(n,e,t){const i=it(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ic.get(e),a=r&&r.key;if(a){let d=new xi(et.comparator);d=d.insert(a,zn.newNoDocument(a,Vt.min()));const p=Yt().add(a),_=new Xp(Vt.min(),new Map,new xn(Bt),d,p);yield _M(i,_),i.sc=i.sc.remove(a),i.ic.delete(e),sT(i)}else yield j_(i.localStore,e,!1).then(()=>Z_(i,e,t)).catch(Do)}),JD.apply(this,arguments)}function C2(n,e){return XD.apply(this,arguments)}function XD(){return XD=(0,Ie.Z)(function*(n,e){const t=it(n),i=e.batch.batchId;try{const r=yield HF(t.localStore,e);iT(t,i,null),nT(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Dd(t,r)}catch(r){yield Do(r)}}),XD.apply(this,arguments)}function I2(n,e,t){return eT.apply(this,arguments)}function eT(){return eT=(0,Ie.Z)(function*(n,e,t){const i=it(n);try{const r=yield function(a,d){const p=it(a);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return p.mutationQueue.lookupMutationBatch(_,d).next(S=>(Lt(null!==S),w=S.keys(),p.mutationQueue.removeMutationBatch(_,S))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,w,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>p.localDocuments.getDocuments(_,w))})}(i.localStore,e);iT(i,e,t),nT(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Dd(i,r)}catch(r){yield Do(r)}}),eT.apply(this,arguments)}function tT(){return tT=(0,Ie.Z)(function*(n,e){const t=it(n);Xh(t.remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const d=it(a);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>d.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===i)return void e.resolve();const r=t.uc.get(i)||[];r.push(e),t.uc.set(i,r)}catch(i){const r=W_(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),tT.apply(this,arguments)}function nT(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function iT(n,e,t){const i=it(n);let r=i.oc[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.oc[i.currentUser.toKey()]=r}}function Z_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ec.get(e))n.tc.delete(i),t&&n.Zu.lc(i,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(i=>{n.rc.containsKey(i)||AM(n,i)})}function AM(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(rv(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),sT(n))}function rT(n,e,t){for(const i of t)i instanceof pM?(n.rc.addReference(i.key,e),T2(n,i)):i instanceof gM?(ze("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,e),n.rc.containsKey(i.key)||AM(n,i.key)):ut()}function T2(n,e){const t=e.key,i=t.path.canonicalString();n.sc.get(t)||n.nc.has(i)||(ze("SyncEngine","New document in limbo: "+t),n.nc.add(i),sT(n))}function sT(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new et(dn.fromString(e)),i=n.cc.next();n.ic.set(i,new A2(t)),n.sc=n.sc.insert(t,i),Ww(n.remoteStore,new gc(Es(hu(t.path)),i,2,ws.ot))}}function Dd(n,e,t){return oT.apply(this,arguments)}function oT(){return oT=(0,Ie.Z)(function*(n,e,t){const i=it(n),r=[],a=[],d=[];var p;i.tc.isEmpty()||(i.tc.forEach((p,_)=>{d.push(i.hc(_,e,t).then(w=>{if(w){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),r.push(w);const S=hD.Vi(_.targetId,w);a.push(S)}}))}),yield Promise.all(d),i.Zu.Go(r),yield(p=(0,Ie.Z)(function*(_,w){const S=it(_);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>he.forEach(w,V=>he.forEach(V.Pi,H=>S.persistence.referenceDelegate.addReference(O,V.targetId,H)).next(()=>he.forEach(V.vi,H=>S.persistence.referenceDelegate.removeReference(O,V.targetId,H)))))}catch(O){if(!cc(O))throw O;ze("LocalStore","Failed to update sequence numbers: "+O)}for(const O of w){const V=O.targetId;if(!O.fromCache){const H=S.$i.get(V),ce=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);S.$i=S.$i.insert(V,ce)}}}),function(_,w){return p.apply(this,arguments)})(i.localStore,a))}),oT.apply(this,arguments)}function S2(n,e){return aT.apply(this,arguments)}function aT(){return aT=(0,Ie.Z)(function*(n,e){const t=it(n);if(!t.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const i=yield W1(t.localStore,e);t.currentUser=e,(r=t).uc.forEach(d=>{d.forEach(p=>{p.reject(new He(we.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Dd(t,i.Ki)}var r}),aT.apply(this,arguments)}function M2(n,e){const t=it(n),i=t.ic.get(e);if(i&&i.Xu)return Yt().add(i.key);{let r=Yt();const a=t.ec.get(e);if(!a)return r;for(const d of a){const p=t.tc.get(d);r=r.unionWith(p.view.qu)}return r}}function k2(n,e){return lT.apply(this,arguments)}function lT(){return lT=(0,Ie.Z)(function*(n,e){const t=it(n),i=yield jw(t.localStore,e.query,!0),r=e.view.Ju(i);return t.isPrimaryClient&&rT(t,e.targetId,r.zu),r}),lT.apply(this,arguments)}function R2(n,e){return cT.apply(this,arguments)}function cT(){return cT=(0,Ie.Z)(function*(n,e){const t=it(n);return Y1(t.localStore,e).then(i=>Dd(t,i))}),cT.apply(this,arguments)}function O2(n,e,t,i){return uT.apply(this,arguments)}function uT(){return uT=(0,Ie.Z)(function*(n,e,t,i){const r=it(n),a=yield function(d,p){const _=it(d),w=it(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",S=>w.yn(S,p).next(O=>O?_.localDocuments.getDocuments(S,O):he.resolve(null)))}(r.localStore,e);var p;null!==a?("pending"===t?yield $_(r.remoteStore):"acknowledged"===t||"rejected"===t?(iT(r,e,i||null),nT(r,e),p=e,it(it(r.localStore).mutationQueue).In(p)):ut(),yield Dd(r,a)):ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),uT.apply(this,arguments)}function dT(){return dT=(0,Ie.Z)(function*(n,e){const t=it(n);if(gT(t),mT(t),!0===e&&!0!==t.ac){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield vM(t,i.toArray());t.ac=!0,yield LD(t.remoteStore,!0);for(const a of r)Ww(t.remoteStore,a)}else if(!1===e&&!1!==t.ac){const i=[];let r=Promise.resolve();t.ec.forEach((a,d)=>{t.sharedClientState.isLocalQueryTarget(d)?i.push(d):r=r.then(()=>(Z_(t,d),j_(t.localStore,d,!0))),rv(t.remoteStore,d)}),yield r,yield vM(t,i),function(a){const d=it(a);d.ic.forEach((p,_)=>{rv(d.remoteStore,_)}),d.rc.cs(),d.ic=new Map,d.sc=new xi(et.comparator)}(t),t.ac=!1,yield LD(t.remoteStore,!1)}}),dT.apply(this,arguments)}function vM(n,e,t){return hT.apply(this,arguments)}function hT(){return hT=(0,Ie.Z)(function*(n,e,t){const i=it(n),r=[],a=[];for(const d of e){let p;const _=i.ec.get(d);if(_&&0!==_.length){p=yield H_(i.localStore,Es(_[0]));for(const w of _){const S=i.tc.get(w),O=yield k2(i,S);O.snapshot&&a.push(O.snapshot)}}else{const w=yield Z1(i.localStore,d);p=yield H_(i.localStore,w),yield WD(i,xM(w),d,!1)}r.push(p)}return i.Zu.Go(a),r}),hT.apply(this,arguments)}function xM(n){return Aw(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function P2(n){const e=it(n);return it(it(e.localStore).persistence).Ri()}function N2(n,e,t,i){return fT.apply(this,arguments)}function fT(){return fT=(0,Ie.Z)(function*(n,e,t,i){const r=it(n);if(r.ac)return void ze("SyncEngine","Ignoring unexpected query state notification.");const a=r.ec.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const d=yield Y1(r.localStore,x_(a[0])),p=Xp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Dd(r,d,p);break}case"rejected":yield j_(r.localStore,e,!0),Z_(r,e,i);break;default:ut()}}),fT.apply(this,arguments)}function L2(n,e,t){return pT.apply(this,arguments)}function pT(){return pT=(0,Ie.Z)(function*(n,e,t){const i=gT(n);if(i.ac){for(const r of e){if(i.ec.has(r)){ze("SyncEngine","Adding an already active target "+r);continue}const a=yield Z1(i.localStore,r),d=yield H_(i.localStore,a);yield WD(i,xM(a),d.targetId,!1),Ww(i.remoteStore,d)}for(const r of t)i.ec.has(r)&&(yield j_(i.localStore,r,!1).then(()=>{rv(i.remoteStore,r),Z_(i,r)}).catch(Do))}}),pT.apply(this,arguments)}function gT(n){const e=it(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_M.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E2.bind(null,e),e.Zu.Go=p2.bind(null,e.eventManager),e.Zu.lc=g2.bind(null,e.eventManager),e}function mT(n){const e=it(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=C2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I2.bind(null,e),e}class bM{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ie.Z)(function*(){t.wt=nv(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return q1(this.persistence,new $1,e.initialUser,this.wt)}_c(e){return new j1(Gw.Os,this.wt)}dc(e){return new tM}terminate(){var e=this;return(0,Ie.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class wM extends bM{constructor(e,t,i){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Ie.Z)(function*(){yield t().call(i,e),yield i.yc.initialize(i,e),yield mT(i.yc.syncEngine),yield $_(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return q1(this.persistence,new $1,e.initialUser,this.wt)}mc(e,t){return new DF(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const i=new sw(t,this.persistence);return new rw(e.asyncQueue,i)}_c(e){const t=dD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ke.withCacheSize(this.cacheSizeBytes):ke.DEFAULT;return new uD(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,iM(),qw(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new tM}}class V2 extends wM{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Ie.Z)(function*(){yield t().call(i,e);const r=i.yc.syncEngine;i.sharedClientState instanceof vD&&(i.sharedClientState.syncEngine={kr:O2.bind(null,r),Mr:N2.bind(null,r),Or:L2.bind(null,r),Ri:P2.bind(null,r),Nr:R2.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var a=(0,Ie.Z)(function*(d){yield function F2(n,e){return dT.apply(this,arguments)}(i.yc.syncEngine,d),i.gcScheduler&&(d&&!i.gcScheduler.started?i.gcScheduler.start():d||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(d&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():d||i.indexBackfillerScheduler.stop())});return function(d){return a.apply(this,arguments)}}())})()}dc(e){const t=iM();if(!vD.V(t))throw new He(we.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=dD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new vD(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class _T{initialize(e,t){var i=this;return(0,Ie.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>yM(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=S2.bind(null,i.syncEngine),yield LD(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new f2}createDatastore(e){const t=nv(e.databaseInfo.databaseId),i=new ZF(e.databaseInfo);return new XF(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=p=>yM(this.syncEngine,p,0),d=nM.V()?new nM:new WF,new t2(t,i,r,a,d);var t,i,r,a,d}createSyncEngine(e,t){return function(i,r,a,d,p,_,w){const S=new v2(i,r,a,d,p,_);return w&&(S.ac=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ie.Z)(function*(t){const i=it(t);ze("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield z_(i),i.du.shutdown(),i._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function EM(n,e=10240){let t=0;return{read:()=>(0,Ie.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Ie.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Kw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class U2{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new $i,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,Ie.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,Ie.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.bc();if(null===t)return null;const i=e.Ac.decode(t),r=Number(i);isNaN(r)&&e.Pc(`length string (${i}) is not valid number`);const a=yield e.vc(r);return new m2(JSON.parse(a),t.length+r)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,Ie.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}vc(e){var t=this;return(0,Ie.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const i=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,Ie.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class G2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ie.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new He(we.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ie.Z)(function*(a,d){const p=it(a),_=Kh(p.wt)+"/documents",w={documents:d.map(H=>tg(p.wt,H))},S=yield p.ao("BatchGetDocuments",_,w,d.length),O=new Map;S.forEach(H=>{const q=function kw(n,e){return"found"in e?function(t,i){Lt(!!i.found);const r=ja(t,i.found.name),a=On(i.found.updateTime),d=new Br({mapValue:{fields:i.found.fields}});return zn.newFoundDocument(r,a,d)}(n,e):"missing"in e?function(t,i){Lt(!!i.missing),Lt(!!i.readTime);const r=ja(t,i.missing),a=On(i.readTime);return zn.newNoDocument(r,a)}(n,e):ut()}(p.wt,H);O.set(q.key.toString(),q)});const V=[];return d.forEach(H=>{const q=O.get(H.toString());Lt(!!q),V.push(q)}),V}),function(a,d){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new bd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ie.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=et.fromPath(r);e.mutations.push(new C_(a,e.precondition(a)))}),yield(i=(0,Ie.Z)(function*(r,a){const d=it(r),p=Kh(d.wt)+"/documents",_={writes:a.map(w=>ng(d.wt,w))};yield d.ro("Commit",p,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ut();t=Vt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new He(we.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?oi.updateTime(t):oi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Vt.min()))throw new He(we.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return oi.updateTime(t)}return oi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class H2{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Dc=i.maxAttempts,this.So=new xD(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,Ie.Z)(function*(){const t=new G2(e.datastore),i=e.xc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Nc(a)}))}).catch(r=>{e.Nc(r)})}))}xc(e){try{const t=this.updateFunction(e);return!md(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!M0(t)}return!1}}class j2{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=mr.UNAUTHENTICATED,this.clientId=hd.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var d=(0,Ie.Z)(function*(p){ze("FirestoreClient","Received user=",p.uid),yield a.authCredentialListener(p),a.user=p});return function(p){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(i,d=>(ze("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Ie.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new He(we.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=W_(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function CM(n,e){return yT.apply(this,arguments)}function yT(){return yT=(0,Ie.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ie.Z)(function*(a){i.isEqual(a)||(yield W1(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),yT.apply(this,arguments)}function IM(n,e){return AT.apply(this,arguments)}function AT(){return AT=(0,Ie.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield vT(n);ze("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>uM(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>uM(e.remoteStore,a)),n.onlineComponents=e}),AT.apply(this,arguments)}function vT(n){return xT.apply(this,arguments)}function xT(){return xT=(0,Ie.Z)(function*(n){return n.offlineComponents||(ze("FirestoreClient","Using default OfflineComponentProvider"),yield CM(n,new bM)),n.offlineComponents}),xT.apply(this,arguments)}function Zw(n){return bT.apply(this,arguments)}function bT(){return bT=(0,Ie.Z)(function*(n){return n.onlineComponents||(ze("FirestoreClient","Using default OnlineComponentProvider"),yield IM(n,new _T)),n.onlineComponents}),bT.apply(this,arguments)}function DM(n){return vT(n).then(e=>e.persistence)}function Yw(n){return vT(n).then(e=>e.localStore)}function TM(n){return Zw(n).then(e=>e.remoteStore)}function wT(n){return Zw(n).then(e=>e.syncEngine)}function Y_(n){return ET.apply(this,arguments)}function ET(){return ET=(0,Ie.Z)(function*(n){const e=yield Zw(n),t=e.eventManager;return t.onListen=x2.bind(null,e.syncEngine),t.onUnlisten=b2.bind(null,e.syncEngine),t}),ET.apply(this,arguments)}function SM(n,e,t={}){const i=new $i;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(r,a,d,p,_){const w=new Kw({next:O=>{a.enqueueAndForget(()=>HD(r,S));const V=O.docs.has(d);!V&&O.fromCache?_.reject(new He(we.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&O.fromCache&&p&&"server"===p.source?_.reject(new He(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(O)},error:O=>_.reject(O)}),S=new $D(hu(d.path),w,{includeMetadataChanges:!0,Du:!0});return UD(r,S)}(yield Y_(n),n.asyncQueue,e,t,i)})),i.promise}function MM(n,e,t={}){const i=new $i;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(r,a,d,p,_){const w=new Kw({next:O=>{a.enqueueAndForget(()=>HD(r,S)),O.fromCache&&"server"===p.source?_.reject(new He(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(O)},error:O=>_.reject(O)}),S=new $D(d,w,{includeMetadataChanges:!0,Du:!0});return UD(r,S)}(yield Y_(n),n.asyncQueue,e,t,i)})),i.promise}const kM=new Map;function CT(n,e,t){if(!t)throw new He(we.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function RM(n,e,t,i){if(!0===e&&!0===i)throw new He(we.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function OM(n){if(!et.isDocumentKey(n))throw new He(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FM(n){if(et.isDocumentKey(n))throw new He(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Jw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ut()}function yn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new He(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jw(n);throw new He(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function PM(n,e){if(e<=0)throw new He(we.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class NM{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new He(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new He(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,RM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sv{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NM({}),this._settingsFrozen=!1,e instanceof uc?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new He(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uc(r.options.projectId)}(e))}get app(){if(!this._app)throw new He(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new He(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NM(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Zb;switch(t.type){case"gapi":const i=t.client;return Lt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new Jb(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new He(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=kM.get(e);t&&(ze("ComponentProvider","Removing Datastore"),kM.delete(e),t.terminate())}(this),Promise.resolve()}}class gi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gi(this.firestore,e,this._key)}}class ro{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ro(this.firestore,e,this._query)}}class gu extends ro{constructor(e,t,i){super(e,t,hu(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gi(this.firestore,null,new et(e))}withConverter(e){return new gu(this.firestore,e,this._path)}}function LM(n,e,...t){if(n=(0,Tt.m9)(n),CT("collection","path",e),n instanceof sv){const i=dn.fromString(e,...t);return FM(i),new gu(n,null,i)}{if(!(n instanceof gi||n instanceof gu))throw new He(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(dn.fromString(e,...t));return FM(i),new gu(n.firestore,null,i)}}function Xw(n,e,...t){if(n=(0,Tt.m9)(n),1===arguments.length&&(e=hd.I()),CT("doc","path",e),n instanceof sv){const i=dn.fromString(e,...t);return OM(i),new gi(n,null,new et(i))}{if(!(n instanceof gi||n instanceof gu))throw new He(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(dn.fromString(e,...t));return OM(i),new gi(n.firestore,n instanceof gu?n.converter:null,new et(i))}}function BM(n,e){return n=(0,Tt.m9)(n),e=(0,Tt.m9)(e),(n instanceof gi||n instanceof gu)&&(e instanceof gi||e instanceof gu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function VM(n,e){return n=(0,Tt.m9)(n),e=(0,Tt.m9)(e),n instanceof ro&&e instanceof ro&&n.firestore===e.firestore&&qh(n._query,e._query)&&n.converter===e.converter}class eP{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new xD(this,"async_queue_retry"),this.Kc=()=>{const t=qw();t&&ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=qw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=qw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new $i;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}jc(){var e=this;return(0,Ie.Z)(function*(){if(0!==e.Oc.length){try{yield e.Oc[0](),e.Oc.shift(),e.So.reset()}catch(t){if(!cc(t))throw t;ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Oc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Mc.then(()=>(this.Lc=!0,e().catch(i=>{throw this.Bc=i,this.Lc=!1,Oi("INTERNAL UNHANDLED ERROR: ",function(a){let d=a.message||"";return a.stack&&(d=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),d}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Mc=t,t}enqueueAfterDelay(e,t,i){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const r=VD.createAndSchedule(this,e,t,i,a=>this.Wc(a));return this.$c.push(r),r}Gc(){this.Bc&&ut()}verifyOperationInProgress(){}zc(){var e=this;return(0,Ie.Z)(function*(){let t;do{t=e.Mc,yield t}while(t!==e.Mc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function IT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class tP{constructor(){this._progressObserver={},this._taskCompletionResolver=new $i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class wi extends sv{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new eP,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||UM(this),this._firestoreClient.terminate()}}function yr(n){return n._firestoreClient||UM(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function UM(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Gp(n._databaseId,a,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var a,p;n._firestoreClient=new j2(n._authCredentials,n._appCheckCredentials,n._queue,i)}function GM(n,e,t){const i=new $i;return n.asyncQueue.enqueue((0,Ie.Z)(function*(){try{yield CM(n,t),yield IM(n,e),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(d=a).name?d.code===we.FAILED_PRECONDITION||d.code===we.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw a;dd("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var d})).then(()=>i.promise)}function HM(n){if(n._initialized||n._terminated)throw new He(we.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Td{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new He(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mu(qi.fromBase64String(e))}catch(t){throw new He(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new mu(qi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ag{constructor(e){this._methodName=e}}class eE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new He(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new He(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}const dP=/^__.*__$/;class hP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new ta(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zp(e,this.data,t,this.fieldTransforms)}}class jM{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ta(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class tE{constructor(e,t,i,r,a,d){this.settings=e,this.databaseId=t,this.wt=i,this.ignoreUndefinedProperties=r,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new tE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:i,na:!1});return r.sa(e),r}ia(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return rE(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(zM(this.Zc)&&dP.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class fP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=i||nv(e)}aa(e,t,i,r=!1){return new tE({Zc:e,methodName:t,ca:i,path:fi.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function lg(n){const e=n._freezeSettings(),t=nv(n._databaseId);return new fP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nE(n,e,t,i,r,a={}){const d=n.aa(a.merge||a.mergeFields?2:0,e,t,r);MT("Data must be an object, but it was:",d,i);const p=WM(i,d);let _,w;if(a.merge)_=new Js(d.fieldMask),w=d.fieldTransforms;else if(a.mergeFields){const S=[];for(const O of a.mergeFields){const V=kT(e,O,t);if(!d.contains(V))throw new He(we.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);KM(S,V)||S.push(V)}_=new Js(S),w=d.fieldTransforms.filter(O=>_.covers(O.field))}else _=null,w=d.fieldTransforms;return new hP(new Br(p),_,w)}class ov extends ag{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ov}}function $M(n,e,t){return new tE({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class DT extends ag{_toFieldTransform(e){return new Kp(e.path,new Wh)}isEqual(e){return e instanceof DT}}class pP extends ag{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=$M(this,e,!0),i=this.ha.map(a=>cg(a,t)),r=new Ad(i);return new Kp(e.path,r)}isEqual(e){return this===e}}class gP extends ag{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=$M(this,e,!0),i=this.ha.map(a=>cg(a,t)),r=new vd(i);return new Kp(e.path,r)}isEqual(e){return this===e}}class mP extends ag{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new xd(e.wt,x0(e.wt,this.la));return new Kp(e.path,t)}isEqual(e){return this===e}}function TT(n,e,t,i){const r=n.aa(1,e,t);MT("Data must be an object, but it was:",r,i);const a=[],d=Br.empty();fd(i,(_,w)=>{const S=iE(e,_,t);w=(0,Tt.m9)(w);const O=r.ia(S);if(w instanceof ov)a.push(S);else{const V=cg(w,O);null!=V&&(a.push(S),d.set(S,V))}});const p=new Js(a);return new jM(d,p,r.fieldTransforms)}function ST(n,e,t,i,r,a){const d=n.aa(1,e,t),p=[kT(e,i,t)],_=[r];if(a.length%2!=0)throw new He(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<a.length;V+=2)p.push(kT(e,a[V])),_.push(a[V+1]);const w=[],S=Br.empty();for(let V=p.length-1;V>=0;--V)if(!KM(w,p[V])){const H=p[V];let q=_[V];q=(0,Tt.m9)(q);const ce=d.ia(H);if(q instanceof ov)w.push(H);else{const De=cg(q,ce);null!=De&&(w.push(H),S.set(H,De))}}const O=new Js(w);return new jM(S,O,d.fieldTransforms)}function qM(n,e,t,i=!1){return cg(t,n.aa(i?4:3,e))}function cg(n,e){if(QM(n=(0,Tt.m9)(n)))return MT("Unsupported field value:",e,n),WM(n,e);if(n instanceof ag)return function(t,i){if(!zM(i.Zc))throw i.oa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const d of t){let p=cg(d,i.ra(a));null==p&&(p={nullValue:"NULL_VALUE"}),r.push(p),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,Tt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return x0(i.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Zn.fromDate(t);return{timestampValue:eg(i.wt,r)}}if(t instanceof Zn){const r=new Zn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:eg(i.wt,r)}}if(t instanceof eE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof mu)return{bytesValue:Dw(i.wt,t._byteString)};if(t instanceof gi){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.oa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:N0(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.oa(`Unsupported field value: ${Jw(t)}`)}(n,e)}function WM(n,e){const t={};return ow(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fd(n,(i,r)=>{const a=cg(r,e.ea(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function QM(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Zn||n instanceof eE||n instanceof mu||n instanceof gi||n instanceof ag)}function MT(n,e,t){if(!QM(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=Jw(t);throw e.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function kT(n,e,t){if((e=(0,Tt.m9)(e))instanceof Td)return e._internalPath;if("string"==typeof e)return iE(n,e);throw rE("Field path arguments must be of type string or ",n,!1,void 0,t)}const _P=new RegExp("[~\\*/\\[\\]]");function iE(n,e,t){if(e.search(_P)>=0)throw rE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Td(...e.split("."))._internalPath}catch(i){throw rE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rE(n,e,t,i,r){const a=i&&!i.isEmpty(),d=void 0!==r;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(a||d)&&(_+=" (found",a&&(_+=` in field ${i}`),d&&(_+=` in document ${r}`),_+=")"),new He(we.INVALID_ARGUMENT,p+n+_)}function KM(n,e){return n.some(t=>t.isEqual(e))}class av{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new gi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class yP extends av{data(){return super.data()}}function sE(n,e){return"string"==typeof e?iE(n,e):e instanceof Td?e._internalPath:e._delegate._internalPath}class ug{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sd extends av{constructor(e,t,i,r,a,d){super(e,t,i,r,d),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new lv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(sE("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class lv extends Sd{data(e={}){return super.data(e)}}class tf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ug(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new lv(this._firestore,this._userDataWriter,i.key,i,new ug(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new He(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(d=>({type:"added",doc:new lv(i._firestore,i._userDataWriter,d.doc.key,d.doc,new ug(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>r||3!==d.type).map(d=>{const p=new lv(i._firestore,i._userDataWriter,d.doc.key,d.doc,new ug(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,w=-1;return 0!==d.type&&(_=a.indexOf(d.doc.key),a=a.delete(d.doc.key)),1!==d.type&&(a=a.add(d.doc),w=a.indexOf(d.doc.key)),{type:AP(d.type),doc:p,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function AP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function ZM(n,e){return n instanceof Sd&&e instanceof Sd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof tf&&e instanceof tf&&n._firestore===e._firestore&&VM(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function YM(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new He(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cv{}function nf(n,...e){for(const t of e)n=t._apply(n);return n}class vP extends cv{constructor(e,t,i){super(),this.fa=e,this.da=t,this._a=i,this.type="where"}_apply(e){const t=lg(e.firestore),i=function(r,a,d,p,_,w,S){let O;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new He(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){ik(S,w);const H=[];for(const q of S)H.push(nk(p,r,q));O={arrayValue:{values:H}}}else O=nk(p,r,S)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||ik(S,w),O=qM(d,"where",S,"in"===w||"not-in"===w);const V=_r.create(_,w,O);return function(H,q){if(q.ht()){const De=$h(H);if(null!==De&&!De.isEqual(q.field))throw new He(we.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${De.toString()}' and '${q.field.toString()}'`);const Ge=y_(H);null!==Ge&&rk(0,q.field,Ge)}const ce=function(De,Ge){for(const rt of De.filters)if(Ge.indexOf(rt.op)>=0)return rt.op;return null}(H,function(De){switch(De){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(q.op));if(null!==ce)throw new He(we.INVALID_ARGUMENT,ce===q.op?`Invalid query. You cannot use more than one '${q.op.toString()}' filter.`:`Invalid query. You cannot use '${q.op.toString()}' filters with '${ce.toString()}' filters.`)}(r,V),V}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new ro(e.firestore,e.converter,function(r,a){const d=r.filters.concat([a]);return new hc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),d,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class bP extends cv{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new He(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new He(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new zh(r,a);return function(p,_){if(null===y_(p)){const w=$h(p);null!==w&&rk(0,w,_.field)}}(i,d),d}(e._query,this.fa,this.wa);return new ro(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new hc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class JM extends cv{constructor(e,t,i){super(),this.type=e,this.ma=t,this.ga=i}_apply(e){return new ro(e.firestore,e.converter,A_(e._query,this.ma,this.ga))}}class XM extends cv{constructor(e,t,i){super(),this.type=e,this.ya=t,this.pa=i}_apply(e){const t=tk(e,this.type,this.ya,this.pa);return new ro(e.firestore,e.converter,(r=t,new hc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class ek extends cv{constructor(e,t,i){super(),this.type=e,this.ya=t,this.pa=i}_apply(e){const t=tk(e,this.type,this.ya,this.pa);return new ro(e.firestore,e.converter,(r=t,new hc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function tk(n,e,t,i){if(t[0]=(0,Tt.m9)(t[0]),t[0]instanceof av)return function(r,a,d,p,_){if(!p)throw new He(we.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const w=[];for(const S of qp(r))if(S.field.isKeyField())w.push(du(a,p.key));else{const O=p.data.field(S.field);if(d0(O))throw new He(we.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const V=S.field.canonicalString();throw new He(we.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}w.push(O)}return new ea(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=lg(n.firestore);return function(a,d,p,_,w,S){const O=a.explicitOrderBy;if(w.length>O.length)throw new He(we.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let H=0;H<w.length;H++){const q=w[H];if(O[H].field.isKeyField()){if("string"!=typeof q)throw new He(we.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof q}`);if(!$p(a)&&-1!==q.indexOf("/"))throw new He(we.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${q}' contains a slash.`);const ce=a.path.child(dn.fromString(q));if(!et.isDocumentKey(ce))throw new He(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ce}' is not because it contains an odd number of segments.`);const De=new et(ce);V.push(du(d,De))}else{const ce=qM(p,_,q);V.push(ce)}}return new ea(V,S)}(n._query,n.firestore._databaseId,r,e,t,i)}}function nk(n,e,t){if("string"==typeof(t=(0,Tt.m9)(t))){if(""===t)throw new He(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$p(e)&&-1!==t.indexOf("/"))throw new He(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(dn.fromString(t));if(!et.isDocumentKey(i))throw new He(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return du(n,new et(i))}if(t instanceof gi)return du(n,t._key);throw new He(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jw(t)}.`)}function ik(n,e){if(!Array.isArray(n)||0===n.length)throw new He(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new He(we.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function rk(n,e,t){if(!t.isEqual(e))throw new He(we.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const MP={maxAttempts:5};class RT{convertValue(e,t="none"){switch(_d(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ut()}}convertObject(e,t){const i={};return fd(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new eE(pi(e.latitude),pi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=cw(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Up(e));default:return null}}convertTimestamp(e){const t=cu(e);return new Zn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=dn.fromString(e);Lt(Pw(i));const r=new uc(i.get(1),i.get(3)),a=new et(i.popFirst(5));return r.isEqual(t)||Oi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function oE(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class kP extends RT{constructor(e){super(),this.firestore=e}convertBytes(e){return new mu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gi(this.firestore,null,t)}}class sk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=lg(e)}set(e,t,i){this._verifyNotCommitted();const r=rf(e,this._firestore),a=oE(r.converter,t,i),d=nE(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(d.toMutation(r._key,oi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=rf(e,this._firestore);let d;return d="string"==typeof(t=(0,Tt.m9)(t))||t instanceof Td?ST(this._dataReader,"WriteBatch.update",a._key,t,i,r):TT(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(d.toMutation(a._key,oi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=rf(e,this._firestore);return this._mutations=this._mutations.concat(new bd(t._key,oi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new He(we.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rf(n,e){if((n=(0,Tt.m9)(n)).firestore!==e)throw new He(we.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class dg extends RT{constructor(e){super(),this.firestore=e}convertBytes(e){return new mu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gi(this.firestore,null,t)}}function ok(n,e,t){n=yn(n,gi);const i=yn(n.firestore,wi),r=oE(n.converter,e,t);return J_(i,[nE(lg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,oi.none())])}function ak(n,e,t,...i){n=yn(n,gi);const r=yn(n.firestore,wi),a=lg(r);let d;return d="string"==typeof(e=(0,Tt.m9)(e))||e instanceof Td?ST(a,"updateDoc",n._key,e,t,i):TT(a,"updateDoc",n._key,e),J_(r,[d.toMutation(n._key,oi.exists(!0))])}function lk(n,...e){var t,i,r;n=(0,Tt.m9)(n);let a={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||IT(e[d])||(a=e[d],d++);const p={includeMetadataChanges:a.includeMetadataChanges};if(IT(e[d])){const O=e[d];e[d]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[d+1]=null===(i=O.error)||void 0===i?void 0:i.bind(O),e[d+2]=null===(r=O.complete)||void 0===r?void 0:r.bind(O)}let _,w,S;if(n instanceof gi)w=yn(n.firestore,wi),S=hu(n._key.path),_={next:O=>{e[d]&&e[d](OT(w,n,O))},error:e[d+1],complete:e[d+2]};else{const O=yn(n,ro);w=yn(O.firestore,wi),S=O._query;const V=new dg(w);_={next:H=>{e[d]&&e[d](new tf(w,V,O,H))},error:e[d+1],complete:e[d+2]},YM(n._query)}return function(O,V,H,q){const ce=new Kw(q),De=new $D(V,ce,H);return O.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return UD(yield Y_(O),De)})),()=>{ce.Tc(),O.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return HD(yield Y_(O),De)}))}}(yr(w),S,p,_)}function J_(n,e){return function(t,i){const r=new $i;return t.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function w2(n,e,t){return ZD.apply(this,arguments)}(yield wT(t),i,r)})),r.promise}(yr(n),e)}function OT(n,e,t){const i=t.docs.get(e._key),r=new dg(n);return new Sd(n,r,e._key,i,new ug(t.hasPendingWrites,t.fromCache),e.converter)}class GP extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=lg(e)}get(e){const t=rf(e,this._firestore),i=new kP(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return ut();const a=r[0];if(a.isFoundDocument())return new av(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new av(this._firestore,i,t._key,null,t.converter);throw ut()})}set(e,t,i){const r=rf(e,this._firestore),a=oE(r.converter,t,i),d=nE(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,d),this}update(e,t,i,...r){const a=rf(e,this._firestore);let d;return d="string"==typeof(t=(0,Tt.m9)(t))||t instanceof Td?ST(this._dataReader,"Transaction.update",a._key,t,i,r):TT(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,d),this}delete(e){const t=rf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=rf(e,this._firestore),i=new dg(this._firestore);return super.get(e).then(r=>new Sd(this._firestore,i,t._key,r._document,new ug(!1,!1),t.converter))}}function FT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new He("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function uk(){if("undefined"==typeof Uint8Array)throw new He("unimplemented","Uint8Arrays are not available in this environment.")}function dk(){if(!function aw(){return"undefined"!=typeof atob}())throw new He("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){ud=Eo.SDK_VERSION,(0,Eo._registerComponent)(new Or.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),a=new wi(r,new Yb(t.getProvider("auth-internal")),new xI(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC")),(0,Eo.registerVersion)(Wb,"3.4.14",n),(0,Eo.registerVersion)(Wb,"3.4.14","esm2017")}();class uv{constructor(e){this._delegate=e}static fromBase64String(e){return dk(),new uv(mu.fromBase64String(e))}static fromUint8Array(e){return uk(),new uv(mu.fromUint8Array(e))}toBase64(){return dk(),this._delegate.toBase64()}toUint8Array(){return uk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function PT(n){return function ZP(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class YP{enableIndexedDbPersistence(e,t){return function iP(n,e){HM(n=yn(n,wi));const t=yr(n),i=n._freezeSettings(),r=new _T;return GM(t,r,new wM(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function rP(n){HM(n=yn(n,wi));const e=yr(n),t=n._freezeSettings(),i=new _T;return GM(e,i,new V2(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function sP(n){if(n._initialized&&!n._terminated)throw new He(we.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new $i;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{yield(t=(0,Ie.Z)(function*(i){if(!Xo.V())return Promise.resolve();const r=i+"main";yield Xo.delete(r)}),function(i){return t.apply(this,arguments)})(dD(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class hk{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof uc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&dd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function J2(n,e,t,i={}){var r;const a=(n=yn(n,sv))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&dd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let d,p;if("string"==typeof i.mockUserToken)d=i.mockUserToken,p=mr.MOCK_USER;else{d=(0,Tt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new He(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new mr(_)}n._authCredentials=new yI(new Kb(d,p))}}(this._delegate,e,t,i)}enableNetwork(){return function aP(n){return function z2(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield DM(n),t=yield TM(n);return e.setNetworkEnabled(!0),function(i){const r=it(i);return r.lu.delete(0),iv(r)}(t)}))}(yr(n=yn(n,wi)))}(this._delegate)}disableNetwork(){return function lP(n){return function $2(n){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){const e=yield DM(n),t=yield TM(n);return e.setNetworkEnabled(!1),(i=(0,Ie.Z)(function*(r){const a=it(r);a.lu.add(0),yield z_(a),a._u.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(yr(n=yn(n,wi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,RM("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function oP(n){return function(e){const t=new $i;return e.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function D2(n,e){return tT.apply(this,arguments)}(yield wT(e),t)})),t.promise}(yr(n=yn(n,wi)))}(this._delegate)}onSnapshotsInSync(e){return function UP(n,e){return function Q2(n,e){const t=new Kw(e);return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return i=yield Y_(n),r=t,it(i).Tu.add(r),void r.next();var i,r})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return i=yield Y_(n),r=t,void it(i).Tu.delete(r);var i,r}))}}(yr(n=yn(n,wi)),IT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new He("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new X_(this,LM(this._delegate,e))}catch(t){throw To(t,"collection()","Firestore.collection()")}}doc(e){try{return new El(this,Xw(this._delegate,e))}catch(t){throw To(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new So(this,function X2(n,e){if(n=yn(n,sv),CT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new He(we.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ro(n,null,(t=e,new hc(dn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw To(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function HP(n,e,t){n=yn(n,wi);const i=Object.assign(Object.assign({},MP),t);return function(r){if(r.maxAttempts<1)throw new He(we.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function K2(n,e,t){const i=new $i;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){const r=yield(a=n,Zw(a).then(d=>d.datastore));var a;new H2(n.asyncQueue,r,t,e,i).run()})),i.promise}(yr(n),r=>e(new GP(n,r)),i)}(this._delegate,t=>e(new fk(this,t)))}batch(){return yr(this._delegate),new pk(new sk(this._delegate,e=>J_(this._delegate,e)))}loadBundle(e){return function cP(n,e){const t=yr(n=yn(n,wi)),i=new tP;return function Z2(n,e,t,i){const r=function(a,d){let p;return p="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return EM(_,w);if(_ instanceof ArrayBuffer)return EM(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new U2(_,d);var _}(t,nv(e));n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){!function B2(n,e,t){const i=it(n);var r;(r=(0,Ie.Z)(function*(a,d,p){try{const _=yield d.getMetadata();if(yield function(V,H){const q=it(V),ce=On(H.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",De=>q.Ds.getBundleMetadata(De,H.id)).then(De=>!!De&&De.createTime.compareTo(ce)>=0)}(a.localStore,_))return yield d.close(),p._completeWith({taskState:"Success",documentsLoaded:(V=_).totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}),Promise.resolve(new Set);p._updateProgress(fM(_));const w=new _2(_,a.localStore,d.wt);let S=yield d.fc();for(;S;){const V=yield w.Nu(S);V&&p._updateProgress(V),S=yield d.fc()}const O=yield w.complete();return yield Dd(a,O.Ou,void 0),yield function(V,H){const q=it(V);return q.persistence.runTransaction("Save bundle","readwrite",ce=>q.Ds.saveBundleMetadata(ce,H))}(a.localStore,_),p._completeWith(O.progress),Promise.resolve(O.Mu)}catch(_){return dd("SyncEngine",`Loading bundle failed with ${_}`),p._failWith(_),Promise.resolve(new Set)}var V}),function(a,d,p){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield wT(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function uP(n,e){return function Y2(n,e){return n.asyncQueue.enqueue((0,Ie.Z)(function*(){return function(t,i){const r=it(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ds.getNamedQuery(a,i))}(yield Yw(n),e)}))}(yr(n=yn(n,wi)),e).then(t=>t?new ro(n,null,t.query):null)}(this._delegate,e).then(t=>t?new So(this,t):null)}}class aE extends RT{constructor(e){super(),this.firestore=e}convertBytes(e){return new uv(new mu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return El.forKey(t,this.firestore,null)}}class fk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new aE(e)}get(e){const t=fg(e);return this._delegate.get(t).then(i=>new dv(this._firestore,new Sd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=fg(e);return i?(FT("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=fg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=fg(e);return this._delegate.delete(t),this}}class pk{constructor(e){this._delegate=e}set(e,t,i){const r=fg(e);return i?(FT("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=fg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=fg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class hg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new lv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hv(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=hg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new hg(e,new aE(e),t),r.set(t,a)),a}}hg.INSTANCES=new WeakMap;class El{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new aE(e)}static forPath(e,t,i){if(e.length%2!=0)throw new He("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new El(t,new gi(t._delegate,i,new et(e)))}static forKey(e,t,i){return new El(t,new gi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new X_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new X_(this.firestore,LM(this._delegate,e))}catch(t){throw To(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Tt.m9)(e))instanceof gi&&BM(this._delegate,e)}set(e,t){t=FT("DocumentReference.set",t);try{return t?ok(this._delegate,e,t):ok(this._delegate,e)}catch(i){throw To(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?ak(this._delegate,e):ak(this._delegate,e,t,...i)}catch(r){throw To(r,"updateDoc()","DocumentReference.update()")}}delete(){return function BP(n){return J_(yn(n.firestore,wi),[new bd(n._key,oi.none())])}(this._delegate)}onSnapshot(...e){const t=gk(e),i=mk(e,r=>new dv(this.firestore,new Sd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return lk(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function OP(n){n=yn(n,gi);const e=yn(n.firestore,wi),t=yr(e),i=new dg(e);return function q2(n,e){const t=new $i;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(i=(0,Ie.Z)(function*(r,a,d){try{const p=yield function(_,w){const S=it(_);return S.persistence.runTransaction("read document","readonly",O=>S.localDocuments.getDocument(O,w))}(r,a);p.isFoundDocument()?d.resolve(p):p.isNoDocument()?d.resolve(null):d.reject(new He(we.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const _=W_(p,`Failed to get document '${a} from cache`);d.reject(_)}}),function(r,a,d){return i.apply(this,arguments)})(yield Yw(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Sd(e,i,n._key,r,new ug(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function FP(n){n=yn(n,gi);const e=yn(n.firestore,wi);return SM(yr(e),n._key,{source:"server"}).then(t=>OT(e,n,t))}(this._delegate):function RP(n){n=yn(n,gi);const e=yn(n.firestore,wi);return SM(yr(e),n._key).then(t=>OT(e,n,t))}(this._delegate),t.then(i=>new dv(this.firestore,new Sd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new El(this.firestore,this._delegate.withConverter(e?hg.getInstance(this.firestore,e):null))}}function To(n,e,t){return n.message=n.message.replace(e,t),n}function gk(n){for(const e of n)if("object"==typeof e&&!PT(e))return e;return{}}function mk(n,e){var t,i;let r;return r=PT(n[0])?n[0]:PT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class dv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new El(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ZM(this._delegate,e._delegate)}}class hv extends dv{data(e){const t=this._delegate.data(e);return function Qb(n,e){n||ut()}(void 0!==t),t}}class So{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new aE(e)}where(e,t,i){try{return new So(this.firestore,nf(this._delegate,function xP(n,e,t){const i=e,r=sE("where",n);return new vP(r,i,t)}(e,t,i)))}catch(r){throw To(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new So(this.firestore,nf(this._delegate,function wP(n,e="asc"){const t=e,i=sE("orderBy",n);return new bP(i,t)}(e,t)))}catch(i){throw To(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new So(this.firestore,nf(this._delegate,function EP(n){return PM("limit",n),new JM("limit",n,"F")}(e)))}catch(t){throw To(t,"limit()","Query.limit()")}}limitToLast(e){try{return new So(this.firestore,nf(this._delegate,function CP(n){return PM("limitToLast",n),new JM("limitToLast",n,"L")}(e)))}catch(t){throw To(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new So(this.firestore,nf(this._delegate,function IP(...n){return new XM("startAt",n,!0)}(...e)))}catch(t){throw To(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new So(this.firestore,nf(this._delegate,function DP(...n){return new XM("startAfter",n,!1)}(...e)))}catch(t){throw To(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new So(this.firestore,nf(this._delegate,function TP(...n){return new ek("endBefore",n,!1)}(...e)))}catch(t){throw To(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new So(this.firestore,nf(this._delegate,function SP(...n){return new ek("endAt",n,!0)}(...e)))}catch(t){throw To(t,"endAt()","Query.endAt()")}}isEqual(e){return VM(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function NP(n){n=yn(n,ro);const e=yn(n.firestore,wi),t=yr(e),i=new dg(e);return function W2(n,e){const t=new $i;return n.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(i=(0,Ie.Z)(function*(r,a,d){try{const p=yield jw(r,a,!0),_=new mM(a,p.ji),w=_.Ku(p.documents),S=_.applyChanges(w,!1);d.resolve(S.snapshot)}catch(p){const _=W_(p,`Failed to execute query '${a} against cache`);d.reject(_)}}),function(r,a,d){return i.apply(this,arguments)})(yield Yw(n),e,t);var i})),t.promise}(t,n._query).then(r=>new tf(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function LP(n){n=yn(n,ro);const e=yn(n.firestore,wi),t=yr(e),i=new dg(e);return MM(t,n._query,{source:"server"}).then(r=>new tf(e,i,n,r))}(this._delegate):function PP(n){n=yn(n,ro);const e=yn(n.firestore,wi),t=yr(e),i=new dg(e);return YM(n._query),MM(t,n._query).then(r=>new tf(e,i,n,r))}(this._delegate),t.then(i=>new NT(this.firestore,new tf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=gk(e),i=mk(e,r=>new NT(this.firestore,new tf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return lk(this._delegate,t,i)}withConverter(e){return new So(this.firestore,this._delegate.withConverter(e?hg.getInstance(this.firestore,e):null))}}class XP{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new hv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class NT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new So(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new hv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new XP(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new hv(this._firestore,i))})}isEqual(e){return ZM(this._delegate,e._delegate)}}class X_ extends So{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new El(this.firestore,e):null}doc(e){try{return new El(this.firestore,void 0===e?Xw(this._delegate):Xw(this._delegate,e))}catch(t){throw To(t,"doc()","CollectionReference.doc()")}}add(e){return function VP(n,e){const t=yn(n.firestore,wi),i=Xw(n),r=oE(n.converter,e);return J_(t,[nE(lg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,oi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new El(this.firestore,t))}isEqual(e){return BM(this._delegate,e._delegate)}withConverter(e){return new X_(this.firestore,this._delegate.withConverter(e?hg.getInstance(this.firestore,e):null))}}function fg(n){return yn(n,gi)}class LT{constructor(...e){this._delegate=new Td(...e)}static documentId(){return new LT(fi.keyField().canonicalString())}isEqual(e){return(e=(0,Tt.m9)(e))instanceof Td&&this._delegate._internalPath.isEqual(e._internalPath)}}class pg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function zP(){return new DT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new pg(e)}static delete(){const e=function jP(){return new ov("deleteField")}();return e._methodName="FieldValue.delete",new pg(e)}static arrayUnion(...e){const t=function $P(...n){return new pP("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new pg(t)}static arrayRemove(...e){const t=function qP(...n){return new gP("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new pg(t)}static increment(e){const t=function WP(n){return new mP("increment",n)}(e);return t._methodName="FieldValue.increment",new pg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const eN={Firestore:hk,GeoPoint:eE,Timestamp:Zn,Blob:uv,Transaction:fk,WriteBatch:pk,DocumentReference:El,DocumentSnapshot:dv,Query:So,QueryDocumentSnapshot:hv,QuerySnapshot:NT,CollectionReference:X_,FieldPath:LT,FieldValue:pg,setLogLevel:function JP(n){!function _I(n){lc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function nN(n){(function tN(n,e){n.INTERNAL.registerComponent(new Or.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},eN)))})(n,(e,t)=>new hk(e,t,new YP)),n.registerVersion("@firebase/firestore-compat","0.1.23")}(ju.Z);var ey=L(5363),_k=L(3099);function BT(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,_k.B)({connector:()=>new $n(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const yk=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var VT=L(515);function fv(n){return n<=0?()=>VT.E:(0,R.e)((e,t)=>{let i=0;e.subscribe((0,G.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function rN(n){return(0,R.e)((e,t)=>{let i=!1;e.subscribe((0,G.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function sN(n=oN){return(0,R.e)((e,t)=>{let i=!1;e.subscribe((0,G.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function oN(){return new yk}function Ak(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Pa((r,a)=>n(r,a,i)):sp.y,fv(1),t?rN(e):sN(()=>new yk))}var za=L(576);function vk(n,e){return(0,za.m)(e)?Ae(()=>n,e):Ae(()=>n)}var UT=L(9468);const xk=new c.OlP("angularfire2.auth.use-emulator"),bk=new c.OlP("angularfire2.auth.settings"),wk=new c.OlP("angularfire2.auth.tenant-id"),Ek=new c.OlP("angularfire2.auth.langugage-code"),Ck=new c.OlP("angularfire2.auth.use-device-language"),Ik=new c.OlP("angularfire.auth.persistence"),Dk=(n,e,t,i,r,a,d,p)=>(0,ri.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),d)for(const[w,S]of Object.entries(d))_.settings[w]=S;return p&&_.setPersistence(p),_},[t,i,r,a,d,p]);let Tk=(()=>{class n{constructor(t,i,r,a,d,p,_,w,S,O,V,H){const q=new Ui.x,ce=Pn(void 0).pipe((0,ey.Q)(d.outsideAngular),Ae(()=>a.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,1451)))),(0,Ne.U)(()=>(0,ri.on)(t,a,i)),(0,Ne.U)(De=>Dk(De,a,p,w,S,O,_,V)),BT({bufferSize:1,refCount:!1}));if(sr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Pn(null);else{ce.pipe(Ak()).subscribe();const Ge=ce.pipe(Ae(Ye=>Ye.getRedirectResult().then(It=>It,()=>null)),Nn.iC,BT({bufferSize:1,refCount:!1})),rt=ce.pipe(Ae(Ye=>new Wn.y(It=>({unsubscribe:a.runOutsideAngular(()=>Ye.onAuthStateChanged(Ot=>It.next(Ot),Ot=>It.error(Ot),()=>It.complete()))})))),at=ce.pipe(Ae(Ye=>new Wn.y(It=>({unsubscribe:a.runOutsideAngular(()=>Ye.onIdTokenChanged(Ot=>It.next(Ot),Ot=>It.error(Ot),()=>It.complete()))}))));this.authState=Ge.pipe(vk(rt),(0,UT.R)(d.outsideAngular),(0,ey.Q)(d.insideAngular)),this.user=Ge.pipe(vk(at),(0,UT.R)(d.outsideAngular),(0,ey.Q)(d.insideAngular)),this.idToken=this.user.pipe(Ae(Ye=>Ye?(0,di.D)(Ye.getIdToken()):Pn(null))),this.idTokenResult=this.user.pipe(Ae(Ye=>Ye?(0,di.D)(Ye.getIdTokenResult()):Pn(null))),this.credential=(0,E.T)(Ge,q,this.authState.pipe(Pa(Ye=>!Ye))).pipe((0,Ne.U)(Ye=>(null==Ye?void 0:Ye.user)?Ye:null),(0,UT.R)(d.outsideAngular),(0,ey.Q)(d.insideAngular))}return(0,ri.pX)(this,ce,a,{spy:{apply:(De,Ge,rt)=>{(De.startsWith("signIn")||De.startsWith("createUser"))&&rt.then(at=>q.next(at))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ri.Dh),c.LFG(ri.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Nn.HU),c.LFG(xk,8),c.LFG(bk,8),c.LFG(wk,8),c.LFG(Ek,8),c.LFG(Ck,8),c.LFG(Ik,8),c.LFG(Zf,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Sk(n,e){return function lN(n,e=Hu.z){return new Wn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function GT(n,e){return Sk(n,e).pipe((0,Ne.U)(t=>({payload:t,type:"query"})))}function lE(n,e){return GT(n,e).pipe(Mh(void 0),mA(),(0,Ne.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((d,p)=>{const _=r.find(S=>S.doc.ref.isEqual(d.ref)),w=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(d.metadata)||a.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:d}})}),a}))}function Mk(n,e,t){return lE(n,t).pipe(rp((i,r)=>function uN(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function dN(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return HT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return HT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return HT(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),function _A(n,e=sp.y){return n=null!=n?n:NC,(0,R.e)((t,i)=>{let r,a=!0;t.subscribe((0,G.x)(i,d=>{const p=e(d);(a||!n(r,p))&&(a=!1,r=p,i.next(d))}))})}(),(0,Ne.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function HT(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function kk(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Rk{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=lE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ne.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Mh(void 0),mA(),Pa(([i,r])=>r.length>0||!i),(0,Ne.U)(([i,r])=>r),Nn.iC)}auditTrail(e){return this.stateChanges(e).pipe(rp((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=kk(e);return Mk(this.query,t,this.afs.schedulers.outsideAngular).pipe(Nn.iC)}valueChanges(e={}){return GT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ne.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Nn.iC)}get(e){return(0,di.D)(this.query.get(e)).pipe(Nn.iC)}add(e){return this.ref.add(e)}doc(e){return new Ok(this.ref.doc(e),this.afs)}}class Ok{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=Nk(i,t);return new Rk(r,a,this.afs)}snapshotChanges(){return function cN(n,e){return Sk(n,e).pipe(Mh(void 0),mA(),(0,Ne.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Nn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ne.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,di.D)(this.ref.get(e)).pipe(Nn.iC)}}class hN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?lE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ne.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Pa(t=>t.length>0),Nn.iC):lE(this.query,this.afs.schedulers.outsideAngular).pipe(Nn.iC)}auditTrail(e){return this.stateChanges(e).pipe(rp((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=kk(e);return Mk(this.query,t,this.afs.schedulers.outsideAngular).pipe(Nn.iC)}valueChanges(e={}){return GT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ne.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Nn.iC)}get(e){return(0,di.D)(this.query.get(e)).pipe(Nn.iC)}}const Fk=new c.OlP("angularfire2.enableFirestorePersistence"),Pk=new c.OlP("angularfire2.firestore.persistenceSettings"),fN=new c.OlP("angularfire2.firestore.settings"),pN=new c.OlP("angularfire2.firestore.use-emulator");function Nk(n,e=(t=>t)){return{query:e(n),ref:n}}let gN=(()=>{class n{constructor(t,i,r,a,d,p,_,w,S,O,V,H,q,ce,De,Ge,rt){this.schedulers=_;const at=(0,ri.on)(t,p,i),Ye=S;O&&Dk(at,p,V,q,ce,De,H,Ge),[this.firestore,this.persistenceEnabled$]=(0,ri.cc)(`${at.name}.firestore`,"AngularFirestore",at.name,()=>{const It=p.runOutsideAngular(()=>at.firestore());if(a&&It.settings(a),Ye&&It.useEmulator(...Ye),r&&!sr(d)){const Ot=()=>{try{return(0,di.D)(It.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(on){return"undefined"!=typeof console&&console.warn(on),Pn(!1)}};return[It,p.runOutsideAngular(Ot)]}return[It,Pn(!1)]},[a,Ye,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:d}=Nk(r,i),p=this.schedulers.ngZone.run(()=>a);return new Rk(p,d,this)}collectionGroup(t,i){const r=i||(d=>d),a=this.firestore.collectionGroup(t);return new hN(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new Ok(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ri.Dh),c.LFG(ri.xv,8),c.LFG(Fk,8),c.LFG(fN,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Nn.HU),c.LFG(Pk,8),c.LFG(pN,8),c.LFG(Tk,8),c.LFG(xk,8),c.LFG(bk,8),c.LFG(wk,8),c.LFG(Ek,8),c.LFG(Ck,8),c.LFG(Ik,8),c.LFG(Zf,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),mN=(()=>{class n{constructor(){Yc.Z.registerVersion("angularfire",Nn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Fk,useValue:!0},{provide:Pk,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[gN]}),n})();class na extends Ui.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var _u=L(727),pv=L(5577),_N=L(1144);const yN=["addListener","removeListener"],AN=["addEventListener","removeEventListener"],vN=["on","off"];function ty(n,e,t,i){if((0,za.m)(t)&&(i=t,t=void 0),i)return ty(n,e,t).pipe(zo(i));const[r,a]=function wN(n){return(0,za.m)(n.addEventListener)&&(0,za.m)(n.removeEventListener)}(n)?AN.map(d=>p=>n[d](e,p,t)):function xN(n){return(0,za.m)(n.addListener)&&(0,za.m)(n.removeListener)}(n)?yN.map(Lk(n,e)):function bN(n){return(0,za.m)(n.on)&&(0,za.m)(n.off)}(n)?vN.map(Lk(n,e)):[];if(!r&&(0,_N.z)(n))return(0,pv.z)(d=>ty(d,e,t))((0,C.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Wn.y(d=>{const p=(..._)=>d.next(1<_.length?_:_[0]);return r(p),()=>a(p)})}function Lk(n,e){return t=>i=>n[t](e,i)}const{isArray:EN}=Array;var jT=L(5032);function Vk(n,e){return e?t=>Cm(e.pipe(fv(1),function IN(){return(0,R.e)((n,e)=>{n.subscribe((0,G.x)(e,jT.Z))})}()),t.pipe(Vk(n))):(0,pv.z)((t,i)=>n(t,i).pipe(fv(1),function DN(n){return(0,Ne.U)(()=>n)}(t)))}var TN=L(3532);var yu=L(8505);class Uk{}const Md="*";function Gk(n,e){return{type:7,name:n,definitions:e,options:{}}}function Hk(n,e=null){return{type:4,styles:e,timings:n}}function jk(n,e=null){return{type:2,steps:n,options:e}}function ny(n){return{type:6,styles:n,offset:null}}function zk(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function $k(n){Promise.resolve(null).then(n)}class gv{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){$k(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class qk{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?$k(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==a&&this._onFinish()}),d.onDestroy(()=>{++i==a&&this._onDestroy()}),d.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((d,p)=>Math.max(d,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function FN(n,e){if(1&n&&c._UZ(0,"div",4),2&n){const t=c.oxw();c.Udp("background-image",t.imageUrl),c.Q6J("@fadeIn",void 0)}}function PN(n,e){if(1&n&&c._UZ(0,"div",8),2&n){const t=c.oxw(2);c.Q6J("innerHTML",t.errorTemplate,c.oJD)}}function NN(n,e){1&n&&(c.ynx(0),c.TgZ(1,"h4"),c._uU(2,"\u26a0"),c.qZA(),c.BQk())}function LN(n,e){1&n&&(c.TgZ(0,"h2"),c._uU(1,"\u26a0"),c.qZA(),c.TgZ(2,"p"),c._uU(3,"Unable to load the image!"),c.qZA())}function BN(n,e){if(1&n&&(c.YNc(0,NN,3,0,"ng-container",9),c.YNc(1,LN,4,0,"ng-template",null,10,c.W1O)),2&n){const t=c.MAs(2),i=c.oxw(2);c.Q6J("ngIf",i.isThumbnail)("ngIfElse",t)}}function VN(n,e){if(1&n&&(c.TgZ(0,"div",5),c.YNc(1,PN,1,1,"div",6),c.YNc(2,BN,3,2,"ng-template",null,7,c.W1O),c.qZA()),2&n){const t=c.MAs(3),i=c.oxw();c.xp6(1),c.Q6J("ngIf",i.errorTemplate)("ngIfElse",t)}}function UN(n,e){if(1&n&&c._UZ(0,"div",13),2&n){const t=c.oxw(2);c.Q6J("innerHTML",t.loaderTemplate,c.oJD)}}function GN(n,e){1&n&&c._UZ(0,"div",15)}function HN(n,e){if(1&n&&c.YNc(0,GN,1,0,"div",14),2&n){const t=c.oxw(2);c.Q6J("ngIf",t.isThumbnail)}}function jN(n,e){if(1&n&&(c.ynx(0),c.YNc(1,UN,1,1,"div",11),c.YNc(2,HN,1,1,"ng-template",null,12,c.W1O),c.BQk()),2&n){const t=c.MAs(3),i=c.oxw();c.xp6(1),c.Q6J("ngIf",i.loaderTemplate)("ngIfElse",t)}}function zN(n,e){1&n&&c.GkF(0)}const $N=function(n,e,t){return{index:n,type:e,data:t}};function qN(n,e){if(1&n&&(c.TgZ(0,"div",2),c.YNc(1,zN,1,0,"ng-container",3),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngTemplateOutlet",t.config.thumbTemplate)("ngTemplateOutletContext",c.kEZ(2,$N,t.index,t.type,t.data))}}function WN(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"gallery-thumb",4),c.NdJ("tapClick",function(){const a=c.CHM(t).index;return c.oxw(2).thumbClick.emit(a)})("error",function(r){const d=c.CHM(t).index;return c.oxw(2).error.emit({itemIndex:d,error:r})}),c.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=c.oxw(2);c.Q6J("type",t.type)("config",r.config)("data",t.data)("currIndex",r.state.currIndex)("index",i)("tapClickDisabled",r.config.disableThumb)}}function QN(n,e){if(1&n&&(c.TgZ(0,"div",1)(1,"div",2),c.YNc(2,WN,1,6,"gallery-thumb",3),c.qZA()()),2&n){const t=e.$implicit,i=c.oxw();c.xp6(1),c.ekj("g-contain",i.config.thumbView===i.thumbnailsView.Contain)("g-contain-small-content",i.thumbnailsLessThanSlider)("g-no-transition",t.active),c.Q6J("ngStyle",t.style),c.xp6(1),c.Q6J("ngForOf",i.state.items)}}const KN=["video"];function ZN(n,e){if(1&n&&c._UZ(0,"source",3),2&n){const t=e.$implicit;c.Q6J("src",null==t?null:t.url,c.LSH)("type",null==t?null:t.type)}}const YN=["iframe"];function JN(n,e){1&n&&c.GkF(0)}const Wk=function(n,e,t,i){return{index:n,currIndex:e,type:t,data:i}};function XN(n,e){if(1&n){const t=c.EpF();c.ynx(0),c.TgZ(1,"gallery-image",7),c.NdJ("error",function(r){return c.CHM(t),c.oxw(2).error.emit(r)}),c.qZA(),c.TgZ(2,"div",8),c.YNc(3,JN,1,0,"ng-container",9),c.qZA(),c.BQk()}if(2&n){const t=c.oxw(2);c.xp6(1),c.Q6J("src",t.data.src)("loadingIcon",t.config.loadingIcon)("loadingError",t.config.loadingError),c.xp6(2),c.Q6J("ngTemplateOutlet",t.config.itemTemplate)("ngTemplateOutletContext",c.l5B(5,Wk,t.index,t.currIndex,t.type,t.data))}}function eL(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"gallery-video",10),c.NdJ("error",function(r){return c.CHM(t),c.oxw(2).error.emit(r)}),c.qZA()}if(2&n){const t=c.oxw(2);c.Q6J("src",t.data.src)("poster",t.data.poster)("controls",t.data.controls)("play",t.isAutoPlay)("pause",t.currIndex!==t.index)}}function tL(n,e){if(1&n&&c._UZ(0,"gallery-iframe",11),2&n){const t=c.oxw(2);c.Q6J("src",t.youtubeSrc)("autoplay",t.isAutoPlay)("pause",t.currIndex!==t.index)}}function nL(n,e){if(1&n&&c._UZ(0,"gallery-iframe",12),2&n){const t=c.oxw(2);c.Q6J("src",t.data.src)}}function iL(n,e){1&n&&c.GkF(0)}function rL(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"div",8),c.YNc(2,iL,1,0,"ng-container",9),c.qZA(),c.BQk()),2&n){const t=c.oxw(2);c.xp6(2),c.Q6J("ngTemplateOutlet",t.config.itemTemplate)("ngTemplateOutletContext",c.l5B(2,Wk,t.index,t.currIndex,t.type,t.data))}}function sL(n,e){if(1&n&&(c.ynx(0,1),c.YNc(1,XN,4,10,"ng-container",2),c.YNc(2,eL,1,5,"gallery-video",3),c.YNc(3,tL,1,3,"gallery-iframe",4),c.YNc(4,nL,1,1,"gallery-iframe",5),c.YNc(5,rL,3,7,"ng-container",6),c.BQk()),2&n){const t=c.oxw();c.Q6J("ngSwitch",t.type),c.xp6(1),c.Q6J("ngSwitchCase",t.Types.Image),c.xp6(1),c.Q6J("ngSwitchCase",t.Types.Video),c.xp6(1),c.Q6J("ngSwitchCase",t.Types.Youtube),c.xp6(1),c.Q6J("ngSwitchCase",t.Types.Iframe)}}function oL(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"gallery-item",4),c.NdJ("tapClick",function(){const a=c.CHM(t).index;return c.oxw(2).itemClick.emit(a)})("error",function(r){const d=c.CHM(t).index;return c.oxw(2).error.emit({itemIndex:d,error:r})}),c.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=c.oxw(2);c.Q6J("type",t.type)("config",r.config)("data",t.data)("currIndex",r.state.currIndex)("index",i)}}function aL(n,e){if(1&n&&(c.TgZ(0,"div",1)(1,"div",2),c.YNc(2,oL,1,5,"gallery-item",3),c.qZA()()),2&n){const t=e.$implicit,i=c.oxw();c.Q6J("ngStyle",i.zoom),c.xp6(1),c.ekj("g-no-transition",t.active),c.Q6J("ngStyle",t.style),c.xp6(1),c.Q6J("ngForOf",i.state.items)}}const Qk=["*"];function lL(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"i",2),c.NdJ("tapClick",function(){return c.CHM(t),c.oxw().action.emit("prev")}),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("innerHtml",t.navIcon,c.oJD)}}function cL(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"i",3),c.NdJ("tapClick",function(){return c.CHM(t),c.oxw().action.emit("next")}),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("innerHtml",t.navIcon,c.oJD)}}function uL(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",1),c.NdJ("tapClick",function(){const a=c.CHM(t).index;return c.oxw().action.emit(a)}),c._UZ(1,"div",2),c.qZA()}if(2&n){const t=e.index,i=c.oxw();c.Udp("width",null==i.config?null:i.config.dotsSize,"px")("height",null==i.config?null:i.config.dotsSize,"px"),c.ekj("g-dot-active",t===i.state.currIndex)}}function dL(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"gallery-thumbs",5),c.NdJ("action",function(r){return c.CHM(t),c.oxw().action.emit(r)})("thumbClick",function(r){return c.CHM(t),c.oxw().thumbClick.emit(r)}),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("state",t.state)("config",t.config)}}function hL(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"gallery-nav",6),c.NdJ("action",function(r){return c.CHM(t),c.oxw().action.emit(r)}),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("state",t.state)("config",t.config)}}function fL(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"gallery-dots",6),c.NdJ("action",function(r){return c.CHM(t),c.oxw().action.emit(r)}),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("state",t.state)("config",t.config)}}function pL(n,e){if(1&n&&c._UZ(0,"gallery-counter",7),2&n){const t=c.oxw();c.Q6J("state",t.state)}}var ss=(()=>(function(n){n.INITIALIZED="initialized",n.ITEMS_CHANGED="itemsChanged",n.INDEX_CHANGED="indexChanged",n.PLAY="play",n.STOP="stop"}(ss||(ss={})),ss))(),cE=(()=>(function(n){n.Cover="cover",n.Contain="contain"}(cE||(cE={})),cE))(),iy=(()=>(function(n){n.Preload="preload",n.Lazy="lazy",n.Default="default"}(iy||(iy={})),iy))(),Ar=(()=>(function(n){n.Top="top",n.Left="left",n.Right="right",n.Bottom="bottom"}(Ar||(Ar={})),Ar))(),uE=(()=>(function(n){n.Top="top",n.Bottom="bottom"}(uE||(uE={})),uE))(),dE=(()=>(function(n){n.Top="top",n.Bottom="bottom"}(dE||(dE={})),dE))(),ry=(()=>(function(n){n.Free="free",n.Strict="strict"}(ry||(ry={})),ry))(),kd=(()=>(function(n){n.Horizontal="horizontal",n.Vertical="vertical"}(kd||(kd={})),kd))(),_c=(()=>(function(n){n.Image="image",n.Video="video",n.Youtube="youtube",n.Iframe="iframe"}(_c||(_c={})),_c))(),hE=(()=>(function(n){n.Default="default",n.Contain="contain"}(hE||(hE={})),hE))();const Kk={action:ss.INITIALIZED,isPlaying:!1,hasNext:!1,hasPrev:!1,currIndex:0,items:[]},Zk={nav:!0,loop:!0,zoomOut:0,dots:!1,thumb:!0,dotsSize:30,counter:!0,gestures:!0,autoPlay:!1,thumbWidth:120,thumbHeight:90,panSensitivity:25,disableThumb:!1,playerInterval:3e3,imageSize:cE.Contain,thumbMode:ry.Strict,dotsPosition:uE.Bottom,counterPosition:dE.Top,thumbPosition:Ar.Bottom,loadingStrategy:iy.Default,slidingDirection:kd.Horizontal,navIcon:'<?xml version="1.0" encoding="UTF-8"?><svg width="512px" height="512px" enable-background="new 0 0 240.823 240.823" version="1.1" viewBox="0 0 240.823 240.823" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="m183.19 111.82l-108.3-108.26c-4.752-4.74-12.451-4.74-17.215 0-4.752 4.74-4.752 12.439 0 17.179l99.707 99.671-99.695 99.671c-4.752 4.74-4.752 12.439 0 17.191 4.752 4.74 12.463 4.74 17.215 0l108.3-108.26c4.68-4.691 4.68-12.511-0.012-17.19z" fill="#fff"/></svg>',loadingIcon:'<?xml version="1.0" encoding="UTF-8"?><svg stroke="#fff" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" stroke-width="2"><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="0s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle><circle cx="22" cy="22" r="1"><animate attributeName="r" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.165, 0.84, 0.44, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 20"/><animate attributeName="stroke-opacity" begin="-0.9s" calcMode="spline" dur="1.8s" keySplines="0.3, 0.61, 0.355, 1" keyTimes="0; 1" repeatCount="indefinite" values="1; 0"/></circle></g></svg>'};class $T{constructor(e){this.data=e,this.type=_c.Image}}class Yk{constructor(e){this.data=e,this.type=_c.Video}}class Jk{constructor(e){this.data=e,this.type=_c.Iframe}}class Xk{constructor(e){this.data=Object.assign(Object.assign({},e),{src:`https://youtube.com/embed/${e.src}`,thumb:e.thumb?e.thumb:`//img.youtube.com/vi/${e.src}/default.jpg`}),this.type=_c.Youtube}}const mv=n=>Pa(e=>n.indexOf(e.action)>-1);class gL{constructor(e,t){this.deleteInstance=t,this.itemClick=new Ui.x,this.thumbClick=new Ui.x,this.error=new Ui.x,this._state=new na(Kk),this._config=new na(e),this.state=this._state.asObservable(),this.config=this._config.asObservable()}get stateSnapshot(){return this._state.value}get initialized(){return this.state.pipe(mv([ss.INITIALIZED]))}get itemsChanged(){return this.state.pipe(mv([ss.ITEMS_CHANGED]))}get indexChanged(){return this.state.pipe(mv([ss.INDEX_CHANGED]))}get playingChanged(){return this.state.pipe(mv([ss.PLAY,ss.STOP]))}get playerActions(){return this.state.pipe(mv([ss.PLAY,ss.STOP,ss.INDEX_CHANGED]))}activatePlayer(){return this.playerActions.pipe(Ae(e=>e.isPlaying?Pn({}).pipe(function kN(n,e=Hu.z){const t=function MN(n=0,e,t=Hu.P){let i=-1;return null!=e&&((0,TN.K)(e)?t=e:i=e),new Wn.y(r=>{let a=function SN(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let d=0;return t.schedule(function(){r.closed||(r.next(d++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(n,e);return Vk(()=>t)}(this._config.value.playerInterval),(0,yu.b)(()=>this.next())):VT.E))}setState(e){this._state.next(Object.assign(Object.assign({},this.stateSnapshot),e))}setConfig(e){this._config.next(Object.assign(Object.assign({},this._config.value),e))}add(e,t){const i=[...this.stateSnapshot.items,e];this.setState({action:ss.ITEMS_CHANGED,items:i,hasNext:i.length>1,currIndex:t?i.length-1:this.stateSnapshot.currIndex})}addImage(e,t){this.add(new $T(e),t)}addVideo(e,t){this.add(new Yk(e),t)}addIframe(e,t){this.add(new Jk(e),t)}addYoutube(e,t){this.add(new Xk(e),t)}remove(e){const t=this.stateSnapshot,i=[...t.items.slice(0,e),...t.items.slice(e+1,t.items.length)];this.setState({action:ss.ITEMS_CHANGED,currIndex:e<1?t.currIndex:e-1,items:i,hasNext:i.length>1,hasPrev:e>0})}load(e){e&&this.setState({action:ss.ITEMS_CHANGED,items:e,hasNext:e.length>1,hasPrev:!1})}set(e){e!==this.stateSnapshot.currIndex&&this.setState({action:ss.INDEX_CHANGED,currIndex:e,hasNext:e<this.stateSnapshot.items.length-1,hasPrev:e>0})}next(){this.stateSnapshot.hasNext?this.set(this.stateSnapshot.currIndex+1):this._config.value.loop&&this.set(0)}prev(){this.stateSnapshot.hasPrev?this.set(this.stateSnapshot.currIndex-1):this._config.value.loop&&this.set(this.stateSnapshot.items.length-1)}play(e){e&&this.setConfig({playerInterval:e}),this.setState({action:ss.PLAY,isPlaying:!0})}stop(){this.setState({action:ss.STOP,isPlaying:!1})}reset(){this.setState(Kk)}destroy(){this._state.complete(),this._config.complete(),this.itemClick.complete(),this.thumbClick.complete(),this.deleteInstance()}}const qT=new c.OlP("GALLERY_CONFIG");let mL=(()=>{class n{constructor(t){this._instances=new Map,this.config=t?Object.assign(Object.assign({},Zk),t):Zk}ref(t="root",i){if(this._instances.has(t)){const r=this._instances.get(t);return i&&r.setConfig(Object.assign(Object.assign({},this.config),i)),r}return this._instances.set(t,new gL(Object.assign(Object.assign({},this.config),i),this.deleteInstance(t))).get(t)}destroyAll(){this._instances.forEach(t=>t.destroy())}resetAll(){this._instances.forEach(t=>t.reset())}deleteInstance(t){return()=>{this._instances.has(t)&&this._instances.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qT,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_L=(()=>{class n{constructor(t){this.document=t,this._imageLoader$=new Ui.x,this._loaderSub$=_u.w0.EMPTY,this.loaded=new c.vpe,this.error=new c.vpe,this._loaderSub$=this._imageLoader$.pipe(Ae(i=>this.nativeLoader(i))).subscribe()}ngOnChanges(t){t.src&&t.src.previousValue!==t.src.currentValue&&this.loadImage(this.src)}ngOnDestroy(){this._loaderSub$.unsubscribe(),this._imageLoader$.complete()}loadImage(t){this._imageLoader$.next(t)}nativeLoader(t){const i=this.document.createElement("img");return i.src=t,function CN(...n){const e=(0,ur.jO)(n),t=function Bk(n){return 1===n.length&&EN(n[0])?n[0]:n}(n);return t.length?new Wn.y(i=>{let r=t.map(()=>[]),a=t.map(()=>!1);i.add(()=>{r=a=null});for(let d=0;!i.closed&&d<t.length;d++)(0,C.Xf)(t[d]).subscribe((0,G.x)(i,p=>{if(r[d].push(p),r.every(_=>_.length)){const _=r.map(w=>w.shift());i.next(e?e(..._):_),r.some((w,S)=>!w.length&&a[S])&&i.complete()}},()=>{a[d]=!0,!r[d].length&&i.complete()}));return()=>{r=a=null}}):VT.E}(ty(i,"load").pipe((0,yu.b)(()=>this.loaded.emit(t))),ty(i,"error").pipe((0,yu.b)(()=>this.error.emit(new Error(`[lazyImage]: The image ${t} did not load`)))))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(de))},n.\u0275dir=c.lG2({type:n,selectors:[["","lazyImage",""]],inputs:{src:["lazyImage","src"]},outputs:{loaded:"loaded",error:"error"},features:[c.TTD]}),n})(),eR=(()=>{class n{constructor(t){this._sanitizer=t,this._state=new na("loading"),this.state=this._state.asObservable(),this.progress=0,this.error=new c.vpe}get imageLoadSuccess(){return!!this.imageUrl}get imageLoadFailed(){return!!this.loadError}ngOnInit(){this.loadingIcon&&(this.loaderTemplate=this._sanitizer.bypassSecurityTrustHtml(this.loadingIcon)),this.loadingError&&(this.errorTemplate=this._sanitizer.bypassSecurityTrustHtml(this.loadingError))}ngOnDestroy(){this._state.complete()}onProgress({loaded:t,total:i}){this.progress=100*t/i}onLoaded(t){this.imageUrl=this._sanitizer.bypassSecurityTrustStyle(`url("${t}")`),this._state.next("success")}onError(t){this.loadError=t,this._state.next("failed"),this.error.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Vi))},n.\u0275cmp=c.Xpm({type:n,selectors:[["gallery-image"]],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("g-image-loaded",i.imageLoadSuccess)("g-image-error",i.imageLoadFailed)},inputs:{isThumbnail:"isThumbnail",src:"src",loadingIcon:"loadingIcon",loadingError:"loadingError"},outputs:{error:"error"},decls:5,vars:7,consts:[[3,"lazyImage","ngSwitch","progress","loaded","error"],["class","g-image-item",3,"backgroundImage",4,"ngSwitchCase"],["class","g-image-error-message",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"g-image-item"],[1,"g-image-error-message"],[3,"innerHTML",4,"ngIf","ngIfElse"],["defaultError",""],[3,"innerHTML"],[4,"ngIf","ngIfElse"],["isLarge",""],["class","g-loading",3,"innerHTML",4,"ngIf","ngIfElse"],["defaultLoader",""],[1,"g-loading",3,"innerHTML"],["class","g-thumb-loading",4,"ngIf"],[1,"g-thumb-loading"]],template:function(t,i){1&t&&(c.ynx(0,0),c.NdJ("progress",function(a){return i.onProgress(a)})("loaded",function(a){return i.onLoaded(a)})("error",function(a){return i.onError(a)}),c.ALo(1,"async"),c.YNc(2,FN,1,3,"div",1),c.YNc(3,VN,4,2,"div",2),c.YNc(4,jN,4,2,"ng-container",3),c.BQk()),2&t&&(c.Q6J("lazyImage",i.src)("ngSwitch",c.lcZ(1,5,i.state)),c.xp6(2),c.Q6J("ngSwitchCase","success"),c.xp6(1),c.Q6J("ngSwitchCase","failed"),c.xp6(1),c.Q6J("ngSwitchCase","loading"))},directives:[_L,Ti,rr,An],pipes:[Za],encapsulation:2,data:{animation:[Gk("fadeIn",[zk(":enter",[ny({opacity:0}),Hk("300ms ease-in",ny({opacity:1}))])])]},changeDetection:0}),n})(),yL=(()=>{class n{constructor(){this.error=new c.vpe}get isActive(){return this.index===this.currIndex}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["gallery-thumb"]],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("g-active-thumb",i.isActive)},inputs:{config:"config",index:"index",currIndex:"currIndex",type:"type",data:"data"},outputs:{error:"error"},decls:2,vars:5,consts:[["mode","indeterminate",3,"src","isThumbnail","loadingIcon","loadingError","error"],["class","g-template g-thumb-template",4,"ngIf"],[1,"g-template","g-thumb-template"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){1&t&&(c.TgZ(0,"gallery-image",0),c.NdJ("error",function(a){return i.error.emit(a)}),c.qZA(),c.YNc(1,qN,2,6,"div",1)),2&t&&(c.Q6J("src",i.data.thumb)("isThumbnail",!0)("loadingIcon",i.config.thumbLoadingIcon)("loadingError",i.config.thumbLoadingError),c.xp6(1),c.Q6J("ngIf",i.config.thumbTemplate))},directives:[eR,An,xc],encapsulation:2,changeDetection:0}),n})(),fE=(()=>{class n{constructor(t){this._el=t,this.clickListener=_u.w0.EMPTY,this.tapClick=new c.vpe}ngOnInit(){this.activateClickEvent()}activateClickEvent(){"undefined"!=typeof Hammer?(this._hammer=new Hammer(this._el.nativeElement),this._hammer.on("tap",()=>{this.tapClickDisabled||this.tapClick.emit(null)})):this.clickListener=ty(this._el.nativeElement,"click").pipe(Pa(()=>!this.tapClickDisabled),(0,yu.b)(()=>this.tapClick.emit(null))).subscribe()}ngOnDestroy(){this._hammer&&this._hammer.destroy(),this.clickListener.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","tapClick",""]],inputs:{tapClickDisabled:"tapClickDisabled"},outputs:{tapClick:"tapClick"}}),n})(),AL=(()=>{class n{constructor(t,i){this._el=t,this._zone=i,this._slidingWorker$=new na({value:0,active:!1}),this._freeModeCurrentOffset=0,this.thumbnailsView=hE,this.action=new c.vpe,this.thumbClick=new c.vpe,this.error=new c.vpe,this.sliderState$=this._slidingWorker$.pipe((0,Ne.U)(r=>({style:this.getSliderStyles(r),active:r.active})))}ngOnChanges(){this.updateSlider({value:0,active:!1}),this._freeModeCurrentOffset=0}ngOnInit(){if(this.config.gestures&&!this.config.disableThumb&&"undefined"!=typeof Hammer){let t;switch(this.config.thumbPosition){case Ar.Right:case Ar.Left:t=Hammer.DIRECTION_VERTICAL;break;case Ar.Top:case Ar.Bottom:t=Hammer.DIRECTION_HORIZONTAL}this._hammer=new Hammer(this._el.nativeElement),this._hammer.get("pan").set({direction:t}),this._zone.runOutsideAngular(()=>{switch(this.config.thumbMode){case ry.Strict:this._hammer.on("pan",i=>this.strictMode(i));break;case ry.Free:this._hammer.on("pan",i=>this.freeMode(i))}})}}ngOnDestroy(){this._hammer&&this._hammer.destroy()}strictMode(t){switch(this.config.thumbPosition){case Ar.Right:case Ar.Left:this.updateSlider({value:t.deltaY,active:!0}),t.isFinal&&(this.updateSlider({value:0,active:!1}),this.verticalPan(t));break;case Ar.Top:case Ar.Bottom:this.updateSlider({value:t.deltaX,active:!0}),t.isFinal&&(this.updateSlider({value:0,active:!1}),this.horizontalPan(t))}}freeMode(t){switch(this.config.thumbPosition){case Ar.Right:case Ar.Left:this.updateSlider({value:this._freeModeCurrentOffset+t.deltaY,active:!0}),t.isFinal&&(this.minFreeScrollExceeded(t.deltaY,this.config.thumbWidth,this.config.thumbHeight)?this._freeModeCurrentOffset=-(this.state.items.length-1-this.state.currIndex)*this.config.thumbHeight:this.maxFreeScrollExceeded(t.deltaY,this.config.thumbHeight,this.config.thumbWidth)?this._freeModeCurrentOffset=this.state.currIndex*this.config.thumbHeight:this._freeModeCurrentOffset+=t.deltaY,this.updateSlider({value:this._freeModeCurrentOffset,active:!1}));break;case Ar.Top:case Ar.Bottom:this.updateSlider({value:this._freeModeCurrentOffset+t.deltaX,active:!0}),t.isFinal&&(this.minFreeScrollExceeded(t.deltaX,this.config.thumbHeight,this.config.thumbWidth)?this._freeModeCurrentOffset=-(this.state.items.length-1-this.state.currIndex)*this.config.thumbWidth:this.maxFreeScrollExceeded(t.deltaX,this.config.thumbWidth,this.config.thumbHeight)?this._freeModeCurrentOffset=this.state.currIndex*this.config.thumbWidth:this._freeModeCurrentOffset+=t.deltaX,this.updateSlider({value:this._freeModeCurrentOffset,active:!1}))}}minFreeScrollExceeded(t,i,r){return-(this._freeModeCurrentOffset+t-i/2)>(this.state.items.length-this.state.currIndex)*r}maxFreeScrollExceeded(t,i,r){return this._freeModeCurrentOffset+t>this.state.currIndex*i+r/2}getSliderStyles(t){const i=this.state.currIndex,r=this.state.items.length,{thumbWidth:a,thumbHeight:d}=this.config;let p;switch(this.config.thumbPosition){case Ar.Top:case Ar.Bottom:if("contain"===(this.width="100%",this.height=this.config.thumbHeight+"px",this.config.thumbView)){const _=this._el.nativeElement.clientWidth,w=r*a-_;_>r*a?this.thumbnailsLessThanSlider=!0:(this.thumbnailsLessThanSlider=!1,p=i*a+a/2>_/2?-Math.min(i*a+a/2-_/2,w):0)}else p=-i*a-(a/2-t.value);return{transform:`translate3d(${p}px, 0, 0)`,width:r*a+"px",height:"100%"};case Ar.Left:case Ar.Right:if("contain"===(this.width=this.config.thumbWidth+"px",this.height="100%",this.config.thumbView)){const _=this._el.nativeElement.clientHeight,w=r*d-_;_>r*d?this.thumbnailsLessThanSlider=!0:(this.thumbnailsLessThanSlider=!1,p=i*d+d/2>_/2?-Math.min(i*d+d/2-_/2,w):0)}else p=-i*d-(d/2-t.value);return{transform:`translate3d(0, ${p}px, 0)`,width:"100%",height:r*d+"px"}}}verticalPan(t){!(t.direction&Hammer.DIRECTION_UP&&t.offsetDirection&Hammer.DIRECTION_VERTICAL)||(t.velocityY>.3?this.prev():t.velocityY<-.3||t.deltaY/2<=-this.config.thumbHeight*this.state.items.length/this.config.panSensitivity?this.next():t.deltaY/2>=this.config.thumbHeight*this.state.items.length/this.config.panSensitivity?this.prev():this.action.emit(this.state.currIndex))}horizontalPan(t){!(t.direction&Hammer.DIRECTION_HORIZONTAL&&t.offsetDirection&Hammer.DIRECTION_HORIZONTAL)||(t.velocityX>.3?this.prev():t.velocityX<-.3||t.deltaX/2<=-this.config.thumbWidth*this.state.items.length/this.config.panSensitivity?this.next():t.deltaX/2>=this.config.thumbWidth*this.state.items.length/this.config.panSensitivity?this.prev():this.action.emit(this.state.currIndex))}next(){this.action.emit("next")}prev(){this.action.emit("prev")}updateSlider(t){const i=Object.assign(Object.assign({},this._slidingWorker$.value),t);this._slidingWorker$.next(i)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["gallery-thumbs"]],hostVars:4,hostBindings:function(t,i){2&t&&c.Udp("height",i.height)("width",i.width)},inputs:{state:"state",config:"config"},outputs:{action:"action",thumbClick:"thumbClick",error:"error"},features:[c.TTD],decls:2,vars:3,consts:[["class","g-thumbs-container",4,"ngIf"],[1,"g-thumbs-container"],[1,"g-slider",3,"ngStyle"],[3,"type","config","data","currIndex","index","tapClickDisabled","tapClick","error",4,"ngFor","ngForOf"],[3,"type","config","data","currIndex","index","tapClickDisabled","tapClick","error"]],template:function(t,i){1&t&&(c.YNc(0,QN,3,8,"div",0),c.ALo(1,"async")),2&t&&c.Q6J("ngIf",c.lcZ(1,1,i.sliderState$))},directives:[yL,An,Li,Tn,fE],pipes:[Za],encapsulation:2,changeDetection:0}),n})(),vL=(()=>{class n{constructor(){this.error=new c.vpe}set pauseVideo(t){if(this.video.nativeElement){const i=this.video.nativeElement;t&&!i.paused&&i.pause()}}set playVideo(t){if(this.video.nativeElement){const i=this.video.nativeElement;t&&i.play()}}ngOnInit(){this.videoSources=this.src instanceof Array?[...this.src]:[{url:this.src}],this.controls="boolean"!=typeof this.controlsEnabled||this.controlsEnabled}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["gallery-video"]],viewQuery:function(t,i){if(1&t&&c.Gf(KN,7),2&t){let r;c.iGM(r=c.CRH())&&(i.video=r.first)}},inputs:{src:"src",poster:"poster",controlsEnabled:["controls","controlsEnabled"],pauseVideo:["pause","pauseVideo"],playVideo:["play","playVideo"]},outputs:{error:"error"},decls:3,vars:3,consts:[[3,"controls","poster","error"],["video",""],[3,"src","type",4,"ngFor","ngForOf"],[3,"src","type"]],template:function(t,i){1&t&&(c.TgZ(0,"video",0,1),c.NdJ("error",function(a){return i.error.emit(a)}),c.YNc(2,ZN,1,2,"source",2),c.qZA()),2&t&&(c.Q6J("controls",i.controls)("poster",i.poster,c.LSH),c.xp6(2),c.Q6J("ngForOf",i.videoSources))},directives:[Tn],encapsulation:2,changeDetection:0}),n})(),xL=(()=>{class n{constructor(t){this._sanitizer=t}set src(t){this.videoSrc=t,this.iframeSrc=this._sanitizer.bypassSecurityTrustResourceUrl(t)}set pauseVideo(t){this.iframe.nativeElement&&t&&(this.iframe.nativeElement.src=null,!this.autoplay&&this.videoSrc&&(this.iframeSrc=this._sanitizer.bypassSecurityTrustResourceUrl(this.videoSrc)))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Vi))},n.\u0275cmp=c.Xpm({type:n,selectors:[["gallery-iframe"]],viewQuery:function(t,i){if(1&t&&c.Gf(YN,7),2&t){let r;c.iGM(r=c.CRH())&&(i.iframe=r.first)}},inputs:{src:"src",pauseVideo:["pause","pauseVideo"],autoplay:"autoplay"},decls:2,vars:2,consts:[["frameborder","0","allowfullscreen","",3,"src"],["iframe",""]],template:function(t,i){1&t&&c._UZ(0,"iframe",0,1),2&t&&(c.Q6J("src",i.iframeSrc,c.uOi),c.uIk("allow",i.autoplay?"autoplay":""))},encapsulation:2,changeDetection:0}),n})(),bL=(()=>{class n{constructor(){this.Types=_c,this.error=new c.vpe}get isActive(){return this.index===this.currIndex}get isAutoPlay(){if(this.isActive&&(this.type===_c.Video||this.type===_c.Youtube))return this.data.autoplay}get youtubeSrc(){let t=0;this.isActive&&this.type===_c.Youtube&&this.data.autoplay&&(t=1);const i=new URL(this.data.src);return i.search=new URLSearchParams(Object.assign(Object.assign({wmode:"transparent"},this.data.params),{autoplay:t})).toString(),i.href}get load(){switch(this.config.loadingStrategy){case iy.Preload:return!0;case iy.Lazy:return this.currIndex===this.index;default:return this.currIndex===this.index||this.currIndex===this.index-1||this.currIndex===this.index+1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["gallery-item"]],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("g-active-item",i.isActive)},inputs:{config:"config",index:"index",currIndex:"currIndex",type:"type",data:"data"},outputs:{error:"error"},decls:1,vars:1,consts:[[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"src","poster","controls","play","pause","error",4,"ngSwitchCase"],[3,"src","autoplay","pause",4,"ngSwitchCase"],[3,"src",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"src","loadingIcon","loadingError","error"],[1,"g-template","g-item-template"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"src","poster","controls","play","pause","error"],[3,"src","autoplay","pause"],[3,"src"]],template:function(t,i){1&t&&c.YNc(0,sL,6,5,"ng-container",0),2&t&&c.Q6J("ngIf",i.load)},directives:[eR,vL,xL,An,Ti,rr,xc,aa],encapsulation:2,changeDetection:0}),n})(),wL=(()=>{class n{constructor(t,i,r){this._el=t,this._zone=i,this.platform=r,this._slidingWorker$=new na({value:0,active:!1}),this.action=new c.vpe,this.itemClick=new c.vpe,this.error=new c.vpe,this.sliderState$=this._slidingWorker$.pipe((0,Ne.U)(a=>({style:this.getSliderStyles(a),active:a.active})))}get zoom(){return{transform:`perspective(50px) translate3d(0, 0, ${-this.config.zoomOut}px)`}}ngOnChanges(){this.updateSlider({value:0,active:!1})}ngOnInit(){if(this.config.gestures&&"undefined"!=typeof Hammer){const t=this.config.slidingDirection===kd.Horizontal?Hammer.DIRECTION_HORIZONTAL:Hammer.DIRECTION_VERTICAL;this._hammer=new Hammer(this._el.nativeElement),this._hammer.get("pan").set({direction:t}),this._zone.runOutsideAngular(()=>{this._hammer.on("pan",i=>{switch(this.config.slidingDirection){case kd.Horizontal:this.updateSlider({value:i.deltaX,active:!0}),i.isFinal&&(this.updateSlider({value:0,active:!1}),this.horizontalPan(i));break;case kd.Vertical:this.updateSlider({value:i.deltaY,active:!0}),i.isFinal&&(this.updateSlider({value:0,active:!1}),this.verticalPan(i))}})})}Sn(this.platform)&&(this._resizeSub$=ty(window,"resize").pipe(Nf(200),(0,yu.b)(()=>this.updateSlider(this._slidingWorker$.value))).subscribe()),setTimeout(()=>this.updateSlider({value:0,active:!1}))}ngOnDestroy(){this._hammer&&this._hammer.destroy(),this._resizeSub$&&this._resizeSub$.unsubscribe(),this._slidingWorker$.complete()}getSliderStyles(t){switch(this.config.slidingDirection){case kd.Horizontal:return{transform:`translate3d(${-this.state.currIndex*this._el.nativeElement.offsetWidth+t.value}px, 0, 0)`,width:`calc(100% * ${this.state.items.length})`,height:"100%"};case kd.Vertical:return{transform:`translate3d(0, ${-this.state.currIndex*this._el.nativeElement.offsetHeight+t.value}px, 0)`,width:"100%",height:`calc(100% * ${this.state.items.length})`}}}verticalPan(t){!(t.direction&Hammer.DIRECTION_UP&&t.offsetDirection&Hammer.DIRECTION_VERTICAL)||(t.velocityY>.3?this.prev():t.velocityY<-.3||t.deltaY/2<=-this._el.nativeElement.offsetHeight*this.state.items.length/this.config.panSensitivity?this.next():t.deltaY/2>=this._el.nativeElement.offsetHeight*this.state.items.length/this.config.panSensitivity?this.prev():this.action.emit(this.state.currIndex))}horizontalPan(t){!(t.direction&Hammer.DIRECTION_HORIZONTAL&&t.offsetDirection&Hammer.DIRECTION_HORIZONTAL)||(t.velocityX>.3?this.prev():t.velocityX<-.3||t.deltaX/2<=-this._el.nativeElement.offsetWidth*this.state.items.length/this.config.panSensitivity?this.next():t.deltaX/2>=this._el.nativeElement.offsetWidth*this.state.items.length/this.config.panSensitivity?this.prev():this.action.emit(this.state.currIndex))}next(){this.action.emit("next")}prev(){this.action.emit("prev")}updateSlider(t){const i=Object.assign(Object.assign({},this._slidingWorker$.value),t);this._slidingWorker$.next(i)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.Lbi))},n.\u0275cmp=c.Xpm({type:n,selectors:[["gallery-slider"]],inputs:{state:"state",config:"config"},outputs:{action:"action",itemClick:"itemClick",error:"error"},features:[c.TTD],ngContentSelectors:Qk,decls:3,vars:3,consts:[["class","g-items-container",3,"ngStyle",4,"ngIf"],[1,"g-items-container",3,"ngStyle"],[1,"g-slider",3,"ngStyle"],[3,"type","config","data","currIndex","index","tapClick","error",4,"ngFor","ngForOf"],[3,"type","config","data","currIndex","index","tapClick","error"]],template:function(t,i){1&t&&(c.F$t(),c.YNc(0,aL,3,5,"div",0),c.ALo(1,"async"),c.Hsn(2)),2&t&&c.Q6J("ngIf",c.lcZ(1,1,i.sliderState$))},directives:[bL,An,Li,Tn,fE],pipes:[Za],encapsulation:2,changeDetection:0}),n})(),EL=(()=>{class n{constructor(t){this._sanitizer=t,this.action=new c.vpe}ngOnInit(){this.navIcon=this._sanitizer.bypassSecurityTrustHtml(this.config.navIcon)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Vi))},n.\u0275cmp=c.Xpm({type:n,selectors:[["gallery-nav"]],inputs:{state:"state",config:"config"},outputs:{action:"action"},decls:2,vars:2,consts:[["class","g-nav-prev","aria-label","Previous",3,"innerHtml","tapClick",4,"ngIf"],["class","g-nav-next","aria-label","Next",3,"innerHtml","tapClick",4,"ngIf"],["aria-label","Previous",1,"g-nav-prev",3,"innerHtml","tapClick"],["aria-label","Next",1,"g-nav-next",3,"innerHtml","tapClick"]],template:function(t,i){1&t&&(c.YNc(0,lL,1,1,"i",0),c.YNc(1,cL,1,1,"i",1)),2&t&&(c.Q6J("ngIf",i.config.loop||i.state.hasPrev),c.xp6(1),c.Q6J("ngIf",i.config.loop||i.state.hasNext))},directives:[An,fE],encapsulation:2,changeDetection:0}),n})(),CL=(()=>{class n{constructor(){this.action=new c.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["gallery-dots"]],inputs:{state:"state",config:"config"},outputs:{action:"action"},decls:1,vars:1,consts:[["class","g-dot",3,"g-dot-active","width","height","tapClick",4,"ngFor","ngForOf"],[1,"g-dot",3,"tapClick"],[1,"g-dot-inner"]],template:function(t,i){1&t&&c.YNc(0,uL,2,6,"div",0),2&t&&c.Q6J("ngForOf",i.state.items)},directives:[Tn,fE],encapsulation:2,changeDetection:0}),n})(),IL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["gallery-counter"]],inputs:{state:"state"},decls:2,vars:1,consts:[[1,"g-counter"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c._uU(1),c.qZA()),2&t&&(c.xp6(1),c.Oqu(i.state.currIndex+1+"/"+i.state.items.length))},encapsulation:2,changeDetection:0}),n})(),DL=(()=>{class n{constructor(){this.action=new c.vpe,this.itemClick=new c.vpe,this.thumbClick=new c.vpe,this.error=new c.vpe}get thumbPosition(){return this.config.thumbPosition}get slidingDirection(){return this.config.slidingDirection}get disableThumb(){return this.config.disableThumb}get imageSize(){return this.config.imageSize}get dotsPosition(){return this.config.dotsPosition}get counterPosition(){return this.config.counterPosition}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["gallery-core"]],hostVars:6,hostBindings:function(t,i){2&t&&c.uIk("thumbPosition",i.thumbPosition)("slidingDirection",i.slidingDirection)("disableThumb",i.disableThumb)("imageSize",i.imageSize)("dotsPosition",i.dotsPosition)("counterPosition",i.counterPosition)},inputs:{state:"state",config:"config"},outputs:{action:"action",itemClick:"itemClick",thumbClick:"thumbClick",error:"error"},decls:6,vars:6,consts:[[3,"state","config","action","thumbClick",4,"ngIf"],[1,"g-box"],[3,"state","config","action","itemClick","error"],[3,"state","config","action",4,"ngIf"],[3,"state",4,"ngIf"],[3,"state","config","action","thumbClick"],[3,"state","config","action"],[3,"state"]],template:function(t,i){1&t&&(c.YNc(0,dL,1,2,"gallery-thumbs",0),c.TgZ(1,"div",1)(2,"gallery-slider",2),c.NdJ("action",function(a){return i.action.emit(a)})("itemClick",function(a){return i.itemClick.emit(a)})("error",function(a){return i.error.emit(a)}),c.YNc(3,hL,1,2,"gallery-nav",3),c.qZA(),c.YNc(4,fL,1,2,"gallery-dots",3),c.YNc(5,pL,1,1,"gallery-counter",4),c.qZA()),2&t&&(c.Q6J("ngIf",i.config.thumb),c.xp6(2),c.Q6J("state",i.state)("config",i.config),c.xp6(1),c.Q6J("ngIf",i.config.nav&&i.state.items.length>1),c.xp6(1),c.Q6J("ngIf",i.config.dots),c.xp6(1),c.Q6J("ngIf",i.config.counter))},directives:[AL,wL,EL,CL,IL,An],encapsulation:2,changeDetection:0}),n})(),TL=(()=>{class n{constructor(t){this._gallery=t,this.nav=this._gallery.config.nav,this.dots=this._gallery.config.dots,this.loop=this._gallery.config.loop,this.thumb=this._gallery.config.thumb,this.zoomOut=this._gallery.config.zoomOut,this.counter=this._gallery.config.counter,this.dotsSize=this._gallery.config.dotsSize,this.autoPlay=this._gallery.config.autoPlay,this.gestures=this._gallery.config.gestures,this.thumbWidth=this._gallery.config.thumbWidth,this.thumbHeight=this._gallery.config.thumbHeight,this.disableThumb=this._gallery.config.disableThumb,this.panSensitivity=this._gallery.config.panSensitivity,this.playerInterval=this._gallery.config.playerInterval,this.itemTemplate=this._gallery.config.itemTemplate,this.thumbTemplate=this._gallery.config.thumbTemplate,this.thumbMode=this._gallery.config.thumbMode,this.imageSize=this._gallery.config.imageSize,this.dotsPosition=this._gallery.config.dotsPosition,this.counterPosition=this._gallery.config.counterPosition,this.slidingDirection=this._gallery.config.slidingDirection,this.loadingStrategy=this._gallery.config.loadingStrategy,this.thumbPosition=this._gallery.config.thumbPosition,this.thumbView=this._gallery.config.thumbView,this.destroyRef=!0,this.skipInitConfig=!1,this.itemClick=new c.vpe,this.thumbClick=new c.vpe,this.playingChange=new c.vpe,this.indexChange=new c.vpe,this.itemsChange=new c.vpe,this.error=new c.vpe,this._itemClick$=_u.w0.EMPTY,this._thumbClick$=_u.w0.EMPTY,this._itemChange$=_u.w0.EMPTY,this._indexChange$=_u.w0.EMPTY,this._playingChange$=_u.w0.EMPTY,this._playerListener$=_u.w0.EMPTY}getConfig(){return{nav:this.nav,dots:this.dots,loop:this.loop,thumb:this.thumb,zoomOut:this.zoomOut,counter:this.counter,autoPlay:this.autoPlay,gestures:this.gestures,dotsSize:this.dotsSize,imageSize:this.imageSize,thumbMode:this.thumbMode,thumbView:this.thumbView,thumbWidth:this.thumbWidth,thumbHeight:this.thumbHeight,disableThumb:this.disableThumb,dotsPosition:this.dotsPosition,itemTemplate:this.itemTemplate,thumbTemplate:this.thumbTemplate,thumbPosition:this.thumbPosition,panSensitivity:this.panSensitivity,playerInterval:this.playerInterval,counterPosition:this.counterPosition,loadingStrategy:this.loadingStrategy,slidingDirection:this.slidingDirection}}onAction(t){switch(t){case"next":this.galleryRef.next();break;case"prev":this.galleryRef.prev();break;default:this.galleryRef.set(t)}}ngOnChanges(t){this.galleryRef&&(this.galleryRef.setConfig(this.getConfig()),t.items&&t.items.currentValue!==t.items.previousValue&&this.load(this.items))}ngOnInit(){this.galleryRef=this.skipInitConfig?this._gallery.ref(this.id):this._gallery.ref(this.id,this.getConfig()),this.load(this.items),this._playerListener$=this.galleryRef.activatePlayer().subscribe(),this.indexChange.observers.length&&(this._indexChange$=this.galleryRef.indexChanged.subscribe(t=>this.indexChange.emit(t))),this.itemsChange.observers.length&&(this._itemChange$=this.galleryRef.itemsChanged.subscribe(t=>this.itemsChange.emit(t))),this.playingChange.observers.length&&(this._playingChange$=this.galleryRef.playingChanged.subscribe(t=>this.playingChange.emit(t))),this.autoPlay&&this.play()}ngOnDestroy(){this._itemClick$.unsubscribe(),this._thumbClick$.unsubscribe(),this._itemChange$.unsubscribe(),this._indexChange$.unsubscribe(),this._playingChange$.unsubscribe(),this._playerListener$.unsubscribe(),this.destroyRef&&this.galleryRef.destroy()}onItemClick(t){this.itemClick.emit(t),this.galleryRef.itemClick.next(t)}onThumbClick(t){this.galleryRef.set(t),this.thumbClick.emit(t),this.galleryRef.thumbClick.next(t)}onError(t){this.error.emit(t),this.galleryRef.error.next(t)}load(t){this.galleryRef.load(t)}add(t,i){this.galleryRef.add(t,i)}addImage(t,i){this.add(new $T(t),i)}addVideo(t,i){this.add(new Yk(t),i)}addIframe(t,i){this.add(new Jk(t),i)}addYoutube(t,i){this.add(new Xk(t),i)}remove(t){this.galleryRef.remove(t)}next(){this.galleryRef.next()}prev(){this.galleryRef.prev()}set(t){this.galleryRef.set(t)}reset(){this.galleryRef.reset()}play(t){this.galleryRef.play(t)}stop(){this.galleryRef.stop()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(mL))},n.\u0275cmp=c.Xpm({type:n,selectors:[["gallery"]],inputs:{id:"id",items:"items",nav:"nav",dots:"dots",loop:"loop",thumb:"thumb",zoomOut:"zoomOut",counter:"counter",dotsSize:"dotsSize",autoPlay:"autoPlay",gestures:"gestures",thumbWidth:"thumbWidth",thumbHeight:"thumbHeight",disableThumb:"disableThumb",panSensitivity:"panSensitivity",playerInterval:"playerInterval",itemTemplate:"itemTemplate",thumbTemplate:"thumbTemplate",thumbMode:"thumbMode",imageSize:"imageSize",dotsPosition:"dotsPosition",counterPosition:"counterPosition",slidingDirection:"slidingDirection",loadingStrategy:"loadingStrategy",thumbPosition:"thumbPosition",thumbView:"thumbView",destroyRef:"destroyRef",skipInitConfig:"skipInitConfig"},outputs:{itemClick:"itemClick",thumbClick:"thumbClick",playingChange:"playingChange",indexChange:"indexChange",itemsChange:"itemsChange",error:"error"},features:[c.TTD],ngContentSelectors:Qk,decls:4,vars:6,consts:[[3,"state","config","action","itemClick","thumbClick","error"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"gallery-core",0),c.NdJ("action",function(a){return i.onAction(a)})("itemClick",function(a){return i.onItemClick(a)})("thumbClick",function(a){return i.onThumbClick(a)})("error",function(a){return i.onError(a)}),c.ALo(1,"async"),c.ALo(2,"async"),c.qZA(),c.Hsn(3)),2&t&&c.Q6J("state",c.lcZ(1,2,i.galleryRef.state))("config",c.lcZ(2,4,i.galleryRef.config))},directives:[DL],pipes:[Za],styles:['gallery-core[dotsPosition=top] gallery-dots{top:0}  gallery-core[dotsPosition=bottom] gallery-dots{bottom:0}  gallery-dots{margin:7px;position:absolute;left:50%;transform:translate(-50%)}  .g-dot{cursor:pointer;z-index:20}  .g-dot:hover .g-dot-inner{opacity:1}  .g-dot-active .g-dot-inner{opacity:1;transform:scale(1.5)!important}  .g-dot-inner{background-color:#fff;opacity:.6;width:30%;height:30%;border-radius:50%;box-shadow:0 0 1px #000;transition:all ease .2s}  gallery-dots,   .g-dot,   .g-dot-inner{display:flex;justify-content:center;align-items:center}  .g-nav-next,   .g-nav-prev{position:absolute;top:50%;width:30px;height:40px;cursor:pointer;z-index:999}  .g-nav-next{right:.5em;transform:translateY(-50%) perspective(1px)}  .g-nav-prev{left:.5em;transform:translateY(-50%) perspective(1px) scale(-1)}@media only screen and (max-width: 480px){  .g-nav-next{right:.2em}  .g-nav-prev{left:.2em}}  .g-items-container{height:100%}  .g-slider{position:absolute;transition:transform .4s cubic-bezier(.5,0,.5,1)}  gallery-core[slidingDirection=horizontal] .g-slider{flex-direction:row}  gallery-core[slidingDirection=vertical] .g-slider{flex-direction:column}  gallery-thumbs{display:block;z-index:1;overflow:unset}  .g-thumbs-container{position:relative;z-index:206;width:100%;height:100%;left:0;top:0;display:flex;overflow:unset}  gallery-core[disableThumb=true] gallery-thumb{cursor:default}  gallery-core[thumbPosition=top] gallery-thumbs .g-slider,   gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider{flex-direction:row;top:0;left:50%}  gallery-core[thumbPosition=top] gallery-thumbs .g-slider.g-contain,   gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider.g-contain{left:0}  gallery-core[thumbPosition=top] gallery-thumbs .g-slider.g-contain.g-contain-small-content,   gallery-core[thumbPosition=bottom] gallery-thumbs .g-slider.g-contain.g-contain-small-content{left:50%;transform:translate(-50%)!important}  gallery-core[thumbPosition=top] gallery-thumb,   gallery-core[thumbPosition=bottom] gallery-thumb{padding:1px 0 1px 1px}  gallery-core[thumbPosition=left] gallery-thumbs .g-slider,   gallery-core[thumbPosition=right] gallery-thumbs .g-slider{flex-direction:column;top:50%;left:0}  gallery-core[thumbPosition=left] gallery-thumbs .g-slider.g-contain,   gallery-core[thumbPosition=right] gallery-thumbs .g-slider.g-contain{top:0}  gallery-core[thumbPosition=left] gallery-thumbs .g-slider.g-contain.g-contain-small-content,   gallery-core[thumbPosition=right] gallery-thumbs .g-slider.g-contain.g-contain-small-content{top:50%;transform:translateY(-50%)!important}  gallery-core[thumbPosition=left] gallery-thumb,   gallery-core[thumbPosition=right] gallery-thumb{padding:0 1px 1px}  gallery-core[thumbPosition=top]{flex-direction:column}  gallery-core[thumbPosition=left]{flex-direction:row}  gallery-core[thumbPosition=right]{flex-direction:row-reverse}  gallery-core[thumbPosition=bottom]{flex-direction:column-reverse}  gallery-thumb.g-active-thumb .g-thumb-loading{background-color:#464646}  .g-thumb-loading{position:relative;overflow:hidden;height:100%;background-color:#262626}  .g-thumb-loading:before{content:"";position:absolute;top:0;right:0;bottom:0;left:50%;z-index:1;width:500%;margin-left:-250%;-webkit-animation:phAnimation .8s linear infinite;animation:phAnimation .8s linear infinite;background:linear-gradient(to right,rgba(255,255,255,0) 46%,rgba(255,255,255,.35) 50%,rgba(255,255,255,0) 54%) 50% 50%}@-webkit-keyframes phAnimation{0%{transform:translate(-30%)}to{transform:translate(30%)}}@keyframes phAnimation{0%{transform:translate(-30%)}to{transform:translate(30%)}}  gallery-core[counterPosition=top] .g-counter{top:0;border-bottom-left-radius:4px;border-bottom-right-radius:4px}  gallery-core[counterPosition=bottom] .g-counter{bottom:0;border-top-left-radius:4px;border-top-right-radius:4px}  .g-counter{z-index:50;position:absolute;left:50%;transform:translate(-50%) perspective(1px);font-size:12px;padding:4px 10px;color:#fff;background-color:#00000080}  gallery[gallerize] gallery-item{cursor:pointer}  gallery-item,   gallery-thumb{position:relative;height:100%;width:100%;display:block;overflow:hidden}  gallery-item h2,   gallery-item h4,   gallery-thumb h2,   gallery-thumb h4{color:coral;margin:0}  gallery-item h2,   gallery-thumb h2{font-size:3.5em;margin-bottom:.3em}  gallery-item h4,   gallery-thumb h4{font-size:1.6em}  gallery-item{z-index:10}  gallery-item video,   gallery-item iframe{position:absolute;width:100%;height:100%}  gallery-thumb{opacity:.5;cursor:pointer;transition:opacity .3s cubic-bezier(.5,0,.5,1)}  gallery-thumb.g-active-thumb{opacity:1}  .g-image-item{background-position:center center;background-repeat:no-repeat;background-size:cover;width:100%;height:100%}  .g-template,   .g-image-error-message{position:absolute;z-index:10;left:0;top:0;right:0;bottom:0;color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column}  .g-loading{position:absolute;transform:translate(-50%,-50%);left:50%;top:50%;width:80px;height:80px}  gallery-core[imageSize=contain] gallery-slider .g-image-item{background-size:contain}  gallery-image{display:flex;justify-content:center;align-items:center;height:100%}  gallery{position:relative;z-index:1;overflow:hidden;display:block;height:500px;background-color:#000}  gallery *{box-sizing:border-box}  gallery,   gallery-core{position:relative;overflow:hidden}  gallery-core,   .g-box,   .g-slider{display:flex;height:100%;width:100%}  gallery[fluid]{transform:translate(-50vw);width:100vw;left:50%}  gallery[fluid][fluid=false]{transform:none;width:auto;width:initial;left:auto;left:initial}  .g-no-transition{transition:unset!important}  .g-box,   gallery-slider{overflow:hidden;position:relative;display:flex;flex-direction:column;flex:1;order:1;height:100%}  gallery-nav svg,   .g-btn-close svg{width:100%;height:100%;filter:drop-shadow(0px 0px 1px black);transition:opacity linear .2s;opacity:.6}  gallery-nav svg:hover,   .g-btn-close svg:hover{opacity:1}'],changeDetection:0}),n})(),SL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:qT,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ao]]}),n})();const hn=!1;function tR(n){return new c.vHH(3e3,hn)}function cB(){return"undefined"!=typeof window&&void 0!==window.document}function WT(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function sf(n){switch(n.length){case 0:return new gv;case 1:return n[0];default:return new qk(n)}}function nR(n,e,t,i,r={},a={}){const d=[],p=[];let _=-1,w=null;if(i.forEach(S=>{const O=S.offset,V=O==_,H=V&&w||{};Object.keys(S).forEach(q=>{let ce=q,De=S[q];if("offset"!==q)switch(ce=e.normalizePropertyName(ce,d),De){case"!":De=r[q];break;case Md:De=a[q];break;default:De=e.normalizeStyleValue(q,ce,De,d)}H[ce]=De}),V||p.push(H),w=H,_=O}),d.length)throw function JL(n){return new c.vHH(3502,hn)}();return p}function QT(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&KT(t,"start",n)));break;case"done":n.onDone(()=>i(t&&KT(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&KT(t,"destroy",n)))}}function KT(n,e,t){const i=t.totalTime,a=ZT(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),d=n._data;return null!=d&&(a._data=d),a}function ZT(n,e,t,i,r="",a=0,d){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!d}}function $a(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function iR(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let JT=(n,e)=>!1,rR=(n,e,t)=>[],sR=null;function XT(n){const e=n.parentNode||n.host;return e===sR?null:e}(WT()||"undefined"!=typeof Element)&&(cB()?(sR=(()=>document.documentElement)(),JT=(n,e)=>{for(;e;){if(e===n)return!0;e=XT(e)}return!1}):JT=(n,e)=>n.contains(e),rR=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let gg=null,oR=!1;function aR(n){gg||(gg=function dB(){return"undefined"!=typeof document?document.body:null}()||{},oR=!!gg.style&&"WebkitAppearance"in gg.style);let e=!0;return gg.style&&!function uB(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in gg.style,!e&&oR&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in gg.style)),e}const lR=JT,cR=rR;let uR=(()=>{class n{validateStyleProperty(t){return aR(t)}matchesElement(t,i){return!1}containsElement(t,i){return lR(t,i)}getParentElement(t){return XT(t)}query(t,i,r){return cR(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,d,p=[],_){return new gv(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),eS=(()=>{class n{}return n.NOOP=new uR,n})();const tS="ng-enter",gE="ng-leave",mE="ng-trigger",_E=".ng-trigger",hR="ng-animating",nS=".ng-animating";function mg(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:iS(parseFloat(e[1]),e[2])}function iS(n,e){return"s"===e?1e3*n:n}function yE(n,e,t){return n.hasOwnProperty("duration")?n:function pB(n,e,t){let r,a=0,d="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(tR()),{duration:0,delay:0,easing:""};r=iS(parseFloat(p[1]),p[2]);const _=p[3];null!=_&&(a=iS(parseFloat(_),p[4]));const w=p[5];w&&(d=w)}else r=n;if(!t){let p=!1,_=e.length;r<0&&(e.push(function ML(){return new c.vHH(3100,hn)}()),p=!0),a<0&&(e.push(function kL(){return new c.vHH(3101,hn)}()),p=!0),p&&e.splice(_,0,tR())}return{duration:r,delay:a,easing:d}}(n,e,t)}function sy(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function af(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else sy(n,t);return t}function pR(n,e,t){return t?e+":"+t+";":""}function gR(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=pR(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=pR(0,_B(t),n.style[t]));n.setAttribute("style",e)}function Au(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=sS(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),WT()&&gR(n))}function _g(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=sS(t);n.style[i]=""}),WT()&&gR(n))}function _v(n){return Array.isArray(n)?1==n.length?n[0]:jk(n):n}const rS=new RegExp("{{\\s*(.+?)\\s*}}","g");function mR(n){let e=[];if("string"==typeof n){let t;for(;t=rS.exec(n);)e.push(t[1]);rS.lastIndex=0}return e}function AE(n,e,t){const i=n.toString(),r=i.replace(rS,(a,d)=>{let p=e[d];return e.hasOwnProperty(d)||(t.push(function OL(n){return new c.vHH(3003,hn)}()),p=""),p.toString()});return r==i?n:r}function vE(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const mB=/-+([a-z0-9])/g;function sS(n){return n.replace(mB,(...e)=>e[1].toUpperCase())}function _B(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qa(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function FL(n){return new c.vHH(3004,hn)}()}}function _R(n,e){return window.getComputedStyle(n)[e]}function wB(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function EB(n,e,t){if(":"==n[0]){const _=function CB(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function QL(n){return new c.vHH(3016,hn)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function WL(n){return new c.vHH(3015,hn)}()),e;const r=i[1],a=i[2],d=i[3];e.push(yR(r,d));"<"==a[0]&&!("*"==r&&"*"==d)&&e.push(yR(d,r))}(i,t,e)):t.push(n),t}const EE=new Set(["true","1"]),CE=new Set(["false","0"]);function yR(n,e){const t=EE.has(n)||CE.has(n),i=EE.has(e)||CE.has(e);return(r,a)=>{let d="*"==n||n==r,p="*"==e||e==a;return!d&&t&&"boolean"==typeof r&&(d=r?EE.has(n):CE.has(n)),!p&&i&&"boolean"==typeof a&&(p=a?EE.has(e):CE.has(e)),d&&p}}const IB=new RegExp("s*:selfs*,?","g");function oS(n,e,t,i){return new DB(n).build(e,t,i)}class DB{constructor(e){this._driver=e}build(e,t,i){const r=new MB(t);this._resetContextStyleTimingState(r);const a=qa(this,_v(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function NL(){return new c.vHH(3006,hn)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const _=p,w=_.name;w.toString().split(/\s*,\s*/).forEach(S=>{_.name=S,a.push(this.visitState(_,t))}),_.name=w}else if(1==p.type){const _=this.visitTransition(p,t);i+=_.queryCount,r+=_.depCount,d.push(_)}else t.errors.push(function LL(){return new c.vHH(3007,hn)}())}),{type:7,name:e.name,states:a,transitions:d,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,d=r||{};i.styles.forEach(p=>{if(IE(p)){const _=p;Object.keys(_).forEach(w=>{mR(_[w]).forEach(S=>{d.hasOwnProperty(S)||a.add(S)})})}}),a.size&&(vE(a.values()),t.errors.push(function BL(n,e){return new c.vHH(3008,hn)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=qa(this,_v(e.animation),t);return{type:1,matchers:wB(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:yg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>qa(this,i,t)),options:yg(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(d=>{t.currentTime=i;const p=qa(this,d,t);return r=Math.max(r,t.currentTime),p});return t.currentTime=r,{type:3,steps:a,options:yg(e.options)}}visitAnimate(e,t){const i=function RB(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return aS(yE(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=aS(0,0,"");return a.dynamic=!0,a.strValue=i,a}return t=t||yE(i,e),aS(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:ny({});if(5==a.type)r=this.visitKeyframes(a,t);else{let d=e.styles,p=!1;if(!d){p=!0;const w={};i.easing&&(w.easing=i.easing),d=ny(w)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(d,t);_.isEmptyStep=p,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==Md?i.push(d):t.errors.push(function VL(n){return new c.vHH(3002,hn)}()):i.push(d)}):i.push(e.styles);let r=!1,a=null;return i.forEach(d=>{if(IE(d)){const p=d,_=p.easing;if(_&&(a=_,delete p.easing),!r)for(let w in p)if(p[w].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:a,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(p=>{if(!this._driver.validateStyleProperty(p))return delete d[p],void t.unsupportedCSSPropertiesFound.add(p);const _=t.collectedStyles[t.currentQuerySelector],w=_[p];let S=!0;w&&(a!=r&&a>=w.startTime&&r<=w.endTime&&(t.errors.push(function UL(n,e,t,i,r){return new c.vHH(3010,hn)}()),S=!1),a=w.startTime),S&&(_[p]={startTime:a,endTime:r}),t.options&&function gB(n,e,t){const i=e.params||{},r=mR(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function RL(n){return new c.vHH(3001,hn)}())})}(d[p],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function GL(){return new c.vHH(3011,hn)}()),i;let a=0;const d=[];let p=!1,_=!1,w=0;const S=e.steps.map(Ge=>{const rt=this._makeStyleAst(Ge,t);let at=null!=rt.offset?rt.offset:function kB(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(IE(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(IE(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(rt.styles),Ye=0;return null!=at&&(a++,Ye=rt.offset=at),_=_||Ye<0||Ye>1,p=p||Ye<w,w=Ye,d.push(Ye),rt});_&&t.errors.push(function HL(){return new c.vHH(3012,hn)}()),p&&t.errors.push(function jL(){return new c.vHH(3200,hn)}());const O=e.steps.length;let V=0;a>0&&a<O?t.errors.push(function zL(){return new c.vHH(3202,hn)}()):0==a&&(V=1/(O-1));const H=O-1,q=t.currentTime,ce=t.currentAnimateTimings,De=ce.duration;return S.forEach((Ge,rt)=>{const at=V>0?rt==H?1:V*rt:d[rt],Ye=at*De;t.currentTime=q+ce.delay+Ye,ce.duration=Ye,this._validateStyleAst(Ge,t),Ge.offset=at,i.styles.push(Ge)}),i}visitReference(e,t){return{type:8,animation:qa(this,_v(e.animation),t),options:yg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:yg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:yg(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,d]=function TB(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(IB,"")),n=n.replace(/@\*/g,_E).replace(/@\w+/g,t=>_E+"-"+t.substr(1)).replace(/:animating/g,nS),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,$a(t.collectedStyles,t.currentQuerySelector,{});const p=qa(this,_v(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:d,animation:p,originalSelector:e.selector,options:yg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function $L(){return new c.vHH(3013,hn)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:yE(e.timings,t.errors,!0);return{type:12,animation:qa(this,_v(e.animation),t),timings:i,options:null}}}class MB{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function IE(n){return!Array.isArray(n)&&"object"==typeof n}function yg(n){return n?(n=sy(n)).params&&(n.params=function SB(n){return n?sy(n):null}(n.params)):n={},n}function aS(n,e,t){return{duration:n,delay:e,easing:t}}function lS(n,e,t,i,r,a,d=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:d,subTimeline:p}}class DE{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const PB=new RegExp(":enter","g"),LB=new RegExp(":leave","g");function cS(n,e,t,i,r,a={},d={},p,_,w=[]){return(new BB).buildKeyframes(n,e,t,i,r,a,d,p,_,w)}class BB{buildKeyframes(e,t,i,r,a,d,p,_,w,S=[]){w=w||new DE;const O=new uS(e,t,w,r,a,S,[]);O.options=_,O.currentTimeline.setStyles([d],null,O.errors,_),qa(this,i,O);const V=O.timelines.filter(H=>H.containsAnimation());if(Object.keys(p).length){let H;for(let q=V.length-1;q>=0;q--){const ce=V[q];if(ce.element===t){H=ce;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([p],null,O.errors,_)}return V.length?V.map(H=>H.buildKeyframes()):[lS(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,d=this._visitSubInstructions(i,r,r.options);a!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const d=null!=i.duration?mg(i.duration):null,p=null!=i.delay?mg(i.delay):null;return 0!==d&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,d,p);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),qa(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=TE);const d=mg(a.delay);r.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>qa(this,d,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?mg(e.options.delay):0;e.steps.forEach(d=>{const p=t.createSubContext(e.options);a&&p.delayNextStep(a),qa(this,d,p),r=Math.max(r,p.currentTimeline.currentTime),i.push(p.currentTimeline)}),i.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return yE(t.params?AE(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,p=t.createSubContext().currentTimeline;p.easing=i.easing,e.styles.forEach(_=>{p.forwardTime((_.offset||0)*a),p.setStyles(_.styles,_.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?mg(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=TE);let d=i;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=p.length;let _=null;p.forEach((w,S)=>{t.currentQueryIndex=S;const O=t.createSubContext(e.options,w);a&&O.delayNextStep(a),w===t.element&&(_=O.currentTimeline),qa(this,e.animation,O),O.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,O.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,d=Math.abs(a.duration),p=d*(t.currentQueryTotal-1);let _=d*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=p-_;break;case"full":_=i.currentStaggerTime}const S=t.currentTimeline;_&&S.delayNextStep(_);const O=S.currentTime;qa(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-O+(r.startTime-i.currentTimeline.startTime)}}const TE={};class uS{constructor(e,t,i,r,a,d,p,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=d,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=TE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new SE(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=mg(i.duration)),null!=i.delay&&(r.delay=mg(i.delay));const a=i.params;if(a){let d=r.params;d||(d=this.options.params={}),Object.keys(a).forEach(p=>{(!t||!d.hasOwnProperty(p))&&(d[p]=AE(a[p],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new uS(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=TE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},a=new VB(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,d){let p=[];if(r&&p.push(this.element),e.length>0){e=(e=e.replace(PB,"."+this._enterClassName)).replace(LB,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),p.push(...w)}return!a&&0==p.length&&d.push(function qL(n){return new c.vHH(3014,hn)}()),p}}class SE{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new SE(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Md,this._currentKeyframe[t]=Md}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const a=r&&r.params||{},d=function UB(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(a=>{t[a]=Md})):af(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(p=>{const _=AE(d[p],a,i);this._pendingStyles[p]=_,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:Md),this._updateStyle(p,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((p,_)=>{const w=af(p,!0);Object.keys(w).forEach(S=>{const O=w[S];"!"==O?e.add(S):O==Md&&t.add(S)}),i||(w.offset=_/this.duration),r.push(w)});const a=e.size?vE(e.values()):[],d=t.size?vE(t.values()):[];if(i){const p=r[0],_=sy(p);p.offset=0,_.offset=1,r=[p,_]}return lS(this.element,r,a,d,this.duration,this.startTime,this.easing,!1)}}class VB extends SE{constructor(e,t,i,r,a,d,p=!1){super(e,t,d.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=p,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],d=i+t,p=t/d,_=af(e[0],!1);_.offset=0,a.push(_);const w=af(e[0],!1);w.offset=xR(p),a.push(w);const S=e.length-1;for(let O=1;O<=S;O++){let V=af(e[O],!1);V.offset=xR((t+V.offset*i)/d),a.push(V)}i=d,t=0,r="",e=a}return lS(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function xR(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class dS{}class GB extends dS{normalizePropertyName(e,t){return sS(e)}normalizeStyleValue(e,t,i,r){let a="";const d=i.toString().trim();if(HB[t]&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const p=i.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&r.push(function PL(n,e){return new c.vHH(3005,hn)}())}return d+a}}const HB=(()=>function jB(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function bR(n,e,t,i,r,a,d,p,_,w,S,O,V){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:d,timelines:p,queriedElements:_,preStyleProps:w,postStyleProps:S,totalTime:O,errors:V}}const hS={};class wR{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function zB(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],a=this._stateStyles[e],d=r?r.buildStyles(t,i):{};return a?a.buildStyles(t,i):d}build(e,t,i,r,a,d,p,_,w,S){const O=[],V=this.ast.options&&this.ast.options.params||hS,q=this.buildStyles(i,p&&p.params||hS,O),ce=_&&_.params||hS,De=this.buildStyles(r,ce,O),Ge=new Set,rt=new Map,at=new Map,Ye="void"===r,It={params:Object.assign(Object.assign({},V),ce)},Ot=S?[]:cS(e,t,this.ast.animation,a,d,q,De,It,w,O);let on=0;if(Ot.forEach(Wa=>{on=Math.max(Wa.duration+Wa.delay,on)}),O.length)return bR(t,this._triggerName,i,r,Ye,q,De,[],[],rt,at,on,O);Ot.forEach(Wa=>{const Ld=Wa.element,mF=$a(rt,Ld,{});Wa.preStyleProps.forEach(wg=>mF[wg]=!0);const Iv=$a(at,Ld,{});Wa.postStyleProps.forEach(wg=>Iv[wg]=!0),Ld!==t&&Ge.add(Ld)});const er=vE(Ge.values());return bR(t,this._triggerName,i,r,Ye,q,De,Ot,er,rt,at,on)}}class $B{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=sy(this.defaultParams);return Object.keys(e).forEach(a=>{const d=e[a];null!=d&&(r[a]=d)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const d=a;Object.keys(d).forEach(p=>{let _=d[p];_.length>1&&(_=AE(_,r,t));const w=this.normalizer.normalizePropertyName(p,t);_=this.normalizer.normalizeStyleValue(p,w,_,t),i[w]=_})}}),i}}class WB{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new $B(r.style,r.options&&r.options.params||{},i)}),ER(this.states,"true","1"),ER(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new wR(e,r,this.states))}),this.fallbackTransition=function QB(n,e,t){return new wR(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(d=>d.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function ER(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const KB=new DE;class ZB{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],a=oS(this._driver,t,i,[]);if(i.length)throw function XL(n){return new c.vHH(3503,hn)}();this._animations[e]=a}_buildPlayer(e,t,i){const r=e.element,a=nR(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations[e];let d;const p=new Map;if(a?(d=cS(this._driver,t,a,tS,gE,{},{},i,KB,r),d.forEach(S=>{const O=$a(p,S.element,{});S.postStyleProps.forEach(V=>O[V]=null)})):(r.push(function eB(){return new c.vHH(3300,hn)}()),d=[]),r.length)throw function tB(n){return new c.vHH(3504,hn)}();p.forEach((S,O)=>{Object.keys(S).forEach(V=>{S[V]=this._driver.computeStyle(O,V,Md)})});const w=sf(d.map(S=>{const O=p.get(S.element);return this._buildPlayer(S,{},O)}));return this._playersById[e]=w,w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function nB(n){return new c.vHH(3301,hn)}();return t}listen(e,t,i,r){const a=ZT(t,"","","");return QT(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const CR="ng-animate-queued",fS="ng-animate-disabled",t3=[],IR={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},n3={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Cl="__ng_removed";class pS{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function a3(n){return null!=n?n:null}(i?e.value:e),i){const a=sy(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const yv="void",gS=new pS(yv);class r3{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Il(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function iB(n,e){return new c.vHH(3302,hn)}();if(null==i||0==i.length)throw function rB(n){return new c.vHH(3303,hn)}();if(!function l3(n){return"start"==n||"done"==n}(i))throw function sB(n,e){return new c.vHH(3400,hn)}();const a=$a(this._elementListeners,e,[]),d={name:t,phase:i,callback:r};a.push(d);const p=$a(this._engine.statesByElement,e,{});return p.hasOwnProperty(t)||(Il(e,mE),Il(e,mE+"-"+t),p[t]=gS),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(d);_>=0&&a.splice(_,1),this._triggers[t]||delete p[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function oB(n){return new c.vHH(3401,hn)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),d=new mS(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(Il(e,mE),Il(e,mE+"-"+t),this._engine.statesByElement.set(e,p={}));let _=p[t];const w=new pS(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),p[t]=w,_||(_=gS),w.value!==yv&&_.value===w.value){if(!function d3(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,w.params)){const ce=[],De=a.matchStyles(_.value,_.params,ce),Ge=a.matchStyles(w.value,w.params,ce);ce.length?this._engine.reportError(ce):this._engine.afterFlush(()=>{_g(e,De),Au(e,Ge)})}return}const V=$a(this._engine.playersByElement,e,[]);V.forEach(ce=>{ce.namespaceId==this.id&&ce.triggerName==t&&ce.queued&&ce.destroy()});let H=a.matchTransition(_.value,w.value,e,w.params),q=!1;if(!H){if(!r)return;H=a.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:_,toState:w,player:d,isFallbackTransition:q}),q||(Il(e,CR),d.onStart(()=>{oy(e,CR)})),d.onDone(()=>{let ce=this.players.indexOf(d);ce>=0&&this.players.splice(ce,1);const De=this._engine.playersByElement.get(e);if(De){let Ge=De.indexOf(d);Ge>=0&&De.splice(Ge,1)}}),this.players.push(d),V.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,_E,!0);i.forEach(r=>{if(r[Cl])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(d=>d.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),d=new Map;if(a){const p=[];if(Object.keys(a).forEach(_=>{if(d.set(_,a[_].value),this._triggers[_]){const w=this.trigger(e,_,yv,r);w&&p.push(w)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),i&&sf(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const d=a.name;if(r.has(d))return;r.add(d);const _=this._triggers[d].fallbackTransition,w=i[d]||gS,S=new pS(yv),O=new mS(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:_,fromState:w,toState:S,player:O,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let d=e;for(;d=d.parentNode;)if(i.statesByElement.get(d)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Cl];(!a||a===IR)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Il(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,d=this._elementListeners.get(a);d&&d.forEach(p=>{if(p.name==i.triggerName){const _=ZT(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,QT(i.player,p.phase,_,p.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,d=r.transition.ast.depCount;return 0==a||0==d?a-d:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class s3{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new r3(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,a=i.length-1;if(a>=0){let d=!1;if(void 0!==this.driver.getParentElement){let p=this.driver.getParentElement(t);for(;p;){const _=r.get(p);if(_){const w=i.indexOf(_);i.splice(w+1,0,e),d=!0;break}p=this.driver.getParentElement(p)}}else for(let p=a;p>=0;p--)if(this.driver.containsElement(i[p].hostElement,t)){i.splice(p+1,0,e),d=!0;break}d||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let a=0;a<r.length;a++){const d=i[r[a]].namespaceId;if(d){const p=this._fetchNamespace(d);p&&t.add(p)}}}return t}trigger(e,t,i,r){if(ME(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!ME(t))return;const a=t[Cl];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Il(e,fS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),oy(e,fS))}removeNode(e,t,i,r){if(ME(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Cl]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return ME(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,_E,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,nS,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return sf(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[Cl];if(i&&i.setForRemoval){if(e[Cl]=IR,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(fS))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Il(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?sf(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function aB(n){return new c.vHH(3402,hn)}()}_flushAnimations(e,t){const i=new DE,r=[],a=new Map,d=[],p=new Map,_=new Map,w=new Map,S=new Set;this.disabledNodes.forEach(xt=>{S.add(xt);const Nt=this.driver.query(xt,".ng-animate-queued",!0);for(let Gt=0;Gt<Nt.length;Gt++)S.add(Nt[Gt])});const O=this.bodyNode,V=Array.from(this.statesByElement.keys()),H=SR(V,this.collectedEnterElements),q=new Map;let ce=0;H.forEach((xt,Nt)=>{const Gt=tS+ce++;q.set(Nt,Gt),xt.forEach(wn=>Il(wn,Gt))});const De=[],Ge=new Set,rt=new Set;for(let xt=0;xt<this.collectedLeaveElements.length;xt++){const Nt=this.collectedLeaveElements[xt],Gt=Nt[Cl];Gt&&Gt.setForRemoval&&(De.push(Nt),Ge.add(Nt),Gt.hasAnimation?this.driver.query(Nt,".ng-star-inserted",!0).forEach(wn=>Ge.add(wn)):rt.add(Nt))}const at=new Map,Ye=SR(V,Array.from(Ge));Ye.forEach((xt,Nt)=>{const Gt=gE+ce++;at.set(Nt,Gt),xt.forEach(wn=>Il(wn,Gt))}),e.push(()=>{H.forEach((xt,Nt)=>{const Gt=q.get(Nt);xt.forEach(wn=>oy(wn,Gt))}),Ye.forEach((xt,Nt)=>{const Gt=at.get(Nt);xt.forEach(wn=>oy(wn,Gt))}),De.forEach(xt=>{this.processLeaveNode(xt)})});const It=[],Ot=[];for(let xt=this._namespaceList.length-1;xt>=0;xt--)this._namespaceList[xt].drainQueuedTransitions(t).forEach(Gt=>{const wn=Gt.player,os=Gt.element;if(It.push(wn),this.collectedEnterElements.length){const Mo=os[Cl];if(Mo&&Mo.setForMove){if(Mo.previousTriggersValues&&Mo.previousTriggersValues.has(Gt.triggerName)){const Eg=Mo.previousTriggersValues.get(Gt.triggerName),hf=this.statesByElement.get(Gt.element);hf&&hf[Gt.triggerName]&&(hf[Gt.triggerName].value=Eg)}return void wn.destroy()}}const vu=!O||!this.driver.containsElement(O,os),Qa=at.get(os),df=q.get(os),Pi=this._buildInstruction(Gt,i,df,Qa,vu);if(Pi.errors&&Pi.errors.length)return void Ot.push(Pi);if(vu)return wn.onStart(()=>_g(os,Pi.fromStyles)),wn.onDestroy(()=>Au(os,Pi.toStyles)),void r.push(wn);if(Gt.isFallbackTransition)return wn.onStart(()=>_g(os,Pi.fromStyles)),wn.onDestroy(()=>Au(os,Pi.toStyles)),void r.push(wn);const AF=[];Pi.timelines.forEach(Mo=>{Mo.stretchStartingKeyframe=!0,this.disabledNodes.has(Mo.element)||AF.push(Mo)}),Pi.timelines=AF,i.append(os,Pi.timelines),d.push({instruction:Pi,player:wn,element:os}),Pi.queriedElements.forEach(Mo=>$a(p,Mo,[]).push(wn)),Pi.preStyleProps.forEach((Mo,Eg)=>{const hf=Object.keys(Mo);if(hf.length){let Cg=_.get(Eg);Cg||_.set(Eg,Cg=new Set),hf.forEach(GS=>Cg.add(GS))}}),Pi.postStyleProps.forEach((Mo,Eg)=>{const hf=Object.keys(Mo);let Cg=w.get(Eg);Cg||w.set(Eg,Cg=new Set),hf.forEach(GS=>Cg.add(GS))})});if(Ot.length){const xt=[];Ot.forEach(Nt=>{xt.push(function lB(n,e){return new c.vHH(3505,hn)}())}),It.forEach(Nt=>Nt.destroy()),this.reportError(xt)}const on=new Map,er=new Map;d.forEach(xt=>{const Nt=xt.element;i.has(Nt)&&(er.set(Nt,Nt),this._beforeAnimationBuild(xt.player.namespaceId,xt.instruction,on))}),r.forEach(xt=>{const Nt=xt.element;this._getPreviousPlayers(Nt,!1,xt.namespaceId,xt.triggerName,null).forEach(wn=>{$a(on,Nt,[]).push(wn),wn.destroy()})});const Wa=De.filter(xt=>kR(xt,_,w)),Ld=new Map;TR(Ld,this.driver,rt,w,Md).forEach(xt=>{kR(xt,_,w)&&Wa.push(xt)});const Iv=new Map;H.forEach((xt,Nt)=>{TR(Iv,this.driver,new Set(xt),_,"!")}),Wa.forEach(xt=>{const Nt=Ld.get(xt),Gt=Iv.get(xt);Ld.set(xt,Object.assign(Object.assign({},Nt),Gt))});const wg=[],_F=[],yF={};d.forEach(xt=>{const{element:Nt,player:Gt,instruction:wn}=xt;if(i.has(Nt)){if(S.has(Nt))return Gt.onDestroy(()=>Au(Nt,wn.toStyles)),Gt.disabled=!0,Gt.overrideTotalTime(wn.totalTime),void r.push(Gt);let os=yF;if(er.size>1){let Qa=Nt;const df=[];for(;Qa=Qa.parentNode;){const Pi=er.get(Qa);if(Pi){os=Pi;break}df.push(Qa)}df.forEach(Pi=>er.set(Pi,os))}const vu=this._buildAnimation(Gt.namespaceId,wn,on,a,Iv,Ld);if(Gt.setRealPlayer(vu),os===yF)wg.push(Gt);else{const Qa=this.playersByElement.get(os);Qa&&Qa.length&&(Gt.parentPlayer=sf(Qa)),r.push(Gt)}}else _g(Nt,wn.fromStyles),Gt.onDestroy(()=>Au(Nt,wn.toStyles)),_F.push(Gt),S.has(Nt)&&r.push(Gt)}),_F.forEach(xt=>{const Nt=a.get(xt.element);if(Nt&&Nt.length){const Gt=sf(Nt);xt.setRealPlayer(Gt)}}),r.forEach(xt=>{xt.parentPlayer?xt.syncPlayerEvents(xt.parentPlayer):xt.destroy()});for(let xt=0;xt<De.length;xt++){const Nt=De[xt],Gt=Nt[Cl];if(oy(Nt,gE),Gt&&Gt.hasAnimation)continue;let wn=[];if(p.size){let vu=p.get(Nt);vu&&vu.length&&wn.push(...vu);let Qa=this.driver.query(Nt,nS,!0);for(let df=0;df<Qa.length;df++){let Pi=p.get(Qa[df]);Pi&&Pi.length&&wn.push(...Pi)}}const os=wn.filter(vu=>!vu.destroyed);os.length?c3(this,Nt,os):this.processLeaveNode(Nt)}return De.length=0,wg.forEach(xt=>{this.players.push(xt),xt.onDone(()=>{xt.destroy();const Nt=this.players.indexOf(xt);this.players.splice(Nt,1)}),xt.play()}),wg}elementContainsData(e,t){let i=!1;const r=t[Cl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let d=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(d=p)}else{const p=this.playersByElement.get(e);if(p){const _=!a||a==yv;p.forEach(w=>{w.queued||!_&&w.triggerName!=r||d.push(w)})}}return(i||r)&&(d=d.filter(p=>!(i&&i!=p.namespaceId||r&&r!=p.triggerName))),d}_beforeAnimationBuild(e,t,i){const a=t.element,d=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,S=w!==a,O=$a(i,w,[]);this._getPreviousPlayers(w,S,d,p,t.toState).forEach(H=>{const q=H.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),H.destroy(),O.push(H)})}_g(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,d){const p=t.triggerName,_=t.element,w=[],S=new Set,O=new Set,V=t.timelines.map(q=>{const ce=q.element;S.add(ce);const De=ce[Cl];if(De&&De.removedBeforeQueried)return new gv(q.duration,q.delay);const Ge=ce!==_,rt=function u3(n){const e=[];return MR(n,e),e}((i.get(ce)||t3).map(on=>on.getRealPlayer())).filter(on=>!!on.element&&on.element===ce),at=a.get(ce),Ye=d.get(ce),It=nR(0,this._normalizer,0,q.keyframes,at,Ye),Ot=this._buildPlayer(q,It,rt);if(q.subTimeline&&r&&O.add(ce),Ge){const on=new mS(e,p,ce);on.setRealPlayer(Ot),w.push(on)}return Ot});w.forEach(q=>{$a(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function o3(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,q.element,q))}),S.forEach(q=>Il(q,hR));const H=sf(V);return H.onDestroy(()=>{S.forEach(q=>oy(q,hR)),Au(_,t.toStyles)}),O.forEach(q=>{$a(r,q,[]).push(H)}),H}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new gv(e.duration,e.delay)}}class mS{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new gv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>QT(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){$a(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ME(n){return n&&1===n.nodeType}function DR(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function TR(n,e,t,i,r){const a=[];t.forEach(_=>a.push(DR(_)));const d=[];i.forEach((_,w)=>{const S={};_.forEach(O=>{const V=S[O]=e.computeStyle(w,O,r);(!V||0==V.length)&&(w[Cl]=n3,d.push(w))}),n.set(w,S)});let p=0;return t.forEach(_=>DR(_,a[p++])),d}function SR(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const r=new Set(e),a=new Map;function d(p){if(!p)return 1;let _=a.get(p);if(_)return _;const w=p.parentNode;return _=t.has(w)?w:r.has(w)?1:d(w),a.set(p,_),_}return e.forEach(p=>{const _=d(p);1!==_&&t.get(_).push(p)}),t}function Il(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function oy(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function c3(n,e,t){sf(t).onDone(()=>n.processLeaveNode(e))}function MR(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof qk?MR(i.players,e):e.push(i)}}function kR(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class kE{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new s3(e,t,i),this._timelineEngine=new ZB(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const d=e+"-"+r;let p=this._triggerCache[d];if(!p){const _=[],S=oS(this._driver,a,_,[]);if(_.length)throw function YL(n,e){return new c.vHH(3404,hn)}();p=function qB(n,e,t){return new WB(n,e,t)}(r,S,this._normalizer),this._triggerCache[d]=p}this._transitionEngine.registerTrigger(t,r,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,d]=iR(i);this._timelineEngine.command(a,t,d,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[d,p]=iR(i);return this._timelineEngine.listen(d,t,p,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let f3=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Au(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Au(this._element,this._initialStyles),this._endStyles&&(Au(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(_g(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_g(this._element,this._endStyles),this._endStyles=null),Au(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function _S(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];p3(r)&&(e=e||{},e[r]=n[r])}return e}function p3(n){return"display"===n||"position"===n}class RR{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:_R(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class g3{validateStyleProperty(e){return aR(e)}matchesElement(e,t){return!1}containsElement(e,t){return lR(e,t)}getParentElement(e){return XT(e)}query(e,t,i){return cR(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,d=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const w={},S=d.filter(V=>V instanceof RR);(function yB(n,e){return 0===n||0===e})(i,r)&&S.forEach(V=>{let H=V.currentSnapshot;Object.keys(H).forEach(q=>w[q]=H[q])}),t=function AB(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let a=e[0],d=[];if(i.forEach(p=>{a.hasOwnProperty(p)||d.push(p),a[p]=t[p]}),d.length)for(var r=1;r<e.length;r++){let p=e[r];d.forEach(function(_){p[_]=_R(n,_)})}}return e}(e,t=t.map(V=>af(V,!1)),w);const O=function h3(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=_S(e[0]),e.length>1&&(i=_S(e[e.length-1]))):e&&(t=_S(e)),t||i?new f3(n,t,i):null}(e,t);return new RR(e,t,_,O)}}let m3=(()=>{class n extends Uk{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?jk(t):t;return OR(this._renderer,null,i,"register",[r]),new _3(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class _3 extends class RN{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new y3(this._id,e,t||{},this._renderer)}}class y3{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return OR(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function OR(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const FR="@.disabled";let A3=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,d)=>{const p=null==d?void 0:d.parentNode(a);p&&d.removeChild(p,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let S=this._rendererCache.get(a);return S||(S=new PR("",a,this.engine),this._rendererCache.set(a,S)),S}const d=i.id,p=i.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const _=S=>{Array.isArray(S)?S.forEach(_):this.engine.registerTrigger(d,p,t,S.name,S)};return i.data.animation.forEach(_),new v3(this,p,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[d,p]=a;d(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(kE),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class PR{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==FR?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class v3 extends PR{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==FR?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function x3(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),d="";return"@"!=a.charAt(0)&&([a,d]=function b3(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,d,p=>{this.factory.scheduleListenerCallback(p._data||-1,i,p)})}return this.delegate.listen(e,t,i)}}let w3=(()=>{class n extends kE{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de),c.LFG(eS),c.LFG(dS))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const NR=new c.OlP("AnimationModuleType"),LR=[{provide:Uk,useClass:m3},{provide:dS,useFactory:function E3(){return new GB}},{provide:kE,useClass:w3},{provide:c.FYo,useFactory:function C3(n,e,t){return new A3(n,e,t)},deps:[bn,kE,c.R0b]}],BR=[{provide:eS,useFactory:()=>new g3},{provide:NR,useValue:"BrowserAnimations"},...LR],I3=[{provide:eS,useClass:uR},{provide:NR,useValue:"NoopAnimations"},...LR];let VR=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?I3:BR}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:BR,imports:[go]}),n})(),U3=(()=>{class n{static forRoot(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ao]]}),n})();const z3={provide:c.tb,useFactory:function j3(n,e){return()=>{if(Sn(e)){const t=Array.from(n.querySelectorAll(`[class*=${$R}]`)),i=/\bflex-layout-.+?\b/g;t.forEach(r=>{r.classList.contains(`${$R}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[de,c.Lbi],multi:!0},$R="flex-layout-";let AS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[z3]}),n})();const vS={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},yc=new c.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>vS}),ay=new c.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),xS=new c.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});let uO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[AS]]}),n})(),CS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),gO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[AS,CS]]}),n})(),wO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[AS]]}),n})(),oU=(()=>{class n{constructor(t,i){sr(i)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,i=[]){return{ngModule:n,providers:t.serverLoaded?[{provide:yc,useValue:Object.assign(Object.assign({},vS),t)},{provide:xS,useValue:i,multi:!0},{provide:ay,useValue:!0}]:[{provide:yc,useValue:Object.assign(Object.assign({},vS),t)},{provide:xS,useValue:i,multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ay),c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[gO,uO,wO],gO,uO,wO]}),n})();var aU=L(5226),xv=L.n(aU);class EO{}class CO{}class Pd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),d=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(d):this.headers.set(a,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Pd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Pd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Pd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let d=this.headers.get(t);if(!d)return;d=d.filter(p=>-1===a.indexOf(p)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class cU{encodeKey(e){return IO(e)}encodeValue(e){return IO(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const dU=/%(\d[a-f0-9])/gi,hU={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function IO(n){return encodeURIComponent(n).replace(dU,(e,t)=>{var i;return null!==(i=hU[t])&&void 0!==i?i:e})}function DO(n){return`${n}`}class cf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new cU,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function uU(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[d,p]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=t.get(d)||[];_.push(p),t.set(d,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new cf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(DO(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(DO(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class fU{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function TO(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function SO(n){return"undefined"!=typeof Blob&&n instanceof Blob}function MO(n){return"undefined"!=typeof FormData&&n instanceof FormData}class bv{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function pU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Pd),this.context||(this.context=new fU),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+d}}else this.params=new cf,this.urlWithParams=t}serializeBody(){return null===this.body?null:TO(this.body)||SO(this.body)||MO(this.body)||function gU(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof cf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||MO(this.body)?null:SO(this.body)?this.body.type||null:TO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof cf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,a=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,p=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let w=e.headers||this.headers,S=e.params||this.params;const O=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(w=Object.keys(e.setHeaders).reduce((V,H)=>V.set(H,e.setHeaders[H]),w)),e.setParams&&(S=Object.keys(e.setParams).reduce((V,H)=>V.set(H,e.setParams[H]),S)),new bv(i,r,d,{params:S,headers:w,context:O,reportProgress:_,responseType:a,withCredentials:p})}}var vr=(()=>((vr=vr||{})[vr.Sent=0]="Sent",vr[vr.UploadProgress=1]="UploadProgress",vr[vr.ResponseHeader=2]="ResponseHeader",vr[vr.DownloadProgress=3]="DownloadProgress",vr[vr.Response=4]="Response",vr[vr.User=5]="User",vr))();class IS{constructor(e,t=200,i="OK"){this.headers=e.headers||new Pd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class DS extends IS{constructor(e={}){super(e),this.type=vr.ResponseHeader}clone(e={}){return new DS({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class NE extends IS{constructor(e={}){super(e),this.type=vr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new NE({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class kO extends IS{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function TS(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let LE=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof bv)a=t;else{let _,w;_=r.headers instanceof Pd?r.headers:new Pd(r.headers),r.params&&(w=r.params instanceof cf?r.params:new cf({fromObject:r.params})),a=new bv(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const d=Pn(a).pipe(function lU(n,e){return(0,za.m)(e)?(0,pv.z)(n,e,1):(0,pv.z)(n,1)}(_=>this.handler.handle(_)));if(t instanceof bv||"events"===r.observe)return d;const p=d.pipe(Pa(_=>_ instanceof NE));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return p.pipe((0,Ne.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return p.pipe((0,Ne.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return p.pipe((0,Ne.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return p.pipe((0,Ne.U)(_=>_.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new cf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,TS(r,i))}post(t,i,r={}){return this.request("POST",t,TS(r,i))}put(t,i,r={}){return this.request("PUT",t,TS(r,i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(EO))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class RO{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const OO=new c.OlP("HTTP_INTERCEPTORS");let mU=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const _U=/^\)\]\}',?\n/;let FO=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Wn.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((H,q)=>r.setRequestHeader(H,q.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const H=t.detectContentTypeHeader();null!==H&&r.setRequestHeader("Content-Type",H)}if(t.responseType){const H=t.responseType.toLowerCase();r.responseType="json"!==H?H:"text"}const a=t.serializeBody();let d=null;const p=()=>{if(null!==d)return d;const H=r.statusText||"OK",q=new Pd(r.getAllResponseHeaders()),ce=function yU(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return d=new DS({headers:q,status:r.status,statusText:H,url:ce}),d},_=()=>{let{headers:H,status:q,statusText:ce,url:De}=p(),Ge=null;204!==q&&(Ge=void 0===r.response?r.responseText:r.response),0===q&&(q=Ge?200:0);let rt=q>=200&&q<300;if("json"===t.responseType&&"string"==typeof Ge){const at=Ge;Ge=Ge.replace(_U,"");try{Ge=""!==Ge?JSON.parse(Ge):null}catch(Ye){Ge=at,rt&&(rt=!1,Ge={error:Ye,text:Ge})}}rt?(i.next(new NE({body:Ge,headers:H,status:q,statusText:ce,url:De||void 0})),i.complete()):i.error(new kO({error:Ge,headers:H,status:q,statusText:ce,url:De||void 0}))},w=H=>{const{url:q}=p(),ce=new kO({error:H,status:r.status||0,statusText:r.statusText||"Unknown Error",url:q||void 0});i.error(ce)};let S=!1;const O=H=>{S||(i.next(p()),S=!0);let q={type:vr.DownloadProgress,loaded:H.loaded};H.lengthComputable&&(q.total=H.total),"text"===t.responseType&&!!r.responseText&&(q.partialText=r.responseText),i.next(q)},V=H=>{let q={type:vr.UploadProgress,loaded:H.loaded};H.lengthComputable&&(q.total=H.total),i.next(q)};return r.addEventListener("load",_),r.addEventListener("error",w),r.addEventListener("timeout",w),r.addEventListener("abort",w),t.reportProgress&&(r.addEventListener("progress",O),null!==a&&r.upload&&r.upload.addEventListener("progress",V)),r.send(a),i.next({type:vr.Sent}),()=>{r.removeEventListener("error",w),r.removeEventListener("abort",w),r.removeEventListener("load",_),r.removeEventListener("timeout",w),t.reportProgress&&(r.removeEventListener("progress",O),null!==a&&r.upload&&r.upload.removeEventListener("progress",V)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(un))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const SS=new c.OlP("XSRF_COOKIE_NAME"),MS=new c.OlP("XSRF_HEADER_NAME");class PO{}let AU=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Oo(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de),c.LFG(c.Lbi),c.LFG(SS))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),kS=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(PO),c.LFG(MS))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),vU=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(OO,[]);this.chain=i.reduceRight((r,a)=>new RO(r,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(CO),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),xU=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:kS,useClass:mU}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:SS,useValue:t.cookieName}:[],t.headerName?{provide:MS,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[kS,{provide:OO,useExisting:kS,multi:!0},{provide:PO,useClass:AU},{provide:SS,useValue:"XSRF-TOKEN"},{provide:MS,useValue:"X-XSRF-TOKEN"}]}),n})(),bU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[LE,{provide:EO,useClass:vU},FO,{provide:CO,useExisting:FO}],imports:[[xU.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();function wU(n,e){if(1&n&&(c.TgZ(0,"option",25),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.Q6J("value",t),c.xp6(1),c.hij(" ",t," ")}}let NO=(()=>{class n{constructor(t,i,r){this.fb=t,this._http=i,this.doms=r,this.server="https://emailsp.herokuapp.com/email",this.img="",this.estilo="",this.emailcolor="",this.tname="Name",this.tlname="Last Name",this.temail="Email",this.tphone="Phone",this.taddress="Address",this.ttypeservice="Select The Service You Need",this.tbestway="Best Way To Contact You",this.tcheckphone="Phone",this.tcheckcorreo="Email",this.tmessage="Message",this.tbutton="Send A Message",this.formulario=this.formInit()}get to(){return this.internalToEmails}set to(t){if("string"==typeof t){const i=t.split(",");this.internalToEmails=i}else this.internalToEmails=t}get services(){return this.internalservice}set services(t){if("string"==typeof t){const i=t.split(",");this.internalservice=i}else this.internalservice=t}get isenglish(){return this.internalboolean}set isenglish(t){this.internalboolean="string"==typeof t?"true"===t:t}formInit(){return this.fb.group({nombre:["",Qr.required],lastname:["",Qr.required],email:["",Qr.required],asunto:[this.isenglish?"New Service Request":"Nueva Solicitud",Qr.required],phone:["",Qr.required],address:["",Qr.required],service:["",Qr.required],mensaje:[""],temail:[!1,Qr.required],tphone:[!1,Qr.required]})}ngOnInit(){}guardarDatosCliente(){if(this.formulario.invalid)return void xv().fire({title:this.isenglish?"Form incomplete":"Formulario Incompleto",text:this.isenglish?"Please enter all the required information to proceed":"Por favor ingresa toda la informacion requerida",icon:"error"});console.log(...function LO(n,...e){try{(function BE(){try{return(0,eval)("globalThis._console_ninja")||(0,eval)("/* https://github.com/wallabyjs/console-ninja#how-does-it-work */'use strict';var _0xcfe134=_0x1b19;(function(_0x4468fb,_0x2551f7){var _0x274ac8=_0x1b19,_0xb2e1e8=_0x4468fb();while(!![]){try{var _0x42c2b5=parseInt(_0x274ac8(0x26f))/0x1+-parseInt(_0x274ac8(0x216))/0x2*(parseInt(_0x274ac8(0x26b))/0x3)+parseInt(_0x274ac8(0x222))/0x4+-parseInt(_0x274ac8(0x20c))/0x5+-parseInt(_0x274ac8(0x24f))/0x6+-parseInt(_0x274ac8(0x282))/0x7*(-parseInt(_0x274ac8(0x1e9))/0x8)+parseInt(_0x274ac8(0x1ec))/0x9;if(_0x42c2b5===_0x2551f7)break;else _0xb2e1e8['push'](_0xb2e1e8['shift']());}catch(_0x276208){_0xb2e1e8['push'](_0xb2e1e8['shift']());}}}(_0x5a50,0xeef3d));var ue=Object['create'],te=Object[_0xcfe134(0x244)],he=Object[_0xcfe134(0x225)],le=Object['getOwnPropertyNames'],fe=Object[_0xcfe134(0x28e)],_e=Object['prototype'][_0xcfe134(0x224)],pe=(_0x3c3faa,_0x31c49d,_0x218496,_0x34692c)=>{var _0x16cdf5=_0xcfe134;if(_0x31c49d&&typeof _0x31c49d==_0x16cdf5(0x259)||typeof _0x31c49d==_0x16cdf5(0x24d)){for(let _0x549f6c of le(_0x31c49d))!_e['call'](_0x3c3faa,_0x549f6c)&&_0x549f6c!==_0x218496&&te(_0x3c3faa,_0x549f6c,{'get':()=>_0x31c49d[_0x549f6c],'enumerable':!(_0x34692c=he(_0x31c49d,_0x549f6c))||_0x34692c[_0x16cdf5(0x203)]});}return _0x3c3faa;},ne=(_0x49fcba,_0x3ff966,_0x295a8e)=>(_0x295a8e=_0x49fcba!=null?ue(fe(_0x49fcba)):{},pe(_0x3ff966||!_0x49fcba||!_0x49fcba[_0xcfe134(0x2af)]?te(_0x295a8e,'default',{'value':_0x49fcba,'enumerable':!0x0}):_0x295a8e,_0x49fcba)),Y=class{constructor(_0x155a1f,_0xc47347,_0x1d3337,_0x59c137){var _0x13383d=_0xcfe134;this[_0x13383d(0x2ad)]=_0x155a1f,this[_0x13383d(0x2a0)]=_0xc47347,this[_0x13383d(0x2a1)]=_0x1d3337,this[_0x13383d(0x265)]=_0x59c137,this[_0x13383d(0x2b0)]=!0x0,this[_0x13383d(0x238)]=!0x0,this[_0x13383d(0x2a3)]=!0x1,this[_0x13383d(0x243)]=[],this[_0x13383d(0x235)]=!0x1,this['_connecting']=!0x1,this[_0x13383d(0x23c)]=!!this[_0x13383d(0x2ad)][_0x13383d(0x288)],this[_0x13383d(0x25a)]=null,this[_0x13383d(0x24b)]=0x0,this[_0x13383d(0x267)]=0x14,this[_0x13383d(0x1f2)]=0x0,this[_0x13383d(0x271)]=0x3e8,this[_0x13383d(0x20b)]=this['_inBrowser']?_0x13383d(0x240):_0x13383d(0x2bf);}async[_0xcfe134(0x28c)](){var _0x162c9a=_0xcfe134;if(this[_0x162c9a(0x25a)])return this[_0x162c9a(0x25a)];let _0x55dba7;if(this[_0x162c9a(0x23c)])_0x55dba7=this[_0x162c9a(0x2ad)]['WebSocket'];else{if(this['global'][_0x162c9a(0x21b)]?.[_0x162c9a(0x27c)])_0x55dba7=this[_0x162c9a(0x2ad)][_0x162c9a(0x21b)]?.[_0x162c9a(0x27c)];else try{let _0x253161=await import(_0x162c9a(0x27f));_0x55dba7=(await import((await import(_0x162c9a(0x204)))['pathToFileURL'](_0x253161['join'](this['nodeModules'],'ws/index.js'))[_0x162c9a(0x2b3)]()))['default'];}catch{try{_0x55dba7=require(require(_0x162c9a(0x27f))[_0x162c9a(0x1f8)](this[_0x162c9a(0x265)],'ws'));}catch{throw new Error('failed\\x20to\\x20find\\x20and\\x20load\\x20WebSocket');}}}return this['_WebSocketClass']=_0x55dba7,_0x55dba7;}[_0xcfe134(0x20e)](){var _0x105dea=_0xcfe134;this[_0x105dea(0x263)]||this[_0x105dea(0x235)]||this[_0x105dea(0x24b)]>=this[_0x105dea(0x267)]||(this[_0x105dea(0x238)]=!0x1,this[_0x105dea(0x263)]=!0x0,this[_0x105dea(0x24b)]++,this[_0x105dea(0x24a)]=new Promise((_0x3f18e1,_0x174b80)=>{var _0x36b3fe=_0x105dea;this[_0x36b3fe(0x28c)]()[_0x36b3fe(0x2c7)](_0x35ba34=>{var _0x16520f=_0x36b3fe;let _0x5a9399=new _0x35ba34(_0x16520f(0x236)+this[_0x16520f(0x2a0)]+':'+this[_0x16520f(0x2a1)]);_0x5a9399[_0x16520f(0x25b)]=()=>{var _0x217167=_0x16520f;this['_allowedToSend']=!0x1,this['_disposeWebsocket'](_0x5a9399),this[_0x217167(0x28d)](),_0x174b80(new Error('logger\\x20websocket\\x20error'));},_0x5a9399[_0x16520f(0x233)]=()=>{var _0x2bbe79=_0x16520f;this[_0x2bbe79(0x23c)]||_0x5a9399[_0x2bbe79(0x2a6)]&&_0x5a9399[_0x2bbe79(0x2a6)][_0x2bbe79(0x215)]&&_0x5a9399[_0x2bbe79(0x2a6)]['unref'](),_0x3f18e1(_0x5a9399);},_0x5a9399['onclose']=()=>{var _0x12f410=_0x16520f;this[_0x12f410(0x238)]=!0x0,this['_disposeWebsocket'](_0x5a9399),this[_0x12f410(0x28d)]();},_0x5a9399[_0x16520f(0x206)]=_0x1f1d28=>{var _0x58a958=_0x16520f;try{_0x1f1d28&&_0x1f1d28[_0x58a958(0x2ab)]&&this[_0x58a958(0x23c)]&&JSON[_0x58a958(0x23e)](_0x1f1d28[_0x58a958(0x2ab)])[_0x58a958(0x2ca)]==='reload'&&this['global']['location']['reload']();}catch{}};})[_0x36b3fe(0x2c7)](_0xf301af=>(this[_0x36b3fe(0x235)]=!0x0,this['_connecting']=!0x1,this[_0x36b3fe(0x238)]=!0x1,this['_allowedToSend']=!0x0,this[_0x36b3fe(0x2a3)]=!0x1,this['_activeConnectionMessageCount']=0x0,this[_0x36b3fe(0x24b)]=0x0,_0xf301af))['catch'](_0x1a115c=>(this[_0x36b3fe(0x235)]=!0x1,this['_connecting']=!0x1,_0x174b80(new Error(_0x36b3fe(0x250)+(_0x1a115c&&_0x1a115c['message'])))));}));}['_disposeWebsocket'](_0x31a71f){var _0x4f37e8=_0xcfe134;this['_connected']=!0x1,this[_0x4f37e8(0x263)]=!0x1;try{_0x31a71f[_0x4f37e8(0x1ed)]=null,_0x31a71f[_0x4f37e8(0x25b)]=null,_0x31a71f['onopen']=null;}catch{}try{_0x31a71f[_0x4f37e8(0x2b4)]<0x2&&_0x31a71f[_0x4f37e8(0x277)]();}catch{}}['_attemptToReconnectShortly'](){var _0x597ad3=_0xcfe134;clearTimeout(this[_0x597ad3(0x242)]),!(this[_0x597ad3(0x24b)]>=this['_maxConnectAttemptCount'])&&(this[_0x597ad3(0x242)]=setTimeout(()=>{var _0x8d7425=_0x597ad3;this['_connected']||this[_0x8d7425(0x263)]||(this['_connectToHostNow'](),this[_0x8d7425(0x24a)]?.[_0x8d7425(0x281)](()=>this[_0x8d7425(0x28d)]()));},0x1f4),this[_0x597ad3(0x242)][_0x597ad3(0x215)]&&this['_reconnectTimeout'][_0x597ad3(0x215)]());}async[_0xcfe134(0x1f0)](_0x5f1fde){var _0x3f01ff=_0xcfe134;try{if(!this[_0x3f01ff(0x2b0)])return;if(this[_0x3f01ff(0x2a3)]){this[_0x3f01ff(0x243)][_0x3f01ff(0x23d)](_0x5f1fde);return;}this['_allowedToConnectOnSend']&&this[_0x3f01ff(0x20e)](),this['_activeConnectionMessageCount']++;let _0x17c2fd=this[_0x3f01ff(0x1f2)]>=this[_0x3f01ff(0x271)];_0x17c2fd&&(this['_delayMessageSending']=!0x0);let _0x265dce=await this[_0x3f01ff(0x24a)];_0x265dce['send'](JSON[_0x3f01ff(0x28a)](_0x5f1fde)),this[_0x3f01ff(0x235)]&&_0x17c2fd&&(this[_0x3f01ff(0x238)]=!0x1,this[_0x3f01ff(0x26d)](_0x265dce),this['_connectToHostNow'](),this[_0x3f01ff(0x24a)]?.['then'](()=>{var _0x48c1c5=_0x3f01ff;if(this['_messageQueue'][_0x48c1c5(0x1f7)]){let _0x15c0e3=this['_messageQueue'][_0x48c1c5(0x22f)](0x0,this[_0x48c1c5(0x271)]);for(let _0x526480=0x0;_0x526480<_0x15c0e3[_0x48c1c5(0x1f7)];_0x526480++)this['send'](_0x15c0e3[_0x526480]);}}));}catch(_0x4c9bb5){console[_0x3f01ff(0x2a7)](this['_sendErrorMessage']+':\\x20'+(_0x4c9bb5&&_0x4c9bb5[_0x3f01ff(0x24e)])),this[_0x3f01ff(0x2b0)]=!0x1,this[_0x3f01ff(0x28d)]();}}};function H(_0x2cbef7,_0xafb9c0,_0x1bd161,_0x262bfb,_0x253f19){var _0x3c52cd=_0xcfe134;let _0x207e6b=_0x1bd161[_0x3c52cd(0x260)](',')[_0x3c52cd(0x211)](_0x12e809=>{var _0x2d2980=_0x3c52cd;try{_0x2cbef7[_0x2d2980(0x25c)]||((_0x253f19==='next.js'||_0x253f19===_0x2d2980(0x285))&&(_0x253f19+=_0x2cbef7['process']?.[_0x2d2980(0x28f)]?.[_0x2d2980(0x249)]?'\\x20server':_0x2d2980(0x28b)),_0x2cbef7[_0x2d2980(0x25c)]={'id':+new Date(),'tool':_0x253f19});let _0x791650=new Y(_0x2cbef7,_0xafb9c0,_0x12e809,_0x262bfb);return _0x791650[_0x2d2980(0x1f0)][_0x2d2980(0x25f)](_0x791650);}catch(_0x29e9aa){return console[_0x2d2980(0x2a7)]('logger\\x20failed\\x20to\\x20connect\\x20to\\x20host',_0x29e9aa&&_0x29e9aa[_0x2d2980(0x24e)]),()=>{};}});return _0x56ba36=>_0x207e6b['forEach'](_0x2a62ec=>_0x2a62ec(_0x56ba36));}function V(_0x54e590){var _0x6c5e26=_0xcfe134;let _0x17ecfc=function(_0x23e9bb,_0x57fea6){return _0x57fea6-_0x23e9bb;},_0x2d9d93;if(_0x54e590['performance'])_0x2d9d93=function(){var _0x4f1ee6=_0x1b19;return _0x54e590[_0x4f1ee6(0x29c)]['now']();};else{if(_0x54e590[_0x6c5e26(0x21b)]&&_0x54e590['process'][_0x6c5e26(0x24c)])_0x2d9d93=function(){var _0x37ace4=_0x6c5e26;return _0x54e590[_0x37ace4(0x21b)][_0x37ace4(0x24c)]();},_0x17ecfc=function(_0x3857d3,_0x25e9de){return 0x3e8*(_0x25e9de[0x0]-_0x3857d3[0x0])+(_0x25e9de[0x1]-_0x3857d3[0x1])/0xf4240;};else try{let {performance:_0x10816d}=require('perf_hooks');_0x2d9d93=function(){var _0x5a764d=_0x6c5e26;return _0x10816d[_0x5a764d(0x2b8)]();};}catch{_0x2d9d93=function(){return+new Date();};}}return{'elapsed':_0x17ecfc,'timeStamp':_0x2d9d93,'now':()=>Date[_0x6c5e26(0x2b8)]()};}function _0x1b19(_0x2700a6,_0x201957){var _0x5a5002=_0x5a50();return _0x1b19=function(_0x1b19aa,_0x1ce59a){_0x1b19aa=_0x1b19aa-0x1e4;var _0x4b57a7=_0x5a5002[_0x1b19aa];return _0x4b57a7;},_0x1b19(_0x2700a6,_0x201957);}function _0x5a50(){var _0x971926=['_messageQueue','defineProperty','timeEnd','root_exp_id','1.0.0','_setNodePermissions','node','_ws','_connectAttemptCount','hrtime','function','message','2190384pooyOE','failed\\x20to\\x20connect\\x20to\\x20host:\\x20','_objectToString','value','name','_console_ninja','53187','_p_length','resolveGetters','_type','object','_WebSocketClass','onerror','_console_ninja_session','setter','log','bind','split','HTMLAllCollection','_getOwnPropertySymbols','_connecting','funcName','nodeModules','_capIfString','_maxConnectAttemptCount','parent','RegExp','Buffer','19566OOwhvP','String','_disposeWebsocket','_setNodeId','143352rReNBD','symbol','_maxActiveConnectionMessageCount','get','_setNodeExpandableState','_additionalMetadata','_isArray','isArray','close','Number','pop','level','autoExpandMaxDepth','_WebSocket','_setNodeExpressionPath','stackTraceLimit','path','unshift','catch','201257BHXaAs','allStrLength','_setNodeQueryPath','remix','_quotedRegExp','NEGATIVE_INFINITY','WebSocket','time','stringify','\\x20browser','getWebSocketClass','_attemptToReconnectShortly','getPrototypeOf','versions','_getOwnPropertyDescriptor','_addProperty','_treeNodePropertiesAfterFullValue','_HTMLAllCollection','...','stack','props','array','[object\\x20Map]','undefined','capped','type','performance','_propertyAccessor','sortProps','_treeNodePropertiesBeforeFullValue','host','port','_getOwnPropertyNames','_delayMessageSending','_isNegativeZero','_cleanNode','_socket','warn','bigint','rootExpression','_property','data','Set','global','_consoleNinjaAllowedToStart','__es'+'Module','_allowedToSend','_keyStrRegExp','expId','toString','readyState','negativeZero','Error','current','now','cappedElements','autoExpandLimit','call','replace','negativeInfinity','_hasMapOnItsPath','Console\\x20Ninja\\x20failed\\x20to\\x20send\\x20logs,\\x20restarting\\x20the\\x20process\\x20may\\x20help','127.0.0.1','count','test','totalStrLength','_numberRegExp','_sortProps','autoExpand','then','number','expressionsToEvaluate','method','_dateToString','getOwnPropertySymbols',':logPointId:','valueOf','disabledLog','104PfkITC','string','match','6012126jwWzhA','onclose','date','isExpressionToEvaluate','send','_Symbol','_activeConnectionMessageCount','noFunctions','prototype','unknown','_isMap','length','join','hits','webpack','getter','slice','includes','elapsed','nuxt','[object\\x20Array]','_setNodeLabel','root_exp','enumerable','url','1679597920678','onmessage','_isPrimitiveWrapperType','concat','cappedProps','constructor','_sendErrorMessage','3297340vhtbSB','argumentResolutionError','_connectToHostNow','trace','_p_','map','[object\\x20Set]','hostname','index','unref','154xkszED','location','serialize','reduceLimits','elements','process','autoExpandPropertyCount','_propertyName',[\"localhost\",\"127.0.0.1\",\"example.cypress.io\",\"Kendricks-MacBook-Pro.local\",\"192.168.0.159\"],\"/Users/kendrickgarcia/.vscode/extensions/wallabyjs.console-ninja-0.0.88/node_modules\",'toLowerCase','null','5281384WZiWPo','autoExpandPreviousObjects','hasOwnProperty','getOwnPropertyDescriptor','indexOf','_addFunctionsNode','_addLoadNode','strLength','forEach','Map','depth','_regExpToString','boolean','splice','nan','substr','sort','onopen','_blacklistedProperty','_connected','ws://','timeStamp','_allowedToConnectOnSend','console','_isPrimitiveType','_p_name','_inBrowser','push','parse','_isSet','Console\\x20Ninja\\x20failed\\x20to\\x20send\\x20logs,\\x20refreshing\\x20the\\x20page\\x20may\\x20help','_processTreeNodeResult','_reconnectTimeout'];_0x5a50=function(){return _0x971926;};return _0x5a50();}function X(_0x403454,_0x3f5a4a,_0x2f12f0){var _0x4e24a3=_0xcfe134;if(_0x403454[_0x4e24a3(0x2ae)]!==void 0x0)return _0x403454[_0x4e24a3(0x2ae)];let _0x24acfe=_0x403454[_0x4e24a3(0x21b)]?.[_0x4e24a3(0x28f)]?.[_0x4e24a3(0x249)];return _0x24acfe&&_0x2f12f0===_0x4e24a3(0x1ff)?_0x403454[_0x4e24a3(0x2ae)]=!0x1:_0x403454[_0x4e24a3(0x2ae)]=_0x24acfe||!_0x3f5a4a||_0x403454[_0x4e24a3(0x217)]?.[_0x4e24a3(0x213)]&&_0x3f5a4a[_0x4e24a3(0x1fd)](_0x403454['location'][_0x4e24a3(0x213)]),_0x403454['_consoleNinjaAllowedToStart'];}((_0x58d5fd,_0x1caf36,_0x2004a7,_0x3efeb5,_0x29fe8e,_0x40a438,_0x263f51,_0x4d59b2,_0x145245)=>{var _0x11fb96=_0xcfe134;if(_0x58d5fd['_console_ninja'])return _0x58d5fd[_0x11fb96(0x254)];if(!X(_0x58d5fd,_0x4d59b2,_0x29fe8e))return _0x58d5fd['_console_ninja']={'consoleLog':()=>{},'consoleTrace':()=>{},'consoleTime':()=>{},'consoleTimeEnd':()=>{},'autoLog':()=>{},'autoTrace':()=>{},'autoTime':()=>{},'autoTimeEnd':()=>{}},_0x58d5fd[_0x11fb96(0x254)];let _0x122644={'props':0x64,'elements':0x64,'strLength':0x400*0x32,'totalStrLength':0x400*0x32,'autoExpandLimit':0x1388,'autoExpandMaxDepth':0xa},_0x58f852={'props':0x5,'elements':0x5,'strLength':0x100,'totalStrLength':0x100*0x3,'autoExpandLimit':0x1e,'autoExpandMaxDepth':0x2},_0x5b6b8e=V(_0x58d5fd),_0x2e5026=_0x5b6b8e[_0x11fb96(0x1fe)],_0x36201f=_0x5b6b8e[_0x11fb96(0x237)],_0x13c198=_0x5b6b8e[_0x11fb96(0x2b8)],_0x23da4b={'hits':{},'ts':{}},_0x293fc5=_0x113f6f=>{_0x23da4b['ts'][_0x113f6f]=_0x36201f();},_0x43d794=(_0x374ad1,_0x2f930a)=>{var _0x3f5518=_0x11fb96;let _0x46d279=_0x23da4b['ts'][_0x2f930a];if(delete _0x23da4b['ts'][_0x2f930a],_0x46d279){let _0xfbe456=_0x2e5026(_0x46d279,_0x36201f());_0x14369a(_0x3025de(_0x3f5518(0x289),_0x374ad1,_0x13c198(),_0x42608f,[_0xfbe456],_0x2f930a));}},_0x37742e=_0x1311da=>_0x5bf9e0=>{var _0x20c19f=_0x11fb96;try{_0x293fc5(_0x5bf9e0),_0x1311da(_0x5bf9e0);}finally{_0x58d5fd[_0x20c19f(0x239)][_0x20c19f(0x289)]=_0x1311da;}},_0x3aa1a5=_0x4dc052=>_0xba253a=>{var _0x3b4f2a=_0x11fb96;try{let [_0x91ec10,_0x815b35]=_0xba253a['split'](_0x3b4f2a(0x1e6));_0x43d794(_0x815b35,_0x91ec10),_0x4dc052(_0x91ec10);}finally{_0x58d5fd[_0x3b4f2a(0x239)]['timeEnd']=_0x4dc052;}};_0x58d5fd[_0x11fb96(0x254)]={'consoleLog':(_0x4398b3,_0x35d8b6)=>{var _0x369005=_0x11fb96;_0x58d5fd[_0x369005(0x239)][_0x369005(0x25e)][_0x369005(0x253)]!==_0x369005(0x1e8)&&_0x14369a(_0x3025de(_0x369005(0x25e),_0x4398b3,_0x13c198(),_0x42608f,_0x35d8b6));},'consoleTrace':(_0x3ed296,_0x267192)=>{var _0xff51c2=_0x11fb96;_0x58d5fd[_0xff51c2(0x239)][_0xff51c2(0x25e)][_0xff51c2(0x253)]!=='disabledTrace'&&_0x14369a(_0x3025de('trace',_0x3ed296,_0x13c198(),_0x42608f,_0x267192));},'consoleTime':()=>{var _0x54a542=_0x11fb96;_0x58d5fd[_0x54a542(0x239)][_0x54a542(0x289)]=_0x37742e(_0x58d5fd['console'][_0x54a542(0x289)]);},'consoleTimeEnd':()=>{var _0x1f00ca=_0x11fb96;_0x58d5fd['console']['timeEnd']=_0x3aa1a5(_0x58d5fd[_0x1f00ca(0x239)][_0x1f00ca(0x245)]);},'autoLog':(_0x31d937,_0x312743)=>{_0x14369a(_0x3025de('log',_0x312743,_0x13c198(),_0x42608f,[_0x31d937]));},'autoTrace':(_0x520406,_0x524f3f)=>{var _0x2301af=_0x11fb96;_0x14369a(_0x3025de(_0x2301af(0x20f),_0x524f3f,_0x13c198(),_0x42608f,[_0x520406]));},'autoTime':(_0x39939b,_0x2d2cdb,_0x276ac9)=>{_0x293fc5(_0x276ac9);},'autoTimeEnd':(_0x3292cc,_0xeb9c1d,_0x27fffc)=>{_0x43d794(_0xeb9c1d,_0x27fffc);}};let _0x14369a=H(_0x58d5fd,_0x1caf36,_0x2004a7,_0x3efeb5,_0x29fe8e),_0x42608f=_0x58d5fd[_0x11fb96(0x25c)];class _0x3dcd9c{constructor(){var _0x382f91=_0x11fb96;this[_0x382f91(0x2b1)]=/^(?!(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$)[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*$/,this['_numberRegExp']=/^(0|[1-9][0-9]*)$/,this[_0x382f91(0x286)]=/'([^\\\\']|\\\\')*'/,this['_undefined']=_0x58d5fd['undefined'],this[_0x382f91(0x293)]=_0x58d5fd[_0x382f91(0x261)],this[_0x382f91(0x290)]=Object['getOwnPropertyDescriptor'],this['_getOwnPropertyNames']=Object['getOwnPropertyNames'],this['_Symbol']=_0x58d5fd['Symbol'],this[_0x382f91(0x22d)]=RegExp[_0x382f91(0x1f4)]['toString'],this[_0x382f91(0x1e4)]=Date['prototype'][_0x382f91(0x2b3)];}['serialize'](_0x533de0,_0x18acc6,_0x549ef7,_0x43e9df){var _0x1b3372=_0x11fb96,_0x8593c7=this,_0x1573f2=_0x549ef7[_0x1b3372(0x2c6)];function _0x47d09e(_0x5cc4e4,_0x4f930a,_0x973c9){var _0x2c19c9=_0x1b3372;_0x4f930a['type']=_0x2c19c9(0x1f5),_0x4f930a['error']=_0x5cc4e4[_0x2c19c9(0x24e)],_0x17e6f7=_0x973c9[_0x2c19c9(0x249)][_0x2c19c9(0x2b7)],_0x973c9[_0x2c19c9(0x249)]['current']=_0x4f930a,_0x8593c7['_treeNodePropertiesBeforeFullValue'](_0x4f930a,_0x973c9);}if(_0x18acc6&&_0x18acc6[_0x1b3372(0x20d)])_0x47d09e(_0x18acc6,_0x533de0,_0x549ef7);else try{_0x549ef7['level']++,_0x549ef7[_0x1b3372(0x2c6)]&&_0x549ef7[_0x1b3372(0x223)][_0x1b3372(0x23d)](_0x18acc6);var _0x1eb918,_0x20ef2f,_0x555bf8,_0x4c82ac,_0x307815=[],_0x9175ec=[],_0x498f4e,_0x5b0f0d=this[_0x1b3372(0x258)](_0x18acc6),_0x3e6898=_0x5b0f0d==='array',_0x305f87=!0x1,_0x51c53d=_0x5b0f0d===_0x1b3372(0x24d),_0x243d72=this[_0x1b3372(0x23a)](_0x5b0f0d),_0x4c478a=this['_isPrimitiveWrapperType'](_0x5b0f0d),_0x1bcc55=_0x243d72||_0x4c478a,_0x418698={},_0x3bcb43=0x0,_0x14201d=!0x1,_0x17e6f7,_0x341cac=/^(([1-9]{1}[0-9]*)|0)$/;if(_0x549ef7[_0x1b3372(0x22c)]){if(_0x3e6898){if(_0x20ef2f=_0x18acc6[_0x1b3372(0x1f7)],_0x20ef2f>_0x549ef7[_0x1b3372(0x21a)]){for(_0x555bf8=0x0,_0x4c82ac=_0x549ef7[_0x1b3372(0x21a)],_0x1eb918=_0x555bf8;_0x1eb918<_0x4c82ac;_0x1eb918++)_0x9175ec[_0x1b3372(0x23d)](_0x8593c7[_0x1b3372(0x291)](_0x307815,_0x18acc6,_0x5b0f0d,_0x1eb918,_0x549ef7));_0x533de0[_0x1b3372(0x2b9)]=!0x0;}else{for(_0x555bf8=0x0,_0x4c82ac=_0x20ef2f,_0x1eb918=_0x555bf8;_0x1eb918<_0x4c82ac;_0x1eb918++)_0x9175ec[_0x1b3372(0x23d)](_0x8593c7[_0x1b3372(0x291)](_0x307815,_0x18acc6,_0x5b0f0d,_0x1eb918,_0x549ef7));}_0x549ef7[_0x1b3372(0x21c)]+=_0x9175ec['length'];}if(!(_0x5b0f0d===_0x1b3372(0x221)||_0x5b0f0d===_0x1b3372(0x299))&&!_0x243d72&&_0x5b0f0d!=='String'&&_0x5b0f0d!==_0x1b3372(0x26a)&&_0x5b0f0d!==_0x1b3372(0x2a8)){var _0x581592=_0x43e9df[_0x1b3372(0x296)]||_0x549ef7[_0x1b3372(0x296)];if(this[_0x1b3372(0x23f)](_0x18acc6)?(_0x1eb918=0x0,_0x18acc6[_0x1b3372(0x22a)](function(_0x3eda5d){var _0x3f019b=_0x1b3372;if(_0x3bcb43++,_0x549ef7[_0x3f019b(0x21c)]++,_0x3bcb43>_0x581592){_0x14201d=!0x0;return;}if(!_0x549ef7[_0x3f019b(0x1ef)]&&_0x549ef7[_0x3f019b(0x2c6)]&&_0x549ef7[_0x3f019b(0x21c)]>_0x549ef7['autoExpandLimit']){_0x14201d=!0x0;return;}_0x9175ec['push'](_0x8593c7['_addProperty'](_0x307815,_0x18acc6,'Set',_0x1eb918++,_0x549ef7,function(_0x4e9c34){return function(){return _0x4e9c34;};}(_0x3eda5d)));})):this['_isMap'](_0x18acc6)&&_0x18acc6[_0x1b3372(0x22a)](function(_0x19a9ba,_0xe85f8f){var _0x4263e1=_0x1b3372;if(_0x3bcb43++,_0x549ef7[_0x4263e1(0x21c)]++,_0x3bcb43>_0x581592){_0x14201d=!0x0;return;}if(!_0x549ef7[_0x4263e1(0x1ef)]&&_0x549ef7[_0x4263e1(0x2c6)]&&_0x549ef7[_0x4263e1(0x21c)]>_0x549ef7['autoExpandLimit']){_0x14201d=!0x0;return;}var _0x1535b4=_0xe85f8f[_0x4263e1(0x2b3)]();_0x1535b4[_0x4263e1(0x1f7)]>0x64&&(_0x1535b4=_0x1535b4[_0x4263e1(0x1fc)](0x0,0x64)+_0x4263e1(0x294)),_0x9175ec[_0x4263e1(0x23d)](_0x8593c7[_0x4263e1(0x291)](_0x307815,_0x18acc6,'Map',_0x1535b4,_0x549ef7,function(_0x1dbb7f){return function(){return _0x1dbb7f;};}(_0x19a9ba)));}),!_0x305f87){try{for(_0x498f4e in _0x18acc6)if(!(_0x3e6898&&_0x341cac[_0x1b3372(0x2c2)](_0x498f4e))&&!this[_0x1b3372(0x234)](_0x18acc6,_0x498f4e,_0x549ef7)){if(_0x3bcb43++,_0x549ef7[_0x1b3372(0x21c)]++,_0x3bcb43>_0x581592){_0x14201d=!0x0;break;}if(!_0x549ef7[_0x1b3372(0x1ef)]&&_0x549ef7[_0x1b3372(0x2c6)]&&_0x549ef7[_0x1b3372(0x21c)]>_0x549ef7[_0x1b3372(0x2ba)]){_0x14201d=!0x0;break;}_0x9175ec['push'](_0x8593c7['_addObjectProperty'](_0x307815,_0x418698,_0x18acc6,_0x5b0f0d,_0x498f4e,_0x549ef7));}}catch{}if(_0x418698[_0x1b3372(0x256)]=!0x0,_0x51c53d&&(_0x418698[_0x1b3372(0x23b)]=!0x0),!_0x14201d){var _0x581b72=[][_0x1b3372(0x208)](this[_0x1b3372(0x2a2)](_0x18acc6))[_0x1b3372(0x208)](this['_getOwnPropertySymbols'](_0x18acc6));for(_0x1eb918=0x0,_0x20ef2f=_0x581b72[_0x1b3372(0x1f7)];_0x1eb918<_0x20ef2f;_0x1eb918++)if(_0x498f4e=_0x581b72[_0x1eb918],!(_0x3e6898&&_0x341cac[_0x1b3372(0x2c2)](_0x498f4e[_0x1b3372(0x2b3)]()))&&!this[_0x1b3372(0x234)](_0x18acc6,_0x498f4e,_0x549ef7)&&!_0x418698[_0x1b3372(0x210)+_0x498f4e['toString']()]){if(_0x3bcb43++,_0x549ef7[_0x1b3372(0x21c)]++,_0x3bcb43>_0x581592){_0x14201d=!0x0;break;}if(!_0x549ef7[_0x1b3372(0x1ef)]&&_0x549ef7[_0x1b3372(0x2c6)]&&_0x549ef7[_0x1b3372(0x21c)]>_0x549ef7['autoExpandLimit']){_0x14201d=!0x0;break;}_0x9175ec[_0x1b3372(0x23d)](_0x8593c7['_addObjectProperty'](_0x307815,_0x418698,_0x18acc6,_0x5b0f0d,_0x498f4e,_0x549ef7));}}}}}if(_0x533de0[_0x1b3372(0x29b)]=_0x5b0f0d,_0x1bcc55?(_0x533de0[_0x1b3372(0x252)]=_0x18acc6[_0x1b3372(0x1e7)](),this['_capIfString'](_0x5b0f0d,_0x533de0,_0x549ef7,_0x43e9df)):_0x5b0f0d===_0x1b3372(0x1ee)?_0x533de0[_0x1b3372(0x252)]=this[_0x1b3372(0x1e4)][_0x1b3372(0x2bb)](_0x18acc6):_0x5b0f0d===_0x1b3372(0x269)?_0x533de0['value']=this[_0x1b3372(0x22d)]['call'](_0x18acc6):_0x5b0f0d===_0x1b3372(0x270)&&this[_0x1b3372(0x1f1)]?_0x533de0['value']=this[_0x1b3372(0x1f1)]['prototype'][_0x1b3372(0x2b3)][_0x1b3372(0x2bb)](_0x18acc6):!_0x549ef7[_0x1b3372(0x22c)]&&!(_0x5b0f0d===_0x1b3372(0x221)||_0x5b0f0d===_0x1b3372(0x299))&&(delete _0x533de0['value'],_0x533de0[_0x1b3372(0x29a)]=!0x0),_0x14201d&&(_0x533de0[_0x1b3372(0x209)]=!0x0),_0x17e6f7=_0x549ef7[_0x1b3372(0x249)]['current'],_0x549ef7[_0x1b3372(0x249)][_0x1b3372(0x2b7)]=_0x533de0,this['_treeNodePropertiesBeforeFullValue'](_0x533de0,_0x549ef7),_0x9175ec[_0x1b3372(0x1f7)]){for(_0x1eb918=0x0,_0x20ef2f=_0x9175ec[_0x1b3372(0x1f7)];_0x1eb918<_0x20ef2f;_0x1eb918++)_0x9175ec[_0x1eb918](_0x1eb918);}_0x307815[_0x1b3372(0x1f7)]&&(_0x533de0[_0x1b3372(0x296)]=_0x307815);}catch(_0x5c525a){_0x47d09e(_0x5c525a,_0x533de0,_0x549ef7);}return this[_0x1b3372(0x274)](_0x18acc6,_0x533de0),this[_0x1b3372(0x292)](_0x533de0,_0x549ef7),_0x549ef7[_0x1b3372(0x249)][_0x1b3372(0x2b7)]=_0x17e6f7,_0x549ef7['level']--,_0x549ef7[_0x1b3372(0x2c6)]=_0x1573f2,_0x549ef7[_0x1b3372(0x2c6)]&&_0x549ef7[_0x1b3372(0x223)][_0x1b3372(0x279)](),_0x533de0;}[_0x11fb96(0x262)](_0xe367fc){var _0x45b138=_0x11fb96;return Object[_0x45b138(0x1e5)]?Object[_0x45b138(0x1e5)](_0xe367fc):[];}[_0x11fb96(0x23f)](_0x18f915){var _0x546cf1=_0x11fb96;return!!(_0x18f915&&_0x58d5fd[_0x546cf1(0x2ac)]&&this[_0x546cf1(0x251)](_0x18f915)===_0x546cf1(0x212)&&_0x18f915[_0x546cf1(0x22a)]);}['_blacklistedProperty'](_0x4214f8,_0x125d02,_0x24f7ee){var _0x22cbce=_0x11fb96;return _0x24f7ee['noFunctions']?typeof _0x4214f8[_0x125d02]==_0x22cbce(0x24d):!0x1;}[_0x11fb96(0x258)](_0x1a8bbd){var _0x1da751=_0x11fb96,_0x3a7ba2='';return _0x3a7ba2=typeof _0x1a8bbd,_0x3a7ba2===_0x1da751(0x259)?this[_0x1da751(0x251)](_0x1a8bbd)===_0x1da751(0x200)?_0x3a7ba2=_0x1da751(0x297):this[_0x1da751(0x251)](_0x1a8bbd)==='[object\\x20Date]'?_0x3a7ba2=_0x1da751(0x1ee):_0x1a8bbd===null?_0x3a7ba2=_0x1da751(0x221):_0x1a8bbd['constructor']&&(_0x3a7ba2=_0x1a8bbd[_0x1da751(0x20a)]['name']||_0x3a7ba2):_0x3a7ba2===_0x1da751(0x299)&&this[_0x1da751(0x293)]&&_0x1a8bbd instanceof this[_0x1da751(0x293)]&&(_0x3a7ba2='HTMLAllCollection'),_0x3a7ba2;}['_objectToString'](_0x4bddc1){var _0x383399=_0x11fb96;return Object[_0x383399(0x1f4)][_0x383399(0x2b3)][_0x383399(0x2bb)](_0x4bddc1);}[_0x11fb96(0x23a)](_0x5176b5){var _0x198d81=_0x11fb96;return _0x5176b5===_0x198d81(0x22e)||_0x5176b5==='string'||_0x5176b5===_0x198d81(0x2c8);}[_0x11fb96(0x207)](_0x18ad5e){var _0x112d40=_0x11fb96;return _0x18ad5e==='Boolean'||_0x18ad5e===_0x112d40(0x26c)||_0x18ad5e===_0x112d40(0x278);}['_addProperty'](_0x5e40d4,_0x21caed,_0x6091f0,_0x4d0f2e,_0x4efe56,_0x58c1b4){var _0x4b328a=this;return function(_0x2715c5){var _0x4418b1=_0x1b19,_0x57316b=_0x4efe56[_0x4418b1(0x249)][_0x4418b1(0x2b7)],_0x43afed=_0x4efe56['node'][_0x4418b1(0x214)],_0x3d2070=_0x4efe56[_0x4418b1(0x249)][_0x4418b1(0x268)];_0x4efe56[_0x4418b1(0x249)][_0x4418b1(0x268)]=_0x57316b,_0x4efe56[_0x4418b1(0x249)][_0x4418b1(0x214)]=typeof _0x4d0f2e=='number'?_0x4d0f2e:_0x2715c5,_0x5e40d4[_0x4418b1(0x23d)](_0x4b328a[_0x4418b1(0x2aa)](_0x21caed,_0x6091f0,_0x4d0f2e,_0x4efe56,_0x58c1b4)),_0x4efe56[_0x4418b1(0x249)][_0x4418b1(0x268)]=_0x3d2070,_0x4efe56[_0x4418b1(0x249)][_0x4418b1(0x214)]=_0x43afed;};}['_addObjectProperty'](_0x249b45,_0x40bf62,_0x42ce45,_0x3cc296,_0x137f6d,_0x920515,_0x3e11cc){var _0x95f19c=_0x11fb96,_0x18b1da=this;return _0x40bf62['_p_'+_0x137f6d[_0x95f19c(0x2b3)]()]=!0x0,function(_0x4dda55){var _0x3ecb41=_0x95f19c,_0x117acb=_0x920515['node'][_0x3ecb41(0x2b7)],_0x15a29e=_0x920515[_0x3ecb41(0x249)][_0x3ecb41(0x214)],_0x1e0271=_0x920515[_0x3ecb41(0x249)][_0x3ecb41(0x268)];_0x920515[_0x3ecb41(0x249)][_0x3ecb41(0x268)]=_0x117acb,_0x920515['node'][_0x3ecb41(0x214)]=_0x4dda55,_0x249b45['push'](_0x18b1da[_0x3ecb41(0x2aa)](_0x42ce45,_0x3cc296,_0x137f6d,_0x920515,_0x3e11cc)),_0x920515['node'][_0x3ecb41(0x268)]=_0x1e0271,_0x920515[_0x3ecb41(0x249)][_0x3ecb41(0x214)]=_0x15a29e;};}[_0x11fb96(0x2aa)](_0x13e4ee,_0x305bf2,_0x4447c1,_0x5cfaee,_0x47534d){var _0x339a15=_0x11fb96,_0x3b7056=this;_0x47534d||(_0x47534d=function(_0x58b8b1,_0x55651b){return _0x58b8b1[_0x55651b];});var _0x2638ab=_0x4447c1[_0x339a15(0x2b3)](),_0xdf5493=_0x5cfaee['expressionsToEvaluate']||{},_0x4aea60=_0x5cfaee[_0x339a15(0x22c)],_0x5d9c9e=_0x5cfaee['isExpressionToEvaluate'];try{var _0x1014f6=this[_0x339a15(0x1f6)](_0x13e4ee),_0xa1a11=_0x2638ab;_0x1014f6&&_0xa1a11[0x0]==='\\x27'&&(_0xa1a11=_0xa1a11[_0x339a15(0x231)](0x1,_0xa1a11['length']-0x2));var _0x3c010e=_0x5cfaee[_0x339a15(0x2c9)]=_0xdf5493['_p_'+_0xa1a11];_0x3c010e&&(_0x5cfaee[_0x339a15(0x22c)]=_0x5cfaee[_0x339a15(0x22c)]+0x1),_0x5cfaee[_0x339a15(0x1ef)]=!!_0x3c010e;var _0x440ed0=typeof _0x4447c1=='symbol',_0x1a9841={'name':_0x440ed0||_0x1014f6?_0x2638ab:this[_0x339a15(0x21d)](_0x2638ab)};if(_0x440ed0&&(_0x1a9841[_0x339a15(0x270)]=!0x0),!(_0x305bf2==='array'||_0x305bf2===_0x339a15(0x2b6))){var _0x9ac71c=this[_0x339a15(0x290)](_0x13e4ee,_0x4447c1);if(_0x9ac71c&&(_0x9ac71c['set']&&(_0x1a9841[_0x339a15(0x25d)]=!0x0),_0x9ac71c[_0x339a15(0x272)]&&!_0x3c010e&&!_0x5cfaee[_0x339a15(0x257)]))return _0x1a9841[_0x339a15(0x1fb)]=!0x0,this[_0x339a15(0x241)](_0x1a9841,_0x5cfaee),_0x1a9841;}var _0x49cda7;try{_0x49cda7=_0x47534d(_0x13e4ee,_0x4447c1);}catch(_0x48af81){return _0x1a9841={'name':_0x2638ab,'type':_0x339a15(0x1f5),'error':_0x48af81['message']},this['_processTreeNodeResult'](_0x1a9841,_0x5cfaee),_0x1a9841;}var _0x4c5e5d=this[_0x339a15(0x258)](_0x49cda7),_0x4bae1e=this[_0x339a15(0x23a)](_0x4c5e5d);if(_0x1a9841['type']=_0x4c5e5d,_0x4bae1e)this[_0x339a15(0x241)](_0x1a9841,_0x5cfaee,_0x49cda7,function(){var _0x3ce40a=_0x339a15;_0x1a9841[_0x3ce40a(0x252)]=_0x49cda7[_0x3ce40a(0x1e7)](),!_0x3c010e&&_0x3b7056['_capIfString'](_0x4c5e5d,_0x1a9841,_0x5cfaee,{});});else{var _0x4eb4b6=_0x5cfaee[_0x339a15(0x2c6)]&&_0x5cfaee[_0x339a15(0x27a)]<_0x5cfaee[_0x339a15(0x27b)]&&_0x5cfaee[_0x339a15(0x223)][_0x339a15(0x226)](_0x49cda7)<0x0&&_0x4c5e5d!==_0x339a15(0x24d)&&_0x5cfaee[_0x339a15(0x21c)]<_0x5cfaee[_0x339a15(0x2ba)];_0x4eb4b6||_0x5cfaee[_0x339a15(0x27a)]<_0x4aea60||_0x3c010e?(this['serialize'](_0x1a9841,_0x49cda7,_0x5cfaee,_0x3c010e||{}),this[_0x339a15(0x274)](_0x49cda7,_0x1a9841)):this['_processTreeNodeResult'](_0x1a9841,_0x5cfaee,_0x49cda7,function(){var _0x394baa=_0x339a15;_0x4c5e5d===_0x394baa(0x221)||_0x4c5e5d==='undefined'||(delete _0x1a9841[_0x394baa(0x252)],_0x1a9841[_0x394baa(0x29a)]=!0x0);});}return _0x1a9841;}finally{_0x5cfaee[_0x339a15(0x2c9)]=_0xdf5493,_0x5cfaee[_0x339a15(0x22c)]=_0x4aea60,_0x5cfaee['isExpressionToEvaluate']=_0x5d9c9e;}}[_0x11fb96(0x266)](_0x2b0347,_0x4202bc,_0x165710,_0x2a93fc){var _0x12c211=_0x11fb96,_0x5c639b=_0x2a93fc[_0x12c211(0x229)]||_0x165710[_0x12c211(0x229)];if((_0x2b0347==='string'||_0x2b0347===_0x12c211(0x26c))&&_0x4202bc[_0x12c211(0x252)]){let _0x5249b0=_0x4202bc['value']['length'];_0x165710['allStrLength']+=_0x5249b0,_0x165710[_0x12c211(0x283)]>_0x165710[_0x12c211(0x2c3)]?(_0x4202bc[_0x12c211(0x29a)]='',delete _0x4202bc[_0x12c211(0x252)]):_0x5249b0>_0x5c639b&&(_0x4202bc['capped']=_0x4202bc[_0x12c211(0x252)][_0x12c211(0x231)](0x0,_0x5c639b),delete _0x4202bc['value']);}}[_0x11fb96(0x1f6)](_0x48efee){var _0x2138e9=_0x11fb96;return!!(_0x48efee&&_0x58d5fd[_0x2138e9(0x22b)]&&this['_objectToString'](_0x48efee)===_0x2138e9(0x298)&&_0x48efee[_0x2138e9(0x22a)]);}[_0x11fb96(0x21d)](_0x1b1fe3){var _0x49b2d5=_0x11fb96;if(_0x1b1fe3[_0x49b2d5(0x1eb)](/^\\d+$/))return _0x1b1fe3;var _0x52d2ce;try{_0x52d2ce=JSON[_0x49b2d5(0x28a)](''+_0x1b1fe3);}catch{_0x52d2ce='\\x22'+this['_objectToString'](_0x1b1fe3)+'\\x22';}return _0x52d2ce[_0x49b2d5(0x1eb)](/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?_0x52d2ce=_0x52d2ce[_0x49b2d5(0x231)](0x1,_0x52d2ce['length']-0x2):_0x52d2ce=_0x52d2ce[_0x49b2d5(0x2bc)](/'/g,'\\x5c\\x27')[_0x49b2d5(0x2bc)](/\\\\\"/g,'\\x22')[_0x49b2d5(0x2bc)](/(^\"|\"$)/g,'\\x27'),_0x52d2ce;}[_0x11fb96(0x241)](_0x553c96,_0x4f630b,_0x286765,_0x23d54a){var _0x59def0=_0x11fb96;this[_0x59def0(0x29f)](_0x553c96,_0x4f630b),_0x23d54a&&_0x23d54a(),this['_additionalMetadata'](_0x286765,_0x553c96),this[_0x59def0(0x292)](_0x553c96,_0x4f630b);}[_0x11fb96(0x29f)](_0x396620,_0x2e6dc5){var _0x2bea75=_0x11fb96;this['_setNodeId'](_0x396620,_0x2e6dc5),this[_0x2bea75(0x284)](_0x396620,_0x2e6dc5),this[_0x2bea75(0x27d)](_0x396620,_0x2e6dc5),this[_0x2bea75(0x248)](_0x396620,_0x2e6dc5);}[_0x11fb96(0x26e)](_0x1762fc,_0x329356){}[_0x11fb96(0x284)](_0x57c0e3,_0xf4cea1){}[_0x11fb96(0x201)](_0x24a2df,_0xe1b02){}['_isUndefined'](_0x38c12a){return _0x38c12a===this['_undefined'];}['_treeNodePropertiesAfterFullValue'](_0x38d9e0,_0x2c61ed){var _0x93817=_0x11fb96;this[_0x93817(0x201)](_0x38d9e0,_0x2c61ed),this[_0x93817(0x273)](_0x38d9e0),_0x2c61ed[_0x93817(0x29e)]&&this[_0x93817(0x2c5)](_0x38d9e0),this[_0x93817(0x227)](_0x38d9e0,_0x2c61ed),this[_0x93817(0x228)](_0x38d9e0,_0x2c61ed),this[_0x93817(0x2a5)](_0x38d9e0);}['_additionalMetadata'](_0x46554f,_0x4b46e9){var _0x242999=_0x11fb96;try{_0x46554f&&typeof _0x46554f[_0x242999(0x1f7)]==_0x242999(0x2c8)&&(_0x4b46e9[_0x242999(0x1f7)]=_0x46554f['length']);}catch{}if(_0x4b46e9[_0x242999(0x29b)]==='number'||_0x4b46e9[_0x242999(0x29b)]===_0x242999(0x278)){if(isNaN(_0x4b46e9[_0x242999(0x252)]))_0x4b46e9[_0x242999(0x230)]=!0x0,delete _0x4b46e9['value'];else switch(_0x4b46e9['value']){case Number['POSITIVE_INFINITY']:_0x4b46e9['positiveInfinity']=!0x0,delete _0x4b46e9[_0x242999(0x252)];break;case Number[_0x242999(0x287)]:_0x4b46e9[_0x242999(0x2bd)]=!0x0,delete _0x4b46e9[_0x242999(0x252)];break;case 0x0:this[_0x242999(0x2a4)](_0x4b46e9[_0x242999(0x252)])&&(_0x4b46e9[_0x242999(0x2b5)]=!0x0);break;}}else _0x4b46e9[_0x242999(0x29b)]===_0x242999(0x24d)&&typeof _0x46554f[_0x242999(0x253)]==_0x242999(0x1ea)&&_0x46554f[_0x242999(0x253)]&&_0x4b46e9[_0x242999(0x253)]&&_0x46554f[_0x242999(0x253)]!==_0x4b46e9[_0x242999(0x253)]&&(_0x4b46e9[_0x242999(0x264)]=_0x46554f[_0x242999(0x253)]);}[_0x11fb96(0x2a4)](_0x4cbbf6){var _0x194acc=_0x11fb96;return 0x1/_0x4cbbf6===Number[_0x194acc(0x287)];}[_0x11fb96(0x2c5)](_0x11e796){var _0x21794e=_0x11fb96;!_0x11e796[_0x21794e(0x296)]||!_0x11e796[_0x21794e(0x296)][_0x21794e(0x1f7)]||_0x11e796[_0x21794e(0x29b)]===_0x21794e(0x297)||_0x11e796[_0x21794e(0x29b)]==='Map'||_0x11e796['type']===_0x21794e(0x2ac)||_0x11e796[_0x21794e(0x296)][_0x21794e(0x232)](function(_0x17f1a0,_0x1ccc47){var _0x110b4e=_0x21794e,_0x4b2891=_0x17f1a0['name'][_0x110b4e(0x220)](),_0x1a9871=_0x1ccc47[_0x110b4e(0x253)][_0x110b4e(0x220)]();return _0x4b2891<_0x1a9871?-0x1:_0x4b2891>_0x1a9871?0x1:0x0;});}[_0x11fb96(0x227)](_0x37681a,_0x4e90a0){var _0x46f1c0=_0x11fb96;if(!(_0x4e90a0[_0x46f1c0(0x1f3)]||!_0x37681a['props']||!_0x37681a[_0x46f1c0(0x296)]['length'])){for(var _0x107f97=[],_0x53a87b=[],_0x5243b0=0x0,_0x55ca92=_0x37681a['props'][_0x46f1c0(0x1f7)];_0x5243b0<_0x55ca92;_0x5243b0++){var _0x78471a=_0x37681a[_0x46f1c0(0x296)][_0x5243b0];_0x78471a[_0x46f1c0(0x29b)]===_0x46f1c0(0x24d)?_0x107f97['push'](_0x78471a):_0x53a87b[_0x46f1c0(0x23d)](_0x78471a);}if(!(!_0x53a87b['length']||_0x107f97['length']<=0x1)){_0x37681a[_0x46f1c0(0x296)]=_0x53a87b;var _0x1e8218={'functionsNode':!0x0,'props':_0x107f97};this['_setNodeId'](_0x1e8218,_0x4e90a0),this[_0x46f1c0(0x201)](_0x1e8218,_0x4e90a0),this[_0x46f1c0(0x273)](_0x1e8218),this[_0x46f1c0(0x248)](_0x1e8218,_0x4e90a0),_0x1e8218['id']+='\\x20f',_0x37681a[_0x46f1c0(0x296)][_0x46f1c0(0x280)](_0x1e8218);}}}[_0x11fb96(0x228)](_0x279875,_0x1d5955){}[_0x11fb96(0x273)](_0x5ec97c){}[_0x11fb96(0x275)](_0x525896){var _0x275635=_0x11fb96;return Array[_0x275635(0x276)](_0x525896)||typeof _0x525896=='object'&&this[_0x275635(0x251)](_0x525896)===_0x275635(0x200);}['_setNodePermissions'](_0x196851,_0x12ea1e){}[_0x11fb96(0x2a5)](_0x1fdfc5){var _0x59deb8=_0x11fb96;delete _0x1fdfc5['_hasSymbolPropertyOnItsPath'],delete _0x1fdfc5['_hasSetOnItsPath'],delete _0x1fdfc5[_0x59deb8(0x2be)];}['_setNodeExpressionPath'](_0x3818a1,_0x50cc59){}[_0x11fb96(0x29d)](_0x29c38a){var _0x2b7781=_0x11fb96;return _0x29c38a?_0x29c38a['match'](this[_0x2b7781(0x2c4)])?'['+_0x29c38a+']':_0x29c38a[_0x2b7781(0x1eb)](this['_keyStrRegExp'])?'.'+_0x29c38a:_0x29c38a[_0x2b7781(0x1eb)](this['_quotedRegExp'])?'['+_0x29c38a+']':'[\\x27'+_0x29c38a+'\\x27]':'';}}let _0x1cc0a2=new _0x3dcd9c();function _0x3025de(_0x35935d,_0x7bbed2,_0x4d91e5,_0x475c6b,_0x15dedb,_0x5bda63){var _0x4f22fc=_0x11fb96;let _0xda6e75,_0x25c95e;try{_0x25c95e=_0x36201f(),_0xda6e75=_0x23da4b[_0x7bbed2],!_0xda6e75||_0x25c95e-_0xda6e75['ts']>0x1f4&&_0xda6e75[_0x4f22fc(0x2c1)]&&_0xda6e75[_0x4f22fc(0x289)]/_0xda6e75[_0x4f22fc(0x2c1)]<0x64?(_0x23da4b[_0x7bbed2]=_0xda6e75={'count':0x0,'time':0x0,'ts':_0x25c95e},_0x23da4b['hits']={}):_0x25c95e-_0x23da4b[_0x4f22fc(0x1f9)]['ts']>0x32&&_0x23da4b[_0x4f22fc(0x1f9)][_0x4f22fc(0x2c1)]&&_0x23da4b[_0x4f22fc(0x1f9)][_0x4f22fc(0x289)]/_0x23da4b[_0x4f22fc(0x1f9)]['count']<0x64&&(_0x23da4b[_0x4f22fc(0x1f9)]={});let _0x265d7f=[],_0x4b3c56=_0xda6e75['reduceLimits']||_0x23da4b['hits']['reduceLimits']?_0x58f852:_0x122644,_0x4006f0=_0x495224=>{var _0x216b10=_0x4f22fc;let _0x1fe7cd={};return _0x1fe7cd[_0x216b10(0x296)]=_0x495224['props'],_0x1fe7cd[_0x216b10(0x21a)]=_0x495224['elements'],_0x1fe7cd['strLength']=_0x495224[_0x216b10(0x229)],_0x1fe7cd[_0x216b10(0x2c3)]=_0x495224['totalStrLength'],_0x1fe7cd[_0x216b10(0x2ba)]=_0x495224[_0x216b10(0x2ba)],_0x1fe7cd['autoExpandMaxDepth']=_0x495224[_0x216b10(0x27b)],_0x1fe7cd[_0x216b10(0x29e)]=!0x1,_0x1fe7cd[_0x216b10(0x1f3)]=!_0x145245,_0x1fe7cd[_0x216b10(0x22c)]=0x1,_0x1fe7cd['level']=0x0,_0x1fe7cd[_0x216b10(0x2b2)]=_0x216b10(0x246),_0x1fe7cd[_0x216b10(0x2a9)]=_0x216b10(0x202),_0x1fe7cd['autoExpand']=!0x0,_0x1fe7cd[_0x216b10(0x223)]=[],_0x1fe7cd[_0x216b10(0x21c)]=0x0,_0x1fe7cd[_0x216b10(0x257)]=!0x0,_0x1fe7cd['allStrLength']=0x0,_0x1fe7cd[_0x216b10(0x249)]={'current':void 0x0,'parent':void 0x0,'index':0x0},_0x1fe7cd;};for(var _0x5511a4=0x0;_0x5511a4<_0x15dedb[_0x4f22fc(0x1f7)];_0x5511a4++)_0x265d7f[_0x4f22fc(0x23d)](_0x1cc0a2['serialize']({'timeNode':_0x35935d===_0x4f22fc(0x289)||void 0x0},_0x15dedb[_0x5511a4],_0x4006f0(_0x4b3c56),{}));if(_0x35935d==='trace'){let _0x251935=Error[_0x4f22fc(0x27e)];try{Error['stackTraceLimit']=0x1/0x0,_0x265d7f[_0x4f22fc(0x23d)](_0x1cc0a2[_0x4f22fc(0x218)]({'stackNode':!0x0},new Error()[_0x4f22fc(0x295)],_0x4006f0(_0x4b3c56),{'strLength':0x1/0x0}));}finally{Error[_0x4f22fc(0x27e)]=_0x251935;}}return{'method':_0x4f22fc(0x25e),'version':_0x40a438,'args':[{'id':_0x7bbed2,'ts':_0x4d91e5,'args':_0x265d7f,'context':_0x5bda63,'session':_0x475c6b}]};}catch(_0x2e17b2){return{'method':'log','version':_0x40a438,'args':[{'id':_0x7bbed2,'ts':_0x4d91e5,'args':[{'type':_0x4f22fc(0x1f5),'error':_0x2e17b2&&_0x2e17b2[_0x4f22fc(0x24e)],'context':_0x5bda63,'session':_0x475c6b}]}]};}finally{try{if(_0xda6e75&&_0x25c95e){let _0x557615=_0x36201f();_0xda6e75[_0x4f22fc(0x2c1)]++,_0xda6e75['time']+=_0x2e5026(_0x25c95e,_0x557615),_0xda6e75['ts']=_0x557615,_0x23da4b[_0x4f22fc(0x1f9)][_0x4f22fc(0x2c1)]++,_0x23da4b['hits']['time']+=_0x2e5026(_0x25c95e,_0x557615),_0x23da4b[_0x4f22fc(0x1f9)]['ts']=_0x557615,(_0xda6e75['count']>0x32||_0xda6e75[_0x4f22fc(0x289)]>0x64)&&(_0xda6e75['reduceLimits']=!0x0),(_0x23da4b['hits'][_0x4f22fc(0x2c1)]>0x3e8||_0x23da4b[_0x4f22fc(0x1f9)][_0x4f22fc(0x289)]>0x12c)&&(_0x23da4b[_0x4f22fc(0x1f9)][_0x4f22fc(0x219)]=!0x0);}}catch{}}}return _0x58d5fd[_0x11fb96(0x254)];})(globalThis,_0xcfe134(0x2c0),_0xcfe134(0x255),_0xcfe134(0x21f),_0xcfe134(0x1fa),_0xcfe134(0x247),_0xcfe134(0x205),_0xcfe134(0x21e),'');")}catch(n){}})().consoleLog(n,e)}catch(t){}return e}("a4ef73d5_0",this.formulario.value));const t=this.formulario.controls.email.value,i=this.formulario.controls.asunto.value,r=this.formulario.controls.nombre.value,a=this.formulario.controls.lastname.value,d=this.formulario.controls.phone.value,p=this.formulario.controls.address.value,_=this.formulario.controls.service.value,w=this.formulario.controls.mensaje.value,S=this.formulario.controls.temail.value,O=this.formulario.controls.tphone.value,V=[];for(let H=0;H<this.to.length;H++){this.to[H]=this.to[H].trim();const ce=this._http.post(this.server,{toEmail:this.to[H],nombre:r,lastname:a,email:t,asunto:`${i} From ${r} ${a}`,phone:d,address:p,service:_,mensaje:w.length>0?w:"No Extra Info",img:this.img,color:this.emailcolor,waytocontact:`${O?this.tcheckphone:""}  ${S?this.tcheckcorreo:""}`}).toPromise();V.push(ce)}var H;this.formulario.reset({nombre:"",lastname:"",email:"",asunto:this.isenglish?"New Service Request":"Nueva Solicitud De Servicio",phone:"",address:"",service:"",mensaje:"",temail:!1,tphone:!1}),xv().fire({title:this.isenglish?"Send Request":"Enviar Solicitud",showCancelButton:!0,confirmButtonText:this.isenglish?"Send It":"Enviar",showLoaderOnConfirm:!0,preConfirm:(H=(0,Ie.Z)(function*(q){try{return yield Promise.allSettled(V)}catch(ce){return void xv().fire({title:"Error",text:`Failed To Send Request ${ce}`,icon:"error"})}}),function(ce){return H.apply(this,arguments)}),allowOutsideClick:()=>!xv().isLoading()}).then(H=>{H.isConfirmed&&xv().fire({title:this.isenglish?"The Request Have Been Send.":"La Solicitud Se Ha Enviado."})})}safeCss(){return this.doms.bypassSecurityTrustStyle(this.estilo)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Pf),c.Y36(LE),c.Y36(Vi))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-form"]],inputs:{server:"server",img:"img",estilo:"estilo",emailcolor:"emailcolor",tname:"tname",tlname:"tlname",temail:"temail",tphone:"tphone",taddress:"taddress",ttypeservice:"ttypeservice",tbestway:"tbestway",tcheckphone:"tcheckphone",tcheckcorreo:"tcheckcorreo",tmessage:"tmessage",tbutton:"tbutton",to:"to",services:"services",isenglish:"isenglish"},decls:32,vars:15,consts:[[1,"formContent"],[1,"formContent__container"],[3,"formGroup","ngSubmit"],[1,"formContent__nameContent"],["type","text","formControlName","nombre","autofocus","",1,"formContent__name","form-control",3,"placeholder"],["type","text","formControlName","lastname",1,"formContent__lastName","form-control",3,"placeholder"],[1,"formContent__emailPhone"],["type","text","formControlName","email",1,"formContent__email","form-control",3,"placeholder"],["type","number","formControlName","phone",1,"formContent__phone","form-control",3,"placeholder"],[1,"formContent__addressContent"],["type","text","formControlName","address",1,"formContent__address","form-control",3,"placeholder"],[1,"formContent__menuContent"],["formControlName","service",1,"formContent__menu","form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"formContent__checkContent"],[1,"formContent__check"],[1,"formContent__checkOpt"],["type","checkbox","name","phoneCheck","formControlName","tphone",1,"form-check-input"],["for","phoneCheck",1,"form-check-label"],["type","checkbox","name","emailCheck","formControlName","temail",1,"form-check-input"],["for","emailCheck",1,"form-check-label"],[1,"formContent__menssageContent"],["formControlName","mensaje",1,"formContent__messages","form-control",3,"placeholder"],["type","submit",1,"formContent__btn"],[3,"value"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"form",2),c.NdJ("ngSubmit",function(){return i.guardarDatosCliente()}),c.TgZ(3,"div",3),c._UZ(4,"input",4)(5,"input",5),c.qZA(),c.TgZ(6,"div",6),c._UZ(7,"input",7)(8,"input",8),c.qZA(),c.TgZ(9,"div",9),c._UZ(10,"input",10),c.qZA(),c.TgZ(11,"div",11)(12,"select",12)(13,"option",13),c._uU(14),c.qZA(),c.YNc(15,wU,2,2,"option",14),c.qZA()(),c.TgZ(16,"div",15)(17,"p"),c._uU(18),c.qZA(),c.TgZ(19,"div",16)(20,"div",17),c._UZ(21,"input",18),c.TgZ(22,"label",19),c._uU(23),c.qZA()(),c.TgZ(24,"div",17),c._UZ(25,"input",20),c.TgZ(26,"label",21),c._uU(27),c.qZA()()()(),c.TgZ(28,"div",22),c._UZ(29,"textarea",23),c.qZA(),c.TgZ(30,"button",24),c._uU(31),c.qZA()()()()),2&t&&(c.xp6(2),c.Q6J("formGroup",i.formulario),c.xp6(2),c.Q6J("placeholder",i.tname),c.xp6(1),c.Q6J("placeholder",i.tlname),c.xp6(2),c.Q6J("placeholder",i.temail),c.xp6(1),c.Q6J("placeholder",i.tphone),c.xp6(2),c.Q6J("placeholder",i.taddress),c.xp6(4),c.Oqu(i.ttypeservice),c.xp6(1),c.Q6J("ngForOf",i.services),c.xp6(3),c.Oqu(i.tbestway),c.xp6(5),c.Oqu(i.tcheckphone),c.xp6(4),c.Oqu(i.tcheckcorreo),c.xp6(2),c.Q6J("placeholder",i.tmessage),c.xp6(1),c.Akn(i.safeCss()),c.xp6(1),c.hij(" ",i.tbutton," "))},directives:[If,Ca,Hc,Mu,Kr,Rn,lh,Xl,Hg,$g,Tn,Qd],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:after, *[_ngcontent-%COMP%]:before{padding:0;margin:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}.formContent[_ngcontent-%COMP%]{width:80%;margin:0 auto;padding:40px 0;text-align:center}.form-check-label[_ngcontent-%COMP%]{margin-left:10px}.form-control[_ngcontent-%COMP%]{width:100%;background:#fff;border:2px solid #eee;border-radius:3px;height:45px;line-height:45px;padding:0 40px 0 10px;margin-bottom:10px;transition:.3s ease all}.form-control-error[_ngcontent-%COMP%]{border:3px solid #ff0000}.form-control[_ngcontent-%COMP%]:focus{border:3px solid #0075FF;outline:none;box-shadow:3px 0 30px #a3a3a366}.formContent__checkContent[_ngcontent-%COMP%]{text-align:start;padding-bottom:20px}.formContent__checkContent[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:500;padding-bottom:10px}.formContent__check[_ngcontent-%COMP%]{display:flex}.formContent__checkOpt[_ngcontent-%COMP%]{margin-right:10px;margin-left:10px}.formContent__nameContent[_ngcontent-%COMP%], .formContent__emailPhone[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.formContent__name[_ngcontent-%COMP%], .formContent__email[_ngcontent-%COMP%]{margin-right:10px}.formContent__lastName[_ngcontent-%COMP%], .formContent__phone[_ngcontent-%COMP%]{margin-left:10px}.formContent__messages[_ngcontent-%COMP%]{height:100px}.formContent__btn[_ngcontent-%COMP%]{width:100%;height:45px;background:#0075FF;border:none;border-radius:3px;color:#fff;font-size:16px;font-weight:700;cursor:pointer;transition:.3s ease all}.formContent__btn[_ngcontent-%COMP%]:hover{transform:scale(1.02)}@media screen and (max-width: 560px){.formContent__nameContent[_ngcontent-%COMP%], .formContent__emailPhone[_ngcontent-%COMP%]{display:block}.formContent__name[_ngcontent-%COMP%], .formContent__email[_ngcontent-%COMP%], .formContent__lastName[_ngcontent-%COMP%], .formContent__phone[_ngcontent-%COMP%]{margin:0 0 10px}}"]}),n})();function DU(n,e){1&n&&(c.ynx(0),c.TgZ(1,"p"),c._uU(2,"cargando..."),c.qZA(),c.BQk())}function TU(n,e){if(1&n&&(c.ynx(0),c._UZ(1,"gallery",1),c.BQk()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("items",t.images)("thumbPosition",t.position)("autoPlay",t.autoplay)}}let SU=(()=>{class n{constructor(t){this.storage=t,this.autoplay=!1,this.listLinks=[],this.images=[],this.cargandoImages=!0}ngOnInit(){this.cargarLista()}cargarLista(){var t=this;this.cargandoImages=!0,this.storage.ref(this.folder).listAll().pipe(Ak()).subscribe(function(){var i=(0,Ie.Z)(function*(r){yield Promise.all(r.items.map(function(){var a=(0,Ie.Z)(function*(d){const p=yield d.getDownloadURL();t.listLinks.push(p)});return function(d){return a.apply(this,arguments)}}())),t.listLinks.forEach(a=>{const d=new $T({src:a,thumb:a});t.images.push(d)}),t.cargandoImages=!1});return function(r){return i.apply(this,arguments)}}())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(gA))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-gallery"]],inputs:{autoplay:"autoplay",position:"position",folder:"folder"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"items","thumbPosition","autoPlay"]],template:function(t,i){1&t&&(c.YNc(0,DU,3,0,"ng-container",0),c.YNc(1,TU,2,3,"ng-container",0)),2&t&&(c.Q6J("ngIf",i.cargandoImages),c.xp6(1),c.Q6J("ngIf",!i.cargandoImages))},directives:[An,TL],styles:[""]}),n})();const MU=function(){return["plumming","cleaning","cutting"]};let kU=(()=>{class n{constructor(){this.title="elementsv13"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:3,consts:[[2,"width","500px"],["to","alvininterscope@gmail.com","server","https://paginasserver.herokuapp.com/email","img","https://scandinavianwoodsinc.com/wp-content/uploads/2022/01/SCANDINAVIAN-WOODS-INC-WH.png","estilo","width: 100%;\nheight: 45px;\nbackground: #15FF00;\nborder: none;\nborder-radius: 3px;\ncolor: #fff;\nfont-size: 16px;\nfont-weight: bold;\ncursor: pointer;\ntransition: .3s ease all;","tname","Nombre","tlname","Apellidos","temail","Correo","tphone","Celular","taddress","Direccion","ttypeservice","Seleecciona indio","tbestway","que queres","tcheckphone","telelfono","tcheckcorreo","sms","tmessage","infor extra","tbutton","enviar ctm","emailcolor","2",3,"services"],["folder","Paginas/62ef1e11da6ac80af5e31886/gallery","position","left",3,"autoplay"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0),c._UZ(1,"app-form",1),c.qZA(),c._UZ(2,"app-gallery",2)),2&t&&(c.xp6(1),c.Q6J("services",c.DdM(2,MU)),c.xp6(1),c.Q6J("autoplay",!0))},directives:[NO,SU],styles:[""]}),n})(),KU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ao]]}),n})();L(9672),L(9635);let PS,pG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();try{PS="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){PS=!1}let gG=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Sn(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!PS)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tF="cdk-high-contrast-black-on-white",nF="cdk-high-contrast-white-on-black",LS="cdk-high-contrast-active";let RG=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(LS),t.remove(tF),t.remove(nF),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(LS),t.add(tF)):2===i&&(t.add(LS),t.add(nF))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gG),c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const FG=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function OG(){return!0}});let Nd=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function yG(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(RG),c.LFG(FG,8),c.LFG(de))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[CS],CS]}),n})(),NG=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Nd],Nd]}),n})(),jG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[rF,Nd],rF,Nd]}),n})();const $G=new c.OlP("angularfire2.functions.origin"),qG=new c.OlP("angularfire2.functions.region"),WG=new c.OlP("angularfire2.functions.use-emulator");let cF=(()=>{class n{constructor(t,i,r,a,d,p,_,w){const S=_,O=Pn(void 0).pipe((0,ey.Q)(a.outsideAngular),Ae(()=>L.e(568).then(L.bind(L,7568))),(0,Ne.U)(()=>(0,ri.on)(t,r,i)),(0,Ne.U)(V=>(0,ri.cc)(`${V.name}.functions.${d||p}`,"AngularFireFunctions",V.name,()=>{let H;if(d&&p)throw new Error("REGION and ORIGIN can't be used at the same time.");return H=V.functions(d||p||void 0),S&&H.useEmulator(...S),H},[d,p,S])),BT({bufferSize:1,refCount:!1}));return this.httpsCallable=(V,H)=>q=>(0,di.D)(O).pipe((0,ey.Q)(a.insideAngular),Ae(ce=>ce.httpsCallable(V,H)(q)),(0,Ne.U)(ce=>ce.data)),(0,ri.pX)(this,O,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ri.Dh),c.LFG(ri.xv,8),c.LFG(c.R0b),c.LFG(Nn.HU),c.LFG(qG,8),c.LFG($G,8),c.LFG(WG,8),c.LFG(Zf,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),QG=(()=>{class n{constructor(){Yc.Z.registerVersion("angularfire",Nn.q4.full,"fn-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[cF]}),n})(),nH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Nd],Nd]}),n})(),iH=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[iH]}),n})(),US=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ao,Nd,rH],Nd]}),n})(),gF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),cH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[NG],imports:[[gF,US,Nd],gF,US]}),n})(),uH=(()=>{class n{constructor(t){this.injector=t}ngDoBootstrap(){const t=al(kU,{injector:this.injector});customElements.define("my-own-element",t);const i=al(NO,{injector:this.injector});customElements.define("form-contact",i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:qT,useValue:{dots:!0,imageSize:"cover"}}],imports:[[go,Ey,bU,Ff,VR,ri.hO.initializeApp(Zo_firebase),OC,mN.enablePersistence(),QG,SL,VR,U3.forRoot(),oU,KU,pG,jG,nH,US,cH]]}),n})();(0,c.G48)(),il().bootstrapModule(uH).catch(n=>console.error(n))},5867:(st,Ce,L)=>{"use strict";L.d(Ce,{Mq:()=>c.getApp,C6:()=>c.getApps});var c=L(9681);(0,c.registerVersion)("firebase","9.9.2","app")},127:(st,Ce,L)=>{"use strict";L.d(Ce,{Z:()=>c.Z});var c=L(3942);c.Z.registerVersion("firebase","9.9.2","app-compat")},1451:(st,Ce,L)=>{"use strict";L.r(Ce);var c=L(5861),ae=L(3942),B=L(2090),pe=L(9681),fe=L(655),be=L(1877),de=L(4859);const Be=function Qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},_t=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Se=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),lt=new be.Yd("@firebase/auth");function ht(y,...f){lt.logLevel<=be.in.ERROR&&lt.error(`Auth (${pe.SDK_VERSION}): ${y}`,...f)}function Ve(y,...f){throw te(y,...f)}function Me(y,...f){return te(y,...f)}function Oe(y,f,m){const x=Object.assign(Object.assign({},_t()),{[f]:m});return new B.LL("auth","Firebase",x).create(f,{appName:y.name})}function Ke(y,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Ve(y,"argument-error"),Oe(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function te(y,...f){if("string"!=typeof y){const m=f[0],x=[...f.slice(1)];return x[0]&&(x[0].appName=y.name),y._errorFactory.create(m,...x)}return Se.create(y,...f)}function X(y,f,...m){if(!y)throw te(f,...m)}function ye(y){const f="INTERNAL ASSERTION FAILED: "+y;throw ht(f),new Error(f)}function ie(y,f){y||ye(f)}const ue=new Map;function re(y){ie(y instanceof Function,"Expected a class definition");let f=ue.get(y);return f?(ie(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,ue.set(y,f),f)}function je(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function pt(){return"http:"===Xt()||"https:"===Xt()}function Xt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Qt{constructor(f,m){this.shortDelay=f,this.longDelay=m,ie(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function jt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Bn(y,f){ie(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class rn{static initialize(f,m,x){this.fetchImpl=f,m&&(this.headersImpl=m),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Kt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Yn=new Qt(3e4,6e4);function tn(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Ht(y,f,m,x){return xr.apply(this,arguments)}function xr(){return(xr=(0,c.Z)(function*(y,f,m,x,M={}){return tr(y,M,(0,c.Z)(function*(){let N={},ne={};x&&("GET"===f?ne=x:N={body:JSON.stringify(x)});const ve=(0,B.xO)(Object.assign({key:y.config.apiKey},ne)).slice(1),We=yield y._getAdditionalHeaders();return We["Content-Type"]="application/json",y.languageCode&&(We["X-Firebase-Locale"]=y.languageCode),rn.fetch()(Is(y,y.config.apiHost,m,ve),Object.assign({method:f,headers:We,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function tr(y,f,m){return ai.apply(this,arguments)}function ai(){return(ai=(0,c.Z)(function*(y,f,m){y._canInitEmulator=!1;const x=Object.assign(Object.assign({},Kt),f);try{const M=new Jn(y),N=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const ne=yield N.json();if("needConfirmation"in ne)throw In(y,"account-exists-with-different-credential",ne);if(N.ok&&!("errorMessage"in ne))return ne;{const ve=N.ok?ne.errorMessage:ne.error.message,[We,ot]=ve.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===We)throw In(y,"credential-already-in-use",ne);if("EMAIL_EXISTS"===We)throw In(y,"email-already-in-use",ne);if("USER_DISABLED"===We)throw In(y,"user-disabled",ne);const Rt=x[We]||We.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw Oe(y,Rt,ot);Ve(y,Rt)}}catch(M){if(M instanceof B.ZR)throw M;Ve(y,"network-request-failed")}})).apply(this,arguments)}function Ci(y,f,m,x){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,c.Z)(function*(y,f,m,x,M={}){const N=yield Ht(y,f,m,x,M);return"mfaPendingCredential"in N&&Ve(y,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Is(y,f,m,x){const M=`${f}${m}?${x}`;return y.config.emulator?Bn(y.config,M):`${y.config.apiScheme}://${M}`}class Jn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,x)=>{this.timer=setTimeout(()=>x(Me(this.auth,"network-request-failed")),Yn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function In(y,f,m){const x={appName:y.name};m.email&&(x.email=m.email),m.phoneNumber&&(x.phoneNumber=m.phoneNumber);const M=Me(y,f,x);return M.customData._tokenResponse=m,M}function Ki(){return(Ki=(0,c.Z)(function*(y,f){return Ht(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function sn(y,f){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,c.Z)(function*(y,f){return Ht(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function br(y,f){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,c.Z)(function*(y,f){return Ht(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function bt(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function wr(){return(wr=(0,c.Z)(function*(y,f=!1){const m=(0,B.m9)(y),x=yield m.getIdToken(f),M=nt(x);X(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const N="object"==typeof M.firebase?M.firebase:void 0,ne=null==N?void 0:N.sign_in_provider;return{claims:M,token:x,authTime:bt(St(M.auth_time)),issuedAtTime:bt(St(M.iat)),expirationTime:bt(St(M.exp)),signInProvider:ne||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function St(y){return 1e3*Number(y)}function nt(y){var f;const[m,x,M]=y.split(".");if(void 0===m||void 0===x||void 0===M)return ht("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,B.tV)(x);return N?JSON.parse(N):(ht("Failed to decode base64 JWT payload"),null)}catch(N){return ht("Caught error parsing JWT payload as JSON",null===(f=N)||void 0===f?void 0:f.toString()),null}}function ei(y,f){return En.apply(this,arguments)}function En(){return(En=(0,c.Z)(function*(y,f,m=!1){if(m)return f;try{return yield f}catch(x){throw x instanceof B.ZR&&Zt(x)&&y.auth.currentUser===y&&(yield y.auth.signOut()),x}})).apply(this,arguments)}function Zt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class as{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const x=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),x)}iteration(){var f=this;return(0,c.Z)(function*(){var m;try{yield f.user.getIdToken(!0)}catch(x){return void("auth/network-request-failed"===(null===(m=x)||void 0===m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class _i{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=bt(this.lastLoginAt),this.creationTime=bt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yi(y){return yt.apply(this,arguments)}function yt(){return(yt=(0,c.Z)(function*(y){var f;const m=y.auth,x=yield y.getIdToken(),M=yield ei(y,br(m,{idToken:x}));X(null==M?void 0:M.users.length,m,"internal-error");const N=M.users[0];y._notifyReloadListener(N);const ne=(null===(f=N.providerUserInfo)||void 0===f?void 0:f.length)?$(N.providerUserInfo):[],ve=z(y.providerData,ne),Rt=!!y.isAnonymous&&!(y.email&&N.passwordHash||(null==ve?void 0:ve.length)),Et={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:ve,metadata:new _i(N.createdAt,N.lastLoginAt),isAnonymous:Rt};Object.assign(y,Et)})).apply(this,arguments)}function W(){return(W=(0,c.Z)(function*(y){const f=(0,B.m9)(y);yield yi(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function z(y,f){return[...y.filter(x=>!f.some(M=>M.providerId===x.providerId)),...f]}function $(y){return y.map(f=>{var{providerId:m}=f,x=(0,fe._T)(f,["providerId"]);return{providerId:m,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}function ee(){return(ee=(0,c.Z)(function*(y,f){const m=yield tr(y,{},(0,c.Z)(function*(){const x=(0,B.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:M,apiKey:N}=y.config,ne=Is(y,M,"/v1/token",`key=${N}`),ve=yield y._getAdditionalHeaders();return ve["Content-Type"]="application/x-www-form-urlencoded",rn.fetch()(ne,{method:"POST",headers:ve,body:x})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Pe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){X(f.idToken,"internal-error"),X(void 0!==f.idToken,"internal-error"),X(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function Mt(y){const f=nt(y);return X(f,"internal-error"),X(void 0!==f.exp,"internal-error"),X(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var x=this;return(0,c.Z)(function*(){return X(!x.accessToken||x.refreshToken,f,"user-token-expired"),m||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(f,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var x=this;return(0,c.Z)(function*(){const{accessToken:M,refreshToken:N,expiresIn:ne}=yield function K(y,f){return ee.apply(this,arguments)}(f,m);x.updateTokensAndExpiration(M,N,Number(ne))})()}updateTokensAndExpiration(f,m,x){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(f,m){const{refreshToken:x,accessToken:M,expirationTime:N}=m,ne=new Pe;return x&&(X("string"==typeof x,"internal-error",{appName:f}),ne.refreshToken=x),M&&(X("string"==typeof M,"internal-error",{appName:f}),ne.accessToken=M),N&&(X("number"==typeof N,"internal-error",{appName:f}),ne.expirationTime=N),ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Pe,this.toJSON())}_performRefresh(){return ye("not implemented")}}function $e(y,f){X("string"==typeof y||void 0===y,"internal-error",{appName:f})}class gt{constructor(f){var{uid:m,auth:x,stsTokenManager:M}=f,N=(0,fe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new as(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=x,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new _i(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,c.Z)(function*(){const x=yield ei(m,m.stsTokenManager.getToken(m.auth,f));return X(x,m.auth,"internal-error"),m.accessToken!==x&&(m.accessToken=x,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),x})()}getIdTokenResult(f){return function Xn(y){return wr.apply(this,arguments)}(this,f)}reload(){return function ls(y){return W.apply(this,arguments)}(this)}_assign(f){this!==f&&(X(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new gt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var x=this;return(0,c.Z)(function*(){let M=!1;f.idToken&&f.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(f),M=!0),m&&(yield yi(x)),yield x.auth._persistUserIfCurrent(x),M&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var f=this;return(0,c.Z)(function*(){const m=yield f.getIdToken();return yield ei(f,function ft(y,f){return Ki.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var x,M,N,ne,ve,We,ot,Rt;const Et=null!==(x=m.displayName)&&void 0!==x?x:void 0,hi=null!==(M=m.email)&&void 0!==M?M:void 0,Jr=null!==(N=m.phoneNumber)&&void 0!==N?N:void 0,zu=null!==(ne=m.photoURL)&&void 0!==ne?ne:void 0,Cy=null!==(ve=m.tenantId)&&void 0!==ve?ve:void 0,_l=null!==(We=m._redirectEventId)&&void 0!==We?We:void 0,$u=null!==(ot=m.createdAt)&&void 0!==ot?ot:void 0,Lf=null!==(Rt=m.lastLoginAt)&&void 0!==Rt?Rt:void 0,{uid:Bf,emailVerified:Sa,isAnonymous:Vf,providerData:mh,stsTokenManager:Wc}=m;X(Bf&&Wc,f,"internal-error");const qu=Pe.fromJSON(this.name,Wc);X("string"==typeof Bf,f,"internal-error"),$e(Et,f.name),$e(hi,f.name),X("boolean"==typeof Sa,f,"internal-error"),X("boolean"==typeof Vf,f,"internal-error"),$e(Jr,f.name),$e(zu,f.name),$e(Cy,f.name),$e(_l,f.name),$e($u,f.name),$e(Lf,f.name);const ji=new gt({uid:Bf,auth:f,email:hi,emailVerified:Sa,displayName:Et,isAnonymous:Vf,photoURL:zu,phoneNumber:Jr,tenantId:Cy,stsTokenManager:qu,createdAt:$u,lastLoginAt:Lf});return mh&&Array.isArray(mh)&&(ji.providerData=mh.map(Iy=>Object.assign({},Iy))),_l&&(ji._redirectEventId=_l),ji}static _fromIdTokenResponse(f,m,x=!1){return(0,c.Z)(function*(){const M=new Pe;M.updateFromServerResponse(m);const N=new gt({uid:m.localId,auth:f,stsTokenManager:M,isAnonymous:x});return yield yi(N),N})()}}const nn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,x){var M=this;return(0,c.Z)(function*(){M.storage[m]=x})()}_get(m){var x=this;return(0,c.Z)(function*(){const M=x.storage[m];return void 0===M?null:M})()}_remove(m){var x=this;return(0,c.Z)(function*(){delete x.storage[m]})()}_addListener(m,x){}_removeListener(m,x){}}return y.type="NONE",y})();function li(y,f,m){return`firebase:${y}:${f}:${m}`}class zt{constructor(f,m,x){this.persistence=f,this.auth=m,this.userKey=x;const{config:M,name:N}=this.auth;this.fullUserKey=li(this.userKey,M.apiKey,N),this.fullPersistenceKey=li("persistence",M.apiKey,N),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?gt._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,c.Z)(function*(){if(m.persistence===f)return;const x=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,x?m.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,x="authUser"){return(0,c.Z)(function*(){if(!m.length)return new zt(re(nn),f,x);const M=(yield Promise.all(m.map(function(){var ot=(0,c.Z)(function*(Rt){if(yield Rt._isAvailable())return Rt});return function(Rt){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let N=M[0]||re(nn);const ne=li(x,f.config.apiKey,f.name);let ve=null;for(const ot of m)try{const Rt=yield ot._get(ne);if(Rt){const Et=gt._fromJSON(f,Rt);ot!==N&&(ve=Et),N=ot;break}}catch(Rt){}const We=M.filter(ot=>ot._shouldAllowMigration);return N._shouldAllowMigration&&We.length?(N=We[0],ve&&(yield N._set(ne,ve.toJSON())),yield Promise.all(m.map(function(){var ot=(0,c.Z)(function*(Rt){if(Rt!==N)try{yield Rt._remove(ne)}catch(Et){}});return function(Rt){return ot.apply(this,arguments)}}())),new zt(N,f,x)):new zt(N,f,x)})()}}function Ii(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(ti(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Ur(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(us(f))return"Blackberry";if(ni(f))return"Webos";if(ko(f))return"Safari";if((f.includes("chrome/")||cs(f))&&!f.includes("edge/"))return"Chrome";if(Ni(f))return"Android";{const x=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==x?void 0:x.length))return x[1]}return"Other"}function Ur(y=(0,B.z$)()){return/firefox\//i.test(y)}function ko(y=(0,B.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function cs(y=(0,B.z$)()){return/crios\//i.test(y)}function ti(y=(0,B.z$)()){return/iemobile/i.test(y)}function Ni(y=(0,B.z$)()){return/android/i.test(y)}function us(y=(0,B.z$)()){return/blackberry/i.test(y)}function ni(y=(0,B.z$)()){return/webos/i.test(y)}function Di(y=(0,B.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Ds(y=(0,B.z$)()){return Di(y)||Ni(y)||ni(y)||us(y)||/windows phone/i.test(y)||ti(y)}function Ro(y,f=[]){let m;switch(y){case"Browser":m=Ii((0,B.z$)());break;case"Worker":m=`${Ii((0,B.z$)())}-${y}`;break;default:m=y}const x=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${pe.SDK_VERSION}/${x}`}class Zi{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const x=N=>new Promise((ne,ve)=>{try{ne(f(N))}catch(We){ve(We)}});x.onAbort=m,this.queue.push(x);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,c.Z)(function*(){var x;if(m.auth.currentUser===f)return;const M=[];try{for(const N of m.queue)yield N(f),N.onAbort&&M.push(N.onAbort)}catch(N){M.reverse();for(const ne of M)try{ne()}catch(ve){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(x=N)||void 0===x?void 0:x.message})}})()}}class tt{constructor(f,m,x){this.app=f,this.heartbeatServiceProvider=m,this.config=x,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pn(this),this.idTokenSubscription=new pn(this),this.beforeStateQueue=new Zi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Se,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=x.sdkClientVersion}_initializeWithPersistence(f,m){var x=this;return m&&(this._popupRedirectResolver=re(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var M,N;if(!x._deleted&&(x.persistenceManager=yield zt.create(x,f),!x._deleted)){if(null===(M=x._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch(ne){}yield x.initializeCurrentUser(m),x.lastNotifiedUid=(null===(N=x.currentUser)||void 0===N?void 0:N.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,c.Z)(function*(){var x;const M=yield m.assertedPersistence.getCurrentUser();let N=M,ne=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ve=null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId,We=null==N?void 0:N._redirectEventId,ot=yield m.tryRedirectSignIn(f);(!ve||ve===We)&&(null==ot?void 0:ot.user)&&(N=ot.user,ne=!0)}if(!N)return m.directlySetCurrentUser(null);if(!N._redirectEventId){if(ne)try{yield m.beforeStateQueue.runMiddleware(N)}catch(ve){N=M,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ve))}return N?m.reloadAndSetCurrentUserOrClear(N):m.directlySetCurrentUser(null)}return X(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===N._redirectEventId?m.directlySetCurrentUser(N):m.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var m=this;return(0,c.Z)(function*(){let x=null;try{x=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(M){yield m._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,c.Z)(function*(){var x;try{yield yi(f)}catch(M){if("auth/network-request-failed"!==(null===(x=M)||void 0===x?void 0:x.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Ze(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,c.Z)(function*(){const x=f?(0,B.m9)(f):null;return x&&X(x.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(x&&x._clone(m))})()}_updateCurrentUser(f,m=!1){var x=this;return(0,c.Z)(function*(){if(!x._deleted)return f&&X(x.tenantId===f.tenantId,x,"tenant-id-mismatch"),m||(yield x.beforeStateQueue.runMiddleware(f)),x.queue((0,c.Z)(function*(){yield x.directlySetCurrentUser(f),x.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(re(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new B.LL("auth","Firebase",f())}onAuthStateChanged(f,m,x){return this.registerStateListener(this.authStateSubscription,f,m,x)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,x){return this.registerStateListener(this.idTokenSubscription,f,m,x)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var x=this;return(0,c.Z)(function*(){const M=yield x.getOrInitRedirectPersistenceManager(m);return null===f?M.removeCurrentUser():M.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const x=f&&re(f)||m._popupRedirectResolver;X(x,m,"argument-error"),m.redirectPersistenceManager=yield zt.create(m,[re(x._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,c.Z)(function*(){var x,M;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(x=m._currentUser)||void 0===x?void 0:x._redirectEventId)===f?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,c.Z)(function*(){if(f===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,x,M){if(this._deleted)return()=>{};const N="function"==typeof m?m:m.next.bind(m),ne=this._isInitialized?Promise.resolve():this._initializationPromise;return X(ne,this,"internal-error"),ne.then(()=>N(this.currentUser)),"function"==typeof m?f.addObserver(m,x,M):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Ro(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var m;const x={"X-Client-Version":f.clientVersion};f.app.options.appId&&(x["X-Firebase-gmpid"]=f.app.options.appId);const M=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return M&&(x["X-Firebase-Client"]=M),x})()}}function mt(y){return(0,B.m9)(y)}class pn{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function nr(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function Er(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class Cn{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return ye("not implemented")}_getIdTokenResponse(f){return ye("not implemented")}_linkToIdToken(f,m){return ye("not implemented")}_getReauthenticationResolver(f){return ye("not implemented")}}function Un(y,f){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(y,f){return Ht(y,"POST","/v1/accounts:resetPassword",tn(y,f))})).apply(this,arguments)}function Oo(y,f){return ir.apply(this,arguments)}function ir(){return(ir=(0,c.Z)(function*(y,f){return Ht(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function sa(y,f){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,c.Z)(function*(y,f){return Ht(y,"POST","/v1/accounts:update",tn(y,f))})).apply(this,arguments)}function oo(){return(oo=(0,c.Z)(function*(y,f){return Ci(y,"POST","/v1/accounts:signInWithPassword",tn(y,f))})).apply(this,arguments)}function ds(y,f){return An.apply(this,arguments)}function An(){return(An=(0,c.Z)(function*(y,f){return Ht(y,"POST","/v1/accounts:sendOobCode",tn(y,f))})).apply(this,arguments)}function mn(y,f){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,c.Z)(function*(y,f){return ds(y,f)})).apply(this,arguments)}function oa(y,f){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,c.Z)(function*(y,f){return ds(y,f)})).apply(this,arguments)}function rr(y,f){return aa.apply(this,arguments)}function aa(){return(aa=(0,c.Z)(function*(y,f){return ds(y,f)})).apply(this,arguments)}function vc(y,f){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,c.Z)(function*(y,f){return ds(y,f)})).apply(this,arguments)}function Li(){return(Li=(0,c.Z)(function*(y,f){return Ci(y,"POST","/v1/accounts:signInWithEmailLink",tn(y,f))})).apply(this,arguments)}function Dl(){return(Dl=(0,c.Z)(function*(y,f){return Ci(y,"POST","/v1/accounts:signInWithEmailLink",tn(y,f))})).apply(this,arguments)}class Ai extends Cn{constructor(f,m,x,M=null){super("password",x),this._email=f,this._password=m,this._tenantId=M}static _fromEmailAndPassword(f,m){return new Ai(f,m,"password")}static _fromEmailAndCode(f,m,x=null){return new Ai(f,m,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function Tn(y,f){return oo.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Cr(y,f){return Li.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Ve(f,"internal-error")}})()}_linkToIdToken(f,m){var x=this;return(0,c.Z)(function*(){switch(x.signInMethod){case"password":return Oo(f,{idToken:m,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function xc(y,f){return Dl.apply(this,arguments)}(f,{idToken:m,email:x._email,oobCode:x._password});default:Ve(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ss(y,f){return bc.apply(this,arguments)}function bc(){return(bc=(0,c.Z)(function*(y,f){return Ci(y,"POST","/v1/accounts:signInWithIdp",tn(y,f))})).apply(this,arguments)}class hs extends Cn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new hs(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Ve("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:x,signInMethod:M}=m,N=(0,fe._T)(m,["providerId","signInMethod"]);if(!x||!M)return null;const ne=new hs(x,M);return ne.idToken=N.idToken||void 0,ne.accessToken=N.accessToken||void 0,ne.secret=N.secret,ne.nonce=N.nonce,ne.pendingToken=N.pendingToken||null,ne}_getIdTokenResponse(f){return Ss(f,this.buildRequest())}_linkToIdToken(f,m){const x=this.buildRequest();return x.idToken=m,Ss(f,x)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Ss(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,B.xO)(m)}return f}}function Za(y,f){return wc.apply(this,arguments)}function wc(){return(wc=(0,c.Z)(function*(y,f){return Ht(y,"POST","/v1/accounts:sendVerificationCode",tn(y,f))})).apply(this,arguments)}function Ms(){return(Ms=(0,c.Z)(function*(y,f){return Ci(y,"POST","/v1/accounts:signInWithPhoneNumber",tn(y,f))})).apply(this,arguments)}function Sl(){return(Sl=(0,c.Z)(function*(y,f){const m=yield Ci(y,"POST","/v1/accounts:signInWithPhoneNumber",tn(y,f));if(m.temporaryProof)throw In(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Vd={USER_NOT_FOUND:"user-not-found"};function Ec(){return(Ec=(0,c.Z)(function*(y,f){return Ci(y,"POST","/v1/accounts:signInWithPhoneNumber",tn(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Vd)})).apply(this,arguments)}class Po extends Cn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Po({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Po({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Tl(y,f){return Ms.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Fo(y,f){return Sl.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Ud(y,f){return Ec.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:x,verificationCode:M}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:x,code:M}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:x,phoneNumber:M,temporaryProof:N}=f;return x||m||M||N?new Po({verificationId:m,verificationCode:x,phoneNumber:M,temporaryProof:N}):null}}class Ya{constructor(f){var m,x,M,N,ne,ve;const We=(0,B.zd)((0,B.pd)(f)),ot=null!==(m=We.apiKey)&&void 0!==m?m:null,Rt=null!==(x=We.oobCode)&&void 0!==x?x:null,Et=function xu(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=We.mode)&&void 0!==M?M:null);X(ot&&Rt&&Et,"argument-error"),this.apiKey=ot,this.operation=Et,this.code=Rt,this.continueUrl=null!==(N=We.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(ne=We.languageCode)&&void 0!==ne?ne:null,this.tenantId=null!==(ve=We.tenantId)&&void 0!==ve?ve:null}static parseLink(f){const m=function la(y){const f=(0,B.zd)((0,B.pd)(y)).link,m=f?(0,B.zd)((0,B.pd)(f)).deep_link_id:null,x=(0,B.zd)((0,B.pd)(y)).deep_link_id;return(x?(0,B.zd)((0,B.pd)(x)).link:null)||x||m||f||y}(f);try{return new Ya(m)}catch(x){return null}}}let Ic=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,x){return Ai._fromEmailAndPassword(m,x)}static credentialWithLink(m,x){const M=Ya.parseLink(x);return X(M,"argument-error"),Ai._fromEmailAndCode(m,M.code,M.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Si{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ks extends Si{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Hr extends ks{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return X("providerId"in m&&"signInMethod"in m,"argument-error"),hs._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return X(f.idToken||f.accessToken,"argument-error"),hs._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Hr.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Hr.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:x,oauthTokenSecret:M,pendingToken:N,nonce:ne,providerId:ve}=f;if(!x&&!M&&!m&&!N||!ve)return null;try{return new Hr(ve)._credential({idToken:m,accessToken:x,nonce:ne,pendingToken:N})}catch(We){return null}}}let No=(()=>{class y extends ks{constructor(){super("facebook.com")}static credential(m){return hs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(x){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ml=(()=>{class y extends ks{constructor(){super("google.com"),this.addScope("profile")}static credential(m,x){return hs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:x})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:x,oauthAccessToken:M}=m;if(!x&&!M)return null;try{return y.credential(x,M)}catch(N){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),bu=(()=>{class y extends ks{constructor(){super("github.com")}static credential(m){return hs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(x){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class lo extends Cn{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Ss(f,this.buildRequest())}_linkToIdToken(f,m){const x=this.buildRequest();return x.idToken=m,Ss(f,x)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Ss(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:x,signInMethod:M,pendingToken:N}=m;return x&&M&&N&&x===M?new lo(x,N):null}static _create(f,m){return new lo(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Bi extends Si{constructor(f){X(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Bi.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Bi.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=lo.fromJSON(f);return X(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:x}=f;if(!m||!x)return null;try{return lo._create(x,m)}catch(M){return null}}}let co=(()=>{class y extends ks{constructor(){super("twitter.com")}static credential(m,x){return hs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:x})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:x,oauthTokenSecret:M}=m;if(!x||!M)return null;try{return y.credential(x,M)}catch(N){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Sn(y,f){return sr.apply(this,arguments)}function sr(){return(sr=(0,c.Z)(function*(y,f){return Ci(y,"POST","/v1/accounts:signUp",tn(y,f))})).apply(this,arguments)}class or{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,x,M=!1){return(0,c.Z)(function*(){const N=yield gt._fromIdTokenResponse(f,x,M),ne=kl(x);return new or({user:N,providerId:ne,_tokenResponse:x,operationType:m})})()}static _forOperation(f,m,x){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(x,!0);const M=kl(x);return new or({user:f,providerId:M,_tokenResponse:x,operationType:m})})()}}function kl(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Tc(){return(Tc=(0,c.Z)(function*(y){var f;const m=mt(y);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new or({user:m.currentUser,providerId:null,operationType:"signIn"});const x=yield Sn(m,{returnSecureToken:!0}),M=yield or._fromIdTokenResponse(m,"signIn",x,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class ca extends B.ZR{constructor(f,m,x,M){var N;super(m.code,m.message),this.operationType=x,this.user=M,Object.setPrototypeOf(this,ca.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:m.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(f,m,x,M){return new ca(f,m,x,M)}}function Rl(y,f,m,x){return("reauthenticate"===f?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?ca._fromErrorAndOperation(y,N,f,x):N})}function jr(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function un(){return(un=(0,c.Z)(function*(y,f){const m=(0,B.m9)(y);yield an(!0,m,f);const{providerUserInfo:x}=yield sn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),M=jr(x||[]);return m.providerData=m.providerData.filter(N=>M.has(N.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Bo(y,f){return uo.apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(y,f,m=!1){const x=yield ei(y,f._linkToIdToken(y.auth,yield y.getIdToken()),m);return or._forOperation(y,"link",x)})).apply(this,arguments)}function an(y,f,m){return fs.apply(this,arguments)}function fs(){return(fs=(0,c.Z)(function*(y,f,m){yield yi(f);const M=!1===y?"provider-already-linked":"no-such-provider";X(jr(f.providerData).has(m)===y,f.auth,M)})).apply(this,arguments)}function Ja(y,f){return ps.apply(this,arguments)}function ps(){return(ps=(0,c.Z)(function*(y,f,m=!1){var x;const{auth:M}=y,N="reauthenticate";try{const ne=yield ei(y,Rl(M,N,f,y),m);X(ne.idToken,M,"internal-error");const ve=nt(ne.idToken);X(ve,M,"internal-error");const{sub:We}=ve;return X(y.uid===We,M,"user-mismatch"),or._forOperation(y,N,ne)}catch(ne){throw"auth/user-not-found"===(null===(x=ne)||void 0===x?void 0:x.code)&&Ve(M,"user-mismatch"),ne}})).apply(this,arguments)}function vi(y,f){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,c.Z)(function*(y,f,m=!1){const x="signIn",M=yield Rl(y,x,f),N=yield or._fromIdTokenResponse(y,x,M);return m||(yield y._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Mn(y,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(y,f){return vi(mt(y),f)})).apply(this,arguments)}function ii(y,f){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,c.Z)(function*(y,f){const m=(0,B.m9)(y);return yield an(!1,m,f.providerId),Bo(m,f)})).apply(this,arguments)}function gs(y,f){return ua.apply(this,arguments)}function ua(){return(ua=(0,c.Z)(function*(y,f){return Ja((0,B.m9)(y),f)})).apply(this,arguments)}function Ir(y,f){return $r.apply(this,arguments)}function $r(){return($r=(0,c.Z)(function*(y,f){return Ci(y,"POST","/v1/accounts:signInWithCustomToken",tn(y,f))})).apply(this,arguments)}function wt(){return(wt=(0,c.Z)(function*(y,f){const m=mt(y),x=yield Ir(m,{token:f,returnSecureToken:!0}),M=yield or._fromIdTokenResponse(m,"signIn",x);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class ho{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Xa._fromServerResponse(f,m):Ve(f,"internal-error")}}class Xa extends ho{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Xa(m)}}function Os(y,f,m){var x;X((null===(x=m.url)||void 0===x?void 0:x.length)>0,y,"invalid-continue-uri"),X(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(X(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(X(m.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function da(){return(da=(0,c.Z)(function*(y,f,m){const x=(0,B.m9)(y),M={requestType:"PASSWORD_RESET",email:f};m&&Os(x,M,m),yield oa(x,M)})).apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(y,f,m){yield Un((0,B.m9)(y),{oobCode:f,newPassword:m})})).apply(this,arguments)}function $t(){return($t=(0,c.Z)(function*(y,f){yield sa((0,B.m9)(y),{oobCode:f})})).apply(this,arguments)}function el(y,f){return bn.apply(this,arguments)}function bn(){return(bn=(0,c.Z)(function*(y,f){const m=(0,B.m9)(y),x=yield Un(m,{oobCode:f}),M=x.requestType;switch(X(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(x.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(x.mfaInfo,m,"internal-error");default:X(x.email,m,"internal-error")}let N=null;return x.mfaInfo&&(N=ho._fromServerResponse(mt(m),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:N},operation:M}})).apply(this,arguments)}function Fs(){return(Fs=(0,c.Z)(function*(y,f){const{data:m}=yield el((0,B.m9)(y),f);return m.email})).apply(this,arguments)}function ha(){return(ha=(0,c.Z)(function*(y,f,m){const x=mt(y),M=yield Sn(x,{returnSecureToken:!0,email:f,password:m}),N=yield or._fromIdTokenResponse(x,"signIn",M);return yield x._updateCurrentUser(N.user),N})).apply(this,arguments)}function tl(){return(tl=(0,c.Z)(function*(y,f,m){const x=(0,B.m9)(y),M={requestType:"EMAIL_SIGNIN",email:f};X(m.handleCodeInApp,x,"argument-error"),m&&Os(x,M,m),yield rr(x,M)})).apply(this,arguments)}function Gn(){return(Gn=(0,c.Z)(function*(y,f,m){const x=(0,B.m9)(y),M=Ic.credentialWithLink(f,m||je());return X(M._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),Mn(x,M)})).apply(this,arguments)}function ms(y,f){return pa.apply(this,arguments)}function pa(){return(pa=(0,c.Z)(function*(y,f){return Ht(y,"POST","/v1/accounts:createAuthUri",tn(y,f))})).apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(y,f){const x={identifier:f,continueUri:pt()?je():"http://localhost"},{signinMethods:M}=yield ms((0,B.m9)(y),x);return M||[]})).apply(this,arguments)}function ma(){return(ma=(0,c.Z)(function*(y,f){const m=(0,B.m9)(y),M={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Os(m.auth,M,f);const{email:N}=yield mn(m.auth,M);N!==y.email&&(yield y.reload())})).apply(this,arguments)}function il(){return(il=(0,c.Z)(function*(y,f,m){const x=(0,B.m9)(y),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};m&&Os(x.auth,N,m);const{email:ne}=yield vc(x.auth,N);ne!==y.email&&(yield y.reload())})).apply(this,arguments)}function _a(y,f){return go.apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(y,f){return Ht(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function mo(){return(mo=(0,c.Z)(function*(y,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const x=(0,B.m9)(y),N={idToken:yield x.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},ne=yield ei(x,_a(x.auth,N));x.displayName=ne.displayName||null,x.photoURL=ne.photoUrl||null;const ve=x.providerData.find(({providerId:We})=>"password"===We);ve&&(ve.displayName=x.displayName,ve.photoURL=x.photoURL),yield x._updateTokensIfNecessary(ne)})).apply(this,arguments)}function Ns(y,f,m){return ya.apply(this,arguments)}function ya(){return(ya=(0,c.Z)(function*(y,f,m){const{auth:x}=y,N={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(N.email=f),m&&(N.password=m);const ne=yield ei(y,Oo(x,N));yield y._updateTokensIfNecessary(ne,!0)})).apply(this,arguments)}class Uo{constructor(f,m,x={}){this.isNewUser=f,this.providerId=m,this.profile=x}}class Aa extends Uo{constructor(f,m,x,M){super(f,m,x),this.username=M}}class Go extends Uo{constructor(f,m){super(f,"facebook.com",m)}}class qr extends Aa{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Eu extends Uo{constructor(f,m){super(f,"google.com",m)}}class ci extends Aa{constructor(f,m,x){super(f,"twitter.com",m,x)}}function Dr(y){const{user:f,_tokenResponse:m}=y;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Sc(y){var f,m;if(!y)return null;const{providerId:x}=y,M=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},N=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!x&&(null==y?void 0:y.idToken)){const ne=null===(m=null===(f=nt(y.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(ne)return new Uo(N,"anonymous"!==ne&&"custom"!==ne?ne:null)}if(!x)return null;switch(x){case"facebook.com":return new Go(N,M);case"github.com":return new qr(N,M);case"google.com":return new Eu(N,M);case"twitter.com":return new ci(N,M,y.screenName||null);case"custom":case"anonymous":return new Uo(N,null);default:return new Uo(N,x,M)}}(m)}class Wr{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new Wr("enroll",f)}static _fromMfaPendingCredential(f){return new Wr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,x;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Wr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(x=f.multiFactorSession)||void 0===x?void 0:x.idToken)return Wr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ls{constructor(f,m,x){this.session=f,this.hints=m,this.signInResolver=x}static _fromError(f,m){const x=mt(f),M=m.customData._serverResponse,N=(M.mfaInfo||[]).map(ve=>ho._fromServerResponse(x,ve));X(M.mfaPendingCredential,x,"internal-error");const ne=Wr._fromMfaPendingCredential(M.mfaPendingCredential);return new Ls(ne,N,function(){var ve=(0,c.Z)(function*(We){const ot=yield We._process(x,ne);delete M.mfaInfo,delete M.mfaPendingCredential;const Rt=Object.assign(Object.assign({},M),{idToken:ot.idToken,refreshToken:ot.refreshToken});switch(m.operationType){case"signIn":const Et=yield or._fromIdTokenResponse(x,m.operationType,Rt);return yield x._updateCurrentUser(Et.user),Et;case"reauthenticate":return X(m.user,x,"internal-error"),or._forOperation(m.user,m.operationType,Rt);default:Ve(x,"internal-error")}});return function(We){return ve.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,c.Z)(function*(){return m.signInResolver(f)})()}}function Iu(y,f){return Ht(y,"POST","/v2/accounts/mfaEnrollment:start",tn(y,f))}class yo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(x=>ho._fromServerResponse(f.auth,x)))})}static _fromUser(f){return new yo(f)}getSession(){var f=this;return(0,c.Z)(function*(){return Wr._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var x=this;return(0,c.Z)(function*(){const M=f,N=yield x.getSession(),ne=yield ei(x.user,M._process(x.user.auth,N,m));return yield x.user._updateTokensIfNecessary(ne),x.user.reload()})()}unenroll(f){var m=this;return(0,c.Z)(function*(){var x;const M="string"==typeof f?f:f.uid,N=yield m.user.getIdToken(),ne=yield ei(m.user,function Ji(y,f){return Ht(y,"POST","/v2/accounts/mfaEnrollment:withdraw",tn(y,f))}(m.user.auth,{idToken:N,mfaEnrollmentId:M}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ve})=>ve!==M),yield m.user._updateTokensIfNecessary(ne);try{yield m.user.reload()}catch(ve){if("auth/user-token-expired"!==(null===(x=ve)||void 0===x?void 0:x.code))throw ve}})()}}const sl=new WeakMap,Bs="__sak";class Gl{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Bs,"1"),this.storage.removeItem(Bs),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const E=(()=>{class y extends Gl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,x)=>this.onStorageEvent(m,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function zd(){const y=(0,B.z$)();return ko(y)||Di(y)}()&&function At(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Ds(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const x of Object.keys(this.listeners)){const M=this.storage.getItem(x),N=this.localCache[x];M!==N&&m(x,N,M)}}onStorageEvent(m,x=!1){if(!m.key)return void this.forAllChangedKeys((ve,We,ot)=>{this.notifyListeners(ve,ot)});const M=m.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ve=this.storage.getItem(M);if(m.newValue!==ve)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!x)return}const N=()=>{const ve=this.storage.getItem(M);!x&&this.localCache[M]===ve||this.notifyListeners(M,ve)},ne=this.storage.getItem(M);!function ra(){return(0,B.w1)()&&10===document.documentMode}()||ne===m.newValue||m.newValue===m.oldValue?N():setTimeout(N,10)}notifyListeners(m,x){this.localCache[m]=x;const M=this.listeners[m];if(M)for(const N of Array.from(M))N(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,x,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:x,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(x)}_removeListener(m,x){this.listeners[m]&&(this.listeners[m].delete(x),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,x){var M=()=>super._set,N=this;return(0,c.Z)(function*(){yield M().call(N,m,x),N.localCache[m]=JSON.stringify(x)})()}_get(m){var x=()=>super._get,M=this;return(0,c.Z)(function*(){const N=yield x().call(M,m);return M.localCache[m]=JSON.stringify(N),N})()}_remove(m){var x=()=>super._remove,M=this;return(0,c.Z)(function*(){yield x().call(M,m),delete M.localCache[m]})()}}return y.type="LOCAL",y})(),R=(()=>{class y extends Gl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,x){}_removeListener(m,x){}}return y.type="SESSION",y})();let Ae=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const x=this.receivers.find(N=>N.isListeningto(m));if(x)return x;const M=new y(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var x=this;return(0,c.Z)(function*(){const M=m,{eventId:N,eventType:ne,data:ve}=M.data,We=x.handlersMap[ne];if(!(null==We?void 0:We.size))return;M.ports[0].postMessage({status:"ack",eventId:N,eventType:ne});const ot=Array.from(We).map(function(){var Et=(0,c.Z)(function*(hi){return hi(M.origin,ve)});return function(hi){return Et.apply(this,arguments)}}()),Rt=yield function G(y){return Promise.all(y.map(function(){var f=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(x){return{fulfilled:!1,reason:x}}});return function(m){return f.apply(this,arguments)}}()))}(ot);M.ports[0].postMessage({status:"done",eventId:N,eventType:ne,response:Rt})})()}_subscribe(m,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(x)}_unsubscribe(m,x){this.handlersMap[m]&&x&&this.handlersMap[m].delete(x),(!x||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ne(y="",f=10){let m="";for(let x=0;x<f;x++)m+=Math.floor(10*Math.random());return y+m}class vn{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,x=50){var M=this;return(0,c.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let ne,ve;return new Promise((We,ot)=>{const Rt=Ne("",20);N.port1.start();const Et=setTimeout(()=>{ot(new Error("unsupported_event"))},x);ve={messageChannel:N,onMessage(hi){const Jr=hi;if(Jr.data.eventId===Rt)switch(Jr.data.status){case"ack":clearTimeout(Et),ne=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(ne),We(Jr.data.response);break;default:clearTimeout(Et),clearTimeout(ne),ot(new Error("invalid_response"))}}},M.handlers.add(ve),N.port1.addEventListener("message",ve.onMessage),M.target.postMessage({eventType:f,eventId:Rt,data:m},[N.port2])}).finally(()=>{ve&&M.removeMessageHandler(ve)})})()}}function en(){return window}function cr(){return void 0!==en().WorkerGlobalScope&&"function"==typeof en().importScripts}function ol(){return(ol=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const kc="firebaseLocalStorageDb",Ho="firebaseLocalStorage",Rc="fbase_key";class Vs{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function xa(y,f){return y.transaction([Ho],f?"readwrite":"readonly").objectStore(Ho)}function Oc(){const y=indexedDB.open(kc,1);return new Promise((f,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const x=y.result;try{x.createObjectStore(Ho,{keyPath:Rc})}catch(M){m(M)}}),y.addEventListener("success",(0,c.Z)(function*(){const x=y.result;x.objectStoreNames.contains(Ho)?f(x):(x.close(),yield function Du(){const y=indexedDB.deleteDatabase(kc);return new Vs(y).toPromise()}(),f(yield Oc()))}))})}function al(y,f,m){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,c.Z)(function*(y,f,m){const x=xa(y,!0).put({[Rc]:f,value:m});return new Vs(x).toPromise()})).apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(y,f){const m=xa(y,!1).get(f),x=yield new Vs(m).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function Su(y,f){const m=xa(y,!0).delete(f);return new Vs(m).toPromise()}const jo=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield Oc()),m.db})()}_withRetries(m){var x=this;return(0,c.Z)(function*(){let M=0;for(;;)try{const N=yield x._openDb();return yield m(N)}catch(N){if(M++>3)throw N;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return cr()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=Ae._getInstance(function ff(){return cr()?self:null}()),m.receiver._subscribe("keyChanged",function(){var x=(0,c.Z)(function*(M,N){return{keyProcessed:(yield m._poll()).includes(N.key)}});return function(M,N){return x.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var x=(0,c.Z)(function*(M,N){return["keyChanged"]});return function(M,N){return x.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var x,M;if(m.activeServiceWorker=yield function Hl(){return ol.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new vn(m.activeServiceWorker);const N=yield m.sender._send("ping",{},800);!N||(null===(x=N[0])||void 0===x?void 0:x.fulfilled)&&(null===(M=N[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var x=this;return(0,c.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function qd(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:m},x.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Oc();return yield al(m,Bs,"1"),yield Su(m,Bs),!0}catch(m){}return!1})()}_withPendingWrite(m){var x=this;return(0,c.Z)(function*(){x.pendingWrites++;try{yield m()}finally{x.pendingWrites--}})()}_set(m,x){var M=this;return(0,c.Z)(function*(){return M._withPendingWrite((0,c.Z)(function*(){return yield M._withRetries(N=>al(N,m,x)),M.localCache[m]=x,M.notifyServiceWorker(m)}))})()}_get(m){var x=this;return(0,c.Z)(function*(){const M=yield x._withRetries(N=>function di(y,f){return Wn.apply(this,arguments)}(N,m));return x.localCache[m]=M,M})()}_remove(m){var x=this;return(0,c.Z)(function*(){return x._withPendingWrite((0,c.Z)(function*(){return yield x._withRetries(M=>Su(M,m)),delete x.localCache[m],x.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const x=yield m._withRetries(ne=>{const ve=xa(ne,!1).getAll();return new Vs(ve).toPromise()});if(!x)return[];if(0!==m.pendingWrites)return[];const M=[],N=new Set;for(const{fbase_key:ne,value:ve}of x)N.add(ne),JSON.stringify(m.localCache[ne])!==JSON.stringify(ve)&&(m.notifyListeners(ne,ve),M.push(ne));for(const ne of Object.keys(m.localCache))m.localCache[ne]&&!N.has(ne)&&(m.notifyListeners(ne,null),M.push(ne));return M})()}notifyListeners(m,x){this.localCache[m]=x;const M=this.listeners[m];if(M)for(const N of Array.from(M))N(x)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(x)}_removeListener(m,x){this.listeners[m]&&(this.listeners[m].delete(x),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Fc(y,f){return Ht(y,"POST","/v2/accounts/mfaSignIn:start",tn(y,f))}function ll(){return(ll=(0,c.Z)(function*(y){return(yield Ht(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _s(y){return new Promise((f,m)=>{const x=document.createElement("script");x.setAttribute("src",y),x.onload=f,x.onerror=M=>{const N=Me("internal-error");N.customData=M,m(N)},x.type="text/javascript",x.charset="UTF-8",function zo(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(x)})}function Ao(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Mi=1e12;class ql{constructor(f){this.auth=f,this.counter=Mi,this._widgets=new Map}render(f,m){const x=this.counter;return this._widgets.set(x,new Qd(f,this.auth.name,m||{})),this.counter++,x}reset(f){var m;const x=f||Mi;null===(m=this._widgets.get(x))||void 0===m||m.delete(),this._widgets.delete(x)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Mi))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,c.Z)(function*(){var x;return null===(x=m._widgets.get(f||Mi))||void 0===x||x.execute(),""})()}}class Qd{constructor(f,m,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof f?document.getElementById(f):f;X(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function pf(y){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<y;x++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(x){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(x){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Hn=Ao("rcb"),Tg=new Qt(3e4,6e4);class vo{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(f=en().grecaptcha)||void 0===f?void 0:f.render)}load(f,m=""){return X(function Sg(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(en().grecaptcha):new Promise((x,M)=>{const N=en().setTimeout(()=>{M(Me(f,"network-request-failed"))},Tg.get());en()[Hn]=()=>{en().clearTimeout(N),delete en()[Hn];const ve=en().grecaptcha;if(!ve)return void M(Me(f,"internal-error"));const We=ve.render;ve.render=(ot,Rt)=>{const Et=We(ot,Rt);return this.counter++,Et},this.hostLanguage=m,x(ve)},_s(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Hn,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(N),M(Me(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!!(null===(m=en().grecaptcha)||void 0===m?void 0:m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class dr{load(f){return(0,c.Z)(function*(){return new ql(f)})()}clearedOneInstance(){}}const ba="recaptcha",uy={theme:"light",type:"image"};class Qr{constructor(f,m=Object.assign({},uy),x){this.parameters=m,this.type=ba,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mt(x),this.isInvisible="invisible"===this.parameters.size,X("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof f?document.getElementById(f):f;X(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dr:new vo,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),x=f.getAssertedRecaptcha();return x.getResponse(m)||new Promise(N=>{const ne=ve=>{!ve||(f.tokenChangeListeners.delete(ne),N(ve))};f.tokenChangeListeners.add(ne),f.isInvisible&&x.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(x=>x(m)),"function"==typeof f)f(m);else if("string"==typeof f){const x=en()[f];"function"==typeof x&&x(m)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const x=document.createElement("div");m.appendChild(x),m=x}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){X(pt()&&!cr(),f.auth,"internal-error"),yield function gf(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Us(y){return ll.apply(this,arguments)}(f.auth);X(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qn{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Po._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function xo(){return(xo=(0,c.Z)(function*(y,f,m){const x=mt(y),M=yield qo(x,f,(0,B.m9)(m));return new Qn(M,N=>Mn(x,N))})).apply(this,arguments)}function Pc(){return(Pc=(0,c.Z)(function*(y,f,m){const x=(0,B.m9)(y);yield an(!1,x,"phone");const M=yield qo(x.auth,f,(0,B.m9)(m));return new Qn(M,N=>ii(x,N))})).apply(this,arguments)}function Sr(){return(Sr=(0,c.Z)(function*(y,f,m){const x=(0,B.m9)(y),M=yield qo(x.auth,f,(0,B.m9)(m));return new Qn(M,N=>gs(x,N))})).apply(this,arguments)}function qo(y,f,m){return wa.apply(this,arguments)}function wa(){return(wa=(0,c.Z)(function*(y,f,m){var x;const M=yield m.verify();try{let N;if(X("string"==typeof M,y,"argument-error"),X(m.type===ba,y,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const ne=N.session;if("phoneNumber"in N)return X("enroll"===ne.type,y,"internal-error"),(yield Iu(y,{idToken:ne.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{X("signin"===ne.type,y,"internal-error");const ve=(null===(x=N.multiFactorHint)||void 0===x?void 0:x.uid)||N.multiFactorUid;return X(ve,y,"missing-multi-factor-info"),(yield Fc(y,{mfaPendingCredential:ne.credential,mfaEnrollmentId:ve,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ne}=yield Za(y,{phoneNumber:N.phoneNumber,recaptchaToken:M});return ne}}finally{m._reset()}})).apply(this,arguments)}function Kl(){return(Kl=(0,c.Z)(function*(y,f){yield Bo((0,B.m9)(y),f)})).apply(this,arguments)}let cl=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=mt(m)}verifyPhoneNumber(m,x){return qo(this.auth,m,(0,B.m9)(x))}static credential(m,x){return Po._fromVerification(m,x)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:x,temporaryProof:M}=m;return x&&M?Po._fromTokenResponse(x,M):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Wo(y,f){return f?re(f):(X(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class ku extends Cn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ss(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Ss(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Ss(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function _f(y){return vi(y.auth,new ku(y),y.bypassAuthState)}function ul(y){const{auth:f,user:m}=y;return X(m,f,"internal-error"),Ja(m,new ku(y),y.bypassAuthState)}function Hi(y){return bo.apply(this,arguments)}function bo(){return(bo=(0,c.Z)(function*(y){const{auth:f,user:m}=y;return X(m,f,"internal-error"),Bo(m,new ku(y),y.bypassAuthState)})).apply(this,arguments)}class Gs{constructor(f,m,x,M,N=!1){this.auth=f,this.resolver=x,this.user=M,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,c.Z)(function*(x,M){f.pendingPromise={resolve:x,reject:M};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(x,M){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,c.Z)(function*(){const{urlResponse:x,sessionId:M,postBody:N,tenantId:ne,error:ve,type:We}=f;if(ve)return void m.reject(ve);const ot={auth:m.auth,requestUri:x,sessionId:M,tenantId:ne||void 0,postBody:N||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(We)(ot))}catch(Rt){m.reject(Rt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return _f;case"linkViaPopup":case"linkViaRedirect":return Hi;case"reauthViaPopup":case"reauthViaRedirect":return ul;default:Ve(this.auth,"internal-error")}}resolve(f){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ru=new Qt(2e3,1e4);function Ea(){return(Ea=(0,c.Z)(function*(y,f,m){const x=mt(y);Ke(y,f,Si);const M=Wo(x,m);return new ys(x,"signInViaPopup",f,M).executeNotNull()})).apply(this,arguments)}function Fu(){return(Fu=(0,c.Z)(function*(y,f,m){const x=(0,B.m9)(y);Ke(x.auth,f,Si);const M=Wo(x.auth,m);return new ys(x.auth,"reauthViaPopup",f,M,x).executeNotNull()})).apply(this,arguments)}function Nc(){return(Nc=(0,c.Z)(function*(y,f,m){const x=(0,B.m9)(y);Ke(x.auth,f,Si);const M=Wo(x.auth,m);return new ys(x.auth,"linkViaPopup",f,M,x).executeNotNull()})).apply(this,arguments)}let ys=(()=>{class y extends Gs{constructor(m,x,M,N,ne){super(m,x,N,ne),this.provider=M,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const x=yield m.execute();return X(x,m.auth,"internal-error"),x})()}onExecution(){var m=this;return(0,c.Z)(function*(){ie(1===m.filter.length,"Popup operations only handle one event");const x=Ne();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],x),m.authWindow.associatedEvent=x,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(Me(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var x,M;this.pollId=(null===(M=null===(x=this.authWindow)||void 0===x?void 0:x.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Ru.get())};m()}}return y.currentPopupAction=null,y})();const Hs=new Map;class dy extends Gs{constructor(f,m,x=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,x),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,c.Z)(function*(){let x=Hs.get(m.auth._key());if(!x){try{const N=(yield function Lc(y,f){return Kr.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;x=()=>Promise.resolve(N)}catch(M){x=()=>Promise.reject(M)}Hs.set(m.auth._key(),x)}return m.bypassAuthState||Hs.set(m.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,x=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(x,f);if("unknown"!==f.type){if(f.eventId){const M=yield x.auth._redirectUserForId(f.eventId);if(M)return x.user=M,m().call(x,f);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Kr(){return(Kr=(0,c.Z)(function*(y,f){const m=Zd(f),x=dl(y);if(!(yield x._isAvailable()))return!1;const M="true"===(yield x._get(m));return yield x._remove(m),M})).apply(this,arguments)}function Ca(y,f){return As.apply(this,arguments)}function As(){return(As=(0,c.Z)(function*(y,f){return dl(y)._set(Zd(f),"true")})).apply(this,arguments)}function Kd(y,f){Hs.set(y._key(),f)}function dl(y){return re(y._redirectPersistence)}function Zd(y){return li("pendingRedirect",y.config.apiKey,y.name)}function D(){return(D=(0,c.Z)(function*(y,f,m){const x=mt(y);Ke(y,f,Si);const M=Wo(x,m);return yield Ca(M,x),M._openRedirect(x,f,"signInViaRedirect")})).apply(this,arguments)}function j(){return(j=(0,c.Z)(function*(y,f,m){const x=(0,B.m9)(y);Ke(x.auth,f,Si);const M=Wo(x.auth,m);yield Ca(M,x.auth);const N=yield vt(x);return M._openRedirect(x.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function Le(){return(Le=(0,c.Z)(function*(y,f,m){const x=(0,B.m9)(y);Ke(x.auth,f,Si);const M=Wo(x.auth,m);yield an(!1,x,f.providerId),yield Ca(M,x.auth);const N=yield vt(x);return M._openRedirect(x.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function Ct(){return(Ct=(0,c.Z)(function*(y,f){return yield mt(y)._initializationPromise,kt(y,f,!1)})).apply(this,arguments)}function kt(y,f){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,c.Z)(function*(y,f,m=!1){const x=mt(y),M=Wo(x,f),ne=yield new dy(x,M,m).execute();return ne&&!m&&(delete ne.user._redirectEventId,yield x._persistUserIfCurrent(ne.user),yield x._setRedirectUser(null,f)),ne})).apply(this,arguments)}function vt(y){return kn.apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(y){const f=Ne(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class Qo{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(f,x)&&(m=!0,this.sendToConsumer(f,x),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Yd(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return js(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var x;if(f.error&&!js(f)){const M=(null===(x=f.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";m.onError(Me(this.auth,M))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const x=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&x}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vs(f))}saveEventToCache(f){this.cachedEventUids.add(vs(f)),this.lastProcessedEventTime=Date.now()}}function vs(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function js({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Yl(y){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,c.Z)(function*(y,f={}){return Ht(y,"GET","/v1/projects",f)})).apply(this,arguments)}const kr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zs=/^https?/;function kg(){return(kg=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Yl(y);for(const m of f)try{if(vf(m))return}catch(x){}Ve(y,"unauthorized-domain")})).apply(this,arguments)}function vf(y){const f=je(),{protocol:m,hostname:x}=new URL(f);if(y.startsWith("chrome-extension://")){const ne=new URL(y);return""===ne.hostname&&""===x?"chrome-extension:"===m&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&ne.hostname===x}if(!zs.test(m))return!1;if(kr.test(y))return x===y;const M=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(x)}const Dv=new Qt(3e4,6e4);function xf(){const y=en().___jsl;if(null==y?void 0:y.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Pu=null;function bf(y){return Pu=Pu||function hy(y){return new Promise((f,m)=>{var x,M,N;function ne(){xf(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{xf(),m(Me(y,"network-request-failed"))},timeout:Dv.get()})}if(null===(M=null===(x=en().gapi)||void 0===x?void 0:x.iframes)||void 0===M?void 0:M.Iframe)f(gapi.iframes.getContext());else{if(!(null===(N=en().gapi)||void 0===N?void 0:N.load)){const ve=Ao("iframefcb");return en()[ve]=()=>{gapi.load?ne():m(Me(y,"network-request-failed"))},_s(`https://apis.google.com/js/api.js?onload=${ve}`).catch(We=>m(We))}ne()}}).catch(f=>{throw Pu=null,f})}(y),Pu}const Uc=new Qt(5e3,15e3),Nu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lu(y){const f=y.config;X(f.authDomain,y,"auth-domain-config-required");const m=f.emulator?Bn(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,x={apiKey:f.apiKey,appName:y.name,v:pe.SDK_VERSION},M=Jd.get(y.config.apiHost);M&&(x.eid=M);const N=y._getFrameworks();return N.length&&(x.fw=N.join(",")),`${m}?${(0,B.xO)(x).slice(1)}`}function Bu(){return Bu=(0,c.Z)(function*(y){const f=yield bf(y),m=en().gapi;return X(m,y,"internal-error"),f.open({where:document.body,url:Lu(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nu,dontclear:!0},x=>new Promise(function(){var M=(0,c.Z)(function*(N,ne){yield x.restyle({setHideOnLeave:!1});const ve=Me(y,"network-request-failed"),We=en().setTimeout(()=>{ne(ve)},Uc.get());function ot(){en().clearTimeout(We),N(x)}x.ping(ot).then(ot,()=>{ne(ve)})});return function(N,ne){return M.apply(this,arguments)}}()))}),Bu.apply(this,arguments)}const Xd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nh{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Da(y,f,m,x,M,N){X(y.config.authDomain,y,"auth-domain-config-required"),X(y.config.apiKey,y,"invalid-api-key");const ne={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:x,v:pe.SDK_VERSION,eventId:M};if(f instanceof Si){f.setDefaultLanguage(y.languageCode),ne.providerId=f.providerId||"",(0,B.xb)(f.getCustomParameters())||(ne.customParameters=JSON.stringify(f.getCustomParameters()));for(const[We,ot]of Object.entries(N||{}))ne[We]=ot}if(f instanceof ks){const We=f.getScopes().filter(ot=>""!==ot);We.length>0&&(ne.scopes=We.join(","))}y.tenantId&&(ne.tid=y.tenantId);const ve=ne;for(const We of Object.keys(ve))void 0===ve[We]&&delete ve[We];return`${function rh({config:y}){return y.emulator?Bn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,B.xO)(ve).slice(1)}`}const Vu="webStorageSupport";class Jl extends class fy{constructor(f){this.factorId=f}_process(f,m,x){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,x);case"signin":return this._finalizeSignIn(f,m.credential);default:return ye("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Jl(f)}_finalizeEnroll(f,m,x){return function _o(y,f){return Ht(y,"POST","/v2/accounts/mfaEnrollment:finalize",tn(y,f))}(f,{idToken:m,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function ur(y,f){return Ht(y,"POST","/v2/accounts/mfaSignIn:finalize",tn(y,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let oh=(()=>{class y{constructor(){}static assertion(m){return Jl._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Cf="@firebase/auth";class Tv{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(x=>{var M;f((null===(M=x)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $s(){return window}function gl(){return(gl=(0,c.Z)(function*(y,f,m){var x;const{BuildInfo:M}=$s();ie(f.sessionId,"AuthEvent did not contain a session ID");const N=yield Df(f.sessionId),ne={};return Di()?ne.ibi=M.packageName:Ni()?ne.apn=M.packageName:Ve(y,"operation-not-supported-in-this-environment"),M.displayName&&(ne.appDisplayName=M.displayName),ne.sessionId=N,Da(y,m,f.type,void 0,null!==(x=f.eventId)&&void 0!==x?x:void 0,ne)})).apply(this,arguments)}function ah(){return(ah=(0,c.Z)(function*(y){const{BuildInfo:f}=$s(),m={};Di()?m.iosBundleId=f.packageName:Ni()?m.androidPackageName=f.packageName:Ve(y,"operation-not-supported-in-this-environment"),yield Yl(y,m)})).apply(this,arguments)}function gy(){return(gy=(0,c.Z)(function*(y,f,m){const{cordova:x}=$s();let M=()=>{};try{yield new Promise((N,ne)=>{let ve=null;function We(){var Et;N();const hi=null===(Et=x.plugins.browsertab)||void 0===Et?void 0:Et.close;"function"==typeof hi&&hi(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function ot(){ve||(ve=window.setTimeout(()=>{ne(Me(y,"redirect-cancelled-by-user"))},2e3))}function Rt(){"visible"===(null==document?void 0:document.visibilityState)&&ot()}f.addPassiveListener(We),document.addEventListener("resume",ot,!1),Ni()&&document.addEventListener("visibilitychange",Rt,!1),M=()=>{f.removePassiveListener(We),document.removeEventListener("resume",ot,!1),document.removeEventListener("visibilitychange",Rt,!1),ve&&window.clearTimeout(ve)}})}finally{M()}})).apply(this,arguments)}function Df(y){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,c.Z)(function*(y){const f=Tf(y),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Tf(y){if(ie(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),m=new Uint8Array(f);for(let x=0;x<y.length;x++)m[x]=y.charCodeAt(x);return m}!function jE(y){(0,pe._registerComponent)(new de.wA("auth",(f,{options:m})=>{const x=f.getProvider("app").getImmediate(),M=f.getProvider("heartbeat"),{apiKey:N,authDomain:ne}=x.options;return((ve,We)=>{X(N&&!N.includes(":"),"invalid-api-key",{appName:ve.name}),X(!(null==ne?void 0:ne.includes(":")),"argument-error",{appName:ve.name});const ot={apiKey:N,authDomain:ne,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ro(y)},Rt=new tt(ve,We,ot);return function me(y,f){const m=(null==f?void 0:f.persistence)||[],x=(Array.isArray(m)?m:[m]).map(re);(null==f?void 0:f.errorMap)&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(x,null==f?void 0:f.popupRedirectResolver)}(Rt,m),Rt})(x,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,x)=>{f.getProvider("auth-internal").initialize()})),(0,pe._registerComponent)(new de.wA("auth-internal",f=>{const m=mt(f.getProvider("auth").getImmediate());return new Tv(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,pe.registerVersion)(Cf,"0.20.5",function Sv(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,pe.registerVersion)(Cf,"0.20.5","esm2017")}("Browser");class Ng extends Qo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function Vg(y){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,c.Z)(function*(y){const f=yield jc()._get(zc(y));return f&&(yield jc()._remove(zc(y))),f})).apply(this,arguments)}function ch(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const x=Math.floor(Math.random()*f.length);y.push(f.charAt(x))}return y.join("")}function jc(){return re(E)}function zc(y){return li("authEvent",y.config.apiKey,y.name)}function Rn(y){if(!(null==y?void 0:y.includes("?")))return{};const[f,...m]=y.split("?");return(0,B.zd)(m.join("?"))}function Xl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Me("no-auth-event")}}function dh(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function $g(y=(0,B.z$)()){return!("file:"!==dh()&&"ionic:"!==dh()&&"capacitor:"!==dh()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mf(){try{const y=self.localStorage,f=Ne();if(y)return y.setItem(f,"1"),y.removeItem(f),!function ml(y=(0,B.z$)()){return function Rr(){return(0,B.w1)()&&11===(null==document?void 0:document.documentMode)}()||function hh(y=(0,B.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,B.hl)()}catch(y){return ki()&&(0,B.hl)()}return!1}function ki(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ec(){return(function zg(){return"http:"===dh()||"https:"===dh()}()||(0,B.ru)()||$g())&&!function $c(){return(0,B.b$)()||(0,B.UG)()}()&&Mf()&&!ki()}function Uu(){return $g()&&"undefined"!=typeof document}function kf(){return(kf=(0,c.Z)(function*(){return!!Uu()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const Zr={LOCAL:"local",NONE:"none",SESSION:"session"},qc=X,Rf="persistence";function ph(y){return Of.apply(this,arguments)}function Of(){return(Of=(0,c.Z)(function*(y){yield y._initializationPromise;const f=Wg(),m=li(Rf,y.config.apiKey,y.name);f&&f.setItem(m,y._getPersistence())})).apply(this,arguments)}function Wg(){var y;try{return(null===(y=function fh(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(f){return null}}const Qg=X;class Ta{constructor(){this.browserResolver=re(class sh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R,this._completeRedirectFn=kt,this._overrideRedirectResult=Kd}_openPopup(f,m,x,M){var N=this;return(0,c.Z)(function*(){var ne;ie(null===(ne=N.eventManagers[f._key()])||void 0===ne?void 0:ne.manager,"_initialize() not called before _openPopup()");const ve=Da(f,m,x,je(),M);return function ih(y,f,m,x=500,M=600){const N=Math.max((window.screen.availHeight-M)/2,0).toString(),ne=Math.max((window.screen.availWidth-x)/2,0).toString();let ve="";const We=Object.assign(Object.assign({},Xd),{width:x.toString(),height:M.toString(),top:N,left:ne}),ot=(0,B.z$)().toLowerCase();m&&(ve=cs(ot)?"_blank":m),Ur(ot)&&(f=f||"http://localhost",We.scrollbars="yes");const Rt=Object.entries(We).reduce((hi,[Jr,zu])=>`${hi}${Jr}=${zu},`,"");if(function so(y=(0,B.z$)()){var f;return Di(y)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(ot)&&"_self"!==ve)return function Og(y,f){const m=document.createElement("a");m.href=y,m.target=f;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(x)}(f||"",ve),new nh(null);const Et=window.open(f||"",ve,Rt);X(Et,y,"popup-blocked");try{Et.focus()}catch(hi){}return new nh(Et)}(f,ve,Ne())})()}_openRedirect(f,m,x,M){var N=this;return(0,c.Z)(function*(){return yield N._originValidation(f),function qn(y){en().location.href=y}(Da(f,m,x,je(),M)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:M,promise:N}=this.eventManagers[m];return M?Promise.resolve(M):(ie(N,"If manager is not set, promise should be"),N)}const x=this.initAndGetManager(f);return this.eventManagers[m]={promise:x},x.catch(()=>{delete this.eventManagers[m]}),x}initAndGetManager(f){var m=this;return(0,c.Z)(function*(){const x=yield function fl(y){return Bu.apply(this,arguments)}(f),M=new Qo(f);return x.register("authEvent",N=>(X(null==N?void 0:N.authEvent,f,"invalid-auth-event"),{status:M.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:M},m.iframes[f._key()]=x,M})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Vu,{type:Vu},M=>{var N;const ne=null===(N=null==M?void 0:M[0])||void 0===N?void 0:N[Vu];void 0!==ne&&m(!!ne),Ve(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Af(y){return kg.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ds()||ko()||Di()}}),this.cordovaResolver=re(class Gg{constructor(){this._redirectPersistence=R,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=kt,this._overrideRedirectResult=Kd}_initialize(f){var m=this;return(0,c.Z)(function*(){const x=f._key();let M=m.eventManagers.get(x);return M||(M=new Ng(f),m.eventManagers.set(x,M),m.attachCallbackListeners(f,M)),M})()}_openPopup(f){Ve(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,x,M){var N=this;return(0,c.Z)(function*(){!function my(y){var f,m,x,M,N,ne,ve,We,ot,Rt;const Et=$s();X("function"==typeof(null===(f=null==Et?void 0:Et.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),X(void 0!==(null===(m=null==Et?void 0:Et.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),X("function"==typeof(null===(N=null===(M=null===(x=null==Et?void 0:Et.cordova)||void 0===x?void 0:x.plugins)||void 0===M?void 0:M.browsertab)||void 0===N?void 0:N.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),X("function"==typeof(null===(We=null===(ve=null===(ne=null==Et?void 0:Et.cordova)||void 0===ne?void 0:ne.plugins)||void 0===ve?void 0:ve.browsertab)||void 0===We?void 0:We.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),X("function"==typeof(null===(Rt=null===(ot=null==Et?void 0:Et.cordova)||void 0===ot?void 0:ot.InAppBrowser)||void 0===Rt?void 0:Rt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const ne=yield N._initialize(f);yield ne.initialized(),ne.resetRedirect(),function Bc(){Hs.clear()}(),yield N._originValidation(f);const ve=function Lg(y,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:ch(),postBody:null,tenantId:y.tenantId,error:Me(y,"no-auth-event")}}(f,x,M);yield function Bg(y,f){return jc()._set(zc(y),f)}(f,ve);const We=yield function wo(y,f,m){return gl.apply(this,arguments)}(f,ve,m),ot=yield function lh(y){const{cordova:f}=$s();return new Promise(m=>{f.plugins.browsertab.isAvailable(x=>{let M=null;x?f.plugins.browsertab.openUrl(y):M=f.InAppBrowser.open(y,function Ac(y=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(M)})})}(We);return function kv(y,f,m){return gy.apply(this,arguments)}(f,ne,ot)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function If(y){return ah.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:x,handleOpenURL:M,BuildInfo:N}=$s(),ne=setTimeout((0,c.Z)(function*(){yield Vg(f),m.onEvent(Xl())}),500),ve=function(){var Rt=(0,c.Z)(function*(Et){clearTimeout(ne);const hi=yield Vg(f);let Jr=null;hi&&(null==Et?void 0:Et.url)&&(Jr=function yy(y,f){var m,x;const M=function Ay(y){const f=Rn(y),m=f.link?decodeURIComponent(f.link):void 0,x=Rn(m).link,M=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Rn(M).link||M||x||m||y}(f);if(M.includes("/__/auth/callback")){const N=Rn(M),ne=N.firebaseError?function uh(y){try{return JSON.parse(y)}catch(f){return null}}(decodeURIComponent(N.firebaseError)):null,ve=null===(x=null===(m=null==ne?void 0:ne.code)||void 0===m?void 0:m.split("auth/"))||void 0===x?void 0:x[1],We=ve?Me(ve):null;return We?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:We,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:M,postBody:null}}return null}(hi,Et.url)),m.onEvent(Jr||Xl())});return function(hi){return Rt.apply(this,arguments)}}();void 0!==x&&"function"==typeof x.subscribe&&x.subscribe(null,ve);const We=M,ot=`${N.packageName.toLowerCase()}://`;$s().handleOpenURL=function(){var Rt=(0,c.Z)(function*(Et){if(Et.toLowerCase().startsWith(ot)&&ve({url:Et}),"function"==typeof We)try{We(Et)}catch(hi){console.error(hi)}});return function(Et){return Rt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R,this._completeRedirectFn=kt,this._overrideRedirectResult=Kd}_initialize(f){var m=this;return(0,c.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,x,M){var N=this;return(0,c.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,m,x,M)})()}_openRedirect(f,m,x,M){var N=this;return(0,c.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,m,x,M)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Uu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qg(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const m=yield function by(){return kf.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function wy(y){return y.unwrap()}function Gu(y){return Ff(y)}function Ff(y){const{_tokenResponse:f}=y instanceof B.ZR?y.customData:y;if(!f)return null;if(!(y instanceof B.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return cl.credentialFromResult(y);const m=f.providerId;if(!m||"password"===m)return null;let x;switch(m){case"google.com":x=Ml;break;case"facebook.com":x=No;break;case"github.com":x=bu;break;case"twitter.com":x=co;break;default:const{oauthIdToken:M,oauthAccessToken:N,oauthTokenSecret:ne,pendingToken:ve,nonce:We}=f;return N||ne||M||ve?ve?m.startsWith("saml.")?lo._create(m,ve):hs._fromParams({providerId:m,signInMethod:m,pendingToken:ve,idToken:M,accessToken:N}):new Hr(m).credential({idToken:M,accessToken:N,rawNonce:We}):null}return y instanceof B.ZR?x.credentialFromError(y):x.credentialFromResult(y)}function Yr(y,f){return f.catch(m=>{throw m instanceof B.ZR&&function Ey(y,f){var m,x;const M=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(x=f)||void 0===x?void 0:x.code))f.resolver=new ri(y,function ui(y,f){var m;const x=(0,B.m9)(y),M=f;return X(f.customData.operationType,x,"argument-error"),X(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,x,"argument-error"),Ls._fromError(x,M)}(y,f));else if(M){const N=Ff(f),ne=f;N&&(ne.credential=N,ne.tenantId=M.tenantId||void 0,ne.email=M.email||void 0,ne.phoneNumber=M.phoneNumber||void 0)}}(y,m),m}).then(m=>{const M=m.user;return{operationType:m.operationType,credential:Gu(m),additionalUserInfo:Dr(m),user:Zo.getOrCreate(M)}})}function Pf(y,f){return Kg.apply(this,arguments)}function Kg(){return(Kg=(0,c.Z)(function*(y,f){const m=yield f;return{verificationId:m.verificationId,confirm:x=>Yr(y,m.confirm(x))}})).apply(this,arguments)}class ri{constructor(f,m){this.resolver=m,this.auth=function Rv(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Yr(wy(this.auth),this.resolver.resolveSignIn(f))}}class Zo{constructor(f){this._delegate=f,this.multiFactor=function Vi(y){const f=(0,B.m9)(y);return sl.has(f)||sl.set(f,yo._fromUser(f)),sl.get(f)}(f)}static getOrCreate(f){return Zo.USER_MAP.has(f)||Zo.USER_MAP.set(f,new Zo(f)),Zo.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,c.Z)(function*(){return Yr(m.auth,ii(m._delegate,f))})()}linkWithPhoneNumber(f,m){var x=this;return(0,c.Z)(function*(){return Pf(x.auth,function mf(y,f,m){return Pc.apply(this,arguments)}(x._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,c.Z)(function*(){return Yr(m.auth,function yf(y,f,m){return Nc.apply(this,arguments)}(m._delegate,f,Ta))})()}linkWithRedirect(f){var m=this;return(0,c.Z)(function*(){return yield ph(mt(m.auth)),function se(y,f,m){return function ge(y,f,m){return Le.apply(this,arguments)}(y,f,m)}(m._delegate,f,Ta)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,c.Z)(function*(){return Yr(m.auth,gs(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return Pf(this.auth,function Tr(y,f,m){return Sr.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return Yr(this.auth,function Ou(y,f,m){return Fu.apply(this,arguments)}(this._delegate,f,Ta))}reauthenticateWithRedirect(f){var m=this;return(0,c.Z)(function*(){return yield ph(mt(m.auth)),function T(y,f,m){return function P(y,f,m){return j.apply(this,arguments)}(y,f,m)}(m._delegate,f,Ta)})()}sendEmailVerification(f){return function ga(y,f){return ma.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,c.Z)(function*(){return yield function Ol(y,f){return un.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function wu(y,f){return Ns((0,B.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function rl(y,f){return Ns((0,B.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Ql(y,f){return Kl.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Vl(y,f){return mo.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Bl(y,f,m){return il.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Zo.USER_MAP=new WeakMap;const Pn=X;let Hu=(()=>{class y{constructor(m,x){if(this.app=m,x.isInitialized())return this._delegate=x.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=m.options;Pn(M,"invalid-api-key",{appName:m.name}),Pn(M,"invalid-api-key",{appName:m.name});const N="undefined"!=typeof window?Ta:void 0;this._delegate=x.initialize({options:{persistence:Nn(M,m.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Be),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Zo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,x){!function Yi(y,f,m){const x=mt(y);X(x._canInitEmulator,x,"emulator-config-failed"),X(/^https?:\/\//.test(f),x,"invalid-emulator-scheme");const M=!!(null==m?void 0:m.disableWarnings),N=nr(f),{host:ne,port:ve}=function Dn(y){const f=nr(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!m)return{host:"",port:null};const x=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(x);if(M){const N=M[1];return{host:N,port:Er(x.substr(N.length+1))}}{const[N,ne]=x.split(":");return{host:N,port:Er(ne)}}}(f);x.config.emulator={url:`${N}//${ne}${null===ve?"":`:${ve}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:ne,port:ve,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function gn(){function y(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,x)}applyActionCode(m){return function Fe(y,f){return $t.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return el(this._delegate,m)}confirmPasswordReset(m,x){return function Nl(y,f,m){return fo.apply(this,arguments)}(this._delegate,m,x)}createUserWithEmailAndPassword(m,x){var M=this;return(0,c.Z)(function*(){return Yr(M._delegate,function ar(y,f,m){return ha.apply(this,arguments)}(M._delegate,m,x))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Ps(y,f){return lr.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function fa(y,f){const m=Ya.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,c.Z)(function*(){Pn(ec(),m._delegate,"operation-not-supported-in-this-environment");const x=yield function Xe(y,f){return Ct.apply(this,arguments)}(m._delegate,Ta);return x?Yr(m._delegate,Promise.resolve(x)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Hg(y,f){mt(y)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,x,M){const{next:N,error:ne,complete:ve}=Nf(m,x,M);return this._delegate.onAuthStateChanged(N,ne,ve)}onIdTokenChanged(m,x,M){const{next:N,error:ne,complete:ve}=Nf(m,x,M);return this._delegate.onIdTokenChanged(N,ne,ve)}sendSignInLinkToEmail(m,x){return function Gd(y,f,m){return tl.apply(this,arguments)}(this._delegate,m,x)}sendPasswordResetEmail(m,x){return function Pl(y,f,m){return da.apply(this,arguments)}(this._delegate,m,x||void 0)}setPersistence(m){var x=this;return(0,c.Z)(function*(){let M;switch(function qg(y,f){qc(Object.values(Zr).includes(f),y,"invalid-persistence-type"),(0,B.b$)()?qc(f!==Zr.SESSION,y,"unsupported-persistence-type"):(0,B.UG)()?qc(f===Zr.NONE,y,"unsupported-persistence-type"):ki()?qc(f===Zr.NONE||f===Zr.LOCAL&&(0,B.hl)(),y,"unsupported-persistence-type"):qc(f===Zr.NONE||Mf(),y,"unsupported-persistence-type")}(x._delegate,m),m){case Zr.SESSION:M=R;break;case Zr.LOCAL:M=(yield re(jo)._isAvailable())?jo:E;break;case Zr.NONE:M=nn;break;default:return Ve("argument-error",{appName:x._delegate.name})}return x._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Yr(this._delegate,function Dc(y){return Tc.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Yr(this._delegate,Mn(this._delegate,m))}signInWithCustomToken(m){return Yr(this._delegate,function Vo(y,f){return wt.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,x){return Yr(this._delegate,function Ll(y,f,m){return Mn((0,B.m9)(y),Ic.credential(f,m))}(this._delegate,m,x))}signInWithEmailLink(m,x){return Yr(this._delegate,function nl(y,f,m){return Gn.apply(this,arguments)}(this._delegate,m,x))}signInWithPhoneNumber(m,x){return Pf(this._delegate,function Wl(y,f,m){return xo.apply(this,arguments)}(this._delegate,m,x))}signInWithPopup(m){var x=this;return(0,c.Z)(function*(){return Pn(ec(),x._delegate,"operation-not-supported-in-this-environment"),Yr(x._delegate,function Zl(y,f,m){return Ea.apply(this,arguments)}(x._delegate,m,Ta))})()}signInWithRedirect(m){var x=this;return(0,c.Z)(function*(){return Pn(ec(),x._delegate,"operation-not-supported-in-this-environment"),yield ph(x._delegate),function Vc(y,f,m){return function Mg(y,f,m){return D.apply(this,arguments)}(y,f,m)}(x._delegate,m,Ta)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function po(y,f){return Fs.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Zr,y})();function Nf(y,f,m){let x=y;"function"!=typeof y&&({next:x,error:f,complete:m}=y);const M=x;return{next:ne=>M(ne&&Zo.getOrCreate(ne)),error:f,complete:m}}function Nn(y,f){const m=function gh(y,f){const m=Wg();if(!m)return[];const x=li(Rf,y,f);switch(m.getItem(x)){case Zr.NONE:return[nn];case Zr.LOCAL:return[jo,R];case Zr.SESSION:return[R];default:return[]}}(y,f);if("undefined"!=typeof self&&!m.includes(jo)&&m.push(jo),"undefined"!=typeof window)for(const x of[E,R])m.includes(x)||m.push(x);return m.includes(nn)||m.push(nn),m}class ju{constructor(){this.providerId="phone",this._delegate=new cl(wy(ae.Z.auth()))}static credential(f,m){return cl.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}ju.PHONE_SIGN_IN_METHOD=cl.PHONE_SIGN_IN_METHOD,ju.PROVIDER_ID=cl.PROVIDER_ID;const Ie=X;class Eo{constructor(f,m,x=ae.Z.app()){var M;Ie(null===(M=x.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:x.name}),this._delegate=new Qr(f,m,x.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Or(y){y.INTERNAL.registerComponent(new de.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),x=f.getProvider("auth");return new Hu(m,x)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ic,FacebookAuthProvider:No,GithubAuthProvider:bu,GoogleAuthProvider:Ml,OAuthProvider:Hr,SAMLAuthProvider:Bi,PhoneAuthProvider:ju,PhoneMultiFactorGenerator:oh,RecaptchaVerifier:Eo,TwitterAuthProvider:co,Auth:Hu,AuthCredential:Cn,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.18")}(ae.Z)},9751:(st,Ce,L)=>{"use strict";L.d(Ce,{y:()=>_e});var c=L(930),ae=L(727),B=L(8822),pe=L(9635),fe=L(2416),be=L(576),de=L(2806);let _e=(()=>{class oe{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const Be=new oe;return Be.source=this,Be.operator=Ue,Be}subscribe(Ue,Be,_t){const Se=function J(oe){return oe&&oe instanceof c.Lv||function Q(oe){return oe&&(0,be.m)(oe.next)&&(0,be.m)(oe.error)&&(0,be.m)(oe.complete)}(oe)&&(0,ae.Nn)(oe)}(Ue)?Ue:new c.Hp(Ue,Be,_t);return(0,de.x)(()=>{const{operator:Re,source:lt}=this;Se.add(Re?Re.call(Se,lt):lt?this._subscribe(Se):this._trySubscribe(Se))}),Se}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Be){Ue.error(Be)}}forEach(Ue,Be){return new(Be=xe(Be))((_t,Se)=>{const Re=new c.Hp({next:lt=>{try{Ue(lt)}catch(ht){Se(ht),Re.unsubscribe()}},error:Se,complete:_t});this.subscribe(Re)})}_subscribe(Ue){var Be;return null===(Be=this.source)||void 0===Be?void 0:Be.subscribe(Ue)}[B.L](){return this}pipe(...Ue){return(0,pe.U)(Ue)(this)}toPromise(Ue){return new(Ue=xe(Ue))((Be,_t)=>{let Se;this.subscribe(Re=>Se=Re,Re=>_t(Re),()=>Be(Se))})}}return oe.create=Qe=>new oe(Qe),oe})();function xe(oe){var Qe;return null!==(Qe=null!=oe?oe:fe.v.Promise)&&void 0!==Qe?Qe:Promise}},7579:(st,Ce,L)=>{"use strict";L.d(Ce,{x:()=>de});var c=L(9751),ae=L(727);const pe=(0,L(3888).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=L(8737),be=L(2806);let de=(()=>{class xe extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(J){const oe=new _e(this,this);return oe.operator=J,oe}_throwIfClosed(){if(this.closed)throw new pe}next(J){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const oe of this.currentObservers)oe.next(J)}})}error(J){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=J;const{observers:oe}=this;for(;oe.length;)oe.shift().error(J)}})}complete(){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:J}=this;for(;J.length;)J.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var J;return(null===(J=this.observers)||void 0===J?void 0:J.length)>0}_trySubscribe(J){return this._throwIfClosed(),super._trySubscribe(J)}_subscribe(J){return this._throwIfClosed(),this._checkFinalizedStatuses(J),this._innerSubscribe(J)}_innerSubscribe(J){const{hasError:oe,isStopped:Qe,observers:Ue}=this;return oe||Qe?ae.Lc:(this.currentObservers=null,Ue.push(J),new ae.w0(()=>{this.currentObservers=null,(0,fe.P)(Ue,J)}))}_checkFinalizedStatuses(J){const{hasError:oe,thrownError:Qe,isStopped:Ue}=this;oe?J.error(Qe):Ue&&J.complete()}asObservable(){const J=new c.y;return J.source=this,J}}return xe.create=(Q,J)=>new _e(Q,J),xe})();class _e extends de{constructor(Q,J){super(),this.destination=Q,this.source=J}next(Q){var J,oe;null===(oe=null===(J=this.destination)||void 0===J?void 0:J.next)||void 0===oe||oe.call(J,Q)}error(Q){var J,oe;null===(oe=null===(J=this.destination)||void 0===J?void 0:J.error)||void 0===oe||oe.call(J,Q)}complete(){var Q,J;null===(J=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===J||J.call(Q)}_subscribe(Q){var J,oe;return null!==(oe=null===(J=this.source)||void 0===J?void 0:J.subscribe(Q))&&void 0!==oe?oe:ae.Lc}}},930:(st,Ce,L)=>{"use strict";L.d(Ce,{Hp:()=>_t,Lv:()=>oe});var c=L(576),ae=L(727),B=L(2416),pe=L(7849),fe=L(5032);const be=xe("C",void 0,void 0);function xe(Ve,Me,Oe){return{kind:Ve,value:Me,error:Oe}}var Q=L(3410),J=L(2806);class oe extends ae.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,ae.Nn)(Me)&&Me.add(this)):this.destination=ht}static create(Me,Oe,Ke){return new _t(Me,Oe,Ke)}next(Me){this.isStopped?lt(function _e(Ve){return xe("N",Ve,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?lt(function de(Ve){return xe("E",void 0,Ve)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?lt(be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function Ue(Ve,Me){return Qe.call(Ve,Me)}class Be{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(Me)}catch(Ke){Se(Ke)}}error(Me){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(Me)}catch(Ke){Se(Ke)}else Se(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(Oe){Se(Oe)}}}class _t extends oe{constructor(Me,Oe,Ke){let te;if(super(),(0,c.m)(Me)||!Me)te={next:null!=Me?Me:void 0,error:null!=Oe?Oe:void 0,complete:null!=Ke?Ke:void 0};else{let X;this&&B.v.useDeprecatedNextContext?(X=Object.create(Me),X.unsubscribe=()=>this.unsubscribe(),te={next:Me.next&&Ue(Me.next,X),error:Me.error&&Ue(Me.error,X),complete:Me.complete&&Ue(Me.complete,X)}):te=Me}this.destination=new Be(te)}}function Se(Ve){B.v.useDeprecatedSynchronousErrorHandling?(0,J.O)(Ve):(0,pe.h)(Ve)}function lt(Ve,Me){const{onStoppedNotification:Oe}=B.v;Oe&&Q.z.setTimeout(()=>Oe(Ve,Me))}const ht={closed:!0,next:fe.Z,error:function Re(Ve){throw Ve},complete:fe.Z}},727:(st,Ce,L)=>{"use strict";L.d(Ce,{Lc:()=>be,w0:()=>fe,Nn:()=>de});var c=L(576);const B=(0,L(3888).d)(xe=>function(J){xe(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((oe,Qe)=>`${Qe+1}) ${oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J});var pe=L(8737);class fe{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:J}=this;if(J)if(this._parentage=null,Array.isArray(J))for(const Ue of J)Ue.remove(this);else J.remove(this);const{initialTeardown:oe}=this;if((0,c.m)(oe))try{oe()}catch(Ue){Q=Ue instanceof B?Ue.errors:[Ue]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const Ue of Qe)try{_e(Ue)}catch(Be){Q=null!=Q?Q:[],Be instanceof B?Q=[...Q,...Be.errors]:Q.push(Be)}}if(Q)throw new B(Q)}}add(Q){var J;if(Q&&Q!==this)if(this.closed)_e(Q);else{if(Q instanceof fe){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._finalizers=null!==(J=this._finalizers)&&void 0!==J?J:[]).push(Q)}}_hasParent(Q){const{_parentage:J}=this;return J===Q||Array.isArray(J)&&J.includes(Q)}_addParent(Q){const{_parentage:J}=this;this._parentage=Array.isArray(J)?(J.push(Q),J):J?[J,Q]:Q}_removeParent(Q){const{_parentage:J}=this;J===Q?this._parentage=null:Array.isArray(J)&&(0,pe.P)(J,Q)}remove(Q){const{_finalizers:J}=this;J&&(0,pe.P)(J,Q),Q instanceof fe&&Q._removeParent(this)}}fe.EMPTY=(()=>{const xe=new fe;return xe.closed=!0,xe})();const be=fe.EMPTY;function de(xe){return xe instanceof fe||xe&&"closed"in xe&&(0,c.m)(xe.remove)&&(0,c.m)(xe.add)&&(0,c.m)(xe.unsubscribe)}function _e(xe){(0,c.m)(xe)?xe():xe.unsubscribe()}},2416:(st,Ce,L)=>{"use strict";L.d(Ce,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(st,Ce,L)=>{"use strict";L.d(Ce,{E:()=>ae});const ae=new(L(9751).y)(fe=>fe.complete())},8996:(st,Ce,L)=>{"use strict";L.d(Ce,{D:()=>Me});var c=L(8421),ae=L(5363),B=L(9468),be=L(9751),_e=L(2202),xe=L(576),Q=L(9672);function oe(Oe,Ke){if(!Oe)throw new Error("Iterable cannot be null");return new be.y(te=>{(0,Q.f)(te,Ke,()=>{const X=Oe[Symbol.asyncIterator]();(0,Q.f)(te,Ke,()=>{X.next().then(ye=>{ye.done?te.complete():te.next(ye.value)})},0,!0)})})}var Qe=L(3670),Ue=L(8239),Be=L(1144),_t=L(6495),Se=L(2206),Re=L(4532),lt=L(3260);function Me(Oe,Ke){return Ke?function Ve(Oe,Ke){if(null!=Oe){if((0,Qe.c)(Oe))return function pe(Oe,Ke){return(0,c.Xf)(Oe).pipe((0,B.R)(Ke),(0,ae.Q)(Ke))}(Oe,Ke);if((0,Be.z)(Oe))return function de(Oe,Ke){return new be.y(te=>{let X=0;return Ke.schedule(function(){X===Oe.length?te.complete():(te.next(Oe[X++]),te.closed||this.schedule())})})}(Oe,Ke);if((0,Ue.t)(Oe))return function fe(Oe,Ke){return(0,c.Xf)(Oe).pipe((0,B.R)(Ke),(0,ae.Q)(Ke))}(Oe,Ke);if((0,Se.D)(Oe))return oe(Oe,Ke);if((0,_t.T)(Oe))return function J(Oe,Ke){return new be.y(te=>{let X;return(0,Q.f)(te,Ke,()=>{X=Oe[_e.h](),(0,Q.f)(te,Ke,()=>{let ye,ie;try{({value:ye,done:ie}=X.next())}catch(ue){return void te.error(ue)}ie?te.complete():te.next(ye)},0,!0)}),()=>(0,xe.m)(null==X?void 0:X.return)&&X.return()})}(Oe,Ke);if((0,lt.L)(Oe))return function ht(Oe,Ke){return oe((0,lt.Q)(Oe),Ke)}(Oe,Ke)}throw(0,Re.z)(Oe)}(Oe,Ke):(0,c.Xf)(Oe)}},8421:(st,Ce,L)=>{"use strict";L.d(Ce,{Xf:()=>Qe});var c=L(655),ae=L(1144),B=L(8239),pe=L(9751),fe=L(3670),be=L(2206),de=L(4532),_e=L(6495),xe=L(3260),Q=L(576),J=L(7849),oe=L(8822);function Qe(Ve){if(Ve instanceof pe.y)return Ve;if(null!=Ve){if((0,fe.c)(Ve))return function Ue(Ve){return new pe.y(Me=>{const Oe=Ve[oe.L]();if((0,Q.m)(Oe.subscribe))return Oe.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ve);if((0,ae.z)(Ve))return function Be(Ve){return new pe.y(Me=>{for(let Oe=0;Oe<Ve.length&&!Me.closed;Oe++)Me.next(Ve[Oe]);Me.complete()})}(Ve);if((0,B.t)(Ve))return function _t(Ve){return new pe.y(Me=>{Ve.then(Oe=>{Me.closed||(Me.next(Oe),Me.complete())},Oe=>Me.error(Oe)).then(null,J.h)})}(Ve);if((0,be.D)(Ve))return Re(Ve);if((0,_e.T)(Ve))return function Se(Ve){return new pe.y(Me=>{for(const Oe of Ve)if(Me.next(Oe),Me.closed)return;Me.complete()})}(Ve);if((0,xe.L)(Ve))return function lt(Ve){return Re((0,xe.Q)(Ve))}(Ve)}throw(0,de.z)(Ve)}function Re(Ve){return new pe.y(Me=>{(function ht(Ve,Me){var Oe,Ke,te,X;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Oe=(0,c.KL)(Ve);!(Ke=yield Oe.next()).done;)if(Me.next(Ke.value),Me.closed)return}catch(ye){te={error:ye}}finally{try{Ke&&!Ke.done&&(X=Oe.return)&&(yield X.call(Oe))}finally{if(te)throw te.error}}Me.complete()})})(Ve,Me).catch(Oe=>Me.error(Oe))})}},6451:(st,Ce,L)=>{"use strict";L.d(Ce,{T:()=>be});var c=L(8189),ae=L(8421),B=L(515),pe=L(3269),fe=L(8996);function be(...de){const _e=(0,pe.yG)(de),xe=(0,pe._6)(de,1/0),Q=de;return Q.length?1===Q.length?(0,ae.Xf)(Q[0]):(0,c.J)(xe)((0,fe.D)(Q,_e)):B.E}},5403:(st,Ce,L)=>{"use strict";L.d(Ce,{x:()=>ae});var c=L(930);function ae(pe,fe,be,de,_e){return new B(pe,fe,be,de,_e)}class B extends c.Lv{constructor(fe,be,de,_e,xe,Q){super(fe),this.onFinalize=xe,this.shouldUnsubscribe=Q,this._next=be?function(J){try{be(J)}catch(oe){fe.error(oe)}}:super._next,this._error=_e?function(J){try{_e(J)}catch(oe){fe.error(oe)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(J){fe.error(J)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:be}=this;super.unsubscribe(),!be&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4004:(st,Ce,L)=>{"use strict";L.d(Ce,{U:()=>B});var c=L(4482),ae=L(5403);function B(pe,fe){return(0,c.e)((be,de)=>{let _e=0;be.subscribe((0,ae.x)(de,xe=>{de.next(pe.call(fe,xe,_e++))}))})}},8189:(st,Ce,L)=>{"use strict";L.d(Ce,{J:()=>B});var c=L(5577),ae=L(4671);function B(pe=1/0){return(0,c.z)(ae.y,pe)}},5577:(st,Ce,L)=>{"use strict";L.d(Ce,{z:()=>_e});var c=L(4004),ae=L(8421),B=L(4482),pe=L(9672),fe=L(5403),de=L(576);function _e(xe,Q,J=1/0){return(0,de.m)(Q)?_e((oe,Qe)=>(0,c.U)((Ue,Be)=>Q(oe,Ue,Qe,Be))((0,ae.Xf)(xe(oe,Qe))),J):("number"==typeof Q&&(J=Q),(0,B.e)((oe,Qe)=>function be(xe,Q,J,oe,Qe,Ue,Be,_t){const Se=[];let Re=0,lt=0,ht=!1;const Ve=()=>{ht&&!Se.length&&!Re&&Q.complete()},Me=Ke=>Re<oe?Oe(Ke):Se.push(Ke),Oe=Ke=>{Ue&&Q.next(Ke),Re++;let te=!1;(0,ae.Xf)(J(Ke,lt++)).subscribe((0,fe.x)(Q,X=>{null==Qe||Qe(X),Ue?Me(X):Q.next(X)},()=>{te=!0},void 0,()=>{if(te)try{for(Re--;Se.length&&Re<oe;){const X=Se.shift();Be?(0,pe.f)(Q,Be,()=>Oe(X)):Oe(X)}Ve()}catch(X){Q.error(X)}}))};return xe.subscribe((0,fe.x)(Q,Me,()=>{ht=!0,Ve()})),()=>{null==_t||_t()}}(oe,Qe,xe,J)))}},5363:(st,Ce,L)=>{"use strict";L.d(Ce,{Q:()=>pe});var c=L(9672),ae=L(4482),B=L(5403);function pe(fe,be=0){return(0,ae.e)((de,_e)=>{de.subscribe((0,B.x)(_e,xe=>(0,c.f)(_e,fe,()=>_e.next(xe),be),()=>(0,c.f)(_e,fe,()=>_e.complete(),be),xe=>(0,c.f)(_e,fe,()=>_e.error(xe),be)))})}},3099:(st,Ce,L)=>{"use strict";L.d(Ce,{B:()=>fe});var c=L(8421),ae=L(7579),B=L(930),pe=L(4482);function fe(de={}){const{connector:_e=(()=>new ae.x),resetOnError:xe=!0,resetOnComplete:Q=!0,resetOnRefCountZero:J=!0}=de;return oe=>{let Qe,Ue,Be,_t=0,Se=!1,Re=!1;const lt=()=>{null==Ue||Ue.unsubscribe(),Ue=void 0},ht=()=>{lt(),Qe=Be=void 0,Se=Re=!1},Ve=()=>{const Me=Qe;ht(),null==Me||Me.unsubscribe()};return(0,pe.e)((Me,Oe)=>{_t++,!Re&&!Se&&lt();const Ke=Be=null!=Be?Be:_e();Oe.add(()=>{_t--,0===_t&&!Re&&!Se&&(Ue=be(Ve,J))}),Ke.subscribe(Oe),!Qe&&_t>0&&(Qe=new B.Hp({next:te=>Ke.next(te),error:te=>{Re=!0,lt(),Ue=be(ht,xe,te),Ke.error(te)},complete:()=>{Se=!0,lt(),Ue=be(ht,Q),Ke.complete()}}),(0,c.Xf)(Me).subscribe(Qe))})(oe)}}function be(de,_e,...xe){if(!0===_e)return void de();if(!1===_e)return;const Q=new B.Hp({next:()=>{Q.unsubscribe(),de()}});return _e(...xe).subscribe(Q)}},9468:(st,Ce,L)=>{"use strict";L.d(Ce,{R:()=>ae});var c=L(4482);function ae(B,pe=0){return(0,c.e)((fe,be)=>{be.add(B.schedule(()=>fe.subscribe(be),pe))})}},8505:(st,Ce,L)=>{"use strict";L.d(Ce,{b:()=>fe});var c=L(576),ae=L(4482),B=L(5403),pe=L(4671);function fe(be,de,_e){const xe=(0,c.m)(be)||de||_e?{next:be,error:de,complete:_e}:be;return xe?(0,ae.e)((Q,J)=>{var oe;null===(oe=xe.subscribe)||void 0===oe||oe.call(xe);let Qe=!0;Q.subscribe((0,B.x)(J,Ue=>{var Be;null===(Be=xe.next)||void 0===Be||Be.call(xe,Ue),J.next(Ue)},()=>{var Ue;Qe=!1,null===(Ue=xe.complete)||void 0===Ue||Ue.call(xe),J.complete()},Ue=>{var Be;Qe=!1,null===(Be=xe.error)||void 0===Be||Be.call(xe,Ue),J.error(Ue)},()=>{var Ue,Be;Qe&&(null===(Ue=xe.unsubscribe)||void 0===Ue||Ue.call(xe)),null===(Be=xe.finalize)||void 0===Be||Be.call(xe)}))}):pe.y}},4408:(st,Ce,L)=>{"use strict";L.d(Ce,{o:()=>fe});var c=L(727);class ae extends c.w0{constructor(de,_e){super()}schedule(de,_e=0){return this}}const B={setInterval(be,de,..._e){const{delegate:xe}=B;return(null==xe?void 0:xe.setInterval)?xe.setInterval(be,de,..._e):setInterval(be,de,..._e)},clearInterval(be){const{delegate:de}=B;return((null==de?void 0:de.clearInterval)||clearInterval)(be)},delegate:void 0};var pe=L(8737);class fe extends ae{constructor(de,_e){super(de,_e),this.scheduler=de,this.work=_e,this.pending=!1}schedule(de,_e=0){if(this.closed)return this;this.state=de;const xe=this.id,Q=this.scheduler;return null!=xe&&(this.id=this.recycleAsyncId(Q,xe,_e)),this.pending=!0,this.delay=_e,this.id=this.id||this.requestAsyncId(Q,this.id,_e),this}requestAsyncId(de,_e,xe=0){return B.setInterval(de.flush.bind(de,this),xe)}recycleAsyncId(de,_e,xe=0){if(null!=xe&&this.delay===xe&&!1===this.pending)return _e;B.clearInterval(_e)}execute(de,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(de,_e);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,_e){let Q,xe=!1;try{this.work(de)}catch(J){xe=!0,Q=J||new Error("Scheduled action threw falsy error")}if(xe)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:de,scheduler:_e}=this,{actions:xe}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(xe,this),null!=de&&(this.id=this.recycleAsyncId(_e,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(st,Ce,L)=>{"use strict";L.d(Ce,{v:()=>B});var c=L(6063);class ae{constructor(fe,be=ae.now){this.schedulerActionCtor=fe,this.now=be}schedule(fe,be=0,de){return new this.schedulerActionCtor(this,fe).schedule(de,be)}}ae.now=c.l.now;class B extends ae{constructor(fe,be=ae.now){super(fe,be),this.actions=[],this._active=!1,this._scheduled=void 0}flush(fe){const{actions:be}=this;if(this._active)return void be.push(fe);let de;this._active=!0;do{if(de=fe.execute(fe.state,fe.delay))break}while(fe=be.shift());if(this._active=!1,de){for(;fe=be.shift();)fe.unsubscribe();throw de}}}},4986:(st,Ce,L)=>{"use strict";L.d(Ce,{z:()=>B,P:()=>pe});var c=L(4408);const B=new(L(7565).v)(c.o),pe=B},6063:(st,Ce,L)=>{"use strict";L.d(Ce,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(st,Ce,L)=>{"use strict";L.d(Ce,{z:()=>c});const c={setTimeout(ae,B,...pe){const{delegate:fe}=c;return(null==fe?void 0:fe.setTimeout)?fe.setTimeout(ae,B,...pe):setTimeout(ae,B,...pe)},clearTimeout(ae){const{delegate:B}=c;return((null==B?void 0:B.clearTimeout)||clearTimeout)(ae)},delegate:void 0}},2202:(st,Ce,L)=>{"use strict";L.d(Ce,{h:()=>ae});const ae=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(st,Ce,L)=>{"use strict";L.d(Ce,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(st,Ce,L)=>{"use strict";L.d(Ce,{jO:()=>pe,yG:()=>fe,_6:()=>be});var c=L(576),ae=L(3532);function B(de){return de[de.length-1]}function pe(de){return(0,c.m)(B(de))?de.pop():void 0}function fe(de){return(0,ae.K)(B(de))?de.pop():void 0}function be(de,_e){return"number"==typeof B(de)?de.pop():_e}},8737:(st,Ce,L)=>{"use strict";function c(ae,B){if(ae){const pe=ae.indexOf(B);0<=pe&&ae.splice(pe,1)}}L.d(Ce,{P:()=>c})},3888:(st,Ce,L)=>{"use strict";function c(ae){const pe=ae(fe=>{Error.call(fe),fe.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}L.d(Ce,{d:()=>c})},2806:(st,Ce,L)=>{"use strict";L.d(Ce,{x:()=>B,O:()=>pe});var c=L(2416);let ae=null;function B(fe){if(c.v.useDeprecatedSynchronousErrorHandling){const be=!ae;if(be&&(ae={errorThrown:!1,error:null}),fe(),be){const{errorThrown:de,error:_e}=ae;if(ae=null,de)throw _e}}else fe()}function pe(fe){c.v.useDeprecatedSynchronousErrorHandling&&ae&&(ae.errorThrown=!0,ae.error=fe)}},9672:(st,Ce,L)=>{"use strict";function c(ae,B,pe,fe=0,be=!1){const de=B.schedule(function(){pe(),be?ae.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(ae.add(de),!be)return de}L.d(Ce,{f:()=>c})},4671:(st,Ce,L)=>{"use strict";function c(ae){return ae}L.d(Ce,{y:()=>c})},1144:(st,Ce,L)=>{"use strict";L.d(Ce,{z:()=>c});const c=ae=>ae&&"number"==typeof ae.length&&"function"!=typeof ae},2206:(st,Ce,L)=>{"use strict";L.d(Ce,{D:()=>ae});var c=L(576);function ae(B){return Symbol.asyncIterator&&(0,c.m)(null==B?void 0:B[Symbol.asyncIterator])}},576:(st,Ce,L)=>{"use strict";function c(ae){return"function"==typeof ae}L.d(Ce,{m:()=>c})},3670:(st,Ce,L)=>{"use strict";L.d(Ce,{c:()=>B});var c=L(8822),ae=L(576);function B(pe){return(0,ae.m)(pe[c.L])}},6495:(st,Ce,L)=>{"use strict";L.d(Ce,{T:()=>B});var c=L(2202),ae=L(576);function B(pe){return(0,ae.m)(null==pe?void 0:pe[c.h])}},8239:(st,Ce,L)=>{"use strict";L.d(Ce,{t:()=>ae});var c=L(576);function ae(B){return(0,c.m)(null==B?void 0:B.then)}},3260:(st,Ce,L)=>{"use strict";L.d(Ce,{Q:()=>B,L:()=>pe});var c=L(655),ae=L(576);function B(fe){return(0,c.FC)(this,arguments,function*(){const de=fe.getReader();try{for(;;){const{value:_e,done:xe}=yield(0,c.qq)(de.read());if(xe)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(_e)}}finally{de.releaseLock()}})}function pe(fe){return(0,ae.m)(null==fe?void 0:fe.getReader)}},3532:(st,Ce,L)=>{"use strict";L.d(Ce,{K:()=>ae});var c=L(576);function ae(B){return B&&(0,c.m)(B.schedule)}},4482:(st,Ce,L)=>{"use strict";L.d(Ce,{A:()=>ae,e:()=>B});var c=L(576);function ae(pe){return(0,c.m)(null==pe?void 0:pe.lift)}function B(pe){return fe=>{if(ae(fe))return fe.lift(function(be){try{return pe(be,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(st,Ce,L)=>{"use strict";function c(){}L.d(Ce,{Z:()=>c})},9635:(st,Ce,L)=>{"use strict";L.d(Ce,{z:()=>ae,U:()=>B});var c=L(4671);function ae(...pe){return B(pe)}function B(pe){return 0===pe.length?c.y:1===pe.length?pe[0]:function(be){return pe.reduce((de,_e)=>_e(de),be)}}},7849:(st,Ce,L)=>{"use strict";L.d(Ce,{h:()=>B});var c=L(2416),ae=L(3410);function B(pe){ae.z.setTimeout(()=>{const{onUnhandledError:fe}=c.v;if(!fe)throw pe;fe(pe)})}},4532:(st,Ce,L)=>{"use strict";function c(ae){return new TypeError(`You provided ${null!==ae&&"object"==typeof ae?"an invalid object":`'${ae}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Ce,{z:()=>c})},5226:function(st){st.exports=function(){"use strict";const Ce="SweetAlert2:",c=E=>E.charAt(0).toUpperCase()+E.slice(1),ae=E=>{console.warn("".concat(Ce," ").concat("object"==typeof E?E.join(" "):E))},B=E=>{console.error("".concat(Ce," ").concat(E))},pe=[],be=(E,C)=>{(E=>{pe.includes(E)||(pe.push(E),ae(E))})('"'.concat(E,'" is deprecated and will be removed in the next major release. Please use "').concat(C,'" instead.'))},de=E=>"function"==typeof E?E():E,_e=E=>E&&"function"==typeof E.toPromise,xe=E=>_e(E)?E.toPromise():Promise.resolve(E),Q=E=>E&&Promise.resolve(E)===E,oe={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Qe=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ue={},Be=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],_t=E=>Object.prototype.hasOwnProperty.call(oe,E),Se=E=>-1!==Qe.indexOf(E),Re=E=>Ue[E],lt=E=>{_t(E)||ae('Unknown parameter "'.concat(E,'"'))},ht=E=>{Be.includes(E)&&ae('The parameter "'.concat(E,'" is incompatible with toasts'))},Ve=E=>{Re(E)&&be(E,Re(E))},Ke=E=>{const C={};for(const R in E)C[E[R]]="swal2-"+E[R];return C},te=Ke(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),X=Ke(["success","warning","info","question","error"]),ye=()=>document.body.querySelector(".".concat(te.container)),ie=E=>{const C=ye();return C?C.querySelector(E):null},ue=E=>ie(".".concat(E)),re=()=>ue(te.popup),Ee=()=>ue(te.icon),me=()=>ue(te.title),je=()=>ue(te["html-container"]),pt=()=>ue(te.image),Xt=()=>ue(te["progress-steps"]),jt=()=>ue(te["validation-message"]),Ze=()=>ie(".".concat(te.actions," .").concat(te.confirm)),Qt=()=>ie(".".concat(te.actions," .").concat(te.deny)),rn=()=>ie(".".concat(te.loader)),Kt=()=>ie(".".concat(te.actions," .").concat(te.cancel)),Yn=()=>ue(te.actions),tn=()=>ue(te.footer),Ht=()=>ue(te["timer-progress-bar"]),xr=()=>ue(te.close),ai=()=>{const E=Array.from(re().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((R,G)=>{const Ae=parseInt(R.getAttribute("tabindex")),Ne=parseInt(G.getAttribute("tabindex"));return Ae>Ne?1:Ae<Ne?-1:0}),C=Array.from(re().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(R=>"-1"!==R.getAttribute("tabindex"));return(E=>{const C=[];for(let R=0;R<E.length;R++)-1===C.indexOf(E[R])&&C.push(E[R]);return C})(E.concat(C)).filter(R=>En(R))},Ci=()=>ft(document.body,te.shown)&&!ft(document.body,te["toast-shown"])&&!ft(document.body,te["no-backdrop"]),Qi=()=>re()&&ft(re(),te.toast),Jn={previousBodyPadding:null},In=(E,C)=>{if(E.textContent="",C){const G=(new DOMParser).parseFromString(C,"text/html");Array.from(G.querySelector("head").childNodes).forEach(Ae=>{E.appendChild(Ae)}),Array.from(G.querySelector("body").childNodes).forEach(Ae=>{E.appendChild(Ae)})}},ft=(E,C)=>{if(!C)return!1;const R=C.split(/\s+/);for(let G=0;G<R.length;G++)if(!E.classList.contains(R[G]))return!1;return!0},sn=(E,C,R)=>{if(((E,C)=>{Array.from(E.classList).forEach(R=>{!Object.values(te).includes(R)&&!Object.values(X).includes(R)&&!Object.values(C.showClass).includes(R)&&E.classList.remove(R)})})(E,C),C.customClass&&C.customClass[R]){if("string"!=typeof C.customClass[R]&&!C.customClass[R].forEach)return ae("Invalid type of customClass.".concat(R,'! Expected string or iterable object, got "').concat(typeof C.customClass[R],'"'));bt(E,C.customClass[R])}},Vn=(E,C)=>{if(!C)return null;switch(C){case"select":case"textarea":case"file":return E.querySelector(".".concat(te.popup," > .").concat(te[C]));case"checkbox":return E.querySelector(".".concat(te.popup," > .").concat(te.checkbox," input"));case"radio":return E.querySelector(".".concat(te.popup," > .").concat(te.radio," input:checked"))||E.querySelector(".".concat(te.popup," > .").concat(te.radio," input:first-child"));case"range":return E.querySelector(".".concat(te.popup," > .").concat(te.range," input"));default:return E.querySelector(".".concat(te.popup," > .").concat(te.input))}},br=E=>{if(E.focus(),"file"!==E.type){const C=E.value;E.value="",E.value=C}},Vr=(E,C,R)=>{!E||!C||("string"==typeof C&&(C=C.split(/\s+/).filter(Boolean)),C.forEach(G=>{Array.isArray(E)?E.forEach(Ae=>{R?Ae.classList.add(G):Ae.classList.remove(G)}):R?E.classList.add(G):E.classList.remove(G)}))},bt=(E,C)=>{Vr(E,C,!0)},cn=(E,C)=>{Vr(E,C,!1)},Xn=(E,C)=>{const R=Array.from(E.children);for(let G=0;G<R.length;G++){const Ae=R[G];if(Ae instanceof HTMLElement&&ft(Ae,C))return Ae}},wr=(E,C,R)=>{R==="".concat(parseInt(R))&&(R=parseInt(R)),R||0===parseInt(R)?E.style[C]="number"==typeof R?"".concat(R,"px"):R:E.style.removeProperty(C)},St=function(E){E.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},nt=E=>{E.style.display="none"},Mt=(E,C,R,G)=>{const Ae=E.querySelector(C);Ae&&(Ae.style[R]=G)},ei=function(E,C){C?St(E,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):nt(E)},En=E=>!(!E||!(E.offsetWidth||E.offsetHeight||E.getClientRects().length)),as=E=>E.scrollHeight>E.clientHeight,_i=E=>{const C=window.getComputedStyle(E),R=parseFloat(C.getPropertyValue("animation-duration")||"0"),G=parseFloat(C.getPropertyValue("transition-duration")||"0");return R>0||G>0},yi=function(E){let C=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const R=Ht();En(R)&&(C&&(R.style.transition="none",R.style.width="100%"),setTimeout(()=>{R.style.transition="width ".concat(E/1e3,"s linear"),R.style.width="0%"},10))},ls=()=>"undefined"==typeof window||"undefined"==typeof document,z={},K=E=>new Promise(C=>{if(!E)return C();const R=window.scrollX,G=window.scrollY;z.restoreFocusTimeout=setTimeout(()=>{z.previousActiveElement instanceof HTMLElement?(z.previousActiveElement.focus(),z.previousActiveElement=null):document.body&&document.body.focus(),C()},100),window.scrollTo(R,G)}),ee='\n <div aria-labelledby="'.concat(te.title,'" aria-describedby="').concat(te["html-container"],'" class="').concat(te.popup,'" tabindex="-1">\n   <button type="button" class="').concat(te.close,'"></button>\n   <ul class="').concat(te["progress-steps"],'"></ul>\n   <div class="').concat(te.icon,'"></div>\n   <img class="').concat(te.image,'" />\n   <h2 class="').concat(te.title,'" id="').concat(te.title,'"></h2>\n   <div class="').concat(te["html-container"],'" id="').concat(te["html-container"],'"></div>\n   <input class="').concat(te.input,'" />\n   <input type="file" class="').concat(te.file,'" />\n   <div class="').concat(te.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(te.select,'"></select>\n   <div class="').concat(te.radio,'"></div>\n   <label for="').concat(te.checkbox,'" class="').concat(te.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(te.label,'"></span>\n   </label>\n   <textarea class="').concat(te.textarea,'"></textarea>\n   <div class="').concat(te["validation-message"],'" id="').concat(te["validation-message"],'"></div>\n   <div class="').concat(te.actions,'">\n     <div class="').concat(te.loader,'"></div>\n     <button type="button" class="').concat(te.confirm,'"></button>\n     <button type="button" class="').concat(te.deny,'"></button>\n     <button type="button" class="').concat(te.cancel,'"></button>\n   </div>\n   <div class="').concat(te.footer,'"></div>\n   <div class="').concat(te["timer-progress-bar-container"],'">\n     <div class="').concat(te["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),$e=()=>{z.currentInstance.resetValidationMessage()},zt=E=>{const C=(()=>{const E=ye();return!!E&&(E.remove(),cn([document.documentElement,document.body],[te["no-backdrop"],te["toast-shown"],te["has-column"]]),!0)})();if(ls())return void B("SweetAlert2 requires document to initialize");const R=document.createElement("div");R.className=te.container,C&&bt(R,te["no-transition"]),In(R,ee);const G=(E=>"string"==typeof E?document.querySelector(E):E)(E.target);G.appendChild(R),(E=>{const C=re();C.setAttribute("role",E.toast?"alert":"dialog"),C.setAttribute("aria-live",E.toast?"polite":"assertive"),E.toast||C.setAttribute("aria-modal","true")})(E),(E=>{"rtl"===window.getComputedStyle(E).direction&&bt(ye(),te.rtl)})(G),(()=>{const E=re(),C=Xn(E,te.input),R=Xn(E,te.file),G=E.querySelector(".".concat(te.range," input")),Ae=E.querySelector(".".concat(te.range," output")),Ne=Xn(E,te.select),vn=E.querySelector(".".concat(te.checkbox," input")),en=Xn(E,te.textarea);C.oninput=$e,R.onchange=$e,Ne.onchange=$e,vn.onchange=$e,en.oninput=$e,G.oninput=()=>{$e(),Ae.value=G.value},G.onchange=()=>{$e(),Ae.value=G.value}})()},Ii=(E,C)=>{E instanceof HTMLElement?C.appendChild(E):"object"==typeof E?Ur(E,C):E&&In(C,E)},Ur=(E,C)=>{E.jquery?ko(C,E):In(C,E.toString())},ko=(E,C)=>{if(E.textContent="",0 in C)for(let R=0;R in C;R++)E.appendChild(C[R].cloneNode(!0));else E.appendChild(C.cloneNode(!0))},cs=(()=>{if(ls())return!1;const E=document.createElement("div"),C={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const R in C)if(Object.prototype.hasOwnProperty.call(C,R)&&void 0!==E.style[R])return C[R];return!1})(),Ni=(E,C)=>{const R=Yn(),G=rn();C.showConfirmButton||C.showDenyButton||C.showCancelButton?St(R):nt(R),sn(R,C,"actions"),function us(E,C,R){const G=Ze(),Ae=Qt(),Ne=Kt();Di(G,"confirm",R),Di(Ae,"deny",R),Di(Ne,"cancel",R),function ni(E,C,R,G){if(!G.buttonsStyling)return cn([E,C,R],te.styled);bt([E,C,R],te.styled),G.confirmButtonColor&&(E.style.backgroundColor=G.confirmButtonColor,bt(E,te["default-outline"])),G.denyButtonColor&&(C.style.backgroundColor=G.denyButtonColor,bt(C,te["default-outline"])),G.cancelButtonColor&&(R.style.backgroundColor=G.cancelButtonColor,bt(R,te["default-outline"]))}(G,Ae,Ne,R),R.reverseButtons&&(R.toast?(E.insertBefore(Ne,G),E.insertBefore(Ae,G)):(E.insertBefore(Ne,C),E.insertBefore(Ae,C),E.insertBefore(G,C)))}(R,G,C),In(G,C.loaderHtml),sn(G,C,"loader")};function Di(E,C,R){ei(E,R["show".concat(c(C),"Button")],"inline-block"),In(E,R["".concat(C,"ButtonText")]),E.setAttribute("aria-label",R["".concat(C,"ButtonAriaLabel")]),E.className=te[C],sn(E,R,"".concat(C,"Button")),bt(E,R["".concat(C,"ButtonClass")])}const Ac=(E,C)=>{const R=ye();!R||(function so(E,C){"string"==typeof C?E.style.background=C:C||bt([document.documentElement,document.body],te["no-backdrop"])}(R,C.backdrop),function ra(E,C){C in te?bt(E,te[C]):(ae('The "position" parameter is not valid, defaulting to "center"'),bt(E,te.center))}(R,C.position),function Ds(E,C){if(C&&"string"==typeof C){const R="grow-".concat(C);R in te&&bt(E,te[R])}}(R,C.grow),sn(R,C,"container"))};var At={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Ro=["input","file","range","select","radio","checkbox","textarea"],tt=E=>{if(!Cn[E.input])return B('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(E.input,'"'));const C=Er(E.input),R=Cn[E.input](C,E);St(C),setTimeout(()=>{br(R)})},pn=(E,C)=>{const R=Vn(re(),E);if(R){(E=>{for(let C=0;C<E.attributes.length;C++){const R=E.attributes[C].name;["type","value","style"].includes(R)||E.removeAttribute(R)}})(R);for(const G in C)R.setAttribute(G,C[G])}},Yi=E=>{const C=Er(E.input);"object"==typeof E.customClass&&bt(C,E.customClass.input)},nr=(E,C)=>{(!E.placeholder||C.inputPlaceholder)&&(E.placeholder=C.inputPlaceholder)},Dn=(E,C,R)=>{if(R.inputLabel){E.id=te.input;const G=document.createElement("label"),Ae=te["input-label"];G.setAttribute("for",E.id),G.className=Ae,"object"==typeof R.customClass&&bt(G,R.customClass.inputLabel),G.innerText=R.inputLabel,C.insertAdjacentElement("beforebegin",G)}},Er=E=>Xn(re(),te[E]||te.input),gn=(E,C)=>{["string","number"].includes(typeof C)?E.value="".concat(C):Q(C)||ae('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof C,'"'))},Cn={};Cn.text=Cn.email=Cn.password=Cn.number=Cn.tel=Cn.url=(E,C)=>(gn(E,C.inputValue),Dn(E,E,C),nr(E,C),E.type=C.input,E),Cn.file=(E,C)=>(Dn(E,E,C),nr(E,C),E),Cn.range=(E,C)=>{const R=E.querySelector("input"),G=E.querySelector("output");return gn(R,C.inputValue),R.type=C.input,gn(G,C.inputValue),Dn(R,E,C),E},Cn.select=(E,C)=>{if(E.textContent="",C.inputPlaceholder){const R=document.createElement("option");In(R,C.inputPlaceholder),R.value="",R.disabled=!0,R.selected=!0,E.appendChild(R)}return Dn(E,E,C),E},Cn.radio=E=>(E.textContent="",E),Cn.checkbox=(E,C)=>{const R=Vn(re(),"checkbox");R.value="1",R.id=te.checkbox,R.checked=Boolean(C.inputValue);const G=E.querySelector("span");return In(G,C.inputPlaceholder),R},Cn.textarea=(E,C)=>{gn(E,C.inputValue),nr(E,C),Dn(E,E,C);return setTimeout(()=>{if("MutationObserver"in window){const G=parseInt(window.getComputedStyle(re()).width);new MutationObserver(()=>{const Ne=E.offsetWidth+(G=>parseInt(window.getComputedStyle(G).marginLeft)+parseInt(window.getComputedStyle(G).marginRight))(E);re().style.width=Ne>G?"".concat(Ne,"px"):null}).observe(E,{attributes:!0,attributeFilter:["style"]})}}),E};const Un=(E,C)=>{const R=je();sn(R,C,"htmlContainer"),C.html?(Ii(C.html,R),St(R,"block")):C.text?(R.textContent=C.text,St(R,"block")):nt(R),((E,C)=>{const R=re(),G=At.innerParams.get(E),Ae=!G||C.input!==G.input;Ro.forEach(Ne=>{const vn=Xn(R,te[Ne]);pn(Ne,C.inputAttributes),vn.className=te[Ne],Ae&&nt(vn)}),C.input&&(Ae&&tt(C),Yi(C))})(E,C)},sa=(E,C)=>{for(const R in X)C.icon!==R&&cn(E,X[R]);bt(E,X[C.icon]),An(E,C),Ts(),sn(E,C,"icon")},Ts=()=>{const E=re(),C=window.getComputedStyle(E).getPropertyValue("background-color"),R=E.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let G=0;G<R.length;G++)R[G].style.backgroundColor=C},ds=(E,C)=>{let G,R=E.innerHTML;C.iconHtml?G=mn(C.iconHtml):"success"===C.icon?(G='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',R=R.replace(/ style=".*?"/g,"")):G="error"===C.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':mn({question:"?",warning:"!",info:"i"}[C.icon]),R.trim()!==G.trim()&&In(E,G)},An=(E,C)=>{if(C.iconColor){E.style.color=C.iconColor,E.style.borderColor=C.iconColor;for(const R of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Mt(E,R,"backgroundColor",C.iconColor);Mt(E,".swal2-success-ring","borderColor",C.iconColor)}},mn=E=>'<div class="'.concat(te["icon-content"],'">').concat(E,"</div>"),Ti=E=>{const C=document.createElement("li");return bt(C,te["progress-step"]),In(C,E),C},rr=E=>{const C=document.createElement("li");return bt(C,te["progress-step-line"]),E.progressStepsDistance&&wr(C,"width",E.progressStepsDistance),C},Gr=(E,C)=>{E.className="".concat(te.popup," ").concat(En(E)?C.showClass.popup:""),C.toast?(bt([document.documentElement,document.body],te["toast-shown"]),bt(E,te.toast)):bt(E,te.modal),sn(E,C,"popup"),"string"==typeof C.customClass&&bt(E,C.customClass),C.icon&&bt(E,te["icon-".concat(C.icon)])},Cr=(E,C)=>{((E,C)=>{const R=ye(),G=re();C.toast?(wr(R,"width",C.width),G.style.width="100%",G.insertBefore(rn(),Ee())):wr(G,"width",C.width),wr(G,"padding",C.padding),C.color&&(G.style.color=C.color),C.background&&(G.style.background=C.background),nt(jt()),Gr(G,C)})(0,C),Ac(0,C),((E,C)=>{const R=Xt();if(!C.progressSteps||0===C.progressSteps.length)return nt(R);St(R),R.textContent="",C.currentProgressStep>=C.progressSteps.length&&ae("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),C.progressSteps.forEach((G,Ae)=>{const Ne=Ti(G);if(R.appendChild(Ne),Ae===C.currentProgressStep&&bt(Ne,te["active-progress-step"]),Ae!==C.progressSteps.length-1){const vn=rr(C);R.appendChild(vn)}})})(0,C),((E,C)=>{const R=At.innerParams.get(E),G=Ee();R&&C.icon===R.icon?(ds(G,C),sa(G,C)):C.icon||C.iconHtml?C.icon&&-1===Object.keys(X).indexOf(C.icon)?(B('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(C.icon,'"')),nt(G)):(St(G),ds(G,C),sa(G,C),bt(G,C.showClass.icon)):nt(G)})(E,C),((E,C)=>{const R=pt();if(!C.imageUrl)return nt(R);St(R,""),R.setAttribute("src",C.imageUrl),R.setAttribute("alt",C.imageAlt),wr(R,"width",C.imageWidth),wr(R,"height",C.imageHeight),R.className=te.image,sn(R,C,"image")})(0,C),((E,C)=>{const R=me();ei(R,C.title||C.titleText,"block"),C.title&&Ii(C.title,R),C.titleText&&(R.innerText=C.titleText),sn(R,C,"title")})(0,C),((E,C)=>{const R=xr();In(R,C.closeButtonHtml),sn(R,C,"closeButton"),ei(R,C.showCloseButton),R.setAttribute("aria-label",C.closeButtonAriaLabel)})(0,C),Un(E,C),Ni(0,C),((E,C)=>{const R=tn();ei(R,C.footer),C.footer&&Ii(C.footer,R),sn(R,C,"footer")})(0,C),"function"==typeof C.didRender&&C.didRender(re())},Li=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Dl=()=>{Array.from(document.body.children).forEach(C=>{C.hasAttribute("data-previous-aria-hidden")?(C.setAttribute("aria-hidden",C.getAttribute("data-previous-aria-hidden")),C.removeAttribute("data-previous-aria-hidden")):C.removeAttribute("aria-hidden")})},Ai=["swal-title","swal-html","swal-footer"],bc=E=>{const C={};return Array.from(E.querySelectorAll("swal-param")).forEach(G=>{Fo(G,["name","value"]);const Ae=G.getAttribute("name"),Ne=G.getAttribute("value");"boolean"==typeof oe[Ae]&&"false"===Ne&&(C[Ae]=!1),"object"==typeof oe[Ae]&&(C[Ae]=JSON.parse(Ne))}),C},Bd=E=>{const C={};return Array.from(E.querySelectorAll("swal-button")).forEach(G=>{Fo(G,["type","color","aria-label"]);const Ae=G.getAttribute("type");C["".concat(Ae,"ButtonText")]=G.innerHTML,C["show".concat(c(Ae),"Button")]=!0,G.hasAttribute("color")&&(C["".concat(Ae,"ButtonColor")]=G.getAttribute("color")),G.hasAttribute("aria-label")&&(C["".concat(Ae,"ButtonAriaLabel")]=G.getAttribute("aria-label"))}),C},hs=E=>{const C={},R=E.querySelector("swal-image");return R&&(Fo(R,["src","width","height","alt"]),R.hasAttribute("src")&&(C.imageUrl=R.getAttribute("src")),R.hasAttribute("width")&&(C.imageWidth=R.getAttribute("width")),R.hasAttribute("height")&&(C.imageHeight=R.getAttribute("height")),R.hasAttribute("alt")&&(C.imageAlt=R.getAttribute("alt"))),C},Za=E=>{const C={},R=E.querySelector("swal-icon");return R&&(Fo(R,["type","color"]),R.hasAttribute("type")&&(C.icon=R.getAttribute("type")),R.hasAttribute("color")&&(C.iconColor=R.getAttribute("color")),C.iconHtml=R.innerHTML),C},wc=E=>{const C={},R=E.querySelector("swal-input");R&&(Fo(R,["type","label","placeholder","value"]),C.input=R.getAttribute("type")||"text",R.hasAttribute("label")&&(C.inputLabel=R.getAttribute("label")),R.hasAttribute("placeholder")&&(C.inputPlaceholder=R.getAttribute("placeholder")),R.hasAttribute("value")&&(C.inputValue=R.getAttribute("value")));const G=Array.from(E.querySelectorAll("swal-input-option"));return G.length&&(C.inputOptions={},G.forEach(Ae=>{Fo(Ae,["value"]);const Ne=Ae.getAttribute("value");C.inputOptions[Ne]=Ae.innerHTML})),C},Tl=(E,C)=>{const R={};for(const G in C){const Ae=C[G],Ne=E.querySelector(Ae);Ne&&(Fo(Ne,[]),R[Ae.replace(/^swal-/,"")]=Ne.innerHTML.trim())}return R},Ms=E=>{const C=Ai.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(E.children).forEach(R=>{const G=R.tagName.toLowerCase();-1===C.indexOf(G)&&ae("Unrecognized element <".concat(G,">"))})},Fo=(E,C)=>{Array.from(E.attributes).forEach(R=>{-1===C.indexOf(R.name)&&ae(['Unrecognized attribute "'.concat(R.name,'" on <').concat(E.tagName.toLowerCase(),">."),"".concat(C.length?"Allowed attributes are: ".concat(C.join(", ")):"To set the value, use HTML within the element.")])})};var Sl={email:(E,C)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(E)?Promise.resolve():Promise.resolve(C||"Invalid email address"),url:(E,C)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(E)?Promise.resolve():Promise.resolve(C||"Invalid URL")};function Ec(E){(function Vd(E){E.inputValidator||Object.keys(Sl).forEach(C=>{E.input===C&&(E.inputValidator=Sl[C])})})(E),E.showLoaderOnConfirm&&!E.preConfirm&&ae("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Ud(E){(!E.target||"string"==typeof E.target&&!document.querySelector(E.target)||"string"!=typeof E.target&&!E.target.appendChild)&&(ae('Target parameter is not valid, defaulting to "body"'),E.target="body")}(E),"string"==typeof E.title&&(E.title=E.title.split("\n").join("<br />")),zt(E)}class Po{constructor(C,R){this.callback=C,this.remaining=R,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(C){const R=this.running;return R&&this.stop(),this.remaining+=C,R&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const xu=()=>{null===Jn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Jn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Jn.previousBodyPadding+(()=>{const E=document.createElement("div");E.className=te["scrollbar-measure"],document.body.appendChild(E);const C=E.getBoundingClientRect().width-E.clientWidth;return document.body.removeChild(E),C})(),"px"))},Cc=()=>{const E=navigator.userAgent,C=!!E.match(/iPad/i)||!!E.match(/iPhone/i),R=!!E.match(/WebKit/i);C&&R&&!E.match(/CriOS/i)&&re().scrollHeight>window.innerHeight-44&&(ye().style.paddingBottom="".concat(44,"px"))},Ic=()=>{const E=ye();let C;E.ontouchstart=R=>{C=Si(R)},E.ontouchmove=R=>{C&&(R.preventDefault(),R.stopPropagation())}},Si=E=>{const C=E.target,R=ye();return!(ks(E)||Hr(E)||C!==R&&(as(R)||"INPUT"===C.tagName||"TEXTAREA"===C.tagName||as(je())&&je().contains(C)))},ks=E=>E.touches&&E.touches.length&&"stylus"===E.touches[0].touchType,Hr=E=>E.touches&&E.touches.length>1,bu=E=>{const C=ye(),R=re();"function"==typeof E.willOpen&&E.willOpen(R);const Ae=window.getComputedStyle(document.body).overflowY;Bi(C,R,E),setTimeout(()=>{lo(C,R)},10),Ci()&&(Lo(C,E.scrollbarPadding,Ae),Array.from(document.body.children).forEach(C=>{C===ye()||C.contains(ye())||(C.hasAttribute("aria-hidden")&&C.setAttribute("data-previous-aria-hidden",C.getAttribute("aria-hidden")),C.setAttribute("aria-hidden","true"))})),!Qi()&&!z.previousActiveElement&&(z.previousActiveElement=document.activeElement),"function"==typeof E.didOpen&&setTimeout(()=>E.didOpen(R)),cn(C,te["no-transition"])},ao=E=>{const C=re();if(E.target!==C)return;const R=ye();C.removeEventListener(cs,ao),R.style.overflowY="auto"},lo=(E,C)=>{cs&&_i(C)?(E.style.overflowY="hidden",C.addEventListener(cs,ao)):E.style.overflowY="auto"},Lo=(E,C,R)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!ft(document.body,te.iosfix)){const C=document.body.scrollTop;document.body.style.top="".concat(-1*C,"px"),bt(document.body,te.iosfix),Ic(),Cc()}})(),C&&"hidden"!==R&&xu(),setTimeout(()=>{E.scrollTop=0})},Bi=(E,C,R)=>{bt(E,R.showClass.backdrop),C.style.setProperty("opacity","0","important"),St(C,"grid"),setTimeout(()=>{bt(C,R.showClass.popup),C.style.removeProperty("opacity")},10),bt([document.documentElement,document.body],te.shown),R.heightAuto&&R.backdrop&&!R.toast&&bt([document.documentElement,document.body],te["height-auto"])},co=E=>{let C=re();C||new $n,C=re();const R=rn();Qi()?nt(Ee()):Sn(C,E),St(R),C.setAttribute("data-loading","true"),C.setAttribute("aria-busy","true"),C.focus()},Sn=(E,C)=>{const R=Yn(),G=rn();!C&&En(Ze())&&(C=Ze()),St(R),C&&(nt(C),G.setAttribute("data-button-to-replace",C.className)),G.parentNode.insertBefore(G,C),bt([E,R],te.loading)},kl=E=>E.checked?1:0,Dc=E=>E.checked?E.value:null,Tc=E=>E.files.length?null!==E.getAttribute("multiple")?E.files:E.files[0]:null,ca=(E,C)=>{const R=re(),G=Ae=>jr[C.input](R,Ol(Ae),C);_e(C.inputOptions)||Q(C.inputOptions)?(co(Ze()),xe(C.inputOptions).then(Ae=>{E.hideLoading(),G(Ae)})):"object"==typeof C.inputOptions?G(C.inputOptions):B("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof C.inputOptions))},Rl=(E,C)=>{const R=E.getInput();nt(R),xe(C.inputValue).then(G=>{R.value="number"===C.input?parseFloat(G)||0:"".concat(G),St(R),R.focus(),E.hideLoading()}).catch(G=>{B("Error in inputValue promise: ".concat(G)),R.value="",St(R),R.focus(),E.hideLoading()})},jr={select:(E,C,R)=>{const G=Xn(E,te.select),Ae=(Ne,vn,en)=>{const qn=document.createElement("option");qn.value=en,In(qn,vn),qn.selected=un(en,R.inputValue),Ne.appendChild(qn)};C.forEach(Ne=>{const vn=Ne[0],en=Ne[1];if(Array.isArray(en)){const qn=document.createElement("optgroup");qn.label=vn,qn.disabled=!1,G.appendChild(qn),en.forEach(cr=>Ae(qn,cr[1],cr[0]))}else Ae(G,en,vn)}),G.focus()},radio:(E,C,R)=>{const G=Xn(E,te.radio);C.forEach(Ne=>{const vn=Ne[0],en=Ne[1],qn=document.createElement("input"),cr=document.createElement("label");qn.type="radio",qn.name=te.radio,qn.value=vn,un(vn,R.inputValue)&&(qn.checked=!0);const Hl=document.createElement("span");In(Hl,en),Hl.className=te.label,cr.appendChild(qn),cr.appendChild(Hl),G.appendChild(cr)});const Ae=G.querySelectorAll("input");Ae.length&&Ae[0].focus()}},Ol=E=>{const C=[];return"undefined"!=typeof Map&&E instanceof Map?E.forEach((R,G)=>{let Ae=R;"object"==typeof Ae&&(Ae=Ol(Ae)),C.push([G,Ae])}):Object.keys(E).forEach(R=>{let G=E[R];"object"==typeof G&&(G=Ol(G)),C.push([R,G])}),C},un=(E,C)=>C&&C.toString()===E.toString();function Bo(){const E=At.innerParams.get(this);if(!E)return;const C=At.domCache.get(this);nt(C.loader),Qi()?E.icon&&St(Ee()):uo(C),cn([C.popup,C.actions],te.loading),C.popup.removeAttribute("aria-busy"),C.popup.removeAttribute("data-loading"),C.confirmButton.disabled=!1,C.denyButton.disabled=!1,C.cancelButton.disabled=!1}const uo=E=>{const C=E.popup.getElementsByClassName(E.loader.getAttribute("data-button-to-replace"));C.length?St(C[0],"inline-block"):!En(Ze())&&!En(Qt())&&!En(Kt())&&nt(E.actions)};var fs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ps=()=>Ze()&&Ze().click(),Mn=E=>{E.keydownTarget&&E.keydownHandlerAdded&&(E.keydownTarget.removeEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!1)},ii=(E,C,R)=>{const G=ai();if(G.length)return(C+=R)===G.length?C=0:-1===C&&(C=G.length-1),G[C].focus();re().focus()},Rs=["ArrowRight","ArrowDown"],gs=["ArrowLeft","ArrowUp"],ua=(E,C,R)=>{const G=At.innerParams.get(E);!G||C.isComposing||229===C.keyCode||(G.stopKeydownPropagation&&C.stopPropagation(),"Enter"===C.key?Ir(E,C,G):"Tab"===C.key?$r(C,G):[...Rs,...gs].includes(C.key)?Vo(C.key):"Escape"===C.key&&wt(C,G,R))},Ir=(E,C,R)=>{if(de(R.allowEnterKey)&&C.target&&E.getInput()&&C.target instanceof HTMLElement&&C.target.outerHTML===E.getInput().outerHTML){if(["textarea","file"].includes(R.input))return;ps(),C.preventDefault()}},$r=(E,C)=>{const R=E.target,G=ai();let Ae=-1;for(let Ne=0;Ne<G.length;Ne++)if(R===G[Ne]){Ae=Ne;break}ii(0,Ae,E.shiftKey?-1:1),E.stopPropagation(),E.preventDefault()},Vo=E=>{const C=Ze(),R=Qt(),G=Kt();if(document.activeElement instanceof HTMLElement&&![C,R,G].includes(document.activeElement))return;const Ae=Rs.includes(E)?"nextElementSibling":"previousElementSibling";let Ne=document.activeElement;for(let vn=0;vn<Yn().children.length;vn++){if(Ne=Ne[Ae],!Ne)return;if(Ne instanceof HTMLButtonElement&&En(Ne))break}Ne instanceof HTMLButtonElement&&Ne.focus()},wt=(E,C,R)=>{de(C.allowEscapeKey)&&(E.preventDefault(),R(Li.esc))};function ho(E,C,R,G){Qi()?bn(E,G):(K(R).then(()=>bn(E,G)),Mn(z)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(C.setAttribute("style","display:none !important"),C.removeAttribute("class"),C.innerHTML=""):C.remove(),Ci()&&(null!==Jn.previousBodyPadding&&(document.body.style.paddingRight="".concat(Jn.previousBodyPadding,"px"),Jn.previousBodyPadding=null),(()=>{if(ft(document.body,te.iosfix)){const E=parseInt(document.body.style.top,10);cn(document.body,te.iosfix),document.body.style.top="",document.body.scrollTop=-1*E}})(),Dl()),function Xa(){cn([document.documentElement,document.body],[te.shown,te["height-auto"],te["no-backdrop"],te["toast-shown"]])}()}function Os(E){E=Fe(E);const C=fs.swalPromiseResolve.get(this),R=da(this);this.isAwaitingPromise()?E.isDismissed||(fo(this),C(E)):R&&C(E)}const da=E=>{const C=re();if(!C)return!1;const R=At.innerParams.get(E);if(!R||ft(C,R.hideClass.popup))return!1;cn(C,R.showClass.popup),bt(C,R.hideClass.popup);const G=ye();return cn(G,R.showClass.backdrop),bt(G,R.hideClass.backdrop),$t(E,C,R),!0};const fo=E=>{E.isAwaitingPromise()&&(At.awaitingPromise.delete(E),At.innerParams.get(E)||E._destroy())},Fe=E=>void 0===E?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},E),$t=(E,C,R)=>{const G=ye(),Ae=cs&&_i(C);"function"==typeof R.willClose&&R.willClose(C),Ae?el(E,C,G,R.returnFocus,R.didClose):ho(E,G,R.returnFocus,R.didClose)},el=(E,C,R,G,Ae)=>{z.swalCloseEventFinishedCallback=ho.bind(null,E,R,G,Ae),C.addEventListener(cs,function(Ne){Ne.target===C&&(z.swalCloseEventFinishedCallback(),delete z.swalCloseEventFinishedCallback)})},bn=(E,C)=>{setTimeout(()=>{"function"==typeof C&&C.bind(E.params)(),E._destroy()})};function po(E,C,R){const G=At.domCache.get(E);C.forEach(Ae=>{G[Ae].disabled=R})}function Fs(E,C){if(!E)return!1;if("radio"===E.type){const G=E.parentNode.parentNode.querySelectorAll("input");for(let Ae=0;Ae<G.length;Ae++)G[Ae].disabled=C}else E.disabled=C}const ms=E=>{const C={};return Object.keys(E).forEach(R=>{Se(R)?C[R]=E[R]:ae("Invalid parameter to update: ".concat(R))}),C};const Ps=E=>{lr(E),delete E.params,delete z.keydownHandler,delete z.keydownTarget,delete z.currentInstance},lr=E=>{E.isAwaitingPromise()?(ga(At,E),At.awaitingPromise.set(E,!0)):(ga(fs,E),ga(At,E))},ga=(E,C)=>{for(const R in E)E[R].delete(C)};var ma=Object.freeze({hideLoading:Bo,disableLoading:Bo,getInput:function an(E){const C=At.innerParams.get(E||this),R=At.domCache.get(E||this);return R?Vn(R.popup,C.input):null},close:Os,isAwaitingPromise:function Pl(){return!!At.awaitingPromise.get(this)},rejectPromise:function Nl(E){const C=fs.swalPromiseReject.get(this);fo(this),C&&C(E)},handleAwaitingPromise:fo,closePopup:Os,closeModal:Os,closeToast:Os,enableButtons:function ar(){po(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function ha(){po(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function Ll(){return Fs(this.getInput(),!1)},disableInput:function Gd(){return Fs(this.getInput(),!0)},showValidationMessage:function tl(E){const C=At.domCache.get(this),R=At.innerParams.get(this);In(C.validationMessage,E),C.validationMessage.className=te["validation-message"],R.customClass&&R.customClass.validationMessage&&bt(C.validationMessage,R.customClass.validationMessage),St(C.validationMessage);const G=this.getInput();G&&(G.setAttribute("aria-invalid",!0),G.setAttribute("aria-describedby",te["validation-message"]),br(G),bt(G,te.inputerror))},resetValidationMessage:function fa(){const E=At.domCache.get(this);E.validationMessage&&nt(E.validationMessage);const C=this.getInput();C&&(C.removeAttribute("aria-invalid"),C.removeAttribute("aria-describedby"),cn(C,te.inputerror))},getProgressSteps:function nl(){return At.domCache.get(this).progressSteps},update:function Gn(E){const C=re(),R=At.innerParams.get(this);if(!C||ft(C,R.hideClass.popup))return ae("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const G=ms(E),Ae=Object.assign({},R,G);Cr(this,Ae),At.innerParams.set(this,Ae),Object.defineProperties(this,{params:{value:Object.assign({},this.params,E),writable:!1,enumerable:!0}})},_destroy:function pa(){const E=At.domCache.get(this),C=At.innerParams.get(this);C?(E.popup&&z.swalCloseEventFinishedCallback&&(z.swalCloseEventFinishedCallback(),delete z.swalCloseEventFinishedCallback),"function"==typeof C.didDestroy&&C.didDestroy(),Ps(this)):lr(this)}});const go=(E,C)=>{const R=At.innerParams.get(E);if(!R.input)return void B('The "input" parameter is needed to be set when using returnInputValueOn'.concat(c(C)));const G=((E,C)=>{const R=E.getInput();if(!R)return null;switch(C.input){case"checkbox":return kl(R);case"radio":return Dc(R);case"file":return Tc(R);default:return C.inputAutoTrim?R.value.trim():R.value}})(E,R);R.inputValidator?Vl(E,G,C):E.getInput().checkValidity()?"deny"===C?mo(E,G):Ns(E,G):(E.enableButtons(),E.showValidationMessage(R.validationMessage))},Vl=(E,C,R)=>{const G=At.innerParams.get(E);E.disableInput(),Promise.resolve().then(()=>xe(G.inputValidator(C,G.validationMessage))).then(Ne=>{E.enableButtons(),E.enableInput(),Ne?E.showValidationMessage(Ne):"deny"===R?mo(E,C):Ns(E,C)})},mo=(E,C)=>{const R=At.innerParams.get(E||void 0);R.showLoaderOnDeny&&co(Qt()),R.preDeny?(At.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>xe(R.preDeny(C,R.validationMessage))).then(Ae=>{!1===Ae?(E.hideLoading(),fo(E)):E.close({isDenied:!0,value:void 0===Ae?C:Ae})}).catch(Ae=>rl(E||void 0,Ae))):E.close({isDenied:!0,value:C})},wu=(E,C)=>{E.close({isConfirmed:!0,value:C})},rl=(E,C)=>{E.rejectPromise(C)},Ns=(E,C)=>{const R=At.innerParams.get(E||void 0);R.showLoaderOnConfirm&&co(),R.preConfirm?(E.resetValidationMessage(),At.awaitingPromise.set(E||void 0,!0),Promise.resolve().then(()=>xe(R.preConfirm(C,R.validationMessage))).then(Ae=>{En(jt())||!1===Ae?(E.hideLoading(),fo(E)):wu(E,void 0===Ae?C:Ae)}).catch(Ae=>rl(E||void 0,Ae))):wu(E,C)},Sc=(E,C,R)=>{C.popup.onclick=()=>{const G=At.innerParams.get(E);G&&(Uo(G)||G.timer||G.input)||R(Li.close)}},Uo=E=>E.showConfirmButton||E.showDenyButton||E.showCancelButton||E.showCloseButton;let Aa=!1;const Go=E=>{E.popup.onmousedown=()=>{E.container.onmouseup=function(C){E.container.onmouseup=void 0,C.target===E.container&&(Aa=!0)}}},qr=E=>{E.container.onmousedown=()=>{E.popup.onmouseup=function(C){E.popup.onmouseup=void 0,(C.target===E.popup||E.popup.contains(C.target))&&(Aa=!0)}}},Eu=(E,C,R)=>{C.container.onclick=G=>{const Ae=At.innerParams.get(E);Aa?Aa=!1:G.target===C.container&&de(Ae.allowOutsideClick)&&R(Li.backdrop)}},Dr=E=>E instanceof Element||(E=>"object"==typeof E&&E.jquery)(E);const Hd=()=>{if(z.timeout)return(()=>{const E=Ht(),C=parseInt(window.getComputedStyle(E).width);E.style.removeProperty("transition"),E.style.width="100%";const G=C/parseInt(window.getComputedStyle(E).width)*100;E.style.removeProperty("transition"),E.style.width="".concat(G,"%")})(),z.timeout.stop()},Ul=()=>{if(z.timeout){const E=z.timeout.start();return yi(E),E}};let Wr=!1;const Ls={};const Iu=E=>{for(let C=E.target;C&&C!==document;C=C.parentNode)for(const R in Ls){const G=C.getAttribute(R);if(G)return void Ls[R].fire({template:G})}};var _o=Object.freeze({isValidParameter:_t,isUpdatableParameter:Se,isDeprecatedParameter:Re,argsToParams:E=>{const C={};return"object"!=typeof E[0]||Dr(E[0])?["title","html","icon"].forEach((R,G)=>{const Ae=E[G];"string"==typeof Ae||Dr(Ae)?C[R]=Ae:void 0!==Ae&&B("Unexpected type of ".concat(R,'! Expected "string" or "Element", got ').concat(typeof Ae))}):Object.assign(C,E[0]),C},isVisible:()=>En(re()),clickConfirm:ps,clickDeny:()=>Qt()&&Qt().click(),clickCancel:()=>Kt()&&Kt().click(),getContainer:ye,getPopup:re,getTitle:me,getHtmlContainer:je,getImage:pt,getIcon:Ee,getInputLabel:()=>ue(te["input-label"]),getCloseButton:xr,getActions:Yn,getConfirmButton:Ze,getDenyButton:Qt,getCancelButton:Kt,getLoader:rn,getFooter:tn,getTimerProgressBar:Ht,getFocusableElements:ai,getValidationMessage:jt,isLoading:()=>re().hasAttribute("data-loading"),fire:function Ig(){const E=this;for(var C=arguments.length,R=new Array(C),G=0;G<C;G++)R[G]=arguments[G];return new E(...R)},mixin:function Cu(E){return class C extends(this){_main(G,Ae){return super._main(G,Object.assign({},E,Ae))}}},showLoading:co,enableLoading:co,getTimerLeft:()=>z.timeout&&z.timeout.getTimerLeft(),stopTimer:Hd,resumeTimer:Ul,toggleTimer:()=>{const E=z.timeout;return E&&(E.running?Hd():Ul())},increaseTimer:E=>{if(z.timeout){const C=z.timeout.increase(E);return yi(C,!0),C}},isTimerRunning:()=>z.timeout&&z.timeout.isRunning(),bindClickHandler:function ui(){Ls[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Wr||(document.body.addEventListener("click",Iu),Wr=!0)}});let Ji;class yo{constructor(){if("undefined"==typeof window)return;Ji=this;for(var C=arguments.length,R=new Array(C),G=0;G<C;G++)R[G]=arguments[G];const Ae=Object.freeze(this.constructor.argsToParams(R));Object.defineProperties(this,{params:{value:Ae,writable:!1,enumerable:!0,configurable:!0}});const Ne=Ji._main(Ji.params);At.promise.set(this,Ne)}_main(C){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(E=>{!E.backdrop&&E.allowOutsideClick&&ae('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const C in E)lt(C),E.toast&&ht(C),Ve(C)})(Object.assign({},R,C)),z.currentInstance&&(z.currentInstance._destroy(),Ci()&&Dl()),z.currentInstance=Ji;const G=Vi(C,R);Ec(G),Object.freeze(G),z.timeout&&(z.timeout.stop(),delete z.timeout),clearTimeout(z.restoreFocusTimeout);const Ae=Bs(Ji);return Cr(Ji,G),At.innerParams.set(Ji,G),sl(Ji,Ae,G)}then(C){return At.promise.get(this).then(C)}finally(C){return At.promise.get(this).finally(C)}}const sl=(E,C,R)=>new Promise((G,Ae)=>{const Ne=vn=>{E.closePopup({isDismissed:!0,dismiss:vn})};fs.swalPromiseResolve.set(E,G),fs.swalPromiseReject.set(E,Ae),C.confirmButton.onclick=()=>(E=>{const C=At.innerParams.get(E);E.disableButtons(),C.input?go(E,"confirm"):Ns(E,!0)})(E),C.denyButton.onclick=()=>(E=>{const C=At.innerParams.get(E);E.disableButtons(),C.returnInputValueOnDeny?go(E,"deny"):mo(E,!1)})(E),C.cancelButton.onclick=()=>((E,C)=>{E.disableButtons(),C(Li.cancel)})(E,Ne),C.closeButton.onclick=()=>Ne(Li.close),((E,C,R)=>{At.innerParams.get(E).toast?Sc(E,C,R):(Go(C),qr(C),Eu(E,C,R))})(E,C,Ne),((E,C,R,G)=>{Mn(C),R.toast||(C.keydownHandler=Ae=>ua(E,Ae,G),C.keydownTarget=R.keydownListenerCapture?window:re(),C.keydownListenerCapture=R.keydownListenerCapture,C.keydownTarget.addEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!0)})(E,z,R,Ne),((E,C)=>{"select"===C.input||"radio"===C.input?ca(E,C):["text","email","number","tel","textarea"].includes(C.input)&&(_e(C.inputValue)||Q(C.inputValue))&&(co(Ze()),Rl(E,C))})(E,R),bu(R),Gl(z,R,Ne),zd(C,R),setTimeout(()=>{C.container.scrollTop=0})}),Vi=(E,C)=>{const R=(E=>{const C="string"==typeof E.template?document.querySelector(E.template):E.template;if(!C)return{};const R=C.content;return Ms(R),Object.assign(bc(R),Bd(R),hs(R),Za(R),wc(R),Tl(R,Ai))})(E),G=Object.assign({},oe,C,R,E);return G.showClass=Object.assign({},oe.showClass,G.showClass),G.hideClass=Object.assign({},oe.hideClass,G.hideClass),G},Bs=E=>{const C={popup:re(),container:ye(),actions:Yn(),confirmButton:Ze(),denyButton:Qt(),cancelButton:Kt(),loader:rn(),closeButton:xr(),validationMessage:jt(),progressSteps:Xt()};return At.domCache.set(E,C),C},Gl=(E,C,R)=>{const G=Ht();nt(G),C.timer&&(E.timeout=new Po(()=>{R("timer"),delete E.timeout},C.timer),C.timerProgressBar&&(St(G),sn(G,C,"timerProgressBar"),setTimeout(()=>{E.timeout&&E.timeout.running&&yi(C.timer)})))},zd=(E,C)=>{if(!C.toast){if(!de(C.allowEnterKey))return $d();Ui(E,C)||ii(0,-1,1)}},Ui=(E,C)=>C.focusDeny&&En(E.denyButton)?(E.denyButton.focus(),!0):C.focusCancel&&En(E.cancelButton)?(E.cancelButton.focus(),!0):!(!C.focusConfirm||!En(E.confirmButton)||(E.confirmButton.focus(),0)),$d=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&Math.random()<.1){const E=document.createElement("div");E.className="leave-russia-now-and-apply-your-skills-to-the-world";const C=(E=>E[Math.floor(Math.random()*E.length)])([{text:"\u0412 \u043d\u0438\u0436\u0435\u043f\u0440\u0438\u0432\u0435\u0434\u0451\u043d\u043d\u043e\u043c \u0432\u0438\u0434\u0435\u043e \u043e\u0431\u044a\u044f\u0441\u043d\u044f\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u043a\u0430\u0436\u0434\u044b\u0439 \u0438\u0437 \u043d\u0430\u0441 \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u043c\u043e\u0447\u044c \u0432 \u0442\u043e\u043c,\n        <strong>\u0447\u0442\u043e\u0431\u044b \u044d\u0442\u0430 \u0431\u0435\u0441\u0441\u043c\u044b\u0441\u043b\u0435\u043d\u043d\u0430\u044f \u0438 \u0431\u0435\u0441\u0447\u0435\u043b\u043e\u0432\u0435\u0447\u043d\u0430\u044f \u0432\u043e\u0439\u043d\u0430 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0430\u0441\u044c</strong>:",id:"4CfDhaRkw7I"},{text:"\u042d\u043c\u043f\u0430\u0442\u0438\u044f - \u0433\u043b\u0430\u0432\u043d\u043e\u0435 <strong>\u0447\u0435\u043b\u043e\u0432\u0435\u0447\u0435\u0441\u043a\u043e\u0435</strong> \u0447\u0443\u0432\u0441\u0442\u0432\u043e. \u0421\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u043f\u0435\u0440\u0435\u0436\u0438\u0432\u0430\u0442\u044c. <strong>\u0421\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0431\u044f \u043d\u0430 \u043c\u0435\u0441\u0442\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e.</strong>",id:"s-GLAIY4DXA"}]);In(E,"\n      <div>\n        \u0415\u0441\u043b\u0438 \u043c\u044b \u043d\u0435 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c \u0432\u043e\u0439\u043d\u0443, \u043e\u043d\u0430 \u043f\u0440\u0438\u0434\u0435\u0442 \u0432 \u0434\u043e\u043c <strong>\u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0438\u0437 \u043d\u0430\u0441</strong> \u0438 \u0435\u0451 \u043f\u043e\u0441\u043b\u0435\u0434\u0441\u0442\u0432\u0438\u044f \u0431\u0443\u0434\u0443\u0442 <strong>\u0443\u0436\u0430\u0441\u0430\u044e\u0449\u0438\u043c\u0438</strong>.\n      </div>\n      <div>\n        \u041f\u0443\u0442\u0438\u043d\u0441\u043a\u0438\u0439 \u0440\u0435\u0436\u0438\u043c \u0437\u0430 20 \u0441 \u043b\u0438\u0448\u043d\u0438\u043c \u043b\u0435\u0442 \u0441\u0432\u043e\u0435\u0433\u043e \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u044f \u0432\u0434\u043e\u043b\u0431\u0438\u043b \u043d\u0430\u043c, \u0447\u0442\u043e \u043c\u044b \u0431\u0435\u0441\u0441\u0438\u043b\u044c\u043d\u044b \u0438 \u043e\u0434\u0438\u043d \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043d\u0438\u0447\u0435\u0433\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c. <strong>\u042d\u0442\u043e \u043d\u0435 \u0442\u0430\u043a!</strong>\n      </div>\n      <div>\n        ".concat(C.text,'\n      </div>\n      <iframe width="560" height="315" src="https://www.youtube.com/embed/').concat(C.id,'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n      <div>\n        \u041d\u0435\u0442 \u0432\u043e\u0439\u043d\u0435!\n      </div>\n      '));const R=document.createElement("button");R.innerHTML="&times;",R.onclick=()=>E.remove(),E.appendChild(R),window.addEventListener("load",()=>{setTimeout(()=>{document.body.appendChild(E)},1e3)})}Object.assign(yo.prototype,ma),Object.assign(yo,_o),Object.keys(ma).forEach(E=>{yo[E]=function(){if(Ji)return Ji[E](...arguments)}}),yo.DismissReason=Li,yo.version="11.4.24";const $n=yo;return $n.default=$n,$n}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(Ce,L){var c=Ce.createElement("style");if(Ce.getElementsByTagName("head")[0].appendChild(c),c.styleSheet)c.styleSheet.disabled||(c.styleSheet.cssText=L);else try{c.innerHTML=L}catch(ae){c.innerText=L}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.leave-russia-now-and-apply-your-skills-to-the-world{display:flex;position:fixed;z-index:1939;top:0;right:0;bottom:0;left:0;flex-direction:column;align-items:center;justify-content:center;padding:25px 0 20px;background:#20232a;color:#fff;text-align:center}.leave-russia-now-and-apply-your-skills-to-the-world div{max-width:560px;margin:10px;line-height:146%}.leave-russia-now-and-apply-your-skills-to-the-world iframe{max-width:100%;max-height:55.5555555556vmin;margin:16px auto}.leave-russia-now-and-apply-your-skills-to-the-world strong{border-bottom:2px dashed #fff}.leave-russia-now-and-apply-your-skills-to-the-world button{display:flex;position:fixed;z-index:1940;top:0;right:0;align-items:center;justify-content:center;width:48px;height:48px;margin-right:10px;margin-bottom:-10px;border:none;background:0 0;color:#aaa;font-size:48px;font-weight:700;cursor:pointer}.leave-russia-now-and-apply-your-skills-to-the-world button:hover{color:#fff}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(st,Ce,L)=>{"use strict";function pe(ie,ue){var re={};for(var Ee in ie)Object.prototype.hasOwnProperty.call(ie,Ee)&&ue.indexOf(Ee)<0&&(re[Ee]=ie[Ee]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(Ee=Object.getOwnPropertySymbols(ie);me<Ee.length;me++)ue.indexOf(Ee[me])<0&&Object.prototype.propertyIsEnumerable.call(ie,Ee[me])&&(re[Ee[me]]=ie[Ee[me]])}return re}function _e(ie,ue,re,Ee){return new(re||(re=Promise))(function(je,pt){function Xt(Qt){try{Ze(Ee.next(Qt))}catch(Bn){pt(Bn)}}function jt(Qt){try{Ze(Ee.throw(Qt))}catch(Bn){pt(Bn)}}function Ze(Qt){Qt.done?je(Qt.value):function me(je){return je instanceof re?je:new re(function(pt){pt(je)})}(Qt.value).then(Xt,jt)}Ze((Ee=Ee.apply(ie,ue||[])).next())})}function Se(ie){return this instanceof Se?(this.v=ie,this):new Se(ie)}function Re(ie,ue,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,Ee=re.apply(ie,ue||[]),je=[];return me={},pt("next"),pt("throw"),pt("return"),me[Symbol.asyncIterator]=function(){return this},me;function pt(rn){Ee[rn]&&(me[rn]=function(Kt){return new Promise(function(Yn,tn){je.push([rn,Kt,Yn,tn])>1||Xt(rn,Kt)})})}function Xt(rn,Kt){try{!function jt(rn){rn.value instanceof Se?Promise.resolve(rn.value.v).then(Ze,Qt):Bn(je[0][2],rn)}(Ee[rn](Kt))}catch(Yn){Bn(je[0][3],Yn)}}function Ze(rn){Xt("next",rn)}function Qt(rn){Xt("throw",rn)}function Bn(rn,Kt){rn(Kt),je.shift(),je.length&&Xt(je[0][0],je[0][1])}}function ht(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,ue=ie[Symbol.asyncIterator];return ue?ue.call(ie):(ie=function oe(ie){var ue="function"==typeof Symbol&&Symbol.iterator,re=ue&&ie[ue],Ee=0;if(re)return re.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&Ee>=ie.length&&(ie=void 0),{value:ie&&ie[Ee++],done:!ie}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),re={},Ee("next"),Ee("throw"),Ee("return"),re[Symbol.asyncIterator]=function(){return this},re);function Ee(je){re[je]=ie[je]&&function(pt){return new Promise(function(Xt,jt){!function me(je,pt,Xt,jt){Promise.resolve(jt).then(function(Ze){je({value:Ze,done:Xt})},pt)}(Xt,jt,(pt=ie[je](pt)).done,pt.value)})}}}L.d(Ce,{_T:()=>pe,mG:()=>_e,qq:()=>Se,FC:()=>Re,KL:()=>ht})},5e3:(st,Ce,L)=>{"use strict";L.d(Ce,{tb:()=>k0,AFp:()=>bd,ip1:()=>S0,CZH:()=>E_,hGG:()=>Z0,z2F:()=>B0,sBO:()=>WI,_Vd:()=>o0,EJc:()=>Yp,SBq:()=>Bt,qLn:()=>Gu,vpe:()=>Xs,OlP:()=>Hn,zs3:()=>Co,ZZ4:()=>P_,aQg:()=>Zh,soG:()=>I_,h0i:()=>Do,R0b:()=>Cs,FiY:()=>Ft,Lbi:()=>M0,g9A:()=>ln,Qsj:()=>Vt,FYo:()=>Zn,JOm:()=>M,q3G:()=>Rn,WD2:()=>ks,tp0:()=>kn,Rgc:()=>uu,dDg:()=>Cw,q4F:()=>et,GfV:()=>fi,s_b:()=>jp,ifc:()=>St,eFA:()=>Kh,G48:()=>qI,Gpc:()=>J,f3M:()=>j,X6Q:()=>$I,_c5:()=>K0,VLi:()=>Dw,zSh:()=>Yu,wAp:()=>Pt,vHH:()=>Be,EiD:()=>zc,mCW:()=>$s,qzn:()=>Da,JVY:()=>Vu,pB0:()=>Jl,eBb:()=>Ef,L6k:()=>sh,LAX:()=>fy,cg1:()=>ld,kL8:()=>Cb,yhl:()=>rh,dqk:()=>Zt,sIi:()=>Ih,CqO:()=>rb,QGY:()=>fp,F4k:()=>ib,RDi:()=>Rl,AaK:()=>_e,z3N:()=>Ko,qOj:()=>vm,TTD:()=>Hr,_Bn:()=>Zb,xp6:()=>Xv,uIk:()=>Gx,ekj:()=>kA,Xpm:()=>$e,lG2:()=>ko,Yz7:()=>Kt,cJS:()=>tn,oAB:()=>zt,Yjl:()=>cs,Y36:()=>Rh,_UZ:()=>up,GkF:()=>hp,BQk:()=>td,ynx:()=>dp,qZA:()=>cp,TgZ:()=>oc,EpF:()=>Sm,n5z:()=>Us,LFG:()=>T,$8M:()=>zo,NdJ:()=>pp,CRH:()=>zp,oxw:()=>ob,ALo:()=>lw,lcZ:()=>pi,Hsn:()=>lb,F$t:()=>ab,Q6J:()=>lp,DdM:()=>c_,VKq:()=>rw,WLB:()=>sw,kEZ:()=>ws,l5B:()=>c0,iGM:()=>pw,MAs:()=>Cm,evT:()=>Ie,Jf7:()=>ju,CHM:()=>el,oJD:()=>Ug,uOi:()=>Xl,LSH:()=>Sf,kYT:()=>Ii,Akn:()=>Zs,Udp:()=>Nm,YNc:()=>Wx,W1O:()=>_w,_uU:()=>LA,Oqu:()=>rd,hij:()=>sd,AsE:()=>Bm,Gf:()=>Hh});var c=L(7579),ae=L(727),B=L(9751),pe=L(6451),fe=L(3099);function be(s){for(let o in s)if(s[o]===be)return o;throw Error("Could not find renamed property on target object.")}function de(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function _e(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(_e).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function xe(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Q=be({__forward_ref__:be});function J(s){return s.__forward_ref__=J,s.toString=function(){return _e(this())},s}function oe(s){return Qe(s)?s():s}function Qe(s){return"function"==typeof s&&s.hasOwnProperty(Q)&&s.__forward_ref__===J}class Be extends Error{constructor(o,l){super(function _t(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function Se(s){return"string"==typeof s?s:null==s?"":String(s)}function Re(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Se(s)}function Me(s,o){const l=o?` in ${o}`:"";throw new Be(-201,`No provider for ${Re(s)} found${l}`)}function jt(s,o){null==s&&function Ze(s,o,l,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${l} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function Kt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function tn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ht(s){return xr(s,Qi)||xr(s,Jn)}function xr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ci(s){return s&&(s.hasOwnProperty(Is)||s.hasOwnProperty(In))?s[Is]:null}const Qi=be({\u0275prov:be}),Is=be({\u0275inj:be}),Jn=be({ngInjectableDef:be}),In=be({ngInjectorDef:be});var ft=(()=>((ft=ft||{})[ft.Default=0]="Default",ft[ft.Host=1]="Host",ft[ft.Self=2]="Self",ft[ft.SkipSelf=4]="SkipSelf",ft[ft.Optional=8]="Optional",ft))();let Ki;function Vn(s){const o=Ki;return Ki=s,o}function br(s,o,l){const u=Ht(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&ft.Optional?null:void 0!==o?o:void Me(_e(s),"Injector")}function bt(s){return{toString:s}.toString()}var cn=(()=>((cn=cn||{})[cn.OnPush=0]="OnPush",cn[cn.Default=1]="Default",cn))(),St=(()=>{return(s=St||(St={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",St;var s})();const nt="undefined"!=typeof globalThis&&globalThis,Mt="undefined"!=typeof window&&window,ei="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Zt=nt||"undefined"!=typeof global&&global||Mt||ei,yi={},yt=[],ls=be({\u0275cmp:be}),W=be({\u0275dir:be}),z=be({\u0275pipe:be}),$=be({\u0275mod:be}),K=be({\u0275fac:be}),ee=be({__NG_ELEMENT_ID__:be});let Pe=0;function $e(s){return bt(()=>{const l={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===cn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||yt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||St.Emulated,id:"c",styles:s.styles||yt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,g=s.features,v=s.pipes;return u.id+=Pe++,u.inputs=Ur(s.inputs,l),u.outputs=Ur(s.outputs),g&&g.forEach(b=>b(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(fn):null,u.pipeDefs=v?()=>("function"==typeof v?v():v).map(nn):null,u})}function fn(s){return ti(s)||function Ni(s){return s[W]||null}(s)}function nn(s){return function us(s){return s[z]||null}(s)}const li={};function zt(s){return bt(()=>{const o={type:s.type,bootstrap:s.bootstrap||yt,declarations:s.declarations||yt,imports:s.imports||yt,exports:s.exports||yt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(li[s.id]=s.type),o})}function Ii(s,o){return bt(()=>{const l=ni(s,!0);l.declarations=o.declarations||yt,l.imports=o.imports||yt,l.exports=o.exports||yt})}function Ur(s,o){if(null==s)return yi;const l={};for(const u in s)if(s.hasOwnProperty(u)){let h=s[u],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=u,o&&(o[h]=g)}return l}const ko=$e;function cs(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function ti(s){return s[ls]||null}function ni(s,o){const l=s[$]||null;if(!l&&!0===o)throw new Error(`Type ${_e(s)} does not have '\u0275mod' property.`);return l}function Ti(s){return Array.isArray(s)&&"object"==typeof s[1]}function rr(s){return Array.isArray(s)&&!0===s[1]}function aa(s){return 0!=(8&s.flags)}function vc(s){return 2==(2&s.flags)}function Gr(s){return 1==(1&s.flags)}function Cr(s){return null!==s.template}function Li(s){return 0!=(512&s[2])}function Si(s,o){return s.hasOwnProperty(K)?s[K]:null}class ks{constructor(o,l,u){this.previousValue=o,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function Hr(){return No}function No(s){return s.type.prototype.ngOnChanges&&(s.setInput=bu),Ml}function Ml(){const s=lo(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===yi)s.previous=o;else for(let u in o)l[u]=o[u];s.current=null,this.ngOnChanges(o)}}function bu(s,o,l,u){const h=lo(s)||function Lo(s,o){return s[ao]=o}(s,{previous:yi,current:null}),g=h.current||(h.current={}),v=h.previous,b=this.declaredInputs[l],I=v[b];g[b]=new ks(I&&I.currentValue,o,v===yi),s[u]=o}Hr.ngInherit=!0;const ao="__ngSimpleChanges__";function lo(s){return s[ao]||null}let ca;function Rl(s){ca=s}function jr(){return void 0!==ca?ca:"undefined"!=typeof document?document:void 0}function un(s){return!!s.listen}const Bo={createRenderer:(s,o)=>jr()};function an(s){for(;Array.isArray(s);)s=s[0];return s}function ps(s,o){return an(o[s])}function vi(s,o){return an(o[s.index])}function Mn(s,o){return s.data[o]}function zr(s,o){return s[o]}function ii(s,o){const l=o[s];return Ti(l)?l:l[0]}function Rs(s){return 4==(4&s[2])}function gs(s){return 128==(128&s[2])}function Ir(s,o){return null==o?null:s[o]}function $r(s){s[18]=0}function Vo(s,o){s[5]+=o;let l=s,u=s[3];for(;null!==u&&(1===o&&1===l[5]||-1===o&&0===l[5]);)u[5]+=o,l=u,u=u[3]}const wt={lFrame:Sc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function da(){return wt.bindingsEnabled}function Fe(){return wt.lFrame.lView}function $t(){return wt.lFrame.tView}function el(s){return wt.lFrame.contextLView=s,s[8]}function bn(){let s=po();for(;null!==s&&64===s.type;)s=s.parent;return s}function po(){return wt.lFrame.currentTNode}function ar(s,o){const l=wt.lFrame;l.currentTNode=s,l.isParent=o}function ha(){return wt.lFrame.isParent}function Ll(){wt.lFrame.isParent=!1}function fa(){return wt.isInCheckNoChangesMode}function nl(s){wt.isInCheckNoChangesMode=s}function Gn(){const s=wt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ps(){return wt.lFrame.bindingIndex++}function lr(s){const o=wt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function Bl(s,o){const l=wt.lFrame;l.bindingIndex=l.bindingRootIndex=s,_a(o)}function _a(s){wt.lFrame.currentDirectiveIndex=s}function Vl(){return wt.lFrame.currentQueryIndex}function mo(s){wt.lFrame.currentQueryIndex=s}function wu(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function rl(s,o,l){if(l&ft.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||l&ft.Host||(h=wu(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const u=wt.lFrame=ya();return u.currentTNode=o,u.lView=s,!0}function Ns(s){const o=ya(),l=s[1];wt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function ya(){const s=wt.lFrame,o=null===s?null:s.child;return null===o?Sc(s):o}function Sc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Uo(){const s=wt.lFrame;return wt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Aa=Uo;function Go(){const s=Uo();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ci(){return wt.lFrame.selectedIndex}function Dr(s){wt.lFrame.selectedIndex=s}function Fn(){const s=wt.lFrame;return Mn(s.tView,s.selectedIndex)}function Mc(s,o){for(let l=o.directiveStart,u=o.directiveEnd;l<u;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:I,ngAfterViewChecked:k,ngOnDestroy:F}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),b&&((s.contentHooks||(s.contentHooks=[])).push(l,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,b)),I&&(s.viewHooks||(s.viewHooks=[])).push(-l,I),k&&((s.viewHooks||(s.viewHooks=[])).push(l,k),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,k)),null!=F&&(s.destroyHooks||(s.destroyHooks=[])).push(l,F)}}function va(s,o,l){ui(s,o,3,l)}function Wr(s,o,l,u){(3&s[2])===l&&ui(s,o,l,u)}function Ls(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function ui(s,o,l,u){const g=null!=u?u:-1,v=o.length-1;let b=0;for(let I=void 0!==u?65535&s[18]:0;I<v;I++)if("number"==typeof o[I+1]){if(b=o[I],null!=u&&b>=u)break}else o[I]<0&&(s[18]+=65536),(b<g||-1==g)&&(Iu(s,l,o,I),s[18]=(4294901760&s[18])+I+2),I++}function Iu(s,o,l,u){const h=l[u]<0,g=l[u+1],b=s[h?-l[u]:l[u]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(b)}finally{}}}else try{g.call(b)}finally{}}class Ji{constructor(o,l,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}function $n(s,o,l){const u=un(s);let h=0;for(;h<l.length;){const g=l[h];if("number"==typeof g){if(0!==g)break;h++;const v=l[h++],b=l[h++],I=l[h++];u?s.setAttribute(o,b,I,v):o.setAttributeNS(v,b,I)}else{const v=g,b=l[++h];C(v)?u&&s.setProperty(o,v,b):u?s.setAttribute(o,v,b):o.setAttribute(v,b),h++}}return h}function E(s){return 3===s||4===s||6===s}function C(s){return 64===s.charCodeAt(0)}function R(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let u=0;u<o.length;u++){const h=o[u];"number"==typeof h?l=h:0===l||G(s,l,h,null,-1===l||2===l?o[++u]:null)}}return s}function G(s,o,l,u,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const b=s[g++];if("number"==typeof b){if(b===o){v=-1;break}if(b>o){v=g-1;break}}}for(;g<s.length;){const b=s[g];if("number"==typeof b)break;if(b===l){if(null===u)return void(null!==h&&(s[g+1]=h));if(u===s[g+1])return void(s[g+2]=h)}g++,null!==u&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,l),null!==u&&s.splice(g++,0,u),null!==h&&s.splice(g++,0,h)}function Ae(s){return-1!==s}function Ne(s){return 32767&s}function en(s,o){let l=function vn(s){return s>>16}(s),u=o;for(;l>0;)u=u[15],l--;return u}let qn=!0;function cr(s){const o=qn;return qn=s,o}let ff=0;function jl(s,o){const l=Rc(s,o);if(-1!==l)return l;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,Ho(u.data,s),Ho(o,null),Ho(u.blueprint,null));const h=Vs(s,o),g=s.injectorIndex;if(Ae(h)){const v=Ne(h),b=en(h,o),I=b[1].data;for(let k=0;k<8;k++)o[g+k]=b[v+k]|I[v+k]}return o[g+8]=h,g}function Ho(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Rc(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Vs(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,u=null,h=o;for(;null!==h;){const g=h[1],v=g.type;if(u=2===v?g.declTNode:1===v?h[6]:null,null===u)return-1;if(l++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return-1}function xa(s,o,l){!function kc(s,o,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty(ee)&&(u=l[ee]),null==u&&(u=l[ee]=ff++);const h=255&u;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function Oc(s,o,l){if(l&ft.Optional)return s;Me(o,"NodeInjector")}function al(s,o,l,u){if(l&ft.Optional&&void 0===u&&(u=null),0==(l&(ft.Self|ft.Host))){const h=s[9],g=Vn(void 0);try{return h?h.get(o,u,l&ft.Optional):br(o,u,l&ft.Optional)}finally{Vn(g)}}return Oc(u,o,l)}function Tu(s,o,l,u=ft.Default,h){if(null!==s){const g=function Wd(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ee)?s[ee]:void 0;return"number"==typeof o?o>=0?255&o:Wn:o}(l);if("function"==typeof g){if(!rl(o,s,u))return u&ft.Host?Oc(h,l,u):al(o,l,u,h);try{const v=g(u);if(null!=v||u&ft.Optional)return v;Me(l)}finally{Aa()}}else if("number"==typeof g){let v=null,b=Rc(s,o),I=-1,k=u&ft.Host?o[16][6]:null;for((-1===b||u&ft.SkipSelf)&&(I=-1===b?Vs(s,o):o[b+8],-1!==I&&Fc(u,!1)?(v=o[1],b=Ne(I),o=en(I,o)):b=-1);-1!==b;){const F=o[1];if(jo(g,b,F.data)){const U=Su(b,o,l,v,u,k);if(U!==di)return U}I=o[b+8],-1!==I&&Fc(u,o[1].data[b+8]===k)&&jo(g,b,o)?(v=F,b=Ne(I),o=en(I,o)):b=-1}}}return al(o,l,u,h)}const di={};function Wn(){return new ur(bn(),Fe())}function Su(s,o,l,u,h,g){const v=o[1],b=v.data[s+8],F=zl(b,v,l,null==u?vc(b)&&qn:u!=v&&0!=(3&b.type),h&ft.Host&&g===b);return null!==F?$l(o,v,F,b):di}function zl(s,o,l,u,h){const g=s.providerIndexes,v=o.data,b=1048575&g,I=s.directiveStart,F=g>>20,Y=h?b+F:s.directiveEnd;for(let le=u?b:b+F;le<Y;le++){const Te=v[le];if(le<I&&l===Te||le>=I&&Te.type===l)return le}if(h){const le=v[I];if(le&&Cr(le)&&le.type===l)return I}return null}function $l(s,o,l,u){let h=s[l];const g=o.data;if(function yo(s){return s instanceof Ji}(h)){const v=h;v.resolving&&function lt(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Be(-200,`Circular dependency in DI detected for ${s}${l}`)}(Re(g[l]));const b=cr(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?Vn(v.injectImpl):null;rl(s,u,ft.Default);try{h=s[l]=v.factory(void 0,g,s,u),o.firstCreatePass&&l>=u.directiveStart&&function jd(s,o,l){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(u){const v=No(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],o)}finally{null!==I&&Vn(I),cr(b),v.resolving=!1,Aa()}}return h}function jo(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Fc(s,o){return!(s&ft.Self||s&ft.Host&&o)}class ur{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,u){return Tu(this._tNode,this._lView,o,u,l)}}function Us(s){return bt(()=>{const o=s.prototype.constructor,l=o[K]||ll(o),u=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==u;){const g=h[K]||ll(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function ll(s){return Qe(s)?()=>{const o=ll(oe(s));return o&&o()}:Si(s)}function zo(s){return function Du(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const u=l.length;let h=0;for(;h<u;){const g=l[h];if(E(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<u&&"string"==typeof l[h];)h++;else{if(g===o)return l[h+1];h+=2}}}return null}(bn(),s)}const Ao="__parameters__";function ql(s,o,l){return bt(()=>{const u=function Mi(s){return function(...l){if(s){const u=s(...l);for(const h in u)this[h]=u[h]}}}(o);function h(...g){if(this instanceof h)return u.apply(this,g),this;const v=new h(...g);return b.annotation=v,b;function b(I,k,F){const U=I.hasOwnProperty(Ao)?I[Ao]:Object.defineProperty(I,Ao,{value:[]})[Ao];for(;U.length<=F;)U.push(null);return(U[F]=U[F]||[]).push(v),I}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Hn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Kt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Tr(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let u=s[l];Array.isArray(u)?(o===s&&(o=s.slice(0,l)),Tr(u,o)):o!==s&&o.push(u)}return o}function Sr(s,o){s.forEach(l=>Array.isArray(l)?Sr(l,o):o(l))}function qo(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function wa(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ql(s,o){const l=[];for(let u=0;u<s;u++)l.push(o);return l}function Hi(s,o,l){let u=Gs(s,o);return u>=0?s[1|u]=l:(u=~u,function Wo(s,o,l,u){let h=s.length;if(h==o)s.push(l,u);else if(1===h)s.push(u,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=u}}(s,u,o,l)),u}function bo(s,o){const l=Gs(s,o);if(l>=0)return s[1|l]}function Gs(s,o){return function Zl(s,o,l){let u=0,h=s.length>>l;for(;h!==u;){const g=u+(h-u>>1),v=s[g<<l];if(o===v)return g<<l;v>o?h=g:u=g+1}return~(h<<l)}(s,o,1)}const Lc={},Kr="__NG_DI_FLAG__",Ca="ngTempTokenPath",Bc=/\n/gm,dl="__source",Zd=be({provide:String,useValue:be});let Vc;function Mg(s){const o=Vc;return Vc=s,o}function D(s,o=ft.Default){if(void 0===Vc)throw new Be(203,"");return null===Vc?br(s,void 0,o):Vc.get(s,o&ft.Optional?null:void 0,o)}function T(s,o=ft.Default){return(function sn(){return Ki}()||D)(oe(s),o)}const j=T;function se(s){const o=[];for(let l=0;l<s.length;l++){const u=oe(s[l]);if(Array.isArray(u)){if(0===u.length)throw new Be(900,"");let h,g=ft.Default;for(let v=0;v<u.length;v++){const b=u[v],I=Le(b);"number"==typeof I?-1===I?h=b.token:g|=I:h=b}o.push(T(h,g))}else o.push(T(u))}return o}function ge(s,o){return s[Kr]=o,s.prototype[Kr]=o,s}function Le(s){return s[Kr]}const Ft=ge(ql("Optional"),8),kn=ge(ql("SkipSelf"),4);let Uc,fl;function hl(s){var o;return(null===(o=function Rg(){if(void 0===Uc&&(Uc=null,Zt.trustedTypes))try{Uc=Zt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Uc}())||void 0===o?void 0:o.createHTML(s))||s}function Bu(){if(void 0===fl&&(fl=null,Zt.trustedTypes))try{fl=Zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return fl}function Xd(s){var o;return(null===(o=Bu())||void 0===o?void 0:o.createHTML(s))||s}function eh(s){var o;return(null===(o=Bu())||void 0===o?void 0:o.createScriptURL(s))||s}class pl{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class th extends pl{getTypeName(){return"HTML"}}class nh extends pl{getTypeName(){return"Style"}}class ih extends pl{getTypeName(){return"Script"}}class Og extends pl{getTypeName(){return"URL"}}class Fg extends pl{getTypeName(){return"ResourceURL"}}function Ko(s){return s instanceof pl?s.changingThisBreaksApplicationSecurity:s}function Da(s,o){const l=rh(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function rh(s){return s instanceof pl&&s.getTypeName()||null}function Vu(s){return new th(s)}function sh(s){return new nh(s)}function Ef(s){return new ih(s)}function fy(s){return new Og(s)}function Jl(s){return new Fg(s)}class Cf{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(hl(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class py{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const u=this.inertDocument.createElement("body");l.appendChild(u)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=hl(o),l;const u=this.inertDocument.createElement("body");return u.innerHTML=hl(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const v=l.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Sv=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Mv=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $s(s){return(s=String(s)).match(Sv)||s.match(Mv)?s:"unsafe:"+s}function wo(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function gl(...s){const o={};for(const l of s)for(const u in l)l.hasOwnProperty(u)&&(o[u]=!0);return o}const If=wo("area,br,col,hr,img,wbr"),ah=wo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lh=wo("rp,rt"),Df=gl(If,gl(ah,wo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gl(lh,wo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gl(lh,ah)),Gc=wo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Tf=wo("srcset"),Lg=gl(Gc,Tf,wo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Bg=wo("script,style,template");class Vg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,u=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!Df.hasOwnProperty(l))return this.sanitizedSomething=!0,!Bg.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=o.attributes;for(let h=0;h<u.length;h++){const g=u.item(h),v=g.name,b=v.toLowerCase();if(!Lg.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let I=g.value;Gc[b]&&(I=$s(I)),Tf[b]&&(s=I,I=(s=String(s)).split(",").map(o=>$s(o.trim())).join(", ")),this.buf.push(" ",v,'="',ch(I),'"')}var s;return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();Df.hasOwnProperty(l)&&!If.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(ch(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const Hc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yy=/([^\#-~ |!])/g;function ch(s){return s.replace(/&/g,"&amp;").replace(Hc,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(yy,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jc;function zc(s,o){let l=null;try{jc=jc||function oh(s){const o=new py(s);return function Tv(){try{return!!(new window.DOMParser).parseFromString(hl(""),"text/html")}catch(s){return!1}}()?new Cf(o):o}(s);let u=o?String(o):"";l=jc.getInertBodyElement(u);let h=5,g=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=g,g=l.innerHTML,l=jc.getInertBodyElement(u)}while(u!==g);return hl((new Vg).sanitizeChildren(uh(l)||l))}finally{if(l){const u=uh(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function uh(s){return"content"in s&&function Ay(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Rn=(()=>((Rn=Rn||{})[Rn.NONE=0]="NONE",Rn[Rn.HTML=1]="HTML",Rn[Rn.STYLE=2]="STYLE",Rn[Rn.SCRIPT=3]="SCRIPT",Rn[Rn.URL=4]="URL",Rn[Rn.RESOURCE_URL=5]="RESOURCE_URL",Rn))();function Ug(s){const o=$c();return o?Xd(o.sanitize(Rn.HTML,s)||""):Da(s,"HTML")?Xd(Ko(s)):zc(jr(),Se(s))}function Sf(s){const o=$c();return o?o.sanitize(Rn.URL,s)||"":Da(s,"URL")?Ko(s):$s(Se(s))}function Xl(s){const o=$c();if(o)return eh(o.sanitize(Rn.RESOURCE_URL,s)||"");if(Da(s,"ResourceURL"))return eh(Ko(s));throw new Be(904,"")}function $c(){const s=Fe();return s&&s[12]}const Mf="__ngContext__";function ki(s,o){s[Mf]=o}function Uu(s){const o=function ec(s){return s[Mf]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Ta(s){return s.ngOriginalError}function Rv(s,...o){s.error(...o)}class Gu{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),u=function wy(s){return s&&s.ngErrorLogger||Rv}(o);u(this._console,"ERROR",o),l&&u(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Ta(o);for(;l&&Ta(l);)l=Ta(l);return l||null}}const Nn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Zt))();function ju(s){return s.ownerDocument.defaultView}function Ie(s){return s.ownerDocument}function Or(s){return s instanceof Function?s():s}var M=(()=>((M=M||{})[M.Important=1]="Important",M[M.DashCase=2]="DashCase",M))();function ne(s,o){return undefined(s,o)}function ot(s){const o=s[3];return rr(o)?o[3]:o}function hi(s){return zu(s[13])}function Jr(s){return zu(s[4])}function zu(s){for(;null!==s&&!rr(s);)s=s[4];return s}function _l(s,o,l,u,h){if(null!=u){let g,v=!1;rr(u)?g=u:Ti(u)&&(v=!0,u=u[0]);const b=an(u);0===s&&null!==l?null==h?yl(o,l,b):tc(o,l,b,h||null,!0):1===s&&null!==l?tc(o,l,b,h||null,!0):2===s?function qs(s,o,l){const u=Jg(s,o);u&&function Qc(s,o,l,u){un(s)?s.removeChild(o,l,u):o.removeChild(l)}(s,u,o,l)}(o,b,v):3===s&&o.destroyNode(b),null!=g&&function Hv(s,o,l,u,h){const g=l[7];g!==an(l)&&_l(o,s,u,g,h);for(let b=10;b<l.length;b++){const I=l[b];Wu(I[1],I,s,o,u,g)}}(o,s,g,l,h)}}function Sa(s,o,l){if(un(s))return s.createElement(o,l);{const u=null!==l?function Tc(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function Ov(s,o){const l=s[9],u=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Vo(h,-1)),l.splice(u,1)}function Dy(s,o){if(s.length<=10)return;const l=10+o,u=s[l];if(u){const h=u[17];null!==h&&h!==s&&Ov(h,u),o>0&&(s[l-1][4]=u[4]);const g=wa(s,10+o);!function Vf(s,o){Wu(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const v=g[19];null!==v&&v.detachView(g[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Fv(s,o){if(!(256&o[2])){const l=o[11];un(l)&&l.destroyNode&&Wu(s,o,l,3,null,null),function qu(s){let o=s[13];if(!o)return Ty(s[1],s);for(;o;){let l=null;if(Ti(o))l=o[13];else{const u=o[10];u&&(l=u)}if(!l){for(;o&&!o[4]&&o!==s;)Ti(o)&&Ty(o[1],o),o=o[3];null===o&&(o=s),Ti(o)&&Ty(o[1],o),l=o&&o[4]}o=l}}(o)}}function Ty(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Zg(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let u=0;u<l.length;u+=2){const h=o[l[u]];if(!(h instanceof Ji)){const g=l[u+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const b=h[g[v]],I=g[v+1];try{I.call(b)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function zE(s,o){const l=s.cleanup,u=o[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+1],b="function"==typeof v?v(o):an(o[v]),I=u[h=l[g+2]],k=l[g+3];"boolean"==typeof k?b.removeEventListener(l[g],I,k):k>=0?u[h=k]():u[h=-k].unsubscribe(),g+=2}else{const v=u[h=l[g+1]];l[g].call(v)}if(null!==u){for(let g=h+1;g<u.length;g++)u[g]();o[7]=null}}(s,o),1===o[1].type&&un(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&rr(o[3])){l!==o[3]&&Ov(l,o);const u=o[19];null!==u&&u.detachView(s)}}}function Sy(s,o,l){return function Yg(s,o,l){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return l[0];if(2&u.flags){const h=s.data[u.directiveStart].encapsulation;if(h===St.None||h===St.Emulated)return null}return vi(u,l)}(s,o.parent,l)}function tc(s,o,l,u,h){un(s)?s.insertBefore(o,l,u,h):o.insertBefore(l,u,h)}function yl(s,o,l){un(s)?s.appendChild(o,l):o.appendChild(l)}function My(s,o,l,u,h){null!==u?tc(s,o,l,u,h):yl(s,o,l)}function Jg(s,o){return un(s)?s.parentNode(o):o.parentNode}function Pv(s,o,l){return Lv(s,o,l)}let Lv=function Nv(s,o,l){return 40&s.type?vi(s,l):null};function em(s,o,l,u){const h=Sy(s,u,o),g=o[11],b=Pv(u.parent||o[6],u,o);if(null!=h)if(Array.isArray(l))for(let I=0;I<l.length;I++)My(g,h,l[I],b,!1);else My(g,h,l,b,!1)}function tm(s,o){if(null!==o){const l=o.type;if(3&l)return vi(o,s);if(4&l)return Ry(-1,s[o.index]);if(8&l){const u=o.child;if(null!==u)return tm(s,u);{const h=s[o.index];return rr(h)?Ry(-1,h):an(h)}}if(32&l)return ne(o,s)()||an(s[o.index]);{const u=Vv(s,o);return null!==u?Array.isArray(u)?u[0]:tm(ot(s[16]),u):tm(s,o.next)}}return null}function Vv(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Ry(s,o){const l=10+s+1;if(l<o.length){const u=o[l],h=u[1].firstChild;if(null!==h)return tm(u,h)}return o[7]}function Uf(s,o,l,u,h,g,v){for(;null!=l;){const b=u[l.index],I=l.type;if(v&&0===o&&(b&&ki(an(b),u),l.flags|=4),64!=(64&l.flags))if(8&I)Uf(s,o,l.child,u,h,g,!1),_l(o,s,h,b,g);else if(32&I){const k=ne(l,u);let F;for(;F=k();)_l(o,s,h,F,g);_l(o,s,h,b,g)}else 16&I?Gv(s,o,u,l,h,g):_l(o,s,h,b,g);l=v?l.projectionNext:l.next}}function Wu(s,o,l,u,h,g){Uf(l,u,s.firstChild,o,h,g,!1)}function Gv(s,o,l,u,h,g){const v=l[16],I=v[6].projection[u.projection];if(Array.isArray(I))for(let k=0;k<I.length;k++)_l(o,s,h,I[k],g);else Uf(s,o,I,v[3],h,g,!0)}function zv(s,o,l){un(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function Oy(s,o,l){un(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function $v(s,o,l){let u=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===u||s.charCodeAt(h+g)<=32)return h}l=h+1}}const nm="ng-template";function $E(s,o,l){let u=0;for(;u<s.length;){let h=s[u++];if(l&&"class"===h){if(h=s[u],-1!==$v(h.toLowerCase(),o,0))return!0}else if(1===h){for(;u<s.length&&"string"==typeof(h=s[u++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function qv(s){return 4===s.type&&s.value!==nm}function Wv(s,o,l){return o===(4!==s.type||l?s.value:nm)}function qE(s,o,l){let u=4;const h=s.attrs||[],g=function WE(s){for(let o=0;o<s.length;o++)if(E(s[o]))return o;return s.length}(h);let v=!1;for(let b=0;b<o.length;b++){const I=o[b];if("number"!=typeof I){if(!v)if(4&u){if(u=2|1&u,""!==I&&!Wv(s,I,l)||""===I&&1===o.length){if(Kn(u))return!1;v=!0}}else{const k=8&u?I:o[++b];if(8&u&&null!==s.attrs){if(!$E(s.attrs,k,l)){if(Kn(u))return!1;v=!0}continue}const U=im(8&u?"class":I,h,qv(s),l);if(-1===U){if(Kn(u))return!1;v=!0;continue}if(""!==k){let Y;Y=U>g?"":h[U+1].toLowerCase();const le=8&u?Y:null;if(le&&-1!==$v(le,k,0)||2&u&&k!==Y){if(Kn(u))return!1;v=!0}}}}else{if(!v&&!Kn(u)&&!Kn(I))return!1;if(v&&Kn(I))continue;v=!1,u=I|1&u}}return Kn(u)||v}function Kn(s){return 0==(1&s)}function im(s,o,l,u){if(null===o)return-1;let h=0;if(u||!l){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function QE(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const u=s[l];if("number"==typeof u)return-1;if(u===o)return l;l++}return-1}(o,s)}function Qv(s,o,l=!1){for(let u=0;u<o.length;u++)if(qE(s,o[u],l))return!0;return!1}function Kv(s,o){e:for(let l=0;l<o.length;l++){const u=o[l];if(s.length===u.length){for(let h=0;h<s.length;h++)if(s[h]!==u[h])continue e;return!0}}return!1}function Zv(s,o){return s?":not("+o.trim()+")":o}function Fy(s){let o=s[0],l=1,u=2,h="",g=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&u){const b=s[++l];h+="["+v+(b.length>0?'="'+b+'"':"")+"]"}else 8&u?h+="."+v:4&u&&(h+=" "+v);else""!==h&&!Kn(v)&&(o+=Zv(g,h),h=""),u=v,g=g||!Kn(u);l++}return""!==h&&(o+=Zv(g,h)),o}const qt={};function Xv(s){Ma($t(),Fe(),ci()+s,fa())}function Ma(s,o,l,u){if(!u)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&va(o,g,l)}else{const g=s.preOrderHooks;null!==g&&Wr(o,g,0,l)}Dr(l)}function Qu(s,o){return s<<17|o<<2}function Ra(s){return s>>17&32767}function Ku(s){return 2|s}function Al(s){return(131068&s)>>2}function Py(s,o){return-131069&s|o<<2}function Ly(s){return 1|s}function zy(s,o){const l=s.contentQueries;if(null!==l)for(let u=0;u<l.length;u+=2){const h=l[u],g=l[u+1];if(-1!==g){const v=s.data[g];mo(h),v.contentQueries(2,o[g],g)}}}function xh(s,o,l,u,h,g,v,b,I,k){const F=o.blueprint.slice();return F[0]=h,F[2]=140|u,$r(F),F[3]=F[15]=s,F[8]=l,F[10]=v||s&&s[10],F[11]=b||s&&s[11],F[12]=I||s&&s[12]||null,F[9]=k||s&&s[9]||null,F[6]=g,F[16]=2==o.type?s[16]:F,F}function Zu(s,o,l,u,h){let g=s.data[o];if(null===g)g=function am(s,o,l,u,h){const g=po(),v=ha(),I=s.data[o]=function XS(s,o,l,u,h,g){return{type:l,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,o,u,h);return null===s.firstChild&&(s.firstChild=I),null!==g&&(v?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(s,o,l,u,h),function ga(){return wt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=u,g.attrs=h;const v=function Fs(){const s=wt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return ar(g,!0),g}function $f(s,o,l,u){if(0===l)return-1;const h=o.length;for(let g=0;g<l;g++)o.push(u),s.blueprint.push(u),s.data.push(null);return h}function lm(s,o,l){Ns(o);try{const u=s.viewQuery;null!==u&&Xy(1,u,l);const h=s.template;null!==h&&ax(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&zy(s,o),s.staticViewQueries&&Xy(2,s.viewQuery,l);const g=s.components;null!==g&&function $y(s,o){for(let l=0;l<o.length;l++)pC(s,o[l])}(o,g)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,Go()}}function qf(s,o,l,u){const h=o[2];if(256==(256&h))return;Ns(o);const g=fa();try{$r(o),function pa(s){return wt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&ax(s,o,l,2,u);const v=3==(3&h);if(!g)if(v){const k=s.preOrderCheckHooks;null!==k&&va(o,k,null)}else{const k=s.preOrderHooks;null!==k&&Wr(o,k,0,null),Ls(o,0)}if(function Zc(s){for(let o=hi(s);null!==o;o=Jr(o)){if(!o[2])continue;const l=o[9];for(let u=0;u<l.length;u++){const h=l[u],g=h[3];0==(1024&h[2])&&Vo(g,1),h[2]|=1024}}}(o),function a1(s){for(let o=hi(s);null!==o;o=Jr(o))for(let l=10;l<o.length;l++){const u=o[l],h=u[1];gs(u)&&qf(h,u,h.template,u[8])}}(o),null!==s.contentQueries&&zy(s,o),!g)if(v){const k=s.contentCheckHooks;null!==k&&va(o,k)}else{const k=s.contentHooks;null!==k&&Wr(o,k,1),Ls(o,1)}!function nC(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const h=l[u];if(h<0)Dr(~h);else{const g=h,v=l[++u],b=l[++u];Bl(v,g),b(2,o[g])}}}finally{Dr(-1)}}(s,o);const b=s.components;null!==b&&function iC(s,o){for(let l=0;l<o.length;l++)xx(s,o[l])}(o,b);const I=s.viewQuery;if(null!==I&&Xy(2,I,u),!g)if(v){const k=s.viewCheckHooks;null!==k&&va(o,k)}else{const k=s.viewHooks;null!==k&&Wr(o,k,2),Ls(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Vo(o[3],-1))}finally{Go()}}function rC(s,o,l,u){const h=o[10],g=!fa(),v=Rs(o);try{g&&!v&&h.begin&&h.begin(),v&&lm(s,o,u),qf(s,o,l,u)}finally{g&&!v&&h.end&&h.end()}}function ax(s,o,l,u,h){const g=ci(),v=2&u;try{Dr(-1),v&&o.length>20&&Ma(s,o,20,fa()),l(u,h)}finally{Dr(g)}}function lx(s,o,l){if(aa(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}function qy(s,o,l){!da()||(function dm(s,o,l,u){const h=l.directiveStart,g=l.directiveEnd;s.firstCreatePass||jl(l,o),ki(u,o);const v=l.initialInputs;for(let b=h;b<g;b++){const I=s.data[b],k=Cr(I);k&&r1(o,l,I);const F=$l(o,s,b,l);ki(F,o),null!==v&&s1(0,b-h,F,I,0,v),k&&(ii(l.index,o)[8]=F)}}(s,o,l,vi(l,o)),128==(128&l.flags)&&function uC(s,o,l){const u=l.directiveStart,h=l.directiveEnd,v=l.index,b=function il(){return wt.lFrame.currentDirectiveIndex}();try{Dr(v);for(let I=u;I<h;I++){const k=s.data[I],F=o[I];_a(I),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&dC(k,F)}}finally{Dr(-1),_a(b)}}(s,o,l))}function Wy(s,o,l=vi){const u=o.localNames;if(null!==u){let h=o.index+1;for(let g=0;g<u.length;g+=2){const v=u[g+1],b=-1===v?l(o,s):s[v];s[h++]=b}}}function cx(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=cm(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function cm(s,o,l,u,h,g,v,b,I,k){const F=20+u,U=F+h,Y=function ux(s,o){const l=[];for(let u=0;u<o;u++)l.push(u<s?null:qt);return l}(F,U),le="function"==typeof k?k():k;return Y[1]={type:s,blueprint:Y,template:l,queries:null,viewQuery:b,declTNode:o,data:Y.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:le,incompleteFirstPass:!1}}function sC(s,o,l,u){const h=Xr(o);null===l?h.push(u):(h.push(l),s.firstCreatePass&&Wf(s).push(u,h.length-1))}function fx(s,o,l){for(let u in s)if(s.hasOwnProperty(u)){const h=s[u];(l=null===l?{}:l).hasOwnProperty(u)?l[u].push(o,h):l[u]=[o,h]}return l}function Qy(s,o,l,u){let h=!1;if(da()){const g=function hC(s,o,l){const u=s.directiveRegistry;let h=null;if(u)for(let g=0;g<u.length;g++){const v=u[g];Qv(l,v.selectors,!1)&&(h||(h=[]),xa(jl(l,o),s,v.type),Cr(v)?(hm(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===u?null:{"":-1};if(null!==g){h=!0,yx(l,s.data.length,g.length);for(let F=0;F<g.length;F++){const U=g[F];U.providersResolver&&U.providersResolver(U)}let b=!1,I=!1,k=$f(s,o,g.length,null);for(let F=0;F<g.length;F++){const U=g[F];l.mergedAttrs=R(l.mergedAttrs,U.hostAttrs),Ax(s,l,o,k,U),n1(k,U,v),null!==U.contentQueries&&(l.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(l.flags|=128);const Y=U.type.prototype;!b&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),b=!0),!I&&(Y.ngOnChanges||Y.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),I=!0),k++}!function oC(s,o){const u=o.directiveEnd,h=s.data,g=o.attrs,v=[];let b=null,I=null;for(let k=o.directiveStart;k<u;k++){const F=h[k],U=F.inputs,Y=null===g||qv(o)?null:o1(U,g);v.push(Y),b=fx(U,k,b),I=fx(F.outputs,k,I)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=b,o.outputs=I}(s,l)}v&&function t1(s,o,l){if(o){const u=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=l[o[h+1]];if(null==g)throw new Be(-301,!1);u.push(o[h],g)}}}(l,u,v)}return l.mergedAttrs=R(l.mergedAttrs,l.attrs),h}function mx(s,o,l,u,h,g){const v=g.hostBindings;if(v){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const I=~o.index;(function _x(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(b)!=I&&b.push(I),b.push(u,h,v)}}function dC(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function hm(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function n1(s,o,l){if(l){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)l[o.exportAs[u]]=s;Cr(o)&&(l[""]=s)}}function yx(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function Ax(s,o,l,u,h){s.data[u]=h;const g=h.factory||(h.factory=Si(h.type)),v=new Ji(g,Cr(h),null);s.blueprint[u]=v,l[u]=v,mx(s,o,0,u,$f(s,l,h.hostVars,qt),h)}function r1(s,o,l){const u=vi(o,s),h=cx(l),g=s[10],v=Qs(s,xh(s,h,null,l.onPush?64:16,u,o,g,g.createRenderer(u,l),null,null));s[o.index]=v}function sc(s,o,l,u,h,g){const v=vi(s,o);!function vx(s,o,l,u,h,g,v){if(null==g)un(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const b=null==v?Se(g):v(g,u||"",h);un(s)?s.setAttribute(o,h,b,l):l?o.setAttributeNS(l,h,b):o.setAttribute(h,b)}}(o[11],v,g,s.value,l,u,h)}function s1(s,o,l,u,h,g){const v=g[o];if(null!==v){const b=u.setInput;for(let I=0;I<v.length;){const k=v[I++],F=v[I++],U=v[I++];null!==b?u.setInput(l,U,k,F):l[F]=U}}}function o1(s,o){let l=null,u=0;for(;u<o.length;){const h=o[u];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[u+1])),u+=2}else u+=2;else u+=4}return l}function fC(s,o,l,u){return new Array(s,!0,!1,o,null,0,u,l,null,null)}function xx(s,o){const l=ii(o,s);if(gs(l)){const u=l[1];80&l[2]?qf(u,l,u.template,l[8]):l[5]>0&&Ky(l)}}function Ky(s){for(let u=hi(s);null!==u;u=Jr(u))for(let h=10;h<u.length;h++){const g=u[h];if(1024&g[2]){const v=g[1];qf(v,g,v.template,g[8])}else g[5]>0&&Ky(g)}const l=s[1].components;if(null!==l)for(let u=0;u<l.length;u++){const h=ii(l[u],s);gs(h)&&h[5]>0&&Ky(h)}}function pC(s,o){const l=ii(o,s),u=l[1];(function hr(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(u,l),lm(u,l,l[8])}function Qs(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function bh(s){for(;s;){s[2]|=64;const o=ot(s);if(Li(s)&&!o)return s;s=o}return null}function Jy(s,o,l){const u=o[10];u.begin&&u.begin();try{qf(s,o,s.template,l)}catch(h){throw fm(o,h),h}finally{u.end&&u.end()}}function bx(s){!function Yy(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],u=Uu(l),h=u[1];rC(h,u,h.template,l)}}(s[8])}function Xy(s,o,l){mo(0),o(s,l)}const mC=(()=>Promise.resolve(null))();function Xr(s){return s[7]||(s[7]=[])}function Wf(s){return s.cleanup||(s.cleanup=[])}function fm(s,o){const l=s[9],u=l?l.get(Gu,null):null;u&&u.handleError(o)}function Qf(s,o,l,u,h){for(let g=0;g<l.length;){const v=l[g++],b=l[g++],I=o[v],k=s.data[v];null!==k.setInput?k.setInput(I,h,u,b):I[b]=h}}function Fa(s,o,l){const u=ps(o,s);!function Lf(s,o,l){un(s)?s.setValue(o,l):o.textContent=l}(s[11],u,l)}function wh(s,o,l){let u=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const b=o[v];"number"==typeof b?g=b:1==g?h=xe(h,b):2==g&&(u=xe(u,b+": "+o[++v]+";"))}l?s.styles=u:s.stylesWithoutHost=u,l?s.classes=h:s.classesWithoutHost=h}const tA=new Hn("INJECTOR",-1);class Ex{get(o,l=Lc){if(l===Lc){const u=new Error(`NullInjectorError: No provider for ${_e(o)}!`);throw u.name="NullInjectorError",u}return l}}const Yu=new Hn("Set Injector scope."),Eh={},pm={};let gm;function Cx(){return void 0===gm&&(gm=new Ex),gm}function Ix(s,o=null,l=null,u){const h=Dx(s,o,l,u);return h._resolveInjectorDefTypes(),h}function Dx(s,o=null,l=null,u){return new AC(s,l,o||Cx(),u)}class AC{constructor(o,l,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&Sr(l,b=>this.processProvider(b,o,l)),Sr([o],b=>this.processInjectorType(b,[],g)),this.records.set(tA,Ju(void 0,this));const v=this.records.get(Yu);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:_e(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=Lc,u=ft.Default){this.assertNotDestroyed();const h=Mg(this),g=Vn(void 0);try{if(!(u&ft.SkipSelf)){let b=this.records.get(o);if(void 0===b){const I=function Mx(s){return"function"==typeof s||"object"==typeof s&&s instanceof Hn}(o)&&Ht(o);b=I&&this.injectableDefInScope(I)?Ju(mm(o),Eh):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(u&ft.Self?Cx():this.parent).get(o,l=u&ft.Optional&&l===Lc?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Ca]=v[Ca]||[]).unshift(_e(o)),h)throw v;return function Xe(s,o,l,u){const h=s[Ca];throw o[dl]&&h.unshift(o[dl]),s.message=function Ct(s,o,l,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=_e(o);if(Array.isArray(o))h=o.map(_e).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let b=o[v];g.push(v+":"+("string"==typeof b?JSON.stringify(b):_e(b)))}h=`{${g.join(", ")}}`}return`${l}${u?"("+u+")":""}[${h}]: ${s.replace(Bc,"\n  ")}`}("\n"+s.message,h,l,u),s.ngTokenPath=h,s[Ca]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Vn(g),Mg(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,h)=>o.push(_e(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processInjectorType(o,l,u){if(!(o=oe(o)))return!1;let h=Ci(o);const g=null==h&&o.ngModule||void 0,v=void 0===g?o:g,b=-1!==u.indexOf(v);if(void 0!==g&&(h=Ci(g)),null==h)return!1;if(null!=h.imports&&!b){let F;u.push(v);try{Sr(h.imports,U=>{this.processInjectorType(U,l,u)&&(void 0===F&&(F=[]),F.push(U))})}finally{}if(void 0!==F)for(let U=0;U<F.length;U++){const{ngModule:Y,providers:le}=F[U];Sr(le,Te=>this.processProvider(Te,Y,le||yt))}}this.injectorDefTypes.add(v);const I=Si(v)||(()=>new v);this.records.set(v,Ju(I,Eh));const k=h.providers;if(null!=k&&!b){const F=o;Sr(k,U=>this.processProvider(U,F,k))}return void 0!==g&&void 0!==o.providers}processProvider(o,l,u){let h=Xu(o=oe(o))?o:oe(o&&o.provide);const g=function Tx(s,o,l){return Ch(s)?Ju(void 0,s.useValue):Ju(_m(s),Eh)}(o);if(Xu(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=Ju(void 0,Eh,!0),v.factory=()=>se(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,g)}hydrate(o,l){return l.value===Eh&&(l.value=pm,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Sx(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=oe(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function mm(s){const o=Ht(s),l=null!==o?o.factory:Si(s);if(null!==l)return l;if(s instanceof Hn)throw new Be(204,!1);if(s instanceof Function)return function nA(s){const o=s.length;if(o>0)throw Ql(o,"?"),new Be(204,!1);const l=function tr(s){const o=s&&(s[Qi]||s[Jn]);if(o){const l=function ai(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Be(204,!1)}function _m(s,o,l){let u;if(Xu(s)){const h=oe(s);return Si(h)||mm(h)}if(Ch(s))u=()=>oe(s.useValue);else if(function iA(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...se(s.deps||[]));else if(function vC(s){return!(!s||!s.useExisting)}(s))u=()=>T(oe(s.useExisting));else{const h=oe(s&&(s.useClass||s.provide));if(!function rA(s){return!!s.deps}(s))return Si(h)||mm(h);u=()=>new h(...se(s.deps))}return u}function Ju(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function Ch(s){return null!==s&&"object"==typeof s&&Zd in s}function Xu(s){return"function"==typeof s}let Co=(()=>{class s{static create(l,u){var h;if(Array.isArray(l))return Ix({name:""},u,l,"");{const g=null!==(h=l.name)&&void 0!==h?h:"";return Ix({name:g},l.parent,l.providers,g)}}}return s.THROW_IF_NOT_FOUND=Lc,s.NULL=new Ex,s.\u0275prov=Kt({token:s,providedIn:"any",factory:()=>T(tA)}),s.__NG_ELEMENT_ID__=-1,s})();function TC(s,o){Mc(Uu(s)[1],bn())}function vm(s){let o=function dA(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const u=[s];for(;o;){let h;if(Cr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Be(903,"");h=o.\u0275dir}if(h){if(l){u.push(h);const v=s;v.inputs=xm(s.inputs),v.declaredInputs=xm(s.declaredInputs),v.outputs=xm(s.outputs);const b=h.hostBindings;b&&p1(s,b);const I=h.viewQuery,k=h.contentQueries;if(I&&f1(s,I),k&&MC(s,k),de(s.inputs,h.inputs),de(s.declaredInputs,h.declaredInputs),de(s.outputs,h.outputs),Cr(h)&&h.data.animation){const F=s.data;F.animation=(F.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const b=g[v];b&&b.ngInherit&&b(s),b===vm&&(l=!1)}}o=Object.getPrototypeOf(o)}!function Vx(s){let o=0,l=null;for(let u=s.length-1;u>=0;u--){const h=s[u];h.hostVars=o+=h.hostVars,h.hostAttrs=R(h.hostAttrs,l=R(l,h.hostAttrs))}}(u)}function xm(s){return s===yi?{}:s===yt?[]:s}function f1(s,o){const l=s.viewQuery;s.viewQuery=l?(u,h)=>{o(u,h),l(u,h)}:o}function MC(s,o){const l=s.contentQueries;s.contentQueries=l?(u,h,g)=>{o(u,h,g),l(u,h,g)}:o}function p1(s,o){const l=s.hostBindings;s.hostBindings=l?(u,h)=>{o(u,h),l(u,h)}:o}let bm=null;function ed(){if(!bm){const s=Zt.Symbol;if(s&&s.iterator)bm=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const u=o[l];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(bm=u)}}}return bm}function Ih(s){return!!Ux(s)&&(Array.isArray(s)||!(s instanceof Map)&&ed()in s)}function Ux(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Yo(s,o,l){return s[o]=l}function es(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Dh(s,o,l,u){const h=es(s,o,l);return es(s,o+1,u)||h}function Gx(s,o,l,u){const h=Fe();return es(h,Ps(),o)&&($t(),sc(Fn(),h,s,o,l,u)),Gx}function Jf(s,o,l,u,h,g){const b=Dh(s,function ms(){return wt.lFrame.bindingIndex}(),l,h);return lr(2),b?o+Se(l)+u+Se(h)+g:qt}function Wx(s,o,l,u,h,g,v,b){const I=Fe(),k=$t(),F=s+20,U=k.firstCreatePass?function OC(s,o,l,u,h,g,v,b,I){const k=o.consts,F=Zu(o,s,4,v||null,Ir(k,b));Qy(o,l,F,Ir(k,I)),Mc(o,F);const U=F.tViews=cm(2,F,u,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,k);return null!==o.queries&&(o.queries.template(o,F),U.queries=o.queries.embeddedTView(F)),F}(F,k,I,o,l,u,h,g,v):k.data[F];ar(U,!1);const Y=I[11].createComment("");em(k,I,Y,U),ki(Y,I),Qs(I,I[F]=fC(Y,I,Y,U)),Gr(U)&&qy(k,I,U),null!=v&&Wy(I,U,b)}function Cm(s){return zr(function tl(){return wt.lFrame.contextLView}(),20+s)}function Rh(s,o=ft.Default){const l=Fe();return null===l?T(s,o):Tu(bn(),l,oe(s),o)}function lp(s,o,l){const u=Fe();return es(u,Ps(),o)&&function Ws(s,o,l,u,h,g,v,b){const I=vi(o,l);let F,k=o.inputs;!b&&null!=k&&(F=k[u])?(Qf(s,l,F,u,h),vc(o)&&function px(s,o){const l=ii(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(u=function um(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),h=null!=v?v(h,o.value||"",u):h,un(g)?g.setProperty(I,u,h):C(u)||(I.setProperty?I.setProperty(u,h):I[u]=h))}($t(),Fn(),u,s,o,u[11],l,!1),lp}function bA(s,o,l,u,h){const v=h?"class":"style";Qf(s,l,o.inputs[v],v,u)}function oc(s,o,l,u){const h=Fe(),g=$t(),v=20+s,b=h[11],I=h[v]=Sa(b,o,function Ul(){return wt.lFrame.currentNamespace}()),k=g.firstCreatePass?function zC(s,o,l,u,h,g,v){const b=o.consts,k=Zu(o,s,2,h,Ir(b,g));return Qy(o,l,k,Ir(b,v)),null!==k.attrs&&wh(k,k.attrs,!1),null!==k.mergedAttrs&&wh(k,k.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,k),k}(v,g,h,0,o,l,u):g.data[v];ar(k,!0);const F=k.mergedAttrs;null!==F&&$n(b,I,F);const U=k.classes;null!==U&&Oy(b,I,U);const Y=k.styles;return null!==Y&&zv(b,I,Y),64!=(64&k.flags)&&em(g,h,I,k),0===function Xa(){return wt.lFrame.elementDepthCount}()&&ki(I,h),function Os(){wt.lFrame.elementDepthCount++}(),Gr(k)&&(qy(g,h,k),lx(g,k,h)),null!==u&&Wy(h,k),oc}function cp(){let s=bn();ha()?Ll():(s=s.parent,ar(s,!1));const o=s;!function Pl(){wt.lFrame.elementDepthCount--}();const l=$t();return l.firstCreatePass&&(Mc(l,s),aa(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Gl(s){return 0!=(16&s.flags)}(o)&&bA(l,o,Fe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function zd(s){return 0!=(32&s.flags)}(o)&&bA(l,o,Fe(),o.stylesWithoutHost,!1),cp}function up(s,o,l,u){return oc(s,o,l,u),cp(),up}function dp(s,o,l){const u=Fe(),h=$t(),g=s+20,v=h.firstCreatePass?function qC(s,o,l,u,h){const g=o.consts,v=Ir(g,u),b=Zu(o,s,8,"ng-container",v);return null!==v&&wh(b,v,!0),Qy(o,l,b,Ir(g,h)),null!==o.queries&&o.queries.elementStart(o,b),b}(g,h,u,o,l):h.data[g];ar(v,!0);const b=u[g]=u[11].createComment("");return em(h,u,b,v),ki(b,u),Gr(v)&&(qy(h,u,v),lx(h,v,u)),null!=l&&Wy(u,v),dp}function td(){let s=bn();const o=$t();return ha()?Ll():(s=s.parent,ar(s,!1)),o.firstCreatePass&&(Mc(o,s),aa(s)&&o.queries.elementEnd(s)),td}function hp(s,o,l){return dp(s,o,l),td(),hp}function Sm(){return Fe()}function fp(s){return!!s&&"function"==typeof s.then}function ib(s){return!!s&&"function"==typeof s.subscribe}const rb=ib;function pp(s,o,l,u){const h=Fe(),g=$t(),v=bn();return function sb(s,o,l,u,h,g,v,b){const I=Gr(u),F=s.firstCreatePass&&Wf(s),U=o[8],Y=Xr(o);let le=!0;if(3&u.type||b){const Je=vi(u,o),dt=b?b(Je):Je,ke=Y.length,Dt=b?Jt=>b(an(Jt[u.index])):u.index;if(un(l)){let Jt=null;if(!b&&I&&(Jt=function WC(s,o,l,u){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===l&&h[g+1]===u){const b=o[7],I=h[g+2];return b.length>I?b[I]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,u.index)),null!==Jt)(Jt.__ngLastListenerFn__||Jt).__ngNextListenerFn__=g,Jt.__ngLastListenerFn__=g,le=!1;else{g=nd(u,o,U,g,!1);const _n=l.listen(dt,h,g);Y.push(g,_n),F&&F.push(h,Dt,ke,ke+1)}}else g=nd(u,o,U,g,!0),dt.addEventListener(h,g,v),Y.push(g),F&&F.push(h,Dt,ke,v)}else g=nd(u,o,U,g,!1);const Te=u.outputs;let qe;if(le&&null!==Te&&(qe=Te[h])){const Je=qe.length;if(Je)for(let dt=0;dt<Je;dt+=2){const no=o[qe[dt]][qe[dt+1]].subscribe(g),io=Y.length;Y.push(g,no),F&&F.push(h,u.index,io,-(io+1))}}}(g,h,h[11],v,s,o,!!l,u),pp}function Pr(s,o,l,u){try{return!1!==l(u)}catch(h){return fm(s,h),!1}}function nd(s,o,l,u,h){return function g(v){if(v===Function)return u;const b=2&s.flags?ii(s.index,o):o;0==(32&o[2])&&bh(b);let I=Pr(o,0,u,v),k=g.__ngNextListenerFn__;for(;k;)I=Pr(o,0,k,v)&&I,k=k.__ngNextListenerFn__;return h&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function ob(s=1){return function qr(s){return(wt.lFrame.contextLView=function Eu(s,o){for(;s>0;)o=o[15],s--;return o}(s,wt.lFrame.contextLView))[8]}(s)}function gp(s,o){let l=null;const u=function Gf(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===u?Qv(s,g,!0):Kv(u,g))return h}else l=h}return l}function ab(s){const o=Fe()[16][6];if(!o.projection){const u=o.projection=Ql(s?s.length:1,null),h=u.slice();let g=o.child;for(;null!==g;){const v=s?gp(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:u[v]=g,h[v]=g),g=g.next}}}function lb(s,o=0,l){const u=Fe(),h=$t(),g=Zu(h,20+s,16,null,l||null);null===g.projection&&(g.projection=o),Ll(),64!=(64&g.flags)&&function Uv(s,o,l){Gv(o[11],0,o,l,Sy(s,l,o),Pv(l.parent||o[6],l,o))}(h,u,g)}function db(s,o,l,u,h){const g=s[l+1],v=null===o;let b=u?Ra(g):Al(g),I=!1;for(;0!==b&&(!1===I||v);){const F=s[b+1];TA(s[b],o)&&(I=!0,s[b+1]=u?Ly(F):Ku(F)),b=u?Ra(F):Al(F)}I&&(s[l+1]=u?Ku(g):Ly(g))}function TA(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Gs(s,o)>=0}const Ri={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Fm(s){return s.substring(Ri.key,Ri.keyEnd)}function gr(s){return s.substring(Ri.value,Ri.valueEnd)}function hb(s,o){const l=Ri.textEnd;let u=Ri.key=id(s,o,l);return l===u?-1:(u=Ri.keyEnd=function ZC(s,o,l){let u;for(;o<l&&(45===(u=s.charCodeAt(o))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)o++;return o}(s,u,l),u=Pm(s,u,l),u=Ri.value=id(s,u,l),u=Ri.valueEnd=function MA(s,o,l){let u=-1,h=-1,g=-1,v=o,b=v;for(;v<l;){const I=s.charCodeAt(v++);if(59===I)return b;34===I||39===I?b=v=pb(s,I,v,l):o===v-4&&85===g&&82===h&&76===u&&40===I?b=v=pb(s,41,v,l):I>32&&(b=v),g=h,h=u,u=-33&I}return b}(s,u,l),Pm(s,u,l))}function id(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function Pm(s,o,l,u){return(o=id(s,o,l))<l&&o++,o}function pb(s,o,l,u){let h=-1,g=l;for(;g<u;){const v=s.charCodeAt(g++);if(v==o&&92!==h)return g;h=92==v&&92===h?0:v}throw new Error}function Nm(s,o,l){return Va(s,o,l,!1),Nm}function kA(s,o){return Va(s,o,null,!0),kA}function Zs(s){!function bs(s,o,l,u){const h=$t(),g=lr(2);h.firstUpdatePass&&PA(h,null,g,u);const v=Fe();if(l!==qt&&es(v,g,l)){const b=h.data[ci()];if(ns(b,u)&&!FA(h,g)){let I=u?b.classesWithoutHost:b.stylesWithoutHost;null!==I&&(l=xe(I,l||"")),bA(h,b,v,l,u)}else!function _b(s,o,l,u,h,g,v,b){h===qt&&(h=yt);let I=0,k=0,F=0<h.length?h[0]:null,U=0<g.length?g[0]:null;for(;null!==F||null!==U;){const Y=I<h.length?h[I+1]:void 0,le=k<g.length?g[k+1]:void 0;let qe,Te=null;F===U?(I+=2,k+=2,Y!==le&&(Te=U,qe=le)):null===U||null!==F&&F<U?(I+=2,Te=F):(k+=2,Te=U,qe=le),null!==Te&&Ap(s,o,l,u,Te,qe,v,b),F=I<h.length?h[I]:null,U=k<g.length?g[k]:null}}(h,b,v,v[11],v[g+1],v[g+1]=function XC(s,o,l){if(null==l||""===l)return yt;const u=[],h=Ko(l);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(u,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(u,g,h[g]);else"string"==typeof h&&o(u,h);return u}(s,o,l),u,g)}}(Xc,RA,s,!1)}function RA(s,o){for(let l=function SA(s){return function fb(s){Ri.key=0,Ri.keyEnd=0,Ri.value=0,Ri.valueEnd=0,Ri.textEnd=s.length}(s),hb(s,id(s,0,Ri.textEnd))}(o);l>=0;l=hb(o,l))Xc(s,Fm(o),gr(o))}function Va(s,o,l,u){const h=Fe(),g=$t(),v=lr(2);g.firstUpdatePass&&PA(g,s,v,u),o!==qt&&es(h,v,o)&&Ap(g,g.data[ci()],h,h[11],s,h[v+1]=function yb(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=_e(Ko(s)))),s}(o,l),u,v)}function FA(s,o){return o>=s.expandoStartIndex}function PA(s,o,l,u){const h=s.data;if(null===h[l+1]){const g=h[ci()],v=FA(s,l);ns(g,u)&&null===o&&!v&&(o=!1),o=function mb(s,o,l,u){const h=function go(s){const o=wt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=u?o.residualClasses:o.residualStyles;if(null===h)0===(u?o.classBindings:o.styleBindings)&&(l=yp(l=Jc(null,s,o,l,u),o.attrs,u),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=Jc(h,s,o,l,u),null===g){let I=function Lm(s,o,l){const u=l?o.classBindings:o.styleBindings;if(0!==Al(u))return s[Ra(u)]}(s,o,u);void 0!==I&&Array.isArray(I)&&(I=Jc(null,s,o,I[1],u),I=yp(I,o.attrs,u),function YC(s,o,l,u){s[Ra(l?o.classBindings:o.styleBindings)]=u}(s,o,u,I))}else g=function JC(s,o,l){let u;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)u=yp(u,s[g].hostAttrs,l);return yp(u,o.attrs,l)}(s,o,u)}return void 0!==g&&(u?o.residualClasses=g:o.residualStyles=g),l}(h,g,o,u),function DA(s,o,l,u,h,g){let v=g?o.classBindings:o.styleBindings,b=Ra(v),I=Al(v);s[u]=l;let F,k=!1;if(Array.isArray(l)){const U=l;F=U[1],(null===F||Gs(U,F)>0)&&(k=!0)}else F=l;if(h)if(0!==I){const Y=Ra(s[b+1]);s[u+1]=Qu(Y,b),0!==Y&&(s[Y+1]=Py(s[Y+1],u)),s[b+1]=function _h(s,o){return 131071&s|o<<17}(s[b+1],u)}else s[u+1]=Qu(b,0),0!==b&&(s[b+1]=Py(s[b+1],u)),b=u;else s[u+1]=Qu(I,0),0===b?b=u:s[I+1]=Py(s[I+1],u),I=u;k&&(s[u+1]=Ku(s[u+1])),db(s,F,u,!0),db(s,F,u,!1),function ub(s,o,l,u,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Gs(g,o)>=0&&(l[u+1]=Ly(l[u+1]))}(o,F,s,u,g),v=Qu(b,I),g?o.classBindings=v:o.styleBindings=v}(h,g,o,l,v,u)}}function Jc(s,o,l,u,h){let g=null;const v=l.directiveEnd;let b=l.directiveStylingLast;for(-1===b?b=l.directiveStart:b++;b<v&&(g=o[b],u=yp(u,g.hostAttrs,h),g!==s);)b++;return null!==s&&(l.directiveStylingLast=b),u}function yp(s,o,l){const u=l?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Hi(s,v,!!l||o[++g]))}return void 0===s?null:s}function Xc(s,o,l){Hi(s,o,Ko(l))}function Ap(s,o,l,u,h,g,v,b){if(!(3&o.type))return;const I=s.data,k=I[b+1];eu(function Ny(s){return 1==(1&s)}(k)?NA(I,o,l,h,Al(k),v):void 0)||(eu(g)||function ex(s){return 2==(2&s)}(k)&&(g=NA(I,null,l,h,b,v)),function jv(s,o,l,u,h){const g=un(s);if(o)h?g?s.addClass(l,u):l.classList.add(u):g?s.removeClass(l,u):l.classList.remove(u);else{let v=-1===u.indexOf("-")?void 0:M.DashCase;if(null==h)g?s.removeStyle(l,u,v):l.style.removeProperty(u);else{const b="string"==typeof h&&h.endsWith("!important");b&&(h=h.slice(0,-10),v|=M.Important),g?s.setStyle(l,u,h,v):l.style.setProperty(u,h,b?"important":"")}}}(u,v,ps(ci(),l),h,g))}function NA(s,o,l,u,h,g){const v=null===o;let b;for(;h>0;){const I=s[h],k=Array.isArray(I),F=k?I[1]:I,U=null===F;let Y=l[h+1];Y===qt&&(Y=U?yt:void 0);let le=U?bo(Y,u):F===u?Y:void 0;if(k&&!eu(le)&&(le=bo(I,u)),eu(le)&&(b=le,v))return b;const Te=s[h+1];h=v?Ra(Te):Al(Te)}if(null!==o){let I=g?o.residualClasses:o.residualStyles;null!=I&&(b=bo(I,u))}return b}function eu(s){return void 0!==s}function ns(s,o){return 0!=(s.flags&(o?16:32))}function LA(s,o=""){const l=Fe(),u=$t(),h=s+20,g=u.firstCreatePass?Zu(u,h,1,o,null):u.data[h],v=l[h]=function $u(s,o){return un(s)?s.createText(o):s.createTextNode(o)}(l[11],o);em(u,l,v,g),ar(g,!1)}function rd(s){return sd("",s,""),rd}function sd(s,o,l){const u=Fe(),h=function Th(s,o,l,u){return es(s,Ps(),l)?o+Se(l)+u:qt}(u,s,o,l);return h!==qt&&Fa(u,ci(),h),sd}function Bm(s,o,l,u,h){const g=Fe(),v=Jf(g,s,o,l,u,h);return v!==qt&&Fa(g,ci(),v),Bm}const iu=void 0;var Qm=["en",[["a","p"],["AM","PM"],iu],[["AM","PM"],iu,iu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],iu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],iu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",iu,"{1} 'at' {0}",iu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function si(s){const l=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let Ph={};function ld(s){const o=function iI(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=zA(o);if(l)return l;const u=o.split("-")[0];if(l=zA(u),l)return l;if("en"===u)return Qm;throw new Error(`Missing locale data for the locale "${s}".`)}function Cb(s){return ld(s)[Pt.PluralCase]}function zA(s){return s in Ph||(Ph[s]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[s]),Ph[s]}var Pt=(()=>((Pt=Pt||{})[Pt.LocaleId=0]="LocaleId",Pt[Pt.DayPeriodsFormat=1]="DayPeriodsFormat",Pt[Pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pt[Pt.DaysFormat=3]="DaysFormat",Pt[Pt.DaysStandalone=4]="DaysStandalone",Pt[Pt.MonthsFormat=5]="MonthsFormat",Pt[Pt.MonthsStandalone=6]="MonthsStandalone",Pt[Pt.Eras=7]="Eras",Pt[Pt.FirstDayOfWeek=8]="FirstDayOfWeek",Pt[Pt.WeekendRange=9]="WeekendRange",Pt[Pt.DateFormat=10]="DateFormat",Pt[Pt.TimeFormat=11]="TimeFormat",Pt[Pt.DateTimeFormat=12]="DateTimeFormat",Pt[Pt.NumberSymbols=13]="NumberSymbols",Pt[Pt.NumberFormats=14]="NumberFormats",Pt[Pt.CurrencyCode=15]="CurrencyCode",Pt[Pt.CurrencySymbol=16]="CurrencySymbol",Pt[Pt.CurrencyName=17]="CurrencyName",Pt[Pt.Currencies=18]="Currencies",Pt[Pt.Directionality=19]="Directionality",Pt[Pt.PluralCase=20]="PluralCase",Pt[Pt.ExtraData=21]="ExtraData",Pt))();const Ua="en-US";let Db=Ua;function ut(s,o,l,u,h){if(s=oe(s),Array.isArray(s))for(let g=0;g<s.length;g++)ut(s[g],o,l,u,h);else{const g=$t(),v=Fe();let b=Xu(s)?s:oe(s.provide),I=_m(s);const k=bn(),F=1048575&k.providerIndexes,U=k.directiveStart,Y=k.providerIndexes>>20;if(Xu(s)||!s.multi){const le=new Ji(I,h,Rh),Te=it(b,o,h?F:F+Y,U);-1===Te?(xa(jl(k,v),g,b),Lt(g,s,o.length),o.push(b),k.directiveStart++,k.directiveEnd++,h&&(k.providerIndexes+=1048576),l.push(le),v.push(le)):(l[Te]=le,v[Te]=le)}else{const le=it(b,o,F+Y,U),Te=it(b,o,F,F+Y),qe=le>=0&&l[le],Je=Te>=0&&l[Te];if(h&&!Je||!h&&!qe){xa(jl(k,v),g,b);const dt=function Kb(s,o,l,u,h){const g=new Ji(s,l,Rh);return g.multi=[],g.index=o,g.componentProviders=0,Qb(g,h,u&&!l),g}(h?He:we,l.length,h,u,I);!h&&Je&&(l[Te].providerFactory=dt),Lt(g,s,o.length,0),o.push(b),k.directiveStart++,k.directiveEnd++,h&&(k.providerIndexes+=1048576),l.push(dt),v.push(dt)}else Lt(g,s,le>-1?le:Te,Qb(l[h?Te:le],I,!h&&u));!h&&u&&Je&&l[Te].componentProviders++}}}function Lt(s,o,l,u){const h=Xu(o),g=function xC(s){return!!s.useClass}(o);if(h||g){const I=(g?oe(o.useClass):o).prototype.ngOnDestroy;if(I){const k=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const F=k.indexOf(l);-1===F?k.push(l,[u,I]):k[F+1].push(u,I)}else k.push(l,I)}}}function Qb(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function it(s,o,l,u){for(let h=l;h<u;h++)if(o[h]===s)return h;return-1}function we(s,o,l,u){return $i(this.multi,[])}function He(s,o,l,u){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,b=$l(l,l[1],this.providerFactory.index,u);g=b.slice(0,v),$i(h,g);for(let I=v;I<b.length;I++)g.push(b[I])}else g=[],$i(h,g);return g}function $i(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function Zb(s,o=[]){return l=>{l.providersResolver=(u,h)=>function s0(s,o,l){const u=$t();if(u.firstCreatePass){const h=Cr(s);ut(l,u.data,u.blueprint,h,!0),ut(o,u.data,u.blueprint,h,!1)}}(u,h?h(s):s,o)}}class Yb{}class xI{resolveComponentFactory(o){throw function AI(s){const o=Error(`No component factory found for ${_e(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let o0=(()=>{class s{}return s.NULL=new xI,s})();function bI(){return hd(bn(),Fe())}function hd(s,o){return new Bt(vi(s,o))}let Bt=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=bI,s})();function Bh(s){return s instanceof Bt?s.nativeElement:s}class Zn{}let Vt=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function dn(){const s=Fe(),l=ii(bn().index,s);return function Lp(s){return s[11]}(Ti(l)?l:s)}(),s})(),EI=(()=>{class s{}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:()=>null}),s})();class fi{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const et=new fi("13.2.7"),Vh={};function Uh(s,o,l,u,h=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&u.push(an(g)),rr(g))for(let b=10;b<g.length;b++){const I=g[b],k=I[1].firstChild;null!==k&&Uh(I[1],I,k,u)}const v=l.type;if(8&v)Uh(s,o,l.child,u);else if(32&v){const b=ne(l,o);let I;for(;I=b();)u.push(I)}else if(16&v){const b=Vv(o,l);if(Array.isArray(b))u.push(...b);else{const I=ot(o[16]);Uh(I[1],I,b,u,!0)}}l=h?l.projectionNext:l.next}return u}class Ga{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Uh(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(rr(o)){const l=o[8],u=l?l.indexOf(this):-1;u>-1&&(Dy(o,u),wa(l,u))}this._attachedToViewContainer=!1}Fv(this._lView[1],this._lView)}onDestroy(o){sC(this._lView[1],this._lView,null,o)}markForCheck(){bh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Jy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function wx(s,o,l){nl(!0);try{Jy(s,o,l)}finally{nl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Be(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wc(s,o){Wu(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Be(902,"");this._appRef=o}}class CI extends Ga{constructor(o){super(o),this._view=o}detectChanges(){bx(this._view)}checkNoChanges(){!function gC(s){nl(!0);try{bx(s)}finally{nl(!1)}}(this._view)}get context(){return null}}class Bp extends o0{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=ti(o);return new o_(l,this.ngModule)}}function Xb(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class o_ extends Yb{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function Yv(s){return s.map(Fy).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Xb(this.componentDef.inputs)}get outputs(){return Xb(this.componentDef.outputs)}create(o,l,u,h){const g=(h=h||this.ngModule)?function ew(s,o){return{get:(l,u,h)=>{const g=s.get(l,Vh,h);return g!==Vh||u===Vh?g:o.get(l,u,h)}}}(o,h.injector):o,v=g.get(Zn,Bo),b=g.get(EI,null),I=v.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",F=u?function hx(s,o,l){if(un(s))return s.selectRootElement(o,l===St.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(I,u,this.componentDef.encapsulation):Sa(v.createRenderer(null,this.componentDef),k,function Vp(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(k)),U=this.componentDef.onPush?576:528,Y=function Bx(s,o){return{components:[],scheduler:s||Nn,clean:mC,playerHandler:o||null,flags:0}}(),le=cm(0,null,null,1,0,null,null,null,null,null),Te=xh(null,le,Y,U,null,null,v,I,b,g);let qe,Je;Ns(Te);try{const dt=function Am(s,o,l,u,h,g){const v=l[1];l[20]=s;const I=Zu(v,20,2,"#host",null),k=I.mergedAttrs=o.hostAttrs;null!==k&&(wh(I,k,!0),null!==s&&($n(h,s,k),null!==I.classes&&Oy(h,s,I.classes),null!==I.styles&&zv(h,s,I.styles)));const F=u.createRenderer(s,o),U=xh(l,cx(o),null,o.onPush?64:16,l[20],I,u,F,g||null,null);return v.firstCreatePass&&(xa(jl(I,l),v,o.type),hm(v,I),yx(I,l.length,1)),Qs(l,U),l[20]=U}(F,this.componentDef,Te,v,I);if(F)if(u)$n(I,F,["ng-version",et.full]);else{const{attrs:ke,classes:Dt}=function Jv(s){const o=[],l=[];let u=1,h=2;for(;u<s.length;){let g=s[u];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++u]):8===h&&l.push(g);else{if(!Kn(h))break;h=g}u++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);ke&&$n(I,F,ke),Dt&&Dt.length>0&&Oy(I,F,Dt.join(" "))}if(Je=Mn(le,20),void 0!==l){const ke=Je.projection=[];for(let Dt=0;Dt<this.ngContentSelectors.length;Dt++){const Jt=l[Dt];ke.push(null!=Jt?Array.from(Jt):null)}}qe=function Lx(s,o,l,u,h){const g=l[1],v=function cC(s,o,l){const u=bn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Ax(s,u,o,$f(s,o,1,null),l));const h=$l(o,s,u.directiveStart,u);ki(h,o);const g=vi(u,o);return g&&ki(g,o),h}(g,l,o);if(u.components.push(v),s[8]=v,h&&h.forEach(I=>I(v,o)),o.contentQueries){const I=bn();o.contentQueries(1,v,I.directiveStart)}const b=bn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Dr(b.index),mx(l[1],b,0,b.directiveStart,b.directiveEnd,o),dC(o,v)),v}(dt,this.componentDef,Te,Y,[TC]),lm(le,Te,null)}finally{Go()}return new nw(this.componentType,qe,hd(Je,Te),Te,Je)}}class nw extends class yI{}{constructor(o,l,u,h,g){super(),this.location=u,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new CI(h),this.componentType=o}get injector(){return new ur(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Do{}const he=new Map;class lu extends Do{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Bp(this);const u=ni(o);this._bootstrapComponents=Or(u.bootstrap),this._r3Injector=Dx(o,l,[{provide:Do,useValue:this},{provide:o0,useValue:this.componentFactoryResolver}],_e(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=Co.THROW_IF_NOT_FOUND,u=ft.Default){return o===Co||o===Do||o===tA?this:this._r3Injector.get(o,l,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class l_ extends class a0{}{constructor(o){super(),this.moduleType=o,null!==ni(o)&&function II(s){const o=new Set;!function l(u){const h=ni(u,!0),g=h.id;null!==g&&(function Xo(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${_e(o)} vs ${_e(o.name)}`)}(g,he.get(g),u),he.set(g,u));const v=Or(h.imports);for(const b of v)o.has(b)||(o.add(b),l(b))}(s)}(o)}create(o){return new lu(this.moduleType,o)}}function c_(s,o,l){const u=Gn()+s,h=Fe();return h[u]===qt?Yo(h,u,l?o.call(l):o()):function wm(s,o){return s[o]}(h,u)}function rw(s,o,l,u){return u0(Fe(),Gn(),s,o,l,u)}function sw(s,o,l,u,h){return function pd(s,o,l,u,h,g,v){const b=o+l;return Dh(s,b,h,g)?Yo(s,b+2,v?u.call(v,h,g):u(h,g)):xn(s,b+2)}(Fe(),Gn(),s,o,l,u,h)}function ws(s,o,l,u,h,g){return function Js(s,o,l,u,h,g,v,b){const I=o+l;return function Em(s,o,l,u,h){const g=Dh(s,o,l,u);return es(s,o+2,h)||g}(s,I,h,g,v)?Yo(s,I+3,b?u.call(b,h,g,v):u(h,g,v)):xn(s,I+3)}(Fe(),Gn(),s,o,l,u,h,g)}function c0(s,o,l,u,h,g,v){return function aw(s,o,l,u,h,g,v,b,I){const k=o+l;return function Jo(s,o,l,u,h,g){const v=Dh(s,o,l,u);return Dh(s,o+2,h,g)||v}(s,k,h,g,v,b)?Yo(s,k+4,I?u.call(I,h,g,v,b):u(h,g,v,b)):xn(s,k+4)}(Fe(),Gn(),s,o,l,u,h,g,v)}function xn(s,o){const l=s[o];return l===qt?void 0:l}function u0(s,o,l,u,h,g){const v=o+l;return es(s,v,h)?Yo(s,v+1,g?u.call(g,h):u(h)):xn(s,v+1)}function lw(s,o){const l=$t();let u;const h=s+20;l.firstCreatePass?(u=function cu(s,o){if(o)for(let l=o.length-1;l>=0;l--){const u=o[l];if(s===u.name)return u}}(o,l.pipeRegistry),l.data[h]=u,u.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,u.onDestroy)):u=l.data[h];const g=u.factory||(u.factory=Si(u.type)),v=Vn(Rh);try{const b=cr(!1),I=g();return cr(b),function FC(s,o,l,u){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=u}(l,Fe(),h,I),I}finally{Vn(v)}}function pi(s,o,l){const u=s+20,h=Fe(),g=zr(h,u);return function Gp(s,o){return s[1].data[o].pure}(h,u)?u0(h,Gn(),o,g.transform,l,g):g.transform(l)}function md(s){return o=>{setTimeout(s,void 0,o)}}const Xs=class uc extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,u){var h,g,v;let b=o,I=l||(()=>null),k=u;if(o&&"object"==typeof o){const U=o;b=null===(h=U.next)||void 0===h?void 0:h.bind(U),I=null===(g=U.error)||void 0===g?void 0:g.bind(U),k=null===(v=U.complete)||void 0===v?void 0:v.bind(U)}this.__isAsync&&(I=md(I),b&&(b=md(b)),k&&(k=md(k)));const F=super.subscribe({next:b,error:I,complete:k});return o instanceof ae.w0&&o.add(F),F}};function uw(){return this._results[ed()]()}class xl{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=ed(),u=xl.prototype;u[l]||(u[l]=uw)}get changes(){return this._changes||(this._changes=new Xs)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const u=this;u.dirty=!1;const h=Tr(o);(this._changesDetected=!function Pc(s,o,l){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let h=s[u],g=o[u];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(u._results,h,l))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let uu=(()=>{class s{}return s.__NG_ELEMENT_ID__=Hp,s})();const _d=uu,bl=class extends _d{constructor(o,l,u){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=u}createEmbeddedView(o){const l=this._declarationTContainer.tViews,u=xh(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(u[19]=g.createEmbeddedView(l)),lm(l,u,o),new Ga(u)}};function Hp(){return Ha(bn(),Fe())}function Ha(s,o){return 4&s.type?new bl(o,s,hd(s,o)):null}let jp=(()=>{class s{}return s.__NG_ELEMENT_ID__=Gh,s})();function Gh(){return f0(bn(),Fe())}const h0=jp,du=class extends h0{constructor(o,l,u){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=u}get element(){return hd(this._hostTNode,this._hostLView)}get injector(){return new ur(this._hostTNode,this._hostLView)}get parentInjector(){const o=Vs(this._hostTNode,this._hostLView);if(Ae(o)){const l=en(o,this._hostLView),u=Ne(o);return new ur(l[1].data[u+8],l)}return new ur(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=d_(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,u){const h=o.createEmbeddedView(l||{});return this.insert(h,u),h}createComponent(o,l,u,h,g){const v=o&&!function xo(s){return"function"==typeof s}(o);let b;if(v)b=l;else{const U=l||{};b=U.index,u=U.injector,h=U.projectableNodes,g=U.ngModuleRef}const I=v?o:new o_(ti(o)),k=u||this.parentInjector;if(!g&&null==I.ngModule){const Y=(v?k:this.parentInjector).get(Do,null);Y&&(g=Y)}const F=I.create(k,h,void 0,g);return this.insert(F.hostView,b),F}insert(o,l){const u=o._lView,h=u[1];if(function ua(s){return rr(s[3])}(u)){const F=this.indexOf(o);if(-1!==F)this.detach(F);else{const U=u[3],Y=new du(U,U[6],U[3]);Y.detach(Y.indexOf(o))}}const g=this._adjustIndex(l),v=this._lContainer;!function ji(s,o,l,u){const h=10+u,g=l.length;u>0&&(l[h-1][4]=o),u<g-10?(o[4]=l[h],qo(l,10+u,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function Iy(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const b=o[19];null!==b&&b.insertView(s),o[2]|=128}(h,u,v,g);const b=Ry(g,v),I=u[11],k=Jg(I,v[7]);return null!==k&&function mh(s,o,l,u,h,g){u[0]=h,u[6]=o,Wu(s,u,l,1,h,g)}(h,v[6],I,u,k,b),o.attachToViewContainerRef(),qo(yd(v),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=d_(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),u=Dy(this._lContainer,l);u&&(wa(yd(this._lContainer),l),Fv(u[1],u))}detach(o){const l=this._adjustIndex(o,-1),u=Dy(this._lContainer,l);return u&&null!=wa(yd(this._lContainer),l)?new Ga(u):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function d_(s){return s[8]}function yd(s){return s[8]||(s[8]=[])}function f0(s,o){let l;const u=o[s.index];if(rr(u))l=u;else{let h;if(8&s.type)h=an(u);else{const g=o[11];h=g.createComment("");const v=vi(s,o);tc(g,Jg(g,v),h,function Xg(s,o){return un(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=l=fC(u,o,h,s),Qs(o,l)}return new du(l,s,o)}class p_{constructor(o){this.queryList=o,this.matches=null}clone(){return new p_(this.queryList)}setDirty(){this.queryList.setDirty()}}class p0{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const u=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let g=0;g<u;g++){const v=l.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new p0(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==mw(o,l).matches&&this.queries[l].setDirty()}}class hw{constructor(o,l,u=null){this.predicate=o,this.flags=l,this.read=u}}class g_{constructor(o=[]){this.queries=o}elementStart(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let u=0;u<this.length;u++){const h=null!==l?l.length:0,g=this.getByIndex(u).embeddedTView(o,h);g&&(g.indexInDeclarationView=u,null!==l?l.push(g):l=[g])}return null!==l?new g_(l):null}template(o,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class m_{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new m_(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const g=u[h];this.matchTNodeWithReadOption(o,l,Br(l,g)),this.matchTNodeWithReadOption(o,l,zl(l,o,g,!1,!1))}else u===uu?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,zl(l,o,u,!1,!1))}matchTNodeWithReadOption(o,l,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Bt||h===jp||h===uu&&4&l.type)this.addMatch(l.index,-2);else{const g=zl(l,o,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,u)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function Br(s,o){const l=s.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===o)return l[u+1];return null}function zn(s,o,l,u){return-1===l?function fw(s,o){return 11&s.type?hd(s,o):4&s.type?Ha(s,o):null}(o,s):-2===l?function DI(s,o,l){return l===Bt?hd(o,s):l===uu?Ha(o,s):l===jp?f0(o,s):void 0}(s,o,u):$l(s,s[1],l,o)}function g0(s,o,l,u){const h=o[19].queries[u];if(null===h.matches){const g=s.data,v=l.matches,b=[];for(let I=0;I<v.length;I+=2){const k=v[I];b.push(k<0?null:zn(o,g[k],v[I+1],l.metadata.read))}h.matches=b}return h.matches}function dc(s,o,l,u){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const v=g0(s,o,h,l);for(let b=0;b<g.length;b+=2){const I=g[b];if(I>0)u.push(v[b/2]);else{const k=g[b+1],F=o[-I];for(let U=10;U<F.length;U++){const Y=F[U];Y[17]===Y[3]&&dc(Y[1],Y,k,u)}if(null!==F[9]){const U=F[9];for(let Y=0;Y<U.length;Y++){const le=U[Y];dc(le[1],le,k,u)}}}}}return u}function pw(s){const o=Fe(),l=$t(),u=Vl();mo(u+1);const h=mw(l,u);if(s.dirty&&Rs(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?dc(l,o,u,[]):g0(l,o,h,u);s.reset(g,Bh),s.notifyOnChanges()}return!0}return!1}function Hh(s,o,l){const u=$t();u.firstCreatePass&&(function _r(s,o,l){null===s.queries&&(s.queries=new g_),s.queries.track(new m_(o,l))}(u,new hw(s,o,l),-1),2==(2&o)&&(u.staticViewQueries=!0)),function m0(s,o,l){const u=new xl(4==(4&l));sC(s,o,u,u.destroy),null===o[19]&&(o[19]=new p0),o[19].queries.push(new p_(u))}(u,Fe(),o)}function zp(){return function gw(s,o){return s[19].queries[o].queryList}(Fe(),Vl())}function mw(s,o){return s.queries.getByIndex(o)}function _w(s,o){return Ha(s,o)}function ta(...s){}const S0=new Hn("Application Initializer");let E_=(()=>{class s{constructor(l){this.appInits=l,this.resolve=ta,this.reject=ta,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(fp(g))l.push(g);else if(rb(g)){const v=new Promise((b,I)=>{g.subscribe({complete:b,error:I})});l.push(v)}}Promise.all(l).then(()=>{u()}).catch(h=>{this.reject(h)}),0===l.length&&u(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(T(S0,8))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const bd=new Hn("AppId",{providedIn:"root",factory:function C_(){return`${bi()}${bi()}${bi()}`}});function bi(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ln=new Hn("Platform Initializer"),M0=new Hn("Platform ID"),k0=new Hn("appBootstrapListener");let NI=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})();const I_=new Hn("LocaleId",{providedIn:"root",factory:()=>j(I_,ft.Optional|ft.SkipSelf)||function eo(){return"undefined"!=typeof $localize&&$localize.locale||Ua}()}),Yp=new Hn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),UI=(()=>Promise.resolve(0))();function Qh(s){"undefined"==typeof Zone?UI.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Cs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xs(!1),this.onMicrotaskEmpty=new Xs(!1),this.onStable=new Xs(!1),this.onError=new Xs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&l,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Xp(){let s=Zt.requestAnimationFrame,o=Zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Ew(s){const o=()=>{!function ww(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Zt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,R0(s),s.isCheckStableRunning=!0,T_(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),R0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,h,g,v,b)=>{try{return O0(s),l.invokeTask(h,g,v,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),F0(s)}},onInvoke:(l,u,h,g,v,b,I)=>{try{return O0(s),l.invoke(h,g,v,b,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),F0(s)}},onHasTask:(l,u,h,g)=>{l.hasTask(h,g),u===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,R0(s),T_(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,u,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Cs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,u){return this._inner.run(o,l,u)}runTask(o,l,u,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,D_,ta,ta);try{return g.runTask(v,l,u)}finally{g.cancelTask(v)}}runGuarded(o,l,u){return this._inner.runGuarded(o,l,u)}runOutsideAngular(o){return this._outer.run(o)}}const D_={};function T_(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function R0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function O0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function F0(s){s._nesting--,T_(s)}class GI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xs,this.onMicrotaskEmpty=new Xs,this.onStable=new Xs,this.onError=new Xs}run(o,l,u){return o.apply(l,u)}runGuarded(o,l,u){return o.apply(l,u)}runOutsideAngular(o){return o()}runTask(o,l,u,h){return o.apply(l,u)}}let Cw=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cs.assertNotInAngularZone(),Qh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Qh(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,h){let g=-1;u&&u>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,u,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(T(Cs))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})(),Iw=(()=>{class s{constructor(){this._applications=new Map,P0.addToWindow(this)}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return P0.findTestabilityInTree(this,l,u)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})();class eg{addToWindow(o){}findTestabilityInTree(o,l,u){return null}}function Dw(s){P0=s}let On,P0=new eg;const ja=new Hn("AllowMultipleToken");function Kh(s,o,l=[]){const u=`Platform: ${o}`,h=new Hn(u);return(g=[])=>{let v=L0();if(!v||v.injector.get(ja,!1))if(s)s(l.concat(g).concat({provide:h,useValue:!0}));else{const b=l.concat(g).concat({provide:h,useValue:!0},{provide:Yu,useValue:"platform"});!function Sw(s){if(On&&!On.destroyed&&!On.injector.get(ja,!1))throw new Be(400,"");On=s.get(kw);const o=s.get(ln,null);o&&o.forEach(l=>l())}(Co.create({providers:b,name:u}))}return function Mw(s){const o=L0();if(!o)throw new Be(401,"");return o}()}}function L0(){return On&&!On.destroyed?On:null}let kw=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,u){const b=function zI(s,o){let l;return l="noop"===s?new GI:("zone.js"===s?void 0:s)||new Cs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),I=[{provide:Cs,useValue:b}];return b.run(()=>{const k=Co.create({providers:I,parent:this.injector,name:l.moduleType.name}),F=l.create(k),U=F.injector.get(Gu,null);if(!U)throw new Be(402,"");return b.runOutsideAngular(()=>{const Y=b.onError.subscribe({next:le=>{U.handleError(le)}});F.onDestroy(()=>{M_(this._modules,F),Y.unsubscribe()})}),function ng(s,o,l){try{const u=l();return fp(u)?u.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(U,b,()=>{const Y=F.injector.get(E_);return Y.runInitializers(),Y.donePromise.then(()=>(function Tb(s){jt(s,"Expected localeId to be defined"),"string"==typeof s&&(Db=s.toLowerCase().replace(/_/g,"-"))}(F.injector.get(I_,Ua)||Ua),this._moduleDoBootstrap(F),F))})})}bootstrapModule(l,u=[]){const h=S_({},u);return function N0(s,o,l){const u=new l_(l);return Promise.resolve(u)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const u=l.injector.get(B0);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Be(403,"");l.instance.ngDoBootstrap(u)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(T(Co))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac}),s})();function S_(s,o){return Array.isArray(o)?o.reduce(S_,s):Object.assign(Object.assign({},s),o)}let B0=(()=>{class s{constructor(l,u,h,g,v){this._zone=l,this._injector=u,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new B.y(k=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{k.next(this._stable),k.complete()})}),I=new B.y(k=>{let F;this._zone.runOutsideAngular(()=>{F=this._zone.onStable.subscribe(()=>{Cs.assertNotInAngularZone(),Qh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,k.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{Cs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{k.next(!1)}))});return()=>{F.unsubscribe(),U.unsubscribe()}});this.isStable=(0,pe.T)(b,I.pipe((0,fe.B)()))}bootstrap(l,u){if(!this._initStatus.done)throw new Be(405,"");let h;h=l instanceof Yb?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const g=function tg(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Do),b=h.create(Co.NULL,[],u||h.selector,g),I=b.location.nativeElement,k=b.injector.get(Cw,null),F=k&&b.injector.get(Iw);return k&&F&&F.registerApplication(I,k),b.onDestroy(()=>{this.detachView(b.hostView),M_(this.components,b),F&&F.unregisterApplication(I)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Be(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;M_(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(k0,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(T(Cs),T(Co),T(Gu),T(o0),T(E_))},s.\u0275prov=Kt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function M_(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let Ow=!0,U0=!1;function $I(){return U0=!0,Ow}function qI(){if(U0)throw new Error("Cannot enable prod mode after platform setup.");Ow=!1}let WI=(()=>{class s{}return s.__NG_ELEMENT_ID__=QI,s})();function QI(s){return function Pw(s,o,l){if(vc(s)&&!l){const u=ii(s.index,o);return new Ga(u,u)}return 47&s.type?new Ga(o[16],o):null}(bn(),Fe(),16==(16&s))}class $0{constructor(){}supports(o){return Ih(o)}create(o){return new Bw(o)}}const eD=(s,o)=>o;class Bw{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||eD}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,u=this._removalsHead,h=0,g=null;for(;l||u;){const v=!u||l&&l.currentIndex<Xi(u,h,g)?l:u,b=Xi(v,h,g),I=v.currentIndex;if(v===u)h--,u=u._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{g||(g=[]);const k=b-h,F=I-h;if(k!=F){for(let Y=0;Y<k;Y++){const le=Y<g.length?g[Y]:g[Y]=0,Te=le+Y;F<=Te&&Te<k&&(g[Y]=le+1)}g[v.previousIndex]=F-k}}b!==I&&o(v,b,I)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Ih(o))throw new Be(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,l=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)g=o[b],v=this._trackByFn(b,g),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,g,v,b)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,b),u=!0),l=l._next}else h=0,function Zf(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[ed()]();let u;for(;!(u=l.next()).done;)o(u.value)}}(o,b=>{v=this._trackByFn(h,b),null!==l&&Object.is(l.trackById,v)?(u&&(l=this._verifyReinsertion(l,b,v,h)),Object.is(l.item,b)||this._addIdentityChange(l,b)):(l=this._mismatch(l,b,v,h),u=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,u,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,h)):o=this._addAfter(new Vw(l,u),g,h),o}_verifyReinsertion(o,l,u,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,l,u),this._addToMoves(o,u),o}_moveAfter(o,l,u){return this._unlink(o),this._insertAfter(o,l,u),this._addToMoves(o,u),o}_addAfter(o,l,u){return this._insertAfter(o,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,u){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new O_),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,u=o._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new O_),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Vw{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tD{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const l=o._prevDup,u=o._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class O_{constructor(){this.map=new Map}put(o){const l=o.trackById;let u=this.map.get(l);u||(u=new tD,this.map.set(l,u)),u.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xi(s,o,l){const u=s.previousIndex;if(null===u)return u;let h=0;return l&&u<l.length&&(h=l[u]),u+o+h}class F_{constructor(){}supports(o){return o instanceof Map||Ux(o)}create(){return new q0}}class q0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Ux(o)))throw new Be(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,u);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const u=o._prev;return l._next=o,l._prev=u,o._prev=l,u&&(u._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const u=new W0(o);return this._records.set(o,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(u=>l(o[u],u))}}class W0{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gc(){return new P_([new $0])}let P_=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(null!=u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||gc()),deps:[[s,new kn,new Ft]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(null!=u)return u;throw new Be(901,"")}}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:gc}),s})();function Q0(){return new Zh([new F_])}let Zh=(()=>{class s{constructor(l){this.factories=l}static create(l,u){if(u){const h=u.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:u=>s.create(l,u||Q0()),deps:[[s,new kn,new Ft]]}}find(l){const u=this.factories.find(g=>g.supports(l));if(u)return u;throw new Be(901,"")}}return s.\u0275prov=Kt({token:s,providedIn:"root",factory:Q0}),s})();const K0=Kh(null,"core",[{provide:M0,useValue:"unknown"},{provide:kw,deps:[Co]},{provide:Iw,deps:[]},{provide:NI,deps:[]}]);let Z0=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(T(B0))},s.\u0275mod=zt({type:s}),s.\u0275inj=tn({}),s})()},3942:(st,Ce,L)=>{"use strict";L.d(Ce,{Z:()=>Be});var c=L(2090),ae=L(4859),B=L(9681),pe=L(1877);class fe{constructor(Se,Re){this._delegate=Se,this.firebase=Re,(0,B._addComponent)(Se,new ae.wA("app-compat",()=>this,"PUBLIC")),this.container=Se.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this._delegate.automaticDataCollectionEnabled=Se}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Se=>{this._delegate.checkDestroyed(),Se()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(Se,Re=B._DEFAULT_ENTRY_NAME){var lt;this._delegate.checkDestroyed();const ht=this._delegate.container.getProvider(Se);return!ht.isInitialized()&&"EXPLICIT"===(null===(lt=ht.getComponent())||void 0===lt?void 0:lt.instantiationMode)&&ht.initialize(),ht.getImmediate({identifier:Re})}_removeServiceInstance(Se,Re=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Se).clearInstance(Re)}_addComponent(Se){(0,B._addComponent)(this._delegate,Se)}_addOrOverwriteComponent(Se){(0,B._addOrOverwriteComponent)(this._delegate,Se)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function xe(){const _t=function _e(_t){const Se={},Re={__esModule:!0,initializeApp:function Ve(te,X={}){const ye=B.initializeApp(te,X);if((0,c.r3)(Se,ye.name))return Se[ye.name];const ie=new _t(ye,Re);return Se[ye.name]=ie,ie},app:ht,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function Oe(te){const X=te.name,ye=X.replace("-compat","");if(B._registerComponent(te)&&"PUBLIC"===te.type){const ie=(ue=ht())=>{if("function"!=typeof ue[ye])throw de.create("invalid-app-argument",{appName:X});return ue[ye]()};void 0!==te.serviceProps&&(0,c.ZB)(ie,te.serviceProps),Re[ye]=ie,_t.prototype[ye]=function(...ue){return this._getService.bind(this,X).apply(this,te.multipleInstances?ue:[])}}return"PUBLIC"===te.type?Re[ye]:null},removeApp:function lt(te){delete Se[te]},useAsService:function Ke(te,X){return"serverAuth"===X?null:X},modularAPIs:B}};function ht(te){if(!(0,c.r3)(Se,te=te||B._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:te});return Se[te]}return Re.default=Re,Object.defineProperty(Re,"apps",{get:function Me(){return Object.keys(Se).map(te=>Se[te])}}),ht.App=_t,Re}(fe);return _t.INTERNAL=Object.assign(Object.assign({},_t.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function Se(Re){(0,c.ZB)(_t,Re)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),_t}(),J=new pe.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){J.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _t=self.firebase.SDK_VERSION;_t&&_t.indexOf("LITE")>=0&&J.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=Q;!function Ue(_t){(0,B.registerVersion)("@firebase/app-compat","0.1.31",_t)}()},9681:(st,Ce,L)=>{"use strict";L.r(Ce),L.d(Ce,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>Qi,_DEFAULT_ENTRY_NAME:()=>jt,_addComponent:()=>rn,_addOrOverwriteComponent:()=>Kt,_apps:()=>Qt,_clearComponents:()=>xr,_components:()=>Bn,_getProvider:()=>tn,_registerComponent:()=>Yn,_removeServiceInstance:()=>Ht,deleteApp:()=>ft,getApp:()=>Jn,getApps:()=>In,initializeApp:()=>Is,onLog:()=>Vn,registerVersion:()=>sn,setLogLevel:()=>br});var c=L(5861),ae=L(4859),B=L(1877),pe=L(2090),fe=L(8766);class be{constructor(K){this.container=K}getPlatformInfoString(){return this.container.getProviders().map(ee=>{if(function de($){const K=$.getComponent();return"VERSION"===(null==K?void 0:K.type)}(ee)){const Pe=ee.getImmediate();return`${Pe.library}/${Pe.version}`}return null}).filter(ee=>ee).join(" ")}}const _e="@firebase/app",Q=new B.Yd("@firebase/app"),jt="[DEFAULT]",Ze={[_e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qt=new Map,Bn=new Map;function rn($,K){try{$.container.addComponent(K)}catch(ee){Q.debug(`Component ${K.name} failed to register with FirebaseApp ${$.name}`,ee)}}function Kt($,K){$.container.addOrOverwriteComponent(K)}function Yn($){const K=$.name;if(Bn.has(K))return Q.debug(`There were multiple attempts to register component ${K}.`),!1;Bn.set(K,$);for(const ee of Qt.values())rn(ee,$);return!0}function tn($,K){const ee=$.container.getProvider("heartbeat").getImmediate({optional:!0});return ee&&ee.triggerHeartbeat(),$.container.getProvider(K)}function Ht($,K,ee=jt){tn($,K).clearInstance(ee)}function xr(){Bn.clear()}const ai=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ci{constructor(K,ee,Pe){this._isDeleted=!1,this._options=Object.assign({},K),this._config=Object.assign({},ee),this._name=ee.name,this._automaticDataCollectionEnabled=ee.automaticDataCollectionEnabled,this._container=Pe,this.container.addComponent(new ae.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this.checkDestroyed(),this._automaticDataCollectionEnabled=K}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(K){this._isDeleted=K}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}const Qi="9.9.2";function Is($,K={}){"object"!=typeof K&&(K={name:K});const ee=Object.assign({name:jt,automaticDataCollectionEnabled:!1},K),Pe=ee.name;if("string"!=typeof Pe||!Pe)throw ai.create("bad-app-name",{appName:String(Pe)});const $e=Qt.get(Pe);if($e){if((0,pe.vZ)($,$e.options)&&(0,pe.vZ)(ee,$e.config))return $e;throw ai.create("duplicate-app",{appName:Pe})}const gt=new ae.H0(Pe);for(const nn of Bn.values())gt.addComponent(nn);const fn=new Ci($,ee,gt);return Qt.set(Pe,fn),fn}function Jn($=jt){const K=Qt.get($);if(!K)throw ai.create("no-app",{appName:$});return K}function In(){return Array.from(Qt.values())}function ft($){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,c.Z)(function*($){const K=$.name;Qt.has(K)&&(Qt.delete(K),yield Promise.all($.container.getProviders().map(ee=>ee.delete())),$.isDeleted=!0)})).apply(this,arguments)}function sn($,K,ee){var Pe;let $e=null!==(Pe=Ze[$])&&void 0!==Pe?Pe:$;ee&&($e+=`-${ee}`);const gt=$e.match(/\s|\//),fn=K.match(/\s|\//);if(gt||fn){const nn=[`Unable to register library "${$e}" with version "${K}":`];return gt&&nn.push(`library name "${$e}" contains illegal characters (whitespace or "/")`),gt&&fn&&nn.push("and"),fn&&nn.push(`version name "${K}" contains illegal characters (whitespace or "/")`),void Q.warn(nn.join(" "))}Yn(new ae.wA(`${$e}-version`,()=>({library:$e,version:K}),"VERSION"))}function Vn($,K){if(null!==$&&"function"!=typeof $)throw ai.create("invalid-log-argument");(0,B.Am)($,K)}function br($){(0,B.Ub)($)}const cn="firebase-heartbeat-store";let Xn=null;function wr(){return Xn||(Xn=(0,fe.X3)("firebase-heartbeat-database",1,{upgrade:($,K)=>{0===K&&$.createObjectStore(cn)}}).catch($=>{throw ai.create("idb-open",{originalErrorMessage:$.message})})),Xn}function nt(){return(nt=(0,c.Z)(function*($){var K;try{return(yield wr()).transaction(cn).objectStore(cn).get(En($))}catch(ee){if(ee instanceof pe.ZR)Q.warn(ee.message);else{const Pe=ai.create("idb-get",{originalErrorMessage:null===(K=ee)||void 0===K?void 0:K.message});Q.warn(Pe.message)}}})).apply(this,arguments)}function Mt($,K){return ei.apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*($,K){var ee;try{const $e=(yield wr()).transaction(cn,"readwrite");return yield $e.objectStore(cn).put(K,En($)),$e.done}catch(Pe){if(Pe instanceof pe.ZR)Q.warn(Pe.message);else{const $e=ai.create("idb-set",{originalErrorMessage:null===(ee=Pe)||void 0===ee?void 0:ee.message});Q.warn($e.message)}}})).apply(this,arguments)}function En($){return`${$.name}!${$.options.appId}`}class _i{constructor(K){this.container=K,this._heartbeatsCache=null;const ee=this.container.getProvider("app").getImmediate();this._storage=new ls(ee),this._heartbeatsCachePromise=this._storage.read().then(Pe=>(this._heartbeatsCache=Pe,Pe))}triggerHeartbeat(){var K=this;return(0,c.Z)(function*(){const Pe=K.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$e=yi();if(null===K._heartbeatsCache&&(K._heartbeatsCache=yield K._heartbeatsCachePromise),K._heartbeatsCache.lastSentHeartbeatDate!==$e&&!K._heartbeatsCache.heartbeats.some(gt=>gt.date===$e))return K._heartbeatsCache.heartbeats.push({date:$e,agent:Pe}),K._heartbeatsCache.heartbeats=K._heartbeatsCache.heartbeats.filter(gt=>{const fn=new Date(gt.date).valueOf();return Date.now()-fn<=2592e6}),K._storage.overwrite(K._heartbeatsCache)})()}getHeartbeatsHeader(){var K=this;return(0,c.Z)(function*(){if(null===K._heartbeatsCache&&(yield K._heartbeatsCachePromise),null===K._heartbeatsCache||0===K._heartbeatsCache.heartbeats.length)return"";const ee=yi(),{heartbeatsToSend:Pe,unsentEntries:$e}=function yt($,K=1024){const ee=[];let Pe=$.slice();for(const $e of $){const gt=ee.find(fn=>fn.agent===$e.agent);if(gt){if(gt.dates.push($e.date),W(ee)>K){gt.dates.pop();break}}else if(ee.push({agent:$e.agent,dates:[$e.date]}),W(ee)>K){ee.pop();break}Pe=Pe.slice(1)}return{heartbeatsToSend:ee,unsentEntries:Pe}}(K._heartbeatsCache.heartbeats),gt=(0,pe.L)(JSON.stringify({version:2,heartbeats:Pe}));return K._heartbeatsCache.lastSentHeartbeatDate=ee,$e.length>0?(K._heartbeatsCache.heartbeats=$e,yield K._storage.overwrite(K._heartbeatsCache)):(K._heartbeatsCache.heartbeats=[],K._storage.overwrite(K._heartbeatsCache)),gt})()}}function yi(){return(new Date).toISOString().substring(0,10)}class ls{constructor(K){this.app=K,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var K=this;return(0,c.Z)(function*(){return(yield K._canUseIndexedDBPromise)&&(yield function St($){return nt.apply(this,arguments)}(K.app))||{heartbeats:[]}})()}overwrite(K){var ee=this;return(0,c.Z)(function*(){var Pe;if(yield ee._canUseIndexedDBPromise){const gt=yield ee.read();return Mt(ee.app,{lastSentHeartbeatDate:null!==(Pe=K.lastSentHeartbeatDate)&&void 0!==Pe?Pe:gt.lastSentHeartbeatDate,heartbeats:K.heartbeats})}})()}add(K){var ee=this;return(0,c.Z)(function*(){var Pe;if(yield ee._canUseIndexedDBPromise){const gt=yield ee.read();return Mt(ee.app,{lastSentHeartbeatDate:null!==(Pe=K.lastSentHeartbeatDate)&&void 0!==Pe?Pe:gt.lastSentHeartbeatDate,heartbeats:[...gt.heartbeats,...K.heartbeats]})}})()}}function W($){return(0,pe.L)(JSON.stringify({version:2,heartbeats:$})).length}!function z($){Yn(new ae.wA("platform-logger",K=>new be(K),"PRIVATE")),Yn(new ae.wA("heartbeat",K=>new _i(K),"PRIVATE")),sn(_e,"0.7.30",$),sn(_e,"0.7.30","esm2017"),sn("fire-js","")}("")},4859:(st,Ce,L)=>{"use strict";L.d(Ce,{wA:()=>B,H0:()=>_e});var c=L(5861),ae=L(2090);class B{constructor(Q,J,oe){this.name=Q,this.instanceFactory=J,this.type=oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const pe="[DEFAULT]";class fe{constructor(Q,J){this.name=Q,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const J=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(J)){const oe=new ae.BH;if(this.instancesDeferred.set(J,oe),this.isInitialized(J)||this.shouldAutoInitialize())try{const Qe=this.getOrInitializeService({instanceIdentifier:J});Qe&&oe.resolve(Qe)}catch(Qe){}}return this.instancesDeferred.get(J).promise}getImmediate(Q){var J;const oe=this.normalizeInstanceIdentifier(null==Q?void 0:Q.identifier),Qe=null!==(J=null==Q?void 0:Q.optional)&&void 0!==J&&J;if(!this.isInitialized(oe)&&!this.shouldAutoInitialize()){if(Qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:oe})}catch(Ue){if(Qe)return null;throw Ue}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function de(xe){return"EAGER"===xe.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:pe})}catch(J){}for(const[J,oe]of this.instancesDeferred.entries()){const Qe=this.normalizeInstanceIdentifier(J);try{const Ue=this.getOrInitializeService({instanceIdentifier:Qe});oe.resolve(Ue)}catch(Ue){}}}}clearInstance(Q=pe){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,c.Z)(function*(){const J=Array.from(Q.instances.values());yield Promise.all([...J.filter(oe=>"INTERNAL"in oe).map(oe=>oe.INTERNAL.delete()),...J.filter(oe=>"_delete"in oe).map(oe=>oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=pe){return this.instances.has(Q)}getOptions(Q=pe){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:J={}}=Q,oe=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(oe))throw Error(`${this.name}(${oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Qe=this.getOrInitializeService({instanceIdentifier:oe,options:J});for(const[Ue,Be]of this.instancesDeferred.entries())oe===this.normalizeInstanceIdentifier(Ue)&&Be.resolve(Qe);return Qe}onInit(Q,J){var oe;const Qe=this.normalizeInstanceIdentifier(J),Ue=null!==(oe=this.onInitCallbacks.get(Qe))&&void 0!==oe?oe:new Set;Ue.add(Q),this.onInitCallbacks.set(Qe,Ue);const Be=this.instances.get(Qe);return Be&&Q(Be,Qe),()=>{Ue.delete(Q)}}invokeOnInitCallbacks(Q,J){const oe=this.onInitCallbacks.get(J);if(oe)for(const Qe of oe)try{Qe(Q,J)}catch(Ue){}}getOrInitializeService({instanceIdentifier:Q,options:J={}}){let oe=this.instances.get(Q);if(!oe&&this.component&&(oe=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=Q,xe===pe?void 0:xe),options:J}),this.instances.set(Q,oe),this.instancesOptions.set(Q,J),this.invokeOnInitCallbacks(oe,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,oe)}catch(Qe){}var xe;return oe||null}normalizeInstanceIdentifier(Q=pe){return this.component?this.component.multipleInstances?Q:pe:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const J=this.getProvider(Q.name);if(J.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);J.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const J=new fe(Q,this);return this.providers.set(Q,J),J}getProviders(){return Array.from(this.providers.values())}}},1877:(st,Ce,L)=>{"use strict";L.d(Ce,{in:()=>ae,Yd:()=>de,Ub:()=>_e,Am:()=>xe});const c=[];var ae=(()=>{return(Q=ae||(ae={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",ae;var Q})();const B={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},pe=ae.INFO,fe={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},be=(Q,J,...oe)=>{if(J<Q.logLevel)return;const Qe=(new Date).toISOString(),Ue=fe[J];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${J})`);console[Ue](`[${Qe}]  ${Q.name}:`,...oe)};class de{constructor(J){this.name=J,this._logLevel=pe,this._logHandler=be,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(J){if(!(J in ae))throw new TypeError(`Invalid value "${J}" assigned to \`logLevel\``);this._logLevel=J}setLogLevel(J){this._logLevel="string"==typeof J?B[J]:J}get logHandler(){return this._logHandler}set logHandler(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J}get userLogHandler(){return this._userLogHandler}set userLogHandler(J){this._userLogHandler=J}debug(...J){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...J),this._logHandler(this,ae.DEBUG,...J)}log(...J){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...J),this._logHandler(this,ae.VERBOSE,...J)}info(...J){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...J),this._logHandler(this,ae.INFO,...J)}warn(...J){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...J),this._logHandler(this,ae.WARN,...J)}error(...J){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...J),this._logHandler(this,ae.ERROR,...J)}}function _e(Q){c.forEach(J=>{J.setLogLevel(Q)})}function xe(Q,J){for(const oe of c){let Qe=null;J&&J.level&&(Qe=B[J.level]),oe.userLogHandler=null===Q?null:(Ue,Be,..._t)=>{const Se=_t.map(Re=>{if(null==Re)return null;if("string"==typeof Re)return Re;if("number"==typeof Re||"boolean"==typeof Re)return Re.toString();if(Re instanceof Error)return Re.message;try{return JSON.stringify(Re)}catch(lt){return null}}).filter(Re=>Re).join(" ");Be>=(null!=Qe?Qe:Ue.logLevel)&&Q({level:ae[Be].toLowerCase(),message:Se,args:_t,type:Ue.name})}}}},8766:(st,Ce,L)=>{"use strict";L.d(Ce,{Lj:()=>Ve,X3:()=>ht});var c=L(5861);let B,pe;const de=new WeakMap,_e=new WeakMap,xe=new WeakMap,Q=new WeakMap,J=new WeakMap;let Ue={get(X,ye,ie){if(X instanceof IDBTransaction){if("done"===ye)return _e.get(X);if("objectStoreNames"===ye)return X.objectStoreNames||xe.get(X);if("store"===ye)return ie.objectStoreNames[1]?void 0:ie.objectStore(ie.objectStoreNames[0])}return Re(X[ye])},set:(X,ye,ie)=>(X[ye]=ie,!0),has:(X,ye)=>X instanceof IDBTransaction&&("done"===ye||"store"===ye)||ye in X};function Se(X){return"function"==typeof X?function _t(X){return X!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(X)?function(...ye){return X.apply(lt(this),ye),Re(de.get(this))}:function(...ye){return Re(X.apply(lt(this),ye))}:function(ye,...ie){const ue=X.call(lt(this),ye,...ie);return xe.set(ue,ye.sort?ye.sort():[ye]),Re(ue)}}(X):(X instanceof IDBTransaction&&function Qe(X){if(_e.has(X))return;const ye=new Promise((ie,ue)=>{const re=()=>{X.removeEventListener("complete",Ee),X.removeEventListener("error",me),X.removeEventListener("abort",me)},Ee=()=>{ie(),re()},me=()=>{ue(X.error||new DOMException("AbortError","AbortError")),re()};X.addEventListener("complete",Ee),X.addEventListener("error",me),X.addEventListener("abort",me)});_e.set(X,ye)}(X),((X,ye)=>ye.some(ie=>X instanceof ie))(X,function fe(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(X,Ue):X)}function Re(X){if(X instanceof IDBRequest)return function oe(X){const ye=new Promise((ie,ue)=>{const re=()=>{X.removeEventListener("success",Ee),X.removeEventListener("error",me)},Ee=()=>{ie(Re(X.result)),re()},me=()=>{ue(X.error),re()};X.addEventListener("success",Ee),X.addEventListener("error",me)});return ye.then(ie=>{ie instanceof IDBCursor&&de.set(ie,X)}).catch(()=>{}),J.set(ye,X),ye}(X);if(Q.has(X))return Q.get(X);const ye=Se(X);return ye!==X&&(Q.set(X,ye),J.set(ye,X)),ye}const lt=X=>J.get(X);function ht(X,ye,{blocked:ie,upgrade:ue,blocking:re,terminated:Ee}={}){const me=indexedDB.open(X,ye),je=Re(me);return ue&&me.addEventListener("upgradeneeded",pt=>{ue(Re(me.result),pt.oldVersion,pt.newVersion,Re(me.transaction))}),ie&&me.addEventListener("blocked",()=>ie()),je.then(pt=>{Ee&&pt.addEventListener("close",()=>Ee()),re&&pt.addEventListener("versionchange",()=>re())}).catch(()=>{}),je}function Ve(X,{blocked:ye}={}){const ie=indexedDB.deleteDatabase(X);return ye&&ie.addEventListener("blocked",()=>ye()),Re(ie).then(()=>{})}const Me=["get","getKey","getAll","getAllKeys","count"],Oe=["put","add","delete","clear"],Ke=new Map;function te(X,ye){if(!(X instanceof IDBDatabase)||ye in X||"string"!=typeof ye)return;if(Ke.get(ye))return Ke.get(ye);const ie=ye.replace(/FromIndex$/,""),ue=ye!==ie,re=Oe.includes(ie);if(!(ie in(ue?IDBIndex:IDBObjectStore).prototype)||!re&&!Me.includes(ie))return;const Ee=function(){var me=(0,c.Z)(function*(je,...pt){const Xt=this.transaction(je,re?"readwrite":"readonly");let jt=Xt.store;return ue&&(jt=jt.index(pt.shift())),(yield Promise.all([jt[ie](...pt),re&&Xt.done]))[0]});return function(pt){return me.apply(this,arguments)}}();return Ke.set(ye,Ee),Ee}!function Be(X){Ue=X(Ue)}(X=>wF(bF({},X),{get:(ye,ie,ue)=>te(ye,ie)||X.get(ye,ie,ue),has:(ye,ie)=>!!te(ye,ie)||X.has(ye,ie)}))},5861:(st,Ce,L)=>{"use strict";function c(B,pe,fe,be,de,_e,xe){try{var Q=B[_e](xe),J=Q.value}catch(oe){return void fe(oe)}Q.done?pe(J):Promise.resolve(J).then(be,de)}function ae(B){return function(){var pe=this,fe=arguments;return new Promise(function(be,de){var _e=B.apply(pe,fe);function xe(J){c(_e,be,de,xe,Q,"next",J)}function Q(J){c(_e,be,de,xe,Q,"throw",J)}xe(void 0)})}}L.d(Ce,{Z:()=>ae})}},st=>{st(st.s=8077)}]);