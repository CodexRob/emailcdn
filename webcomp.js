(()=>{"use strict";var e,b={},m={};function r(e){var n=m[e];if(void 0!==n)return n.exports;var t=m[e]={id:e,loaded:!1,exports:{}};return b[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}r.m=b,e=[],r.O=(n,t,o,f)=>{if(!t){var a=1/0;for(i=0;i<e.length;i++){for(var[t,o,f]=e[i],d=!0,l=0;l<t.length;l++)(!1&f||a>=f)&&Object.keys(r.O).every(v=>r.O[v](t[l]))?t.splice(l--,1):(d=!1,f<a&&(a=f));if(d){e.splice(i--,1);var u=o();void 0!==u&&(n=u)}}return n}f=f||0;for(var i=e.length;i>0&&e[i-1][2]>f;i--)e[i]=e[i-1];e[i]=[t,o,f]},r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},r.d=(e,n)=>{for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((n,t)=>(r.f[t](e,n),n),[])),r.u=e=>e+".js",r.miniCssF=e=>{},r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={},n="elementsv13:";r.l=(t,o,f,i)=>{if(e[t])e[t].push(o);else{var a,d;if(void 0!==f)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var s=l[u];if(s.getAttribute("src")==t||s.getAttribute("data-webpack")==n+f){a=s;break}}a||(d=!0,(a=document.createElement("script")).type="module",a.charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",n+f),a.src=r.tu(t)),e[t]=[o];var c=(g,v)=>{a.onerror=a.onload=null,clearTimeout(p);var h=e[t];if(delete e[t],a.parentNode&&a.parentNode.removeChild(a),h&&h.forEach(y=>y(v)),g)return g(v)},p=setTimeout(c.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=c.bind(null,a.onerror),a.onload=c.bind(null,a.onload),d&&document.head.appendChild(a)}}})(),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.tt=()=>(void 0===e&&(e={createScriptURL:n=>n},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(e=trustedTypes.createPolicy("angular#bundler",e))),e)})(),r.tu=e=>r.tt().createScriptURL(e),r.p="",(()=>{var e={666:0};r.f.j=(o,f)=>{var i=r.o(e,o)?e[o]:void 0;if(0!==i)if(i)f.push(i[2]);else if(666!=o){var a=new Promise((s,c)=>i=e[o]=[s,c]);f.push(i[2]=a);var d=r.p+r.u(o),l=new Error;r.l(d,s=>{if(r.o(e,o)&&(0!==(i=e[o])&&(e[o]=void 0),i)){var c=s&&("load"===s.type?"missing":s.type),p=s&&s.target&&s.target.src;l.message="Loading chunk "+o+" failed.\n("+c+": "+p+")",l.name="ChunkLoadError",l.type=c,l.request=p,i[1](l)}},"chunk-"+o,o)}else e[o]=0},r.O.j=o=>0===e[o];var n=(o,f)=>{var l,u,[i,a,d]=f,s=0;if(i.some(p=>0!==e[p])){for(l in a)r.o(a,l)&&(r.m[l]=a[l]);if(d)var c=d(r)}for(o&&o(f);s<i.length;s++)r.o(e,u=i[s])&&e[u]&&e[u][0](),e[u]=0;return r.O(c)},t=self.webpackChunkelementsv13=self.webpackChunkelementsv13||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})()})();
"use strict";(self.webpackChunkelementsv13=self.webpackChunkelementsv13||[]).push([[429],{7435:(ie,Ee,de)=>{de(8583)},8583:()=>{!function(e){const n=e.performance;function i(M){n&&n.mark&&n.mark(M)}function o(M,E){n&&n.measure&&n.measure(M,E)}i("Zone");const c=e.__Zone_symbol_prefix||"__zone_symbol__";function a(M){return c+M}const y=!0===e[a("forceDuplicateZoneCheck")];if(e.Zone){if(y||"function"!=typeof e.Zone.__symbol__)throw new Error("Zone already loaded.");return e.Zone}let d=(()=>{class M{constructor(t,r){this._parent=t,this._name=r?r.name||"unnamed":"<root>",this._properties=r&&r.properties||{},this._zoneDelegate=new v(this,this._parent&&this._parent._zoneDelegate,r)}static assertZonePatched(){if(e.Promise!==oe.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let t=M.current;for(;t.parent;)t=t.parent;return t}static get current(){return U.zone}static get currentTask(){return re}static __load_patch(t,r,k=!1){if(oe.hasOwnProperty(t)){if(!k&&y)throw Error("Already loaded patch: "+t)}else if(!e["__Zone_disable_"+t]){const C="Zone:"+t;i(C),oe[t]=r(e,M,z),o(C,C)}}get parent(){return this._parent}get name(){return this._name}get(t){const r=this.getZoneWith(t);if(r)return r._properties[t]}getZoneWith(t){let r=this;for(;r;){if(r._properties.hasOwnProperty(t))return r;r=r._parent}return null}fork(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)}wrap(t,r){if("function"!=typeof t)throw new Error("Expecting function got: "+t);const k=this._zoneDelegate.intercept(this,t,r),C=this;return function(){return C.runGuarded(k,this,arguments,r)}}run(t,r,k,C){U={parent:U,zone:this};try{return this._zoneDelegate.invoke(this,t,r,k,C)}finally{U=U.parent}}runGuarded(t,r=null,k,C){U={parent:U,zone:this};try{try{return this._zoneDelegate.invoke(this,t,r,k,C)}catch($){if(this._zoneDelegate.handleError(this,$))throw $}}finally{U=U.parent}}runTask(t,r,k){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||K).name+"; Execution: "+this.name+")");if(t.state===x&&(t.type===Q||t.type===w))return;const C=t.state!=p;C&&t._transitionTo(p,j),t.runCount++;const $=re;re=t,U={parent:U,zone:this};try{t.type==w&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,r,k)}catch(l){if(this._zoneDelegate.handleError(this,l))throw l}}finally{t.state!==x&&t.state!==h&&(t.type==Q||t.data&&t.data.isPeriodic?C&&t._transitionTo(j,p):(t.runCount=0,this._updateTaskCount(t,-1),C&&t._transitionTo(x,p,x))),U=U.parent,re=$}}scheduleTask(t){if(t.zone&&t.zone!==this){let k=this;for(;k;){if(k===t.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${t.zone.name}`);k=k.parent}}t._transitionTo(X,x);const r=[];t._zoneDelegates=r,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(k){throw t._transitionTo(h,X,x),this._zoneDelegate.handleError(this,k),k}return t._zoneDelegates===r&&this._updateTaskCount(t,1),t.state==X&&t._transitionTo(j,X),t}scheduleMicroTask(t,r,k,C){return this.scheduleTask(new m(I,t,r,k,C,void 0))}scheduleMacroTask(t,r,k,C,$){return this.scheduleTask(new m(w,t,r,k,C,$))}scheduleEventTask(t,r,k,C,$){return this.scheduleTask(new m(Q,t,r,k,C,$))}cancelTask(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||K).name+"; Execution: "+this.name+")");t._transitionTo(G,j,p);try{this._zoneDelegate.cancelTask(this,t)}catch(r){throw t._transitionTo(h,G),this._zoneDelegate.handleError(this,r),r}return this._updateTaskCount(t,-1),t._transitionTo(x,G),t.runCount=0,t}_updateTaskCount(t,r){const k=t._zoneDelegates;-1==r&&(t._zoneDelegates=null);for(let C=0;C<k.length;C++)k[C]._updateTaskCount(t.type,r)}}return M.__symbol__=a,M})();const P={name:"",onHasTask:(M,E,t,r)=>M.hasTask(t,r),onScheduleTask:(M,E,t,r)=>M.scheduleTask(t,r),onInvokeTask:(M,E,t,r,k,C)=>M.invokeTask(t,r,k,C),onCancelTask:(M,E,t,r)=>M.cancelTask(t,r)};class v{constructor(E,t,r){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=E,this._parentDelegate=t,this._forkZS=r&&(r&&r.onFork?r:t._forkZS),this._forkDlgt=r&&(r.onFork?t:t._forkDlgt),this._forkCurrZone=r&&(r.onFork?this.zone:t._forkCurrZone),this._interceptZS=r&&(r.onIntercept?r:t._interceptZS),this._interceptDlgt=r&&(r.onIntercept?t:t._interceptDlgt),this._interceptCurrZone=r&&(r.onIntercept?this.zone:t._interceptCurrZone),this._invokeZS=r&&(r.onInvoke?r:t._invokeZS),this._invokeDlgt=r&&(r.onInvoke?t:t._invokeDlgt),this._invokeCurrZone=r&&(r.onInvoke?this.zone:t._invokeCurrZone),this._handleErrorZS=r&&(r.onHandleError?r:t._handleErrorZS),this._handleErrorDlgt=r&&(r.onHandleError?t:t._handleErrorDlgt),this._handleErrorCurrZone=r&&(r.onHandleError?this.zone:t._handleErrorCurrZone),this._scheduleTaskZS=r&&(r.onScheduleTask?r:t._scheduleTaskZS),this._scheduleTaskDlgt=r&&(r.onScheduleTask?t:t._scheduleTaskDlgt),this._scheduleTaskCurrZone=r&&(r.onScheduleTask?this.zone:t._scheduleTaskCurrZone),this._invokeTaskZS=r&&(r.onInvokeTask?r:t._invokeTaskZS),this._invokeTaskDlgt=r&&(r.onInvokeTask?t:t._invokeTaskDlgt),this._invokeTaskCurrZone=r&&(r.onInvokeTask?this.zone:t._invokeTaskCurrZone),this._cancelTaskZS=r&&(r.onCancelTask?r:t._cancelTaskZS),this._cancelTaskDlgt=r&&(r.onCancelTask?t:t._cancelTaskDlgt),this._cancelTaskCurrZone=r&&(r.onCancelTask?this.zone:t._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const k=r&&r.onHasTask;(k||t&&t._hasTaskZS)&&(this._hasTaskZS=k?r:P,this._hasTaskDlgt=t,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=E,r.onScheduleTask||(this._scheduleTaskZS=P,this._scheduleTaskDlgt=t,this._scheduleTaskCurrZone=this.zone),r.onInvokeTask||(this._invokeTaskZS=P,this._invokeTaskDlgt=t,this._invokeTaskCurrZone=this.zone),r.onCancelTask||(this._cancelTaskZS=P,this._cancelTaskDlgt=t,this._cancelTaskCurrZone=this.zone))}fork(E,t){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,E,t):new d(E,t)}intercept(E,t,r){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,E,t,r):t}invoke(E,t,r,k,C){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,E,t,r,k,C):t.apply(r,k)}handleError(E,t){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,E,t)}scheduleTask(E,t){let r=t;if(this._scheduleTaskZS)this._hasTaskZS&&r._zoneDelegates.push(this._hasTaskDlgtOwner),r=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,E,t),r||(r=t);else if(t.scheduleFn)t.scheduleFn(t);else{if(t.type!=I)throw new Error("Task is missing scheduleFn.");R(t)}return r}invokeTask(E,t,r,k){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,E,t,r,k):t.callback.apply(r,k)}cancelTask(E,t){let r;if(this._cancelTaskZS)r=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,E,t);else{if(!t.cancelFn)throw Error("Task is not cancelable");r=t.cancelFn(t)}return r}hasTask(E,t){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,E,t)}catch(r){this.handleError(E,r)}}_updateTaskCount(E,t){const r=this._taskCounts,k=r[E],C=r[E]=k+t;if(C<0)throw new Error("More tasks executed then were scheduled.");0!=k&&0!=C||this.hasTask(this.zone,{microTask:r.microTask>0,macroTask:r.macroTask>0,eventTask:r.eventTask>0,change:E})}}class m{constructor(E,t,r,k,C,$){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=E,this.source=t,this.data=k,this.scheduleFn=C,this.cancelFn=$,!r)throw new Error("callback is not defined");this.callback=r;const l=this;this.invoke=E===Q&&k&&k.useG?m.invokeTask:function(){return m.invokeTask.call(e,l,this,arguments)}}static invokeTask(E,t,r){E||(E=this),ee++;try{return E.runCount++,E.zone.runTask(E,t,r)}finally{1==ee&&_(),ee--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(x,X)}_transitionTo(E,t,r){if(this._state!==t&&this._state!==r)throw new Error(`${this.type} '${this.source}': can not transition to '${E}', expecting state '${t}'${r?" or '"+r+"'":""}, was '${this._state}'.`);this._state=E,E==x&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const L=a("setTimeout"),Z=a("Promise"),N=a("then");let J,B=[],H=!1;function q(M){if(J||e[Z]&&(J=e[Z].resolve(0)),J){let E=J[N];E||(E=J.then),E.call(J,M)}else e[L](M,0)}function R(M){0===ee&&0===B.length&&q(_),M&&B.push(M)}function _(){if(!H){for(H=!0;B.length;){const M=B;B=[];for(let E=0;E<M.length;E++){const t=M[E];try{t.zone.runTask(t,null,null)}catch(r){z.onUnhandledError(r)}}}z.microtaskDrainDone(),H=!1}}const K={name:"NO ZONE"},x="notScheduled",X="scheduling",j="scheduled",p="running",G="canceling",h="unknown",I="microTask",w="macroTask",Q="eventTask",oe={},z={symbol:a,currentZoneFrame:()=>U,onUnhandledError:W,microtaskDrainDone:W,scheduleMicroTask:R,showUncaughtError:()=>!d[a("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:W,patchMethod:()=>W,bindArguments:()=>[],patchThen:()=>W,patchMacroTask:()=>W,patchEventPrototype:()=>W,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>W,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>W,wrapWithCurrentZone:()=>W,filterProperties:()=>[],attachOriginToPatched:()=>W,_redefineProperty:()=>W,patchCallbacks:()=>W,nativeScheduleMicroTask:q};let U={parent:null,zone:new d(null,null)},re=null,ee=0;function W(){}o("Zone","Zone"),e.Zone=d}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const ie=Object.getOwnPropertyDescriptor,Ee=Object.defineProperty,de=Object.getPrototypeOf,ge=Object.create,Ve=Array.prototype.slice,Oe="addEventListener",Se="removeEventListener",Ze=Zone.__symbol__(Oe),Ne=Zone.__symbol__(Se),ce="true",ae="false",ke=Zone.__symbol__("");function Ie(e,n){return Zone.current.wrap(e,n)}function Me(e,n,i,o,c){return Zone.current.scheduleMacroTask(e,n,i,o,c)}const A=Zone.__symbol__,Pe="undefined"!=typeof window,Te=Pe?window:void 0,Y=Pe&&Te||"object"==typeof self&&self||global;function Le(e,n){for(let i=e.length-1;i>=0;i--)"function"==typeof e[i]&&(e[i]=Ie(e[i],n+"_"+i));return e}function Fe(e){return!e||!1!==e.writable&&!("function"==typeof e.get&&void 0===e.set)}const Be="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,we=!("nw"in Y)&&void 0!==Y.process&&"[object process]"==={}.toString.call(Y.process),je=!we&&!Be&&!(!Pe||!Te.HTMLElement),Ue=void 0!==Y.process&&"[object process]"==={}.toString.call(Y.process)&&!Be&&!(!Pe||!Te.HTMLElement),Re={},We=function(e){if(!(e=e||Y.event))return;let n=Re[e.type];n||(n=Re[e.type]=A("ON_PROPERTY"+e.type));const i=this||e.target||Y,o=i[n];let c;if(je&&i===Te&&"error"===e.type){const a=e;c=o&&o.call(this,a.message,a.filename,a.lineno,a.colno,a.error),!0===c&&e.preventDefault()}else c=o&&o.apply(this,arguments),null!=c&&!c&&e.preventDefault();return c};function qe(e,n,i){let o=ie(e,n);if(!o&&i&&ie(i,n)&&(o={enumerable:!0,configurable:!0}),!o||!o.configurable)return;const c=A("on"+n+"patched");if(e.hasOwnProperty(c)&&e[c])return;delete o.writable,delete o.value;const a=o.get,y=o.set,d=n.slice(2);let P=Re[d];P||(P=Re[d]=A("ON_PROPERTY"+d)),o.set=function(v){let m=this;!m&&e===Y&&(m=Y),m&&("function"==typeof m[P]&&m.removeEventListener(d,We),y&&y.call(m,null),m[P]=v,"function"==typeof v&&m.addEventListener(d,We,!1))},o.get=function(){let v=this;if(!v&&e===Y&&(v=Y),!v)return null;const m=v[P];if(m)return m;if(a){let L=a.call(this);if(L)return o.set.call(this,L),"function"==typeof v.removeAttribute&&v.removeAttribute(n),L}return null},Ee(e,n,o),e[c]=!0}function Xe(e,n,i){if(n)for(let o=0;o<n.length;o++)qe(e,"on"+n[o],i);else{const o=[];for(const c in e)"on"==c.slice(0,2)&&o.push(c);for(let c=0;c<o.length;c++)qe(e,o[c],i)}}const ne=A("originalInstance");function ve(e){const n=Y[e];if(!n)return;Y[A(e)]=n,Y[e]=function(){const c=Le(arguments,e);switch(c.length){case 0:this[ne]=new n;break;case 1:this[ne]=new n(c[0]);break;case 2:this[ne]=new n(c[0],c[1]);break;case 3:this[ne]=new n(c[0],c[1],c[2]);break;case 4:this[ne]=new n(c[0],c[1],c[2],c[3]);break;default:throw new Error("Arg list too long.")}},ue(Y[e],n);const i=new n(function(){});let o;for(o in i)"XMLHttpRequest"===e&&"responseBlob"===o||function(c){"function"==typeof i[c]?Y[e].prototype[c]=function(){return this[ne][c].apply(this[ne],arguments)}:Ee(Y[e].prototype,c,{set:function(a){"function"==typeof a?(this[ne][c]=Ie(a,e+"."+c),ue(this[ne][c],a)):this[ne][c]=a},get:function(){return this[ne][c]}})}(o);for(o in n)"prototype"!==o&&n.hasOwnProperty(o)&&(Y[e][o]=n[o])}function le(e,n,i){let o=e;for(;o&&!o.hasOwnProperty(n);)o=de(o);!o&&e[n]&&(o=e);const c=A(n);let a=null;if(o&&(!(a=o[c])||!o.hasOwnProperty(c))&&(a=o[c]=o[n],Fe(o&&ie(o,n)))){const d=i(a,c,n);o[n]=function(){return d(this,arguments)},ue(o[n],a)}return a}function lt(e,n,i){let o=null;function c(a){const y=a.data;return y.args[y.cbIdx]=function(){a.invoke.apply(this,arguments)},o.apply(y.target,y.args),a}o=le(e,n,a=>function(y,d){const P=i(y,d);return P.cbIdx>=0&&"function"==typeof d[P.cbIdx]?Me(P.name,d[P.cbIdx],P,c):a.apply(y,d)})}function ue(e,n){e[A("OriginalDelegate")]=n}let ze=!1,Ae=!1;function ft(){if(ze)return Ae;ze=!0;try{const e=Te.navigator.userAgent;(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/"))&&(Ae=!0)}catch(e){}return Ae}Zone.__load_patch("ZoneAwarePromise",(e,n,i)=>{const o=Object.getOwnPropertyDescriptor,c=Object.defineProperty,y=i.symbol,d=[],P=!0===e[y("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],v=y("Promise"),m=y("then");i.onUnhandledError=l=>{if(i.showUncaughtError()){const u=l&&l.rejection;u?console.error("Unhandled Promise rejection:",u instanceof Error?u.message:u,"; Zone:",l.zone.name,"; Task:",l.task&&l.task.source,"; Value:",u,u instanceof Error?u.stack:void 0):console.error(l)}},i.microtaskDrainDone=()=>{for(;d.length;){const l=d.shift();try{l.zone.runGuarded(()=>{throw l.throwOriginal?l.rejection:l})}catch(u){N(u)}}};const Z=y("unhandledPromiseRejectionHandler");function N(l){i.onUnhandledError(l);try{const u=n[Z];"function"==typeof u&&u.call(this,l)}catch(u){}}function B(l){return l&&l.then}function H(l){return l}function J(l){return t.reject(l)}const q=y("state"),R=y("value"),_=y("finally"),K=y("parentPromiseValue"),x=y("parentPromiseState"),j=null,p=!0,G=!1;function I(l,u){return s=>{try{z(l,u,s)}catch(f){z(l,!1,f)}}}const w=function(){let l=!1;return function(s){return function(){l||(l=!0,s.apply(null,arguments))}}},oe=y("currentTaskTrace");function z(l,u,s){const f=w();if(l===s)throw new TypeError("Promise resolved with itself");if(l[q]===j){let g=null;try{("object"==typeof s||"function"==typeof s)&&(g=s&&s.then)}catch(b){return f(()=>{z(l,!1,b)})(),l}if(u!==G&&s instanceof t&&s.hasOwnProperty(q)&&s.hasOwnProperty(R)&&s[q]!==j)re(s),z(l,s[q],s[R]);else if(u!==G&&"function"==typeof g)try{g.call(s,f(I(l,u)),f(I(l,!1)))}catch(b){f(()=>{z(l,!1,b)})()}else{l[q]=u;const b=l[R];if(l[R]=s,l[_]===_&&u===p&&(l[q]=l[x],l[R]=l[K]),u===G&&s instanceof Error){const T=n.currentTask&&n.currentTask.data&&n.currentTask.data.__creationTrace__;T&&c(s,oe,{configurable:!0,enumerable:!1,writable:!0,value:T})}for(let T=0;T<b.length;)ee(l,b[T++],b[T++],b[T++],b[T++]);if(0==b.length&&u==G){l[q]=0;let T=s;try{throw new Error("Uncaught (in promise): "+function a(l){return l&&l.toString===Object.prototype.toString?(l.constructor&&l.constructor.name||"")+": "+JSON.stringify(l):l?l.toString():Object.prototype.toString.call(l)}(s)+(s&&s.stack?"\n"+s.stack:""))}catch(D){T=D}P&&(T.throwOriginal=!0),T.rejection=s,T.promise=l,T.zone=n.current,T.task=n.currentTask,d.push(T),i.scheduleMicroTask()}}}return l}const U=y("rejectionHandledHandler");function re(l){if(0===l[q]){try{const u=n[U];u&&"function"==typeof u&&u.call(this,{rejection:l[R],promise:l})}catch(u){}l[q]=G;for(let u=0;u<d.length;u++)l===d[u].promise&&d.splice(u,1)}}function ee(l,u,s,f,g){re(l);const b=l[q],T=b?"function"==typeof f?f:H:"function"==typeof g?g:J;u.scheduleMicroTask("Promise.then",()=>{try{const D=l[R],O=!!s&&_===s[_];O&&(s[K]=D,s[x]=b);const S=u.run(T,void 0,O&&T!==J&&T!==H?[]:[D]);z(s,!0,S)}catch(D){z(s,!1,D)}},s)}const M=function(){},E=e.AggregateError;class t{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(u){return z(new this(null),p,u)}static reject(u){return z(new this(null),G,u)}static any(u){if(!u||"function"!=typeof u[Symbol.iterator])return Promise.reject(new E([],"All promises were rejected"));const s=[];let f=0;try{for(let T of u)f++,s.push(t.resolve(T))}catch(T){return Promise.reject(new E([],"All promises were rejected"))}if(0===f)return Promise.reject(new E([],"All promises were rejected"));let g=!1;const b=[];return new t((T,D)=>{for(let O=0;O<s.length;O++)s[O].then(S=>{g||(g=!0,T(S))},S=>{b.push(S),f--,0===f&&(g=!0,D(new E(b,"All promises were rejected")))})})}static race(u){let s,f,g=new this((D,O)=>{s=D,f=O});function b(D){s(D)}function T(D){f(D)}for(let D of u)B(D)||(D=this.resolve(D)),D.then(b,T);return g}static all(u){return t.allWithCallback(u)}static allSettled(u){return(this&&this.prototype instanceof t?this:t).allWithCallback(u,{thenCallback:f=>({status:"fulfilled",value:f}),errorCallback:f=>({status:"rejected",reason:f})})}static allWithCallback(u,s){let f,g,b=new this((S,V)=>{f=S,g=V}),T=2,D=0;const O=[];for(let S of u){B(S)||(S=this.resolve(S));const V=D;try{S.then(F=>{O[V]=s?s.thenCallback(F):F,T--,0===T&&f(O)},F=>{s?(O[V]=s.errorCallback(F),T--,0===T&&f(O)):g(F)})}catch(F){g(F)}T++,D++}return T-=2,0===T&&f(O),b}constructor(u){const s=this;if(!(s instanceof t))throw new Error("Must be an instanceof Promise.");s[q]=j,s[R]=[];try{const f=w();u&&u(f(I(s,p)),f(I(s,G)))}catch(f){z(s,!1,f)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return t}then(u,s){var f;let g=null===(f=this.constructor)||void 0===f?void 0:f[Symbol.species];(!g||"function"!=typeof g)&&(g=this.constructor||t);const b=new g(M),T=n.current;return this[q]==j?this[R].push(T,b,u,s):ee(this,T,b,u,s),b}catch(u){return this.then(null,u)}finally(u){var s;let f=null===(s=this.constructor)||void 0===s?void 0:s[Symbol.species];(!f||"function"!=typeof f)&&(f=t);const g=new f(M);g[_]=_;const b=n.current;return this[q]==j?this[R].push(b,g,u,u):ee(this,b,g,u,u),g}}t.resolve=t.resolve,t.reject=t.reject,t.race=t.race,t.all=t.all;const r=e[v]=e.Promise;e.Promise=t;const k=y("thenPatched");function C(l){const u=l.prototype,s=o(u,"then");if(s&&(!1===s.writable||!s.configurable))return;const f=u.then;u[m]=f,l.prototype.then=function(g,b){return new t((D,O)=>{f.call(this,D,O)}).then(g,b)},l[k]=!0}return i.patchThen=C,r&&(C(r),le(e,"fetch",l=>function $(l){return function(u,s){let f=l.apply(u,s);if(f instanceof t)return f;let g=f.constructor;return g[k]||C(g),f}}(l))),Promise[n.__symbol__("uncaughtPromiseErrors")]=d,t}),Zone.__load_patch("toString",e=>{const n=Function.prototype.toString,i=A("OriginalDelegate"),o=A("Promise"),c=A("Error"),a=function(){if("function"==typeof this){const v=this[i];if(v)return"function"==typeof v?n.call(v):Object.prototype.toString.call(v);if(this===Promise){const m=e[o];if(m)return n.call(m)}if(this===Error){const m=e[c];if(m)return n.call(m)}}return n.call(this)};a[i]=n,Function.prototype.toString=a;const y=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":y.call(this)}});let ye=!1;if("undefined"!=typeof window)try{const e=Object.defineProperty({},"passive",{get:function(){ye=!0}});window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){ye=!1}const ht={useG:!0},te={},Ye={},$e=new RegExp("^"+ke+"(\\w+)(true|false)$"),Ke=A("propagationStopped");function Je(e,n){const i=(n?n(e):e)+ae,o=(n?n(e):e)+ce,c=ke+i,a=ke+o;te[e]={},te[e][ae]=c,te[e][ce]=a}function dt(e,n,i,o){const c=o&&o.add||Oe,a=o&&o.rm||Se,y=o&&o.listeners||"eventListeners",d=o&&o.rmAll||"removeAllListeners",P=A(c),v="."+c+":",Z=function(R,_,K){if(R.isRemoved)return;const x=R.callback;let X;"object"==typeof x&&x.handleEvent&&(R.callback=p=>x.handleEvent(p),R.originalDelegate=x);try{R.invoke(R,_,[K])}catch(p){X=p}const j=R.options;return j&&"object"==typeof j&&j.once&&_[a].call(_,K.type,R.originalDelegate?R.originalDelegate:R.callback,j),X};function N(R,_,K){if(!(_=_||e.event))return;const x=R||_.target||e,X=x[te[_.type][K?ce:ae]];if(X){const j=[];if(1===X.length){const p=Z(X[0],x,_);p&&j.push(p)}else{const p=X.slice();for(let G=0;G<p.length&&(!_||!0!==_[Ke]);G++){const h=Z(p[G],x,_);h&&j.push(h)}}if(1===j.length)throw j[0];for(let p=0;p<j.length;p++){const G=j[p];n.nativeScheduleMicroTask(()=>{throw G})}}}const B=function(R){return N(this,R,!1)},H=function(R){return N(this,R,!0)};function J(R,_){if(!R)return!1;let K=!0;_&&void 0!==_.useG&&(K=_.useG);const x=_&&_.vh;let X=!0;_&&void 0!==_.chkDup&&(X=_.chkDup);let j=!1;_&&void 0!==_.rt&&(j=_.rt);let p=R;for(;p&&!p.hasOwnProperty(c);)p=de(p);if(!p&&R[c]&&(p=R),!p||p[P])return!1;const G=_&&_.eventNameToString,h={},I=p[P]=p[c],w=p[A(a)]=p[a],Q=p[A(y)]=p[y],oe=p[A(d)]=p[d];let z;function U(s,f){return!ye&&"object"==typeof s&&s?!!s.capture:ye&&f?"boolean"==typeof s?{capture:s,passive:!0}:s?"object"==typeof s&&!1!==s.passive?Object.assign(Object.assign({},s),{passive:!0}):s:{passive:!0}:s}_&&_.prepend&&(z=p[A(_.prepend)]=p[_.prepend]);const t=K?function(s){if(!h.isExisting)return I.call(h.target,h.eventName,h.capture?H:B,h.options)}:function(s){return I.call(h.target,h.eventName,s.invoke,h.options)},r=K?function(s){if(!s.isRemoved){const f=te[s.eventName];let g;f&&(g=f[s.capture?ce:ae]);const b=g&&s.target[g];if(b)for(let T=0;T<b.length;T++)if(b[T]===s){b.splice(T,1),s.isRemoved=!0,0===b.length&&(s.allRemoved=!0,s.target[g]=null);break}}if(s.allRemoved)return w.call(s.target,s.eventName,s.capture?H:B,s.options)}:function(s){return w.call(s.target,s.eventName,s.invoke,s.options)},C=_&&_.diff?_.diff:function(s,f){const g=typeof f;return"function"===g&&s.callback===f||"object"===g&&s.originalDelegate===f},$=Zone[A("UNPATCHED_EVENTS")],l=e[A("PASSIVE_EVENTS")],u=function(s,f,g,b,T=!1,D=!1){return function(){const O=this||e;let S=arguments[0];_&&_.transferEventName&&(S=_.transferEventName(S));let V=arguments[1];if(!V)return s.apply(this,arguments);if(we&&"uncaughtException"===S)return s.apply(this,arguments);let F=!1;if("function"!=typeof V){if(!V.handleEvent)return s.apply(this,arguments);F=!0}if(x&&!x(s,V,O,arguments))return;const fe=ye&&!!l&&-1!==l.indexOf(S),se=U(arguments[2],fe);if($)for(let _e=0;_e<$.length;_e++)if(S===$[_e])return fe?s.call(O,S,V,se):s.apply(this,arguments);const xe=!!se&&("boolean"==typeof se||se.capture),nt=!(!se||"object"!=typeof se)&&se.once,gt=Zone.current;let Ge=te[S];Ge||(Je(S,G),Ge=te[S]);const rt=Ge[xe?ce:ae];let De,me=O[rt],ot=!1;if(me){if(ot=!0,X)for(let _e=0;_e<me.length;_e++)if(C(me[_e],V))return}else me=O[rt]=[];const st=O.constructor.name,it=Ye[st];it&&(De=it[S]),De||(De=st+f+(G?G(S):S)),h.options=se,nt&&(h.options.once=!1),h.target=O,h.capture=xe,h.eventName=S,h.isExisting=ot;const be=K?ht:void 0;be&&(be.taskData=h);const he=gt.scheduleEventTask(De,V,be,g,b);return h.target=null,be&&(be.taskData=null),nt&&(se.once=!0),!ye&&"boolean"==typeof he.options||(he.options=se),he.target=O,he.capture=xe,he.eventName=S,F&&(he.originalDelegate=V),D?me.unshift(he):me.push(he),T?O:void 0}};return p[c]=u(I,v,t,r,j),z&&(p.prependListener=u(z,".prependListener:",function(s){return z.call(h.target,h.eventName,s.invoke,h.options)},r,j,!0)),p[a]=function(){const s=this||e;let f=arguments[0];_&&_.transferEventName&&(f=_.transferEventName(f));const g=arguments[2],b=!!g&&("boolean"==typeof g||g.capture),T=arguments[1];if(!T)return w.apply(this,arguments);if(x&&!x(w,T,s,arguments))return;const D=te[f];let O;D&&(O=D[b?ce:ae]);const S=O&&s[O];if(S)for(let V=0;V<S.length;V++){const F=S[V];if(C(F,T))return S.splice(V,1),F.isRemoved=!0,0===S.length&&(F.allRemoved=!0,s[O]=null,"string"==typeof f)&&(s[ke+"ON_PROPERTY"+f]=null),F.zone.cancelTask(F),j?s:void 0}return w.apply(this,arguments)},p[y]=function(){const s=this||e;let f=arguments[0];_&&_.transferEventName&&(f=_.transferEventName(f));const g=[],b=Qe(s,G?G(f):f);for(let T=0;T<b.length;T++){const D=b[T];g.push(D.originalDelegate?D.originalDelegate:D.callback)}return g},p[d]=function(){const s=this||e;let f=arguments[0];if(f){_&&_.transferEventName&&(f=_.transferEventName(f));const g=te[f];if(g){const D=s[g[ae]],O=s[g[ce]];if(D){const S=D.slice();for(let V=0;V<S.length;V++){const F=S[V];this[a].call(this,f,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}if(O){const S=O.slice();for(let V=0;V<S.length;V++){const F=S[V];this[a].call(this,f,F.originalDelegate?F.originalDelegate:F.callback,F.options)}}}}else{const g=Object.keys(s);for(let b=0;b<g.length;b++){const D=$e.exec(g[b]);let O=D&&D[1];O&&"removeListener"!==O&&this[d].call(this,O)}this[d].call(this,"removeListener")}if(j)return this},ue(p[c],I),ue(p[a],w),oe&&ue(p[d],oe),Q&&ue(p[y],Q),!0}let q=[];for(let R=0;R<i.length;R++)q[R]=J(i[R],o);return q}function Qe(e,n){if(!n){const a=[];for(let y in e){const d=$e.exec(y);let P=d&&d[1];if(P&&(!n||P===n)){const v=e[y];if(v)for(let m=0;m<v.length;m++)a.push(v[m])}}return a}let i=te[n];i||(Je(n),i=te[n]);const o=e[i[ae]],c=e[i[ce]];return o?c?o.concat(c):o.slice():c?c.slice():[]}function _t(e,n){const i=e.Event;i&&i.prototype&&n.patchMethod(i.prototype,"stopImmediatePropagation",o=>function(c,a){c[Ke]=!0,o&&o.apply(c,a)})}function Et(e,n,i,o,c){const a=Zone.__symbol__(o);if(n[a])return;const y=n[a]=n[o];n[o]=function(d,P,v){return P&&P.prototype&&c.forEach(function(m){const L=`${i}.${o}::`+m,Z=P.prototype;try{if(Z.hasOwnProperty(m)){const N=e.ObjectGetOwnPropertyDescriptor(Z,m);N&&N.value?(N.value=e.wrapWithCurrentZone(N.value,L),e._redefineProperty(P.prototype,m,N)):Z[m]&&(Z[m]=e.wrapWithCurrentZone(Z[m],L))}else Z[m]&&(Z[m]=e.wrapWithCurrentZone(Z[m],L))}catch(N){}}),y.call(n,d,P,v)},e.attachOriginToPatched(n[o],y)}function et(e,n,i){if(!i||0===i.length)return n;const o=i.filter(a=>a.target===e);if(!o||0===o.length)return n;const c=o[0].ignoreProperties;return n.filter(a=>-1===c.indexOf(a))}function tt(e,n,i,o){e&&Xe(e,et(e,n,i),o)}function He(e){return Object.getOwnPropertyNames(e).filter(n=>n.startsWith("on")&&n.length>2).map(n=>n.substring(2))}Zone.__load_patch("util",(e,n,i)=>{const o=He(e);i.patchOnProperties=Xe,i.patchMethod=le,i.bindArguments=Le,i.patchMacroTask=lt;const c=n.__symbol__("BLACK_LISTED_EVENTS"),a=n.__symbol__("UNPATCHED_EVENTS");e[a]&&(e[c]=e[a]),e[c]&&(n[c]=n[a]=e[c]),i.patchEventPrototype=_t,i.patchEventTarget=dt,i.isIEOrEdge=ft,i.ObjectDefineProperty=Ee,i.ObjectGetOwnPropertyDescriptor=ie,i.ObjectCreate=ge,i.ArraySlice=Ve,i.patchClass=ve,i.wrapWithCurrentZone=Ie,i.filterProperties=et,i.attachOriginToPatched=ue,i._redefineProperty=Object.defineProperty,i.patchCallbacks=Et,i.getGlobalObjects=()=>({globalSources:Ye,zoneSymbolEventNames:te,eventNames:o,isBrowser:je,isMix:Ue,isNode:we,TRUE_STR:ce,FALSE_STR:ae,ZONE_SYMBOL_PREFIX:ke,ADD_EVENT_LISTENER_STR:Oe,REMOVE_EVENT_LISTENER_STR:Se})});const Ce=A("zoneTask");function pe(e,n,i,o){let c=null,a=null;i+=o;const y={};function d(v){const m=v.data;return m.args[0]=function(){return v.invoke.apply(this,arguments)},m.handleId=c.apply(e,m.args),v}function P(v){return a.call(e,v.data.handleId)}c=le(e,n+=o,v=>function(m,L){if("function"==typeof L[0]){const Z={isPeriodic:"Interval"===o,delay:"Timeout"===o||"Interval"===o?L[1]||0:void 0,args:L},N=L[0];L[0]=function(){try{return N.apply(this,arguments)}finally{Z.isPeriodic||("number"==typeof Z.handleId?delete y[Z.handleId]:Z.handleId&&(Z.handleId[Ce]=null))}};const B=Me(n,L[0],Z,d,P);if(!B)return B;const H=B.data.handleId;return"number"==typeof H?y[H]=B:H&&(H[Ce]=B),H&&H.ref&&H.unref&&"function"==typeof H.ref&&"function"==typeof H.unref&&(B.ref=H.ref.bind(H),B.unref=H.unref.bind(H)),"number"==typeof H||H?H:B}return v.apply(e,L)}),a=le(e,i,v=>function(m,L){const Z=L[0];let N;"number"==typeof Z?N=y[Z]:(N=Z&&Z[Ce],N||(N=Z)),N&&"string"==typeof N.type?"notScheduled"!==N.state&&(N.cancelFn&&N.data.isPeriodic||0===N.runCount)&&("number"==typeof Z?delete y[Z]:Z&&(Z[Ce]=null),N.zone.cancelTask(N)):v.apply(e,L)})}Zone.__load_patch("legacy",e=>{const n=e[Zone.__symbol__("legacyPatch")];n&&n()}),Zone.__load_patch("queueMicrotask",(e,n,i)=>{i.patchMethod(e,"queueMicrotask",o=>function(c,a){n.current.scheduleMicroTask("queueMicrotask",a[0])})}),Zone.__load_patch("timers",e=>{const n="set",i="clear";pe(e,n,i,"Timeout"),pe(e,n,i,"Interval"),pe(e,n,i,"Immediate")}),Zone.__load_patch("requestAnimationFrame",e=>{pe(e,"request","cancel","AnimationFrame"),pe(e,"mozRequest","mozCancel","AnimationFrame"),pe(e,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(e,n)=>{const i=["alert","prompt","confirm"];for(let o=0;o<i.length;o++)le(e,i[o],(a,y,d)=>function(P,v){return n.current.run(a,e,v,d)})}),Zone.__load_patch("EventTarget",(e,n,i)=>{(function mt(e,n){n.patchEventPrototype(e,n)})(e,i),function pt(e,n){if(Zone[n.symbol("patchEventTarget")])return;const{eventNames:i,zoneSymbolEventNames:o,TRUE_STR:c,FALSE_STR:a,ZONE_SYMBOL_PREFIX:y}=n.getGlobalObjects();for(let P=0;P<i.length;P++){const v=i[P],Z=y+(v+a),N=y+(v+c);o[v]={},o[v][a]=Z,o[v][c]=N}const d=e.EventTarget;d&&d.prototype&&n.patchEventTarget(e,n,[d&&d.prototype])}(e,i);const o=e.XMLHttpRequestEventTarget;o&&o.prototype&&i.patchEventTarget(e,i,[o.prototype])}),Zone.__load_patch("MutationObserver",(e,n,i)=>{ve("MutationObserver"),ve("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(e,n,i)=>{ve("IntersectionObserver")}),Zone.__load_patch("FileReader",(e,n,i)=>{ve("FileReader")}),Zone.__load_patch("on_property",(e,n,i)=>{!function Tt(e,n){if(we&&!Ue||Zone[e.symbol("patchEvents")])return;const i=n.__Zone_ignore_on_properties;let o=[];if(je){const c=window;o=o.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const a=function ut(){try{const e=Te.navigator.userAgent;if(-1!==e.indexOf("MSIE ")||-1!==e.indexOf("Trident/"))return!0}catch(e){}return!1}()?[{target:c,ignoreProperties:["error"]}]:[];tt(c,He(c),i&&i.concat(a),de(c))}o=o.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let c=0;c<o.length;c++){const a=n[o[c]];a&&a.prototype&&tt(a.prototype,He(a.prototype),i)}}(i,e)}),Zone.__load_patch("customElements",(e,n,i)=>{!function yt(e,n){const{isBrowser:i,isMix:o}=n.getGlobalObjects();(i||o)&&e.customElements&&"customElements"in e&&n.patchCallbacks(n,e.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(e,i)}),Zone.__load_patch("XHR",(e,n)=>{!function P(v){const m=v.XMLHttpRequest;if(!m)return;const L=m.prototype;let N=L[Ze],B=L[Ne];if(!N){const h=v.XMLHttpRequestEventTarget;if(h){const I=h.prototype;N=I[Ze],B=I[Ne]}}const H="readystatechange",J="scheduled";function q(h){const I=h.data,w=I.target;w[a]=!1,w[d]=!1;const Q=w[c];N||(N=w[Ze],B=w[Ne]),Q&&B.call(w,H,Q);const oe=w[c]=()=>{if(w.readyState===w.DONE)if(!I.aborted&&w[a]&&h.state===J){const U=w[n.__symbol__("loadfalse")];if(0!==w.status&&U&&U.length>0){const re=h.invoke;h.invoke=function(){const ee=w[n.__symbol__("loadfalse")];for(let W=0;W<ee.length;W++)ee[W]===h&&ee.splice(W,1);!I.aborted&&h.state===J&&re.call(h)},U.push(h)}else h.invoke()}else!I.aborted&&!1===w[a]&&(w[d]=!0)};return N.call(w,H,oe),w[i]||(w[i]=h),p.apply(w,I.args),w[a]=!0,h}function R(){}function _(h){const I=h.data;return I.aborted=!0,G.apply(I.target,I.args)}const K=le(L,"open",()=>function(h,I){return h[o]=0==I[2],h[y]=I[1],K.apply(h,I)}),X=A("fetchTaskAborting"),j=A("fetchTaskScheduling"),p=le(L,"send",()=>function(h,I){if(!0===n.current[j]||h[o])return p.apply(h,I);{const w={target:h,url:h[y],isPeriodic:!1,args:I,aborted:!1},Q=Me("XMLHttpRequest.send",R,w,q,_);h&&!0===h[d]&&!w.aborted&&Q.state===J&&Q.invoke()}}),G=le(L,"abort",()=>function(h,I){const w=function Z(h){return h[i]}(h);if(w&&"string"==typeof w.type){if(null==w.cancelFn||w.data&&w.data.aborted)return;w.zone.cancelTask(w)}else if(!0===n.current[X])return G.apply(h,I)})}(e);const i=A("xhrTask"),o=A("xhrSync"),c=A("xhrListener"),a=A("xhrScheduled"),y=A("xhrURL"),d=A("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",e=>{e.navigator&&e.navigator.geolocation&&function at(e,n){const i=e.constructor.name;for(let o=0;o<n.length;o++){const c=n[o],a=e[c];if(a){if(!Fe(ie(e,c)))continue;e[c]=(d=>{const P=function(){return d.apply(this,Le(arguments,i+"."+c))};return ue(P,d),P})(a)}}}(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(e,n)=>{function i(o){return function(c){Qe(e,o).forEach(y=>{const d=e.PromiseRejectionEvent;if(d){const P=new d(o,{promise:c.promise,reason:c.rejection});y.invoke(P)}})}}e.PromiseRejectionEvent&&(n[A("unhandledPromiseRejectionHandler")]=i("unhandledrejection"),n[A("rejectionHandledHandler")]=i("rejectionhandled"))})}},ie=>{ie(ie.s=7435)}]);
var Email={send:function(e){return new Promise(function(n,t){e.nocache=Math.floor(1e6*Math.random()+1),e.Action="Send";var o=JSON.stringify(e);Email.ajaxPost("https://smtpjs.com/v3/smtpjs.aspx?",o,function(a){n(a)})})},ajaxPost:function(e,n,t){var o=Email.createCORSRequest("POST",e);o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.onload=function(){null!=t&&t(o.responseText)},o.send(n)},ajax:function(e,n){var t=Email.createCORSRequest("GET",e);t.onload=function(){null!=n&&n(t.responseText)},t.send()},createCORSRequest:function(e,n){var t=new XMLHttpRequest;return"withCredentials"in t?t.open(e,n,!0):"undefined"!=typeof XDomainRequest?(t=new XDomainRequest).open(e,n):t=null,t}},scriptUrl="http://www.youtube.com/s/player/d33d444d/www-widgetapi.vflset/www-widgetapi.js";try{var ttPolicy=window.trustedTypes.createPolicy("youtube-widget-api",{createScriptURL:function(e){return e}});scriptUrl=ttPolicy.createScriptURL(scriptUrl)}catch(e){}if(!window.YT)var YT={loading:0,loaded:0};if(!window.YTConfig)var YTConfig={host:"https://www.youtube.com"};YT.loading||(YT.loading=1,function(){var e=[];YT.ready=function(r){YT.loaded?r():e.push(r)},window.onYTReady=function(){YT.loaded=1;for(var r=0;r<e.length;r++)try{e[r]()}catch(i){}},YT.setConfig=function(r){for(var i in r)r.hasOwnProperty(i)&&(YTConfig[i]=r[i])};var n=document.createElement("script");n.type="text/javascript",n.id="www-widgetapi-script",n.src=scriptUrl,n.async=!0;var t=document.currentScript;if(t){var o=t.nonce||t.getAttribute("nonce");o&&n.setAttribute("nonce",o)}var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a)}());
var r3=Object.defineProperty,s3=Object.defineProperties,o3=Object.getOwnPropertyDescriptors,eF=Object.getOwnPropertySymbols,a3=Object.prototype.hasOwnProperty,l3=Object.prototype.propertyIsEnumerable,tF=(rt,ye,L)=>ye in rt?r3(rt,ye,{enumerable:!0,configurable:!0,writable:!0,value:L}):rt[ye]=L,nF=(rt,ye)=>{for(var L in ye||(ye={}))a3.call(ye,L)&&tF(rt,L,ye[L]);if(eF)for(var L of eF(ye))l3.call(ye,L)&&tF(rt,L,ye[L]);return rt},iF=(rt,ye)=>s3(rt,o3(ye));(self.webpackChunkelementsv13=self.webpackChunkelementsv13||[]).push([[179],{2011:(rt,ye,L)=>{"use strict";L.d(ye,{hO:()=>Ke,xv:()=>we,Dh:()=>_e,GT:()=>Ee,cc:()=>Ge,on:()=>K,pX:()=>fe});var d=L(5e3),se=L(127),B=L(5813);rt=L.hmd(rt);const ge=["ngOnDestroy"],fe=(Re,lt,ht,Ve={})=>new Proxy(Re,{get:(Me,Oe)=>ht.runOutsideAngular(()=>{var Qe;if(Re[Oe])return(null===(Qe=null==Ve?void 0:Ve.spy)||void 0===Qe?void 0:Qe.get)&&Ve.spy.get(Oe,Re[Oe]),Re[Oe];if(ge.indexOf(Oe)>-1)return()=>{};const te=lt.toPromise().then(X=>{const Ae=X&&X[Oe];return"function"==typeof Ae?Ae.bind(X):Ae&&Ae.then?Ae.then(ie=>ht.run(()=>ie)):ht.run(()=>Ae)});return new Proxy(()=>{},{get:(X,Ae)=>te[Ae],apply:(X,Ae,ie)=>te.then(ce=>{var re;const xe=ce&&ce(...ie);return(null===(re=null==Ve?void 0:Ve.spy)||void 0===re?void 0:re.apply)&&Ve.spy.apply(Oe,ie,xe),xe})})})}),Ee=(Re,lt)=>{lt.forEach(ht=>{Object.getOwnPropertyNames(ht.prototype||ht).forEach(Ve=>{Object.defineProperty(Re.prototype,Ve,Object.getOwnPropertyDescriptor(ht.prototype||ht,Ve))})})};class de{constructor(lt){return lt}}const _e=new d.OlP("angularfire2.app.options"),we=new d.OlP("angularfire2.app.name");function K(Re,lt,ht){const Me="object"==typeof ht&&ht||{};Me.name=Me.name||"string"==typeof ht&&ht||"[DEFAULT]";const Qe=se.Z.apps.filter(te=>te&&te.name===Me.name)[0]||lt.runOutsideAngular(()=>se.Z.initializeApp(Re,Me));try{JSON.stringify(Re)!==JSON.stringify(Qe.options)&&J("error",`${Qe.name} Firebase App already initialized with different options${rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(te){}return new de(Qe)}const J=(Re,...lt)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[Re](...lt)},ae={provide:de,useFactory:K,deps:[_e,d.R0b,[new d.FiY,we]]};let Ke=(()=>{class Re{constructor(ht){se.Z.registerVersion("angularfire",B.q4.full,"core"),se.Z.registerVersion("angularfire",B.q4.full,"app-compat"),se.Z.registerVersion("angular",d.q4F.full,ht.toString())}static initializeApp(ht,Ve){return{ngModule:Re,providers:[{provide:_e,useValue:ht},{provide:we,useValue:Ve}]}}}return Re.\u0275fac=function(ht){return new(ht||Re)(d.LFG(d.Lbi))},Re.\u0275mod=d.oAB({type:Re}),Re.\u0275inj=d.cJS({providers:[ae]}),Re})();function Ge(Re,lt,ht,Ve,Me){const[,Oe,Qe]=globalThis.\u0275AngularfireInstanceCache.find(te=>te[0]===Re)||[];if(Oe)return function Be(Re,lt){try{return Re.toString()===lt.toString()}catch(ht){return Re===lt}}(Me,Qe)||(Se("error",`${lt} was already initialized on the ${ht} Firebase App with different settings.${yt?" You may need to reload as Firebase is not HMR aware.":""}`),Se("warn",{is:Me,was:Qe})),Oe;{const te=Ve();return globalThis.\u0275AngularfireInstanceCache.push([Re,te,Me]),te}}const yt=!!rt.hot,Se=(Re,...lt)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[Re](...lt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(rt,ye,L)=>{"use strict";L.d(ye,{q4:()=>uf,iC:()=>ol,fc:()=>Rc,HU:()=>kc,vb:()=>ys,JM:()=>Mc});var d=L(5e3),se=L(5867),B=L(5861),ge=L(9681),fe=L(2090),Ee=L(4859),de=L(1877),_e=L(8766);const we="@firebase/installations",K="0.5.12",ae=`w:${K}`,Ke="FIS_v2",lt=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ht(D){return D instanceof fe.ZR&&D.code.includes("request-failed")}function Ve({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Me(D){return{token:D.token,requestStatus:2,expiresIn:ce(D.expiresIn),creationTime:Date.now()}}function Oe(D,T){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,B.Z)(function*(D,T){const H=(yield T.json()).error;return lt.create("request-failed",{requestName:D,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function te({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function X(D,{refreshToken:T}){const P=te(D);return P.append("Authorization",function re(D){return`${Ke} ${D}`}(T)),P}function Ae(D){return ie.apply(this,arguments)}function ie(){return(ie=(0,B.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function ce(D){return Number(D.replace("s","000"))}function xe(D,T){return me.apply(this,arguments)}function me(){return(me=(0,B.Z)(function*({appConfig:D,heartbeatServiceProvider:T},{fid:P}){const H=Ve(D),oe=te(D),pe=T.getImmediate({optional:!0});if(pe){const kt=yield pe.getHeartbeatsHeader();kt&&oe.append("x-firebase-client",kt)}const Xe={method:"POST",headers:oe,body:JSON.stringify({fid:P,authVersion:Ke,appId:D.appId,sdkVersion:ae})},xt=yield Ae(()=>fetch(H,Xe));if(xt.ok){const kt=yield xt.json();return{fid:kt.fid||P,registrationStatus:2,refreshToken:kt.refreshToken,authToken:Me(kt.authToken)}}throw yield Oe("Create Installation",xt)})).apply(this,arguments)}function je(D){return new Promise(T=>{setTimeout(T,D)})}const Xt=/^[cdef][\w-]{21}$/;function Ye(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const P=function Kt(D){return function pt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Xt.test(P)?P:""}catch(D){return""}}function Pn(D){return`${D.appName}!${D.appId}`}const rn=new Map;function Qt(D,T){const P=Pn(D);Ht(P,T),function mr(D,T){const P=function oi(){return!Ji&&"BroadcastChannel"in self&&(Ji=new BroadcastChannel("[Firebase] FID Change"),Ji.onmessage=D=>{Ht(D.data.key,D.data.fid)}),Ji}();P&&P.postMessage({key:D,fid:T}),function xi(){0===rn.size&&Ji&&(Ji.close(),Ji=null)}()}(P,T)}function Ht(D,T){const P=rn.get(D);if(P)for(const H of P)H(T)}let Ji=null;const Yn="firebase-installations-store";let xn=null;function ft(){return xn||(xn=(0,_e.X3)("firebase-installations-database",1,{upgrade:(D,T)=>{0===T&&D.createObjectStore(Yn)}})),xn}function $i(D,T){return sn.apply(this,arguments)}function sn(){return(sn=(0,B.Z)(function*(D,T){const P=Pn(D),oe=(yield ft()).transaction(Yn,"readwrite"),pe=oe.objectStore(Yn),Ne=yield pe.get(P);return yield pe.put(T,P),yield oe.done,(!Ne||Ne.fid!==T.fid)&&Qt(D,T.fid),T})).apply(this,arguments)}function Nn(D){return yr.apply(this,arguments)}function yr(){return(yr=(0,B.Z)(function*(D){const T=Pn(D),H=(yield ft()).transaction(Yn,"readwrite");yield H.objectStore(Yn).delete(T),yield H.done})).apply(this,arguments)}function Lr(D,T){return bt.apply(this,arguments)}function bt(){return(bt=(0,B.Z)(function*(D,T){const P=Pn(D),oe=(yield ft()).transaction(Yn,"readwrite"),pe=oe.objectStore(Yn),Ne=yield pe.get(P),Xe=T(Ne);return void 0===Xe?yield pe.delete(P):yield pe.put(Xe,P),yield oe.done,Xe&&(!Ne||Ne.fid!==Xe.fid)&&Qt(D,Xe.fid),Xe})).apply(this,arguments)}function cn(D){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,B.Z)(function*(D){let T;const P=yield Lr(D.appConfig,H=>{const oe=_r(H),pe=St(D,oe);return T=pe.registrationPromise,pe.installationEntry});return""===P.fid?{installationEntry:yield T}:{installationEntry:P,registrationPromise:T}})).apply(this,arguments)}function _r(D){return os(D||{fid:Ye(),registrationStatus:0})}function St(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(lt.create("app-offline"))};const P={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},H=function nt(D,T){return Mt.apply(this,arguments)}(D,P);return{installationEntry:P,registrationPromise:H}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Jn(D)}:{installationEntry:T}}function Mt(){return(Mt=(0,B.Z)(function*(D,T){try{const P=yield xe(D,T);return $i(D.appConfig,P)}catch(P){throw ht(P)&&409===P.customData.serverCode?yield Nn(D.appConfig):yield $i(D.appConfig,{fid:T.fid,registrationStatus:0}),P}})).apply(this,arguments)}function Jn(D){return En.apply(this,arguments)}function En(){return(En=(0,B.Z)(function*(D){let T=yield Yt(D.appConfig);for(;1===T.registrationStatus;)yield je(100),T=yield Yt(D.appConfig);if(0===T.registrationStatus){const{installationEntry:P,registrationPromise:H}=yield cn(D);return H||P}return T})).apply(this,arguments)}function Yt(D){return Lr(D,T=>{if(!T)throw lt.create("installation-not-found");return os(T)})}function os(D){return function gi(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function mi(D,T){return _t.apply(this,arguments)}function _t(){return(_t=(0,B.Z)(function*({appConfig:D,heartbeatServiceProvider:T},P){const H=as(D,P),oe=X(D,P),pe=T.getImmediate({optional:!0});if(pe){const kt=yield pe.getHeartbeatsHeader();kt&&oe.append("x-firebase-client",kt)}const Xe={method:"POST",headers:oe,body:JSON.stringify({installation:{sdkVersion:ae,appId:D.appId}})},xt=yield Ae(()=>fetch(H,Xe));if(xt.ok)return Me(yield xt.json());throw yield Oe("Generate Auth Token",xt)})).apply(this,arguments)}function as(D,{fid:T}){return`${Ve(D)}/${T}/authTokens:generate`}function W(D){return z.apply(this,arguments)}function z(){return(z=(0,B.Z)(function*(D,T=!1){let P;const H=yield Lr(D.appConfig,pe=>{if(!gt(pe))throw lt.create("not-registered");const Ne=pe.authToken;if(!T&&fn(Ne))return pe;if(1===Ne.requestStatus)return P=$(D,T),pe;{if(!navigator.onLine)throw lt.create("app-offline");const Xe=ai(pe);return P=Pe(D,Xe),Xe}});return P?yield P:H.authToken})).apply(this,arguments)}function $(D,T){return Q.apply(this,arguments)}function Q(){return(Q=(0,B.Z)(function*(D,T){let P=yield ee(D.appConfig);for(;1===P.authToken.requestStatus;)yield je(100),P=yield ee(D.appConfig);const H=P.authToken;return 0===H.requestStatus?W(D,T):H})).apply(this,arguments)}function ee(D){return Lr(D,T=>{if(!gt(T))throw lt.create("not-registered");return function zt(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Pe(D,T){return $e.apply(this,arguments)}function $e(){return($e=(0,B.Z)(function*(D,T){try{const P=yield mi(D,T),H=Object.assign(Object.assign({},T),{authToken:P});return yield $i(D.appConfig,H),P}catch(P){if(!ht(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const H=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield $i(D.appConfig,H)}else yield Nn(D.appConfig);throw P}})).apply(this,arguments)}function gt(D){return void 0!==D&&2===D.registrationStatus}function fn(D){return 2===D.requestStatus&&!function nn(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+36e5}(D)}function ai(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}function Br(){return(Br=(0,B.Z)(function*(D){const T=D,{installationEntry:P,registrationPromise:H}=yield cn(T);return H?H.catch(console.error):W(T).catch(console.error),P.fid})).apply(this,arguments)}function ls(){return(ls=(0,B.Z)(function*(D,T=!1){const P=D;return yield Xn(P),(yield W(P,T)).token})).apply(this,arguments)}function Xn(D){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,B.Z)(function*(D){const{registrationPromise:T}=yield cn(D);T&&(yield T)})).apply(this,arguments)}function ko(D){return lt.create("missing-app-config-values",{valueName:D})}const qi="installations",mt=D=>{const T=D.getProvider("app").getImmediate(),P=function At(D){if(!D||!D.options)throw ko("App Configuration");if(!D.name)throw ko("App Name");const T=["projectId","apiKey","appId"];for(const P of T)if(!D.options[P])throw ko(P);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:P,heartbeatServiceProvider:(0,ge._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},pn=D=>{const T=D.getProvider("app").getImmediate(),P=(0,ge._getProvider)(T,qi).getImmediate();return{getId:()=>function Ii(D){return Br.apply(this,arguments)}(P),getToken:oe=>function Mo(D){return ls.apply(this,arguments)}(P,oe)}};(function Wi(){(0,ge._registerComponent)(new Ee.wA(qi,mt,"PUBLIC")),(0,ge._registerComponent)(new Ee.wA("installations-internal",pn,"PRIVATE"))})(),(0,ge.registerVersion)(we,K),(0,ge.registerVersion)(we,K,"esm2017");const Xi="@firebase/remote-config",Ln=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Sd{constructor(T,P,H,oe){this.client=T,this.storage=P,this.storageCache=H,this.logger=oe}isCachedDataFresh(T,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-P,oe=H<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${oe}.`),oe}fetch(T){var P=this;return(0,B.Z)(function*(){const[H,oe]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(oe&&P.isCachedDataFresh(T.cacheMaxAgeMillis,H))return oe;T.eTag=oe&&oe.eTag;const pe=yield P.client.fetch(T),Ne=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pe.status&&Ne.push(P.storage.setLastSuccessfulFetchResponse(pe)),yield Promise.all(Ne),pe})()}}function bl(D=navigator){return D.languages&&D.languages[0]||D.language}class yi{constructor(T,P,H,oe,pe,Ne){this.firebaseInstallations=T,this.sdkVersion=P,this.namespace=H,this.projectId=oe,this.apiKey=pe,this.appId=Ne}fetch(T){var P=this;return(0,B.Z)(function*(){var H,oe,pe;const[Ne,Xe]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),kt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,Ft={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},vt={sdk_version:P.sdkVersion,app_instance_id:Ne,app_instance_id_token:Xe,app_id:P.appId,language_code:bl()},Tn={method:"POST",headers:Ft,body:JSON.stringify(vt)},Tr=fetch(kt,Tn),qo=new Promise((Sr,js)=>{T.signal.addEventListener(()=>{const hf=new Error("The operation was aborted.");hf.name="AbortError",js(hf)})});let As;try{yield Promise.race([Tr,qo]),As=yield Tr}catch(Sr){let js="fetch-client-network";throw"AbortError"===(null===(H=Sr)||void 0===H?void 0:H.name)&&(js="fetch-timeout"),Ln.create(js,{originalErrorMessage:null===(oe=Sr)||void 0===oe?void 0:oe.message})}let Hs=As.status;const zd=As.headers.get("ETag")||void 0;let ql,Ea;if(200===As.status){let Sr;try{Sr=yield As.json()}catch(js){throw Ln.create("fetch-client-parse",{originalErrorMessage:null===(pe=js)||void 0===pe?void 0:pe.message})}ql=Sr.entries,Ea=Sr.state}if("INSTANCE_STATE_UNSPECIFIED"===Ea?Hs=500:"NO_CHANGE"===Ea?Hs=304:("NO_TEMPLATE"===Ea||"EMPTY_CONFIG"===Ea)&&(ql={}),304!==Hs&&200!==Hs)throw Ln.create("fetch-status",{httpStatus:Hs});return{status:Hs,eTag:zd,config:ql}})()}}class Md{constructor(T,P){this.client=T,this.storage=P}fetch(T){var P=this;return(0,B.Z)(function*(){const H=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(T,H)})()}attemptFetch(T,{throttleEndTimeMillis:P,backoffCount:H}){var oe=this;return(0,B.Z)(function*(){yield function Ts(D,T){return new Promise((P,H)=>{const oe=Math.max(T-Date.now(),0),pe=setTimeout(P,oe);D.addEventListener(()=>{clearTimeout(pe),H(Ln.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,P);try{const pe=yield oe.client.fetch(T);return yield oe.storage.deleteThrottleMetadata(),pe}catch(pe){if(!function mc(D){if(!(D instanceof fe.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(pe))throw pe;const Ne={throttleEndTimeMillis:Date.now()+(0,fe.$s)(H),backoffCount:H+1};return yield oe.storage.setThrottleMetadata(Ne),oe.attemptFetch(T,Ne)}})()}}class yc{constructor(T,P,H,oe,pe){this.app=T,this._client=P,this._storageCache=H,this._storage=oe,this._logger=pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function El(D,T){var P;const H=D.target.error||void 0;return Ln.create(T,{originalErrorMessage:H&&(null===(P=H)||void 0===P?void 0:P.message)})}const Ss="app_namespace_store";class Od{constructor(T,P,H,oe=function Rd(){return new Promise((D,T)=>{var P;try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=oe=>{T(El(oe,"storage-open"))},H.onsuccess=oe=>{D(oe.target.result)},H.onupgradeneeded=oe=>{0===oe.oldVersion&&oe.target.result.createObjectStore(Ss,{keyPath:"compositeKey"})}}catch(H){T(Ln.create("storage-open",{originalErrorMessage:null===(P=H)||void 0===P?void 0:P.message}))}})}()){this.appId=T,this.appName=P,this.namespace=H,this.openDbPromise=oe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var P=this;return(0,B.Z)(function*(){const H=yield P.openDbPromise;return new Promise((oe,pe)=>{var Ne;const xt=H.transaction([Ss],"readonly").objectStore(Ss),kt=P.createCompositeKey(T);try{const Ft=xt.get(kt);Ft.onerror=vt=>{pe(El(vt,"storage-get"))},Ft.onsuccess=vt=>{const Tn=vt.target.result;oe(Tn?Tn.value:void 0)}}catch(Ft){pe(Ln.create("storage-get",{originalErrorMessage:null===(Ne=Ft)||void 0===Ne?void 0:Ne.message}))}})})()}set(T,P){var H=this;return(0,B.Z)(function*(){const oe=yield H.openDbPromise;return new Promise((pe,Ne)=>{var Xe;const kt=oe.transaction([Ss],"readwrite").objectStore(Ss),Ft=H.createCompositeKey(T);try{const vt=kt.put({compositeKey:Ft,value:P});vt.onerror=Tn=>{Ne(El(Tn,"storage-set"))},vt.onsuccess=()=>{pe()}}catch(vt){Ne(Ln.create("storage-set",{originalErrorMessage:null===(Xe=vt)||void 0===Xe?void 0:Xe.message}))}})})()}delete(T){var P=this;return(0,B.Z)(function*(){const H=yield P.openDbPromise;return new Promise((oe,pe)=>{var Ne;const xt=H.transaction([Ss],"readwrite").objectStore(Ss),kt=P.createCompositeKey(T);try{const Ft=xt.delete(kt);Ft.onerror=vt=>{pe(El(vt,"storage-delete"))},Ft.onsuccess=()=>{oe()}}catch(Ft){pe(Ln.create("storage-delete",{originalErrorMessage:null===(Ne=Ft)||void 0===Ne?void 0:Ne.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class _c{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,B.Z)(function*(){const P=T.storage.getLastFetchStatus(),H=T.storage.getLastSuccessfulFetchTimestampMillis(),oe=T.storage.getActiveConfig(),pe=yield P;pe&&(T.lastFetchStatus=pe);const Ne=yield H;Ne&&(T.lastSuccessfulFetchTimestampMillis=Ne);const Xe=yield oe;Xe&&(T.activeConfig=Xe)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function qa(){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,B.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch(D){return!1}})).apply(this,arguments)}!function Fo(){(0,ge._registerComponent)(new Ee.wA("remote-config",function D(T,{instanceIdentifier:P}){const H=T.getProvider("app").getImmediate(),oe=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ln.create("registration-window");if(!(0,fe.hl)())throw Ln.create("indexed-db-unavailable");const{projectId:pe,apiKey:Ne,appId:Xe}=H.options;if(!pe)throw Ln.create("registration-project-id");if(!Ne)throw Ln.create("registration-api-key");if(!Xe)throw Ln.create("registration-app-id");const xt=new Od(Xe,H.name,P=P||"firebase"),kt=new _c(xt),Ft=new de.Yd(Xi);Ft.logLevel=de.in.ERROR;const vt=new yi(oe,ge.SDK_VERSION,P,pe,Ne,Xe),Tn=new Md(vt,xt),Tr=new Sd(Tn,xt,kt,Ft),qo=new yc(H,Tr,kt,xt,Ft);return function mn(D){const T=(0,fe.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(qo),qo},"PUBLIC").setMultipleInstances(!0)),(0,ge.registerVersion)(Xi,"0.3.11"),(0,ge.registerVersion)(Xi,"0.3.11","esm2017")}();const vc="/firebase-messaging-sw.js",Ti="/firebase-cloud-messaging-push-scope",Ms="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Po="google.c.a.c_id",xl="google.c.a.c_l",pu="google.c.a.ts",oo="google.c.a.e";var No=(()=>{return(D=No||(No={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",No;var D})();function Ni(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function lo(D){const P=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(P),oe=new Uint8Array(H.length);for(let pe=0;pe<H.length;++pe)oe[pe]=H.charCodeAt(pe);return oe}const Sn="fcm_token_details_db",ir="fcm_token_object_Store";function Il(D){return wc.apply(this,arguments)}function wc(){return wc=(0,B.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pe=>pe.name).includes(Sn))return null;let T=null;return(yield(0,_e.X3)(Sn,5,{upgrade:(H=(0,B.Z)(function*(oe,pe,Ne,Xe){var xt;if(pe<2||!oe.objectStoreNames.contains(ir))return;const kt=Xe.objectStore(ir),Ft=yield kt.index("fcmSenderId").get(D);if(yield kt.clear(),Ft)if(2===pe){const vt=Ft;if(!vt.auth||!vt.p256dh||!vt.endpoint)return;T={token:vt.fcmToken,createTime:null!==(xt=vt.createTime)&&void 0!==xt?xt:Date.now(),subscriptionOptions:{auth:vt.auth,p256dh:vt.p256dh,endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:"string"==typeof vt.vapidKey?vt.vapidKey:Ni(vt.vapidKey)}}}else if(3===pe){const vt=Ft;T={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:Ni(vt.auth),p256dh:Ni(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:Ni(vt.vapidKey)}}}else if(4===pe){const vt=Ft;T={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:Ni(vt.auth),p256dh:Ni(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:Ni(vt.vapidKey)}}}}),function(pe,Ne,Xe,xt){return H.apply(this,arguments)})})).close(),yield(0,_e.Lj)(Sn),yield(0,_e.Lj)("fcm_vapid_details_db"),yield(0,_e.Lj)("undefined"),bc(T)?T:null;var H}),wc.apply(this,arguments)}function bc(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Hr="firebase-messaging-store";let Tl=null;function un(){return Tl||(Tl=(0,_e.X3)("firebase-messaging-database",1,{upgrade:(D,T)=>{0===T&&D.createObjectStore(Hr)}})),Tl}function Lo(D){return co.apply(this,arguments)}function co(){return(co=(0,B.Z)(function*(D){const T=_i(D),H=yield(yield un()).transaction(Hr).objectStore(Hr).get(T);if(H)return H;{const oe=yield Il(D.appConfig.senderId);if(oe)return yield an(D,oe),oe}})).apply(this,arguments)}function an(D,T){return hs.apply(this,arguments)}function hs(){return(hs=(0,B.Z)(function*(D,T){const P=_i(D),oe=(yield un()).transaction(Hr,"readwrite");return yield oe.objectStore(Hr).put(T,P),yield oe.done,T})).apply(this,arguments)}function Wa(D){return fs.apply(this,arguments)}function fs(){return(fs=(0,B.Z)(function*(D){const T=_i(D),H=(yield un()).transaction(Hr,"readwrite");yield H.objectStore(Hr).delete(T),yield H.done})).apply(this,arguments)}function _i({appConfig:D}){return D.appId}const Dn=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function jr(D,T){return ni.apply(this,arguments)}function ni(){return(ni=(0,B.Z)(function*(D,T){var P;const H=yield Bo(D),oe=uo(T),pe={method:"POST",headers:H,body:JSON.stringify(oe)};let Ne;try{Ne=yield(yield fetch(zr(D.appConfig),pe)).json()}catch(Xe){throw Dn.create("token-subscribe-failed",{errorInfo:null===(P=Xe)||void 0===P?void 0:P.toString()})}if(Ne.error)throw Dn.create("token-subscribe-failed",{errorInfo:Ne.error.message});if(!Ne.token)throw Dn.create("token-subscribe-no-token");return Ne.token})).apply(this,arguments)}function ks(D,T){return ps.apply(this,arguments)}function ps(){return(ps=(0,B.Z)(function*(D,T){var P;const H=yield Bo(D),oe=uo(T.subscriptionOptions),pe={method:"PATCH",headers:H,body:JSON.stringify(oe)};let Ne;try{Ne=yield(yield fetch(`${zr(D.appConfig)}/${T.token}`,pe)).json()}catch(Xe){throw Dn.create("token-update-failed",{errorInfo:null===(P=Xe)||void 0===P?void 0:P.toString()})}if(Ne.error)throw Dn.create("token-update-failed",{errorInfo:Ne.error.message});if(!Ne.token)throw Dn.create("token-update-no-token");return Ne.token})).apply(this,arguments)}function oa(D,T){return wr.apply(this,arguments)}function wr(){return(wr=(0,B.Z)(function*(D,T){var P;const oe={method:"DELETE",headers:yield Bo(D)};try{const Ne=yield(yield fetch(`${zr(D.appConfig)}/${T}`,oe)).json();if(Ne.error)throw Dn.create("token-unsubscribe-failed",{errorInfo:Ne.error.message})}catch(pe){throw Dn.create("token-unsubscribe-failed",{errorInfo:null===(P=pe)||void 0===P?void 0:P.toString()})}})).apply(this,arguments)}function zr({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Bo(D){return Et.apply(this,arguments)}function Et(){return(Et=(0,B.Z)(function*({appConfig:D,installations:T}){const P=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function uo({p256dh:D,auth:T,endpoint:P,vapidKey:H}){const oe={web:{endpoint:P,auth:T,p256dh:D}};return H!==Ms&&(oe.web.applicationPubKey=H),oe}const Ka=6048e5;function Rs(D){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,B.Z)(function*(D){const T=yield wn(D.swRegistration,D.vapidKey),P={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:Ni(T.getKey("auth")),p256dh:Ni(T.getKey("p256dh"))},H=yield Lo(D.firebaseDependencies);if(H){if(Os(H.subscriptionOptions,P))return Date.now()>=H.createTime+Ka?ho(D,{token:H.token,createTime:Date.now(),subscriptionOptions:P}):H.token;try{yield oa(D.firebaseDependencies,H.token)}catch(oe){console.warn(oe)}return $t(D.firebaseDependencies,P)}return $t(D.firebaseDependencies,P)})).apply(this,arguments)}function aa(D){return kl.apply(this,arguments)}function kl(){return(kl=(0,B.Z)(function*(D){const T=yield Lo(D.firebaseDependencies);T&&(yield oa(D.firebaseDependencies,T.token),yield Wa(D.firebaseDependencies));const P=yield D.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()})).apply(this,arguments)}function ho(D,T){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,B.Z)(function*(D,T){try{const P=yield ks(D.firebaseDependencies,T),H=Object.assign(Object.assign({},T),{token:P,createTime:Date.now()});return yield an(D.firebaseDependencies,H),P}catch(P){throw yield aa(D),P}})).apply(this,arguments)}function $t(D,T){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,B.Z)(function*(D,T){const H={token:yield jr(D,T),createTime:Date.now(),subscriptionOptions:T};return yield an(D,H),H.token})).apply(this,arguments)}function wn(D,T){return fo.apply(this,arguments)}function fo(){return(fo=(0,B.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:lo(T)})})).apply(this,arguments)}function Os(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}function rr(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function la(D,T){if(!T.notification)return;D.notification={};const P=T.notification.title;P&&(D.notification.title=P);const H=T.notification.body;H&&(D.notification.body=H);const oe=T.notification.image;oe&&(D.notification.image=oe)}(T,D),function Rl(D,T){!T.data||(D.data=T.data)}(T,D),function Fd(D,T){var P,H,oe,pe,Ne;if(!T.fcmOptions&&!(null===(P=T.notification)||void 0===P?void 0:P.click_action))return;D.fcmOptions={};const Xe=null!==(oe=null===(H=T.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==oe?oe:null===(pe=T.notification)||void 0===pe?void 0:pe.click_action;Xe&&(D.fcmOptions.link=Xe);const xt=null===(Ne=T.fcmOptions)||void 0===Ne?void 0:Ne.analytics_label;xt&&(D.fcmOptions.analyticsLabel=xt)}(T,D),T}function Ya(D){return"object"==typeof D&&!!D&&Po in D}function ca(D,T){const P=[];for(let H=0;H<D.length;H++)P.push(D.charAt(H)),H<T.length&&P.push(T.charAt(H));return P.join("")}function Bn(D){return Dn.create("missing-app-config-values",{valueName:D})}ca("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ca("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class gs{constructor(T,P,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const oe=function Za(D){if(!D||!D.options)throw Bn("App Configuration Object");if(!D.name)throw Bn("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:P}=D;for(const H of T)if(!P[H])throw Bn(H);return{appName:D.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:oe,installations:P,analyticsProvider:H}}_delete(){return Promise.resolve()}}function ua(D){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,B.Z)(function*(D){var T;try{D.swRegistration=yield navigator.serviceWorker.register(vc,{scope:Ti}),D.swRegistration.update().catch(()=>{})}catch(P){throw Dn.create("failed-service-worker-registration",{browserErrorMessage:null===(T=P)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function sr(D,T){return da.apply(this,arguments)}function da(){return(da=(0,B.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield ua(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Dn.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function ha(D,T){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,B.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=Ms)})).apply(this,arguments)}function fa(){return(fa=(0,B.Z)(function*(D,T){if(!navigator)throw Dn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Dn.create("permission-blocked");return yield ha(D,null==T?void 0:T.vapidKey),yield sr(D,null==T?void 0:T.serviceWorkerRegistration),Rs(D)})).apply(this,arguments)}function po(D,T,P){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,B.Z)(function*(D,T,P){const H=go(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:P[Po],message_name:P[xl],message_time:P[pu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function go(D){switch(D){case No.NOTIFICATION_CLICKED:return"notification_open";case No.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Xa(){return(Xa=(0,B.Z)(function*(D,T){const P=T.data;if(!P.isFirebaseMessaging)return;D.onMessageHandler&&P.messageType===No.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(rr(P)):D.onMessageHandler.next(rr(P)));const H=P.data;Ya(H)&&"1"===H[oo]&&(yield po(D,P.messageType,H))})).apply(this,arguments)}const Ps="@firebase/messaging",Ec=D=>{const T=new gs(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function gu(D,T){return Xa.apply(this,arguments)}(T,P)),T},Vo=D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:H=>function Ja(D,T){return fa.apply(this,arguments)}(T,H)}};function Go(){return $r.apply(this,arguments)}function $r(){return($r=(0,B.Z)(function*(){try{yield(0,fe.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ga(){(0,ge._registerComponent)(new Ee.wA("messaging",Ec,"PUBLIC")),(0,ge._registerComponent)(new Ee.wA("messaging-internal",Vo,"PRIVATE")),(0,ge.registerVersion)(Ps,"0.9.16"),(0,ge.registerVersion)(Ps,"0.9.16","esm2017")}();const Pl="analytics",Nd="firebase_id",qr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ns="https://www.googletagmanager.com/gtag/js",ci=new de.Yd("@firebase/analytics");function _u(D){return Promise.all(D.map(T=>T.catch(P=>P)))}function mo(D,T){const P=document.createElement("script");P.src=`${Ns}?l=${D}&id=${T}`,P.async=!0,document.head.appendChild(P)}function yo(D,T,P,H,oe,pe){return el.apply(this,arguments)}function el(){return(el=(0,B.Z)(function*(D,T,P,H,oe,pe){const Ne=H[oe];try{if(Ne)yield T[Ne];else{const xt=(yield _u(P)).find(kt=>kt.measurementId===oe);xt&&(yield T[xt.appId])}}catch(Xe){ci.error(Xe)}D("config",oe,pe)})).apply(this,arguments)}function Er(D,T,P,H,oe){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,B.Z)(function*(D,T,P,H,oe){try{let pe=[];if(oe&&oe.send_to){let Ne=oe.send_to;Array.isArray(Ne)||(Ne=[Ne]);const Xe=yield _u(P);for(const xt of Ne){const kt=Xe.find(vt=>vt.measurementId===xt),Ft=kt&&T[kt.appId];if(!Ft){pe=[];break}pe.push(Ft)}}0===pe.length&&(pe=Object.values(T)),yield Promise.all(pe),D("event",H,oe||{})}catch(pe){ci.error(pe)}})).apply(this,arguments)}function Wr(){const D=window.document.getElementsByTagName("script");for(const T of Object.values(D))if(T.src&&T.src.includes(Ns))return T;return null}const zn=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),U=new class R{constructor(T={},P=1e3){this.throttleMetadata=T,this.intervalMillis=P}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,P){this.throttleMetadata[T]=P}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function be(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Le(D){return An.apply(this,arguments)}function An(){return(An=(0,B.Z)(function*(D){var T;const{appId:P,apiKey:H}=D,oe={method:"GET",headers:be(H)},pe=qr.replace("{app-id}",P),Ne=yield fetch(pe,oe);if(200!==Ne.status&&304!==Ne.status){let Xe="";try{const xt=yield Ne.json();(null===(T=xt.error)||void 0===T?void 0:T.message)&&(Xe=xt.error.message)}catch(xt){}throw zn.create("config-fetch-failed",{httpStatus:Ne.status,responseMessage:Xe})}return Ne.json()})).apply(this,arguments)}function en(D){return $n.apply(this,arguments)}function $n(){return($n=(0,B.Z)(function*(D,T=U,P){const{appId:H,apiKey:oe,measurementId:pe}=D.options;if(!H)throw zn.create("no-app-id");if(!oe){if(pe)return{measurementId:pe,appId:H};throw zn.create("no-api-key")}const Ne=T.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xe=new sf;return setTimeout((0,B.Z)(function*(){Xe.abort()}),void 0!==P?P:6e4),or({appId:H,apiKey:oe,measurementId:pe},Ne,Xe,T)})).apply(this,arguments)}function or(D,T,P){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,B.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:P},H,oe=U){var pe,Ne;const{appId:Xe,measurementId:xt}=D;try{yield tl(H,T)}catch(kt){if(xt)return ci.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xt} provided in the "measurementId" field in the local Firebase config. [${null===(pe=kt)||void 0===pe?void 0:pe.message}]`),{appId:Xe,measurementId:xt};throw kt}try{const kt=yield Le(D);return oe.deleteThrottleMetadata(Xe),kt}catch(kt){const Ft=kt;if(!Vd(Ft)){if(oe.deleteThrottleMetadata(Xe),xt)return ci.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xt} provided in the "measurementId" field in the local Firebase config. [${null==Ft?void 0:Ft.message}]`),{appId:Xe,measurementId:xt};throw kt}const vt=503===Number(null===(Ne=null==Ft?void 0:Ft.customData)||void 0===Ne?void 0:Ne.httpStatus)?(0,fe.$s)(P,oe.intervalMillis,30):(0,fe.$s)(P,oe.intervalMillis),Tn={throttleEndTimeMillis:Date.now()+vt,backoffCount:P+1};return oe.setThrottleMetadata(Xe,Tn),ci.debug(`Calling attemptFetch again in ${vt} millis`),or(D,Tn,H,oe)}})).apply(this,arguments)}function tl(D,T){return new Promise((P,H)=>{const oe=Math.max(T-Date.now(),0),pe=setTimeout(P,oe);D.addEventListener(()=>{clearTimeout(pe),H(zn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Vd(D){if(!(D instanceof fe.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}class sf{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let xc,Ai;function Uo(){return(Uo=(0,B.Z)(function*(D,T,P,H,oe){if(oe&&oe.global)D("event",P,H);else{const pe=yield T;D("event",P,Object.assign(Object.assign({},H),{send_to:pe}))}})).apply(this,arguments)}function wu(D){Ai=D}function Vl(D){xc=D}function Gl(){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,B.Z)(function*(){var D;if(!(0,fe.hl)())return ci.warn(zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(T){return ci.warn(zn.create("indexeddb-unavailable",{errorInfo:null===(D=T)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function Tc(){return(Tc=(0,B.Z)(function*(D,T,P,H,oe,pe,Ne){var Xe;const xt=en(D);xt.then(Tr=>{P[Tr.measurementId]=Tr.appId,D.options.measurementId&&Tr.measurementId!==D.options.measurementId&&ci.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Tr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Tr=>ci.error(Tr)),T.push(xt);const kt=Gl().then(Tr=>{if(Tr)return H.getId()}),[Ft,vt]=yield Promise.all([xt,kt]);Wr()||mo(pe,Ft.measurementId),Ai&&(oe("consent","default",Ai),wu(void 0)),oe("js",new Date);const Tn=null!==(Xe=null==Ne?void 0:Ne.config)&&void 0!==Xe?Xe:{};return Tn.origin="firebase",Tn.update=!0,null!=vt&&(Tn[Nd]=vt),oe("config",Ft.measurementId,Tn),xc&&(oe("set",xc),Vl(void 0)),Ft.measurementId})).apply(this,arguments)}class Cr{constructor(T){this.app=T}_delete(){return delete Vs[this.app.options.appId],Promise.resolve()}}let Vs={},il=[];const _a={};let jo,Li,ms="dataLayer",Si=!1;function af(D,T,P){!function Ud(){const D=[];if((0,fe.ru)()&&D.push("This is a browser extension environment."),(0,fe.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((H,oe)=>`(${oe+1}) ${H}`).join(" "),P=zn.create("invalid-analytics-context",{errorInfo:T});ci.warn(P.message)}}();const H=D.options.appId;if(!H)throw zn.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw zn.create("no-api-key");ci.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vs[H])throw zn.create("already-exists",{id:H});if(!Si){!function Qi(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(ms);const{wrappedGtag:pe,gtagCore:Ne}=function Ld(D,T,P,H,oe){let pe=function(...Ne){window[H].push(arguments)};return window[oe]&&"function"==typeof window[oe]&&(pe=window[oe]),window[oe]=function Nl(D,T,P,H){function pe(){return(pe=(0,B.Z)(function*(Ne,Xe,xt){try{"event"===Ne?yield Er(D,T,P,Xe,xt):"config"===Ne?yield yo(D,T,P,H,Xe,xt):"consent"===Ne?D("consent","update",xt):D("set",Xe)}catch(kt){ci.error(kt)}})).apply(this,arguments)}return function oe(Ne,Xe,xt){return pe.apply(this,arguments)}}(pe,D,T,P),{gtagCore:pe,wrappedGtag:window[oe]}}(Vs,il,_a,ms,"gtag");Li=pe,jo=Ne,Si=!0}return Vs[H]=function Ho(D,T,P,H,oe,pe,Ne){return Tc.apply(this,arguments)}(D,il,_a,T,jo,ms,P),new Cr(D)}function bu(){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,B.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch(D){return!1}})).apply(this,arguments)}const Hl="@firebase/analytics";!function cf(){(0,ge._registerComponent)(new Ee.wA(Pl,(T,{options:P})=>af(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,ge._registerComponent)(new Ee.wA("analytics-internal",function D(T){try{const P=T.getProvider(Pl).getImmediate();return{logEvent:(H,oe,pe)=>function lf(D,T,P,H){D=(0,fe.m9)(D),function Bl(D,T,P,H,oe){return Uo.apply(this,arguments)}(Li,Vs[D.app.options.appId],T,P,H).catch(oe=>ci.error(oe))}(P,H,oe,pe)}}catch(P){throw zn.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,ge.registerVersion)(Hl,"0.8.0"),(0,ge.registerVersion)(Hl,"0.8.0","esm2017")}();var Sc=L(4408),Dr=L(7565);const va=new class zo extends Dr.v{}(class Ir extends Sc.o{constructor(T,P){super(T,P),this.scheduler=T,this.work=P}schedule(T,P=0){return P>0?super.schedule(T,P):(this.delay=P,this.state=T,this.scheduler.flush(this),this)}execute(T,P){return P>0||this.closed?super.execute(T,P):this._execute(T,P)}requestAsyncId(T,P,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(T,P,H):T.flush(this)}});var zl=L(4986),rl=L(8505),$o=L(5363),Eu=L(9468);const uf=new d.GfV("7.4.1"),sl="__angularfire_symbol__analyticsIsSupportedValue",Bi="__angularfire_symbol__analyticsIsSupported",wo="__angularfire_symbol__remoteConfigIsSupportedValue",Gs="__angularfire_symbol__remoteConfigIsSupported",Cu="__angularfire_symbol__messagingIsSupportedValue",$l="__angularfire_symbol__messagingIsSupported";function Mc(D,T,P){if(T){if(1===T.length)return T[0];const pe=T.filter(Ne=>Ne.app===P);if(1===pe.length)return pe[0]}return P.container.getProvider(D).getImmediate({optional:!0})}globalThis[Bi]||(globalThis[Bi]=bu().then(D=>globalThis[sl]=D).catch(()=>globalThis[sl]=!1)),globalThis[$l]||(globalThis[$l]=Go().then(D=>globalThis[Cu]=D).catch(()=>globalThis[Cu]=!1)),globalThis[Gs]||(globalThis[Gs]=qa().then(D=>globalThis[wo]=D).catch(()=>globalThis[wo]=!1));const ys=(D,T)=>{const P=T?[T]:(0,se.C6)(),H=[];return P.forEach(oe=>{oe.container.getProvider(D).instances.forEach(Ne=>{H.includes(Ne)||H.push(Ne)})}),H};function Gn(){}class Us{constructor(T,P=va){this.zone=T,this.delegate=P}now(){return this.delegate.now()}schedule(T,P,H){const oe=this.zone;return this.delegate.schedule(function(Ne){oe.runGuarded(()=>{T.apply(this,[Ne])})},P,H)}}class Xy{constructor(T){this.zone=T,this.task=null}call(T,P){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gn,{},Gn,Gn)),P.pipe((0,rl.b)({next:H,complete:H,error:H})).subscribe(T).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let kc=(()=>{class D{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new Us(Zone.current)),this.insideAngular=P.run(()=>new Us(Zone.current,zl.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(P){return new(P||D)(d.LFG(d.R0b))},D.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Kr(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Rc(D){return D.pipe((0,$o.Q)(Kr().outsideAngular))}function ol(D){return Kr(),function jd(D){return function(P){return(P=P.lift(new Xy(D.ngZone))).pipe((0,Eu.R)(D.outsideAngular),(0,$o.Q)(D.insideAngular))}}(Kr())(D)}},2090:(rt,ye,L)=>{"use strict";L.d(ye,{BH:()=>Ke,LL:()=>me,ZR:()=>xe,zI:()=>ie,US:()=>Ee,tV:()=>we,L:()=>_e,$s:()=>gi,r3:()=>Qn,Sg:()=>Ge,ne:()=>ft,vZ:()=>Ji,ZB:()=>J,pd:()=>Yn,m9:()=>as,z$:()=>Be,jU:()=>Re,ru:()=>lt,d:()=>Ve,xb:()=>Ht,w1:()=>Me,hl:()=>X,uI:()=>yt,UG:()=>Se,b$:()=>ht,G6:()=>te,Mn:()=>Oe,xO:()=>zi,zd:()=>xs,eu:()=>Ae});const ge=function(W){const z=[];let $=0;for(let Q=0;Q<W.length;Q++){let ee=W.charCodeAt(Q);ee<128?z[$++]=ee:ee<2048?(z[$++]=ee>>6|192,z[$++]=63&ee|128):55296==(64512&ee)&&Q+1<W.length&&56320==(64512&W.charCodeAt(Q+1))?(ee=65536+((1023&ee)<<10)+(1023&W.charCodeAt(++Q)),z[$++]=ee>>18|240,z[$++]=ee>>12&63|128,z[$++]=ee>>6&63|128,z[$++]=63&ee|128):(z[$++]=ee>>12|224,z[$++]=ee>>6&63|128,z[$++]=63&ee|128)}return z},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,z){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Q=[];for(let ee=0;ee<W.length;ee+=3){const Pe=W[ee],$e=ee+1<W.length,gt=$e?W[ee+1]:0,fn=ee+2<W.length,nn=fn?W[ee+2]:0;let Ii=(15&gt)<<2|nn>>6,Br=63&nn;fn||(Br=64,$e||(Ii=64)),Q.push($[Pe>>2],$[(3&Pe)<<4|gt>>4],$[Ii],$[Br])}return Q.join("")},encodeString(W,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(W):this.encodeByteArray(ge(W),z)},decodeString(W,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(W):function(W){const z=[];let $=0,Q=0;for(;$<W.length;){const ee=W[$++];if(ee<128)z[Q++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Pe=W[$++];z[Q++]=String.fromCharCode((31&ee)<<6|63&Pe)}else if(ee>239&&ee<365){const fn=((7&ee)<<18|(63&W[$++])<<12|(63&W[$++])<<6|63&W[$++])-65536;z[Q++]=String.fromCharCode(55296+(fn>>10)),z[Q++]=String.fromCharCode(56320+(1023&fn))}else{const Pe=W[$++],$e=W[$++];z[Q++]=String.fromCharCode((15&ee)<<12|(63&Pe)<<6|63&$e)}}return z.join("")}(this.decodeStringToByteArray(W,z))},decodeStringToByteArray(W,z){this.init_();const $=z?this.charToByteMapWebSafe_:this.charToByteMap_,Q=[];for(let ee=0;ee<W.length;){const Pe=$[W.charAt(ee++)],gt=ee<W.length?$[W.charAt(ee)]:0;++ee;const nn=ee<W.length?$[W.charAt(ee)]:64;++ee;const zt=ee<W.length?$[W.charAt(ee)]:64;if(++ee,null==Pe||null==gt||null==nn||null==zt)throw Error();Q.push(Pe<<2|gt>>4),64!==nn&&(Q.push(gt<<4&240|nn>>2),64!==zt&&Q.push(nn<<6&192|zt))}return Q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},_e=function(W){return function(W){const z=ge(W);return Ee.encodeByteArray(z,!0)}(W).replace(/\./g,"")},we=function(W){try{return Ee.decodeString(W,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function J(W,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return z}for(const $ in z)!z.hasOwnProperty($)||!ae($)||(W[$]=J(W[$],z[$]));return W}function ae(W){return"__proto__"!==W}class Ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,$)=>{this.resolve=z,this.reject=$})}wrapCallback(z){return($,Q)=>{$?this.reject($):this.resolve(Q),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z($):z($,Q))}}}function Ge(W,z){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Q=z||"demo-project",ee=W.iat||0,Pe=W.sub||W.user_id;if(!Pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const $e=Object.assign({iss:`https://securetoken.google.com/${Q}`,aud:Q,iat:ee,exp:ee+3600,auth_time:ee,sub:Pe,user_id:Pe,firebase:{sign_in_provider:"custom",identities:{}}},W);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify($e)),""].join(".")}function Be(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function yt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function Se(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function Re(){return"object"==typeof self&&self.self===self}function lt(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function ht(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ve(){return Be().indexOf("Electron/")>=0}function Me(){const W=Be();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Oe(){return Be().indexOf("MSAppHost/")>=0}function te(){return!Se()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X(){return"object"==typeof indexedDB}function Ae(){return new Promise((W,z)=>{try{let $=!0;const Q="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(Q);ee.onsuccess=()=>{ee.result.close(),$||self.indexedDB.deleteDatabase(Q),W(!0)},ee.onupgradeneeded=()=>{$=!1},ee.onerror=()=>{var Pe;z((null===(Pe=ee.error)||void 0===Pe?void 0:Pe.message)||"")}}catch($){z($)}})}function ie(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class xe extends Error{constructor(z,$,Q){super($),this.code=z,this.customData=Q,this.name="FirebaseError",Object.setPrototypeOf(this,xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,me.prototype.create)}}class me{constructor(z,$,Q){this.service=z,this.serviceName=$,this.errors=Q}create(z,...$){const Q=$[0]||{},ee=`${this.service}/${z}`,Pe=this.errors[z],$e=Pe?function je(W,z){return W.replace(pt,($,Q)=>{const ee=z[Q];return null!=ee?String(ee):`<${Q}?>`})}(Pe,Q):"Error";return new xe(ee,`${this.serviceName}: ${$e} (${ee}).`,Q)}}const pt=/\{\$([^}]+)}/g;function Qn(W,z){return Object.prototype.hasOwnProperty.call(W,z)}function Ht(W){for(const z in W)if(Object.prototype.hasOwnProperty.call(W,z))return!1;return!0}function Ji(W,z){if(W===z)return!0;const $=Object.keys(W),Q=Object.keys(z);for(const ee of $){if(!Q.includes(ee))return!1;const Pe=W[ee],$e=z[ee];if(oi(Pe)&&oi($e)){if(!Ji(Pe,$e))return!1}else if(Pe!==$e)return!1}for(const ee of Q)if(!$.includes(ee))return!1;return!0}function oi(W){return null!==W&&"object"==typeof W}function zi(W){const z=[];for(const[$,Q]of Object.entries(W))Array.isArray(Q)?Q.forEach(ee=>{z.push(encodeURIComponent($)+"="+encodeURIComponent(ee))}):z.push(encodeURIComponent($)+"="+encodeURIComponent(Q));return z.length?"&"+z.join("&"):""}function xs(W){const z={};return W.replace(/^\?/,"").split("&").forEach(Q=>{if(Q){const[ee,Pe]=Q.split("=");z[decodeURIComponent(ee)]=decodeURIComponent(Pe)}}),z}function Yn(W){const z=W.indexOf("?");if(!z)return"";const $=W.indexOf("#",z);return W.substring(z,$>0?$:void 0)}function ft(W,z){const $=new $i(W,z);return $.subscribe.bind($)}class $i{constructor(z,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{z(this)}).catch(Q=>{this.error(Q)})}next(z){this.forEachObserver($=>{$.next(z)})}error(z){this.forEachObserver($=>{$.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,$,Q){let ee;if(void 0===z&&void 0===$&&void 0===Q)throw new Error("Missing Observer.");ee=function Nn(W,z){if("object"!=typeof W||null===W)return!1;for(const $ of z)if($ in W&&"function"==typeof W[$])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:$,complete:Q},void 0===ee.next&&(ee.next=yr),void 0===ee.error&&(ee.error=yr),void 0===ee.complete&&(ee.complete=yr);const Pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch($e){}}),this.observers.push(ee),Pe}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,z)}sendOne(z,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{$(this.observers[z])}catch(Q){"undefined"!=typeof console&&console.error&&console.error(Q)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yr(){}function gi(W,z=1e3,$=2){const Q=z*Math.pow($,W),ee=Math.round(.5*Q*(Math.random()-.5)*2);return Math.min(144e5,Q+ee)}function as(W){return W&&W._delegate?W._delegate:W}},5234:(rt,ye,L)=>{"use strict";var d=L(5e3);let se=null;function B(){return se}const de=new d.OlP("DocumentToken");function Ro(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}class Ds{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jn=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ds(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const p=i.get(a);i.move(p,u),so(p,r)}});for(let r=0,a=i.length;r<a;r++){const p=i.get(r).context;p.index=r,p.count=a,p.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{so(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function so(n,e){n.context.$implicit=e.item}let oo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const ao="browser";function Sn(n){return n===ao}function nr(n){return"server"===n}class un{}class co extends class Lo extends class Ee{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function fe(n){se||(se=n)}(new co)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function hs(){return an=an||document.querySelector("base"),an?an.getAttribute("href"):null}();return null==t?null:function fs(n){Wa=Wa||document.createElement("a"),Wa.setAttribute("href",n);const e=Wa.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){an=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ro(document.cookie,e)}}let Wa,an=null;const _i=new d.OlP("TRANSITION_ID"),Dn=[{provide:d.ip1,useFactory:function Sl(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const i=B(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[_i,de,d.zs3],multi:!0}];class jr{static init(){(0,d.VLi)(new jr)}addToWindow(e){d.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(i=>{const r=d.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const p=function(y){u=u||y,a--,0==a&&i(u)};r.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?B().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let ni=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ks=new d.OlP("EventManagerPlugins");let ps=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ks),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class oa{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=B().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let wr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),zr=(()=>{class n extends wr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Bo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Bo))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Bo(n){B().remove(n)}const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},uo=/%COMP%/g;function Fe(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Fe(n,r,t):(r=r.replace(uo,n),t.push(r))}return t}function $t(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let wn=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new fo(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case d.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new la(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case d.ifc.ShadowDom:return new Rl(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Fe(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ps),d.LFG(zr),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class fo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Et[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Et[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Et[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,i,r&d.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,$t(i)):this.eventManager.addEventListener(e,t,$t(i))}}class la extends fo{constructor(e,t,i,r){super(e),this.component=i;const a=Fe(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function kl(n){return"_ngcontent-%COMP%".replace(uo,n)}(r+"-"+i.id),this.hostAttr=function ho(n){return"_nghost-%COMP%".replace(uo,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Rl extends fo{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Fe(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const p=document.createElement("style");p.textContent=a[u],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Fd=(()=>{class n extends oa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ya=["alt","control","meta","shift"],Za={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gs={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ua=(()=>{class n extends oa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="";if(Ya.forEach(y=>{const E=i.indexOf(y);E>-1&&(i.splice(E,1),u+=y+".")}),u+=a,0!=i.length||0===a.length)return null;const p={};return p.domEventName=r,p.fullKey=u,p}static getEventFullKey(t){let i="",r=function Fs(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Bn.hasOwnProperty(e)&&(e=Bn[e]))}return Za[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ya.forEach(a=>{a!=r&&gs[a](t)&&(i+=a+".")}),i+=r,i}static eventCallback(t,i,r){return a=>{n.getEventFullKey(a)===t&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ja=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:ao},{provide:d.g9A,useValue:function sr(){co.makeCurrent(),jr.init()},multi:!0},{provide:de,useFactory:function ha(){return(0,d.RDi)(document),document},deps:[]}]),fa=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function da(){return new d.qLn},deps:[]},{provide:ks,useClass:Fd,multi:!0,deps:[de,d.R0b,d.Lbi]},{provide:ks,useClass:ua,multi:!0,deps:[de]},{provide:wn,useClass:wn,deps:[ps,zr,d.AFp]},{provide:d.FYo,useExisting:wn},{provide:wr,useExisting:zr},{provide:zr,useClass:zr,deps:[de]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:ps,useClass:ps,deps:[ks,d.R0b]},{provide:un,useClass:ni,deps:[]}];let po=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:_i,useExisting:d.AFp},Dn]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:fa,imports:[oo,d.hGG]}),n})();"undefined"!=typeof window&&window;let Er=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):d.LFG(Nl),i},providedIn:"root"}),n})(),Nl=(()=>{class n extends Er{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case d.q3G.NONE:return i;case d.q3G.HTML:return(0,d.qzn)(i,"HTML")?(0,d.z3N)(i):(0,d.EiD)(this._doc,String(i)).toString();case d.q3G.STYLE:return(0,d.qzn)(i,"Style")?(0,d.z3N)(i):i;case d.q3G.SCRIPT:if((0,d.qzn)(i,"Script"))return(0,d.z3N)(i);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.yhl)(i),(0,d.qzn)(i,"URL")?(0,d.z3N)(i):(0,d.mCW)(String(i));case d.q3G.RESOURCE_URL:if((0,d.qzn)(i,"ResourceURL"))return(0,d.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,d.JVY)(t)}bypassSecurityTrustStyle(t){return(0,d.L6k)(t)}bypassSecurityTrustScript(t){return(0,d.eBb)(t)}bypassSecurityTrustUrl(t){return(0,d.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,d.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Ls(n){return new Nl(n.get(de))}(d.LFG(d.zs3)),i},providedIn:"root"}),n})();var Wr=L(7579),Bd=L(6063);class zn extends Wr.x{constructor(e=1/0,t=1/0,i=Bd.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let p=0;for(let y=1;y<i.length&&i[y]<=u;y+=2)p=y;p&&i.splice(0,p+1)}}}var C=L(6451),x=L(8421),R=L(4482),U=L(5403);function be(n,e){return(0,R.e)((t,i)=>{let r=null,a=0,u=!1;const p=()=>u&&!r&&i.complete();t.subscribe((0,U.x)(i,y=>{null==r||r.unsubscribe();let E=0;const S=a++;(0,x.Xf)(n(y,S)).subscribe(r=(0,U.x)(i,O=>i.next(e?e(y,O,S,E++):O),()=>{r=null,p()}))},()=>{u=!0,p()}))})}var Le=L(4004);const An={schedule(n,e){const t=setTimeout(n,e);return()=>clearTimeout(t)},scheduleBeforeRender(n){if("undefined"==typeof window)return An.schedule(n,0);if(void 0===window.requestAnimationFrame)return An.schedule(n,16);const e=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(e)}};let tl;function Ic(n,e,t){let i=t;return function $n(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&e.some((r,a)=>!("*"===r||!function Vd(n,e){if(!tl){const t=Element.prototype;tl=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&tl.call(n,e)}(n,r)||(i=a,0))),i}class ya{constructor(e,t){this.componentFactory=t.get(d._Vd).resolveComponentFactory(e)}create(e){return new Au(this.componentFactory,e)}}class Au{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new zn(1),this.events=this.eventEmitters.pipe(be(i=>(0,C.T)(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(d.R0b),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=An.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(e){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,t){this.runInZone(()=>{null!==this.componentRef?function sf(n,e){return n===e||n!=n&&e!=e}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)})}initializeComponent(e){const t=d.zs3.create({providers:[],parent:this.injector}),i=function Uo(n,e){const t=n.childNodes,i=e.map(()=>[]);let r=-1;e.some((a,u)=>"*"===a&&(r=u,!0));for(let a=0,u=t.length;a<u;++a){const p=t[a],y=Ic(p,e,r);-1!==y&&i[y].push(p)}return i}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,i,e),this.viewChangeDetectorRef=this.componentRef.injector.get(d.sBO),this.implementsOnChanges=function or(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(d.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e))}),this.initialInputValues.clear()}initializeOutputs(e){const t=this.componentFactory.outputs.map(({propName:i,templateName:r})=>e.instance[i].pipe((0,Le.U)(u=>({name:r,value:u}))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;const t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=An.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const i=this.inputChanges[e];if(i)return void(i.currentValue=t);const r=this.unchangedInputs.has(e),a=r?void 0:this.getInputValue(e);this.inputChanges[e]=new d.WD2(a,t,r)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}}class Dc extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function nl(n,e){const t=function Bl(n,e){return e.get(d._Vd).resolveComponentFactory(n).inputs}(n,e.injector),i=e.strategyFactory||new ya(n,e.injector),r=function xc(n){const e={};return n.forEach(({propName:t,templateName:i})=>{e[function en(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}(i)]=t}),e}(t);class a extends Dc{constructor(p){super(),this.injector=p}get ngElementStrategy(){if(!this._ngElementStrategy){const p=this._ngElementStrategy=i.create(this.injector||e.injector);t.forEach(({propName:y})=>{if(!this.hasOwnProperty(y))return;const E=this[y];delete this[y],p.setInputValue(y,E)})}return this._ngElementStrategy}attributeChangedCallback(p,y,E,S){this.ngElementStrategy.setInputValue(r[p],E)}connectedCallback(){let p=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),p=!0),this.ngElementStrategy.connect(this),p||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(p=>{const y=new CustomEvent(p.name,{detail:p.value});this.dispatchEvent(y)})}}return a.observedAttributes=Object.keys(r),t.forEach(({propName:u})=>{Object.defineProperty(a.prototype,u,{get(){return this.ngElementStrategy.getInputValue(u)},set(p){this.ngElementStrategy.setInputValue(u,p)},configurable:!0,enumerable:!0})}),a}var ui=L(8996),Ai=L(9751);const{isArray:wu}=Array,{getPrototypeOf:Vl,prototype:Gl,keys:Gd}=Object;var Cr=L(7669);const{isArray:Vs}=Array;function ms(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function _o(...n){const e=(0,Cr.jO)(n),{args:t,keys:i}=function Ho(n){if(1===n.length){const e=n[0];if(wu(e))return{args:e,keys:null};if(function Tc(n){return n&&"object"==typeof n&&Vl(n)===Gl}(e)){const t=Gd(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}(n),r=new Ai.y(a=>{const{length:u}=t;if(!u)return void a.complete();const p=new Array(u);let y=u,E=u;for(let S=0;S<u;S++){let O=!1;(0,x.Xf)(t[S]).subscribe((0,U.x)(a,V=>{O||(O=!0,E--),p[S]=V},()=>y--,void 0,()=>{(!y||!O)&&(E||a.next(i?ms(i,p):p),a.complete())}))}});return e?r.pipe(function _a(n){return(0,Le.U)(e=>function il(n,e){return Vs(e)?n(...e):n(e)}(n,e))}(e)):r}let jo=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),Li=(()=>{class n extends jo{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const Si=new d.OlP("NgValueAccessor"),Ul={provide:Si,useExisting:(0,d.Gpc)(()=>Ud),multi:!0};let Ud=(()=>{class n extends Li{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,i){1&t&&d.NdJ("change",function(a){return i.onChange(a.target.checked)})("blur",function(){return i.onTouched()})},features:[d._Bn([Ul]),d.qOj]}),n})();const af={provide:Si,useExisting:(0,d.Gpc)(()=>bu),multi:!0},Ag=new d.OlP("CompositionEventMode");let bu=(()=>{class n extends jo{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Vn(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Ag,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&d.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[d._Bn([af]),d.qOj]}),n})();function Ao(n){return null==n||0===n.length}function vg(n){return null!=n&&"number"==typeof n.length}const ar=new d.OlP("NgValidators"),Aa=new d.OlP("NgAsyncValidators"),Jy=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xr{static min(e){return function lf(n){return e=>{if(Ao(e.value)||Ao(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function qn(n){return e=>{if(Ao(e.value)||Ao(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Hl(e)}static requiredTrue(e){return function vo(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function cf(n){return Ao(n.value)||Jy.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Sc(n){return e=>Ao(e.value)||!vg(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Ir(n){return e=>vg(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Dr(n){if(!n)return zo;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Ao(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return uf(e)}static composeAsync(e){return Bi(e)}}function Hl(n){return Ao(n.value)?{required:!0}:null}function zo(n){return null}function va(n){return null!=n}function jl(n){const e=(0,d.QGY)(n)?(0,ui.D)(n):n;return(0,d.CqO)(e),e}function zl(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function rl(n,e){return e.map(t=>t(n))}function Eu(n){return n.map(e=>function $o(n){return!n.validate}(e)?e:t=>e.validate(t))}function uf(n){if(!n)return null;const e=n.filter(va);return 0==e.length?null:function(t){return zl(rl(t,e))}}function sl(n){return null!=n?uf(Eu(n)):null}function Bi(n){if(!n)return null;const e=n.filter(va);return 0==e.length?null:function(t){return _o(rl(t,e).map(jl)).pipe((0,Le.U)(zl))}}function wo(n){return null!=n?Bi(Eu(n)):null}function Gs(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Cu(n){return n._rawValidators}function $l(n){return n._rawAsyncValidators}function wa(n){return n?Array.isArray(n)?n:[n]:[]}function xu(n,e){return Array.isArray(n)?n.includes(e):n===e}function Iu(n,e){const t=wa(e);return wa(n).forEach(r=>{xu(t,r)||t.push(r)}),t}function df(n,e){return wa(e).filter(t=>!xu(n,t))}class Mc{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sl(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ys extends Mc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gn extends Mc{get formDirective(){return null}get path(){return null}}class Us{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let Kr=(()=>{class n extends Us{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ys,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&d.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[d.qOj]}),n})(),ba=(()=>{class n extends Us{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Gn,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&d.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[d.qOj]}),n})();function Ft(n,e){qo(n,e),e.valueAccessor.writeValue(n.value),function Hs(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ql(n,e)})}(n,e),function Ea(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function zd(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ql(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Tr(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function vt(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),As(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Tn(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function qo(n,e){const t=Cu(n);null!==e.validator?n.setValidators(Gs(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=$l(n);null!==e.asyncValidator?n.setAsyncValidators(Gs(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Tn(e._rawValidators,r),Tn(e._rawAsyncValidators,r)}function As(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Cu(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=$l(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return Tn(e._rawValidators,i),Tn(e._rawAsyncValidators,i),t}function ql(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Fc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Tu="VALID",$d="INVALID",Su="PENDING",ll="DISABLED";function qd(n){return(Kd(n)?n.validators:n)||null}function mf(n){return Array.isArray(n)?sl(n):n||null}function Wd(n,e){return(Kd(e)?e.asyncValidators:n)||null}function cl(n){return Array.isArray(n)?wo(n):n||null}function Kd(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Qd=n=>n instanceof ku,Yd=n=>n instanceof Jd,Cg=n=>n instanceof yf;function xg(n){return Qd(n)?n.value:n.getRawValue()}function Wo(n,e){const t=Yd(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new d.vHH(1e3,"");if(!i[e])throw new d.vHH(1001,"")}function Ca(n,e){Yd(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new d.vHH(1002,"")})}class Zd{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=mf(this._rawValidators),this._composedAsyncValidatorFn=cl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Tu}get invalid(){return this.status===$d}get pending(){return this.status==Su}get disabled(){return this.status===ll}get enabled(){return this.status!==ll}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=mf(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=cl(e)}addValidators(e){this.setValidators(Iu(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Iu(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(df(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(df(e,this._rawAsyncValidators))}hasValidator(e){return xu(this._rawValidators,e)}hasAsyncValidator(e){return xu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Su,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ll,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Tu,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tu||this.status===Su)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ll:Tu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Su,this._hasOwnPendingAsyncValidator=!0;const t=jl(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Mu(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=Yd(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:Cg(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?ll:this.errors?$d:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Su)?Su:this._anyControlsHaveStatus($d)?$d:Tu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Kd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ku extends Zd{constructor(e=null,t,i){super(qd(t),Wd(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Kd(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Fc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Fc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Jd extends Zd{constructor(e,t,i){super(qd(t),Wd(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Ca(this,e),Object.keys(e).forEach(i=>{Wo(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=xg(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class yf extends Zd{constructor(e,t,i){super(qd(t),Wd(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Ca(this,e),e.forEach((i,r)=>{Wo(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>xg(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let Af=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const eh={provide:Si,useExisting:(0,d.Gpc)(()=>th),multi:!0};let th=(()=>{class n extends Li{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&d.NdJ("input",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},features:[d._Bn([eh]),d.qOj]}),n})(),r_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const Dg=new d.OlP("NgModelWithFormControlWarning"),Mg={provide:Gn,useExisting:(0,d.Gpc)(()=>Nc)};let Nc=(()=>{class n extends Gn{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(As(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Ft(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){vt(t.control||null,t,!1),Fc(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,function Du(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(vt(i||null,t),Qd(r)&&(Ft(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);(function Sr(n,e){qo(n,e)})(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function js(n,e){return As(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qo(this.form,this),this._oldForm&&As(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ar,10),d.Y36(Aa,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&d.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Mg]),d.qOj,d.TTD]}),n})();const a_={provide:ys,useExisting:(0,d.Gpc)(()=>Mn)};let Mn=(()=>{class n extends ys{constructor(t,i,r,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function gf(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===bu?t=a:function e_(n){return Object.getPrototypeOf(n.constructor)===Li}(a)?i=a:r=a}),r||i||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function pf(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function kt(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(d.Y36(Gn,13),d.Y36(ar,10),d.Y36(Aa,10),d.Y36(Si,10),d.Y36(Dg,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([a_]),d.qOj,d.TTD]}),n})();const l_={provide:Si,useExisting:(0,d.Gpc)(()=>Kl),multi:!0};function kg(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Kl=(()=>{class n extends Li{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=kg(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function bf(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,i){1&t&&d.NdJ("change",function(a){return i.onChange(a.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([l_]),d.qOj]}),n})(),Rg=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(kg(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(Kl,9))},n.\u0275dir=d.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const c_={provide:Si,useExisting:(0,d.Gpc)(()=>Fg),multi:!0};function Og(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Fg=(()=>{class n extends Li{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(a=>this._getOptionId(a));i=(a,u)=>{a._setSelected(r.indexOf(u.toString())>-1)}}else i=(r,a)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],a=i.selectedOptions;if(void 0!==a){const u=a;for(let p=0;p<u.length;p++){const E=this._getOptionValue(u[p].value);r.push(E)}}else{const u=i.options;for(let p=0;p<u.length;p++){const y=u[p];if(y.selected){const E=this._getOptionValue(y.value);r.push(E)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function u_(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,i){1&t&&d.NdJ("change",function(a){return i.onChange(a.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([c_]),d.qOj]}),n})(),Pg=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Og(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Og(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(Fg,9))},n.\u0275dir=d.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),dl=(()=>{class n{constructor(){this._validator=zo}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):zo,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,features:[d.TTD]}),n})();const d_={provide:ar,useExisting:(0,d.Gpc)(()=>Ou),multi:!0};let Ou=(()=>{class n extends dl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function Mr(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>Hl}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&d.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([d_]),d.qOj]}),n})(),Fu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[r_]]}),n})(),f_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Fu]}),n})(),Df=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Dg,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Fu]}),n})(),Tf=(()=>{class n{group(t,i=null){const r=this._reduceControls(t);let p,a=null,u=null;return null!=i&&(function Yr(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(a=null!=i.validators?i.validators:null,u=null!=i.asyncValidators?i.asyncValidators:null,p=null!=i.updateOn?i.updateOn:void 0):(a=null!=i.validator?i.validator:null,u=null!=i.asyncValidator?i.asyncValidator:null)),new Jd(r,{asyncValidators:u,updateOn:p,validators:a})}control(t,i,r){return new ku(t,i,r)}array(t,i,r){const a=t.map(u=>this._createControl(u));return new yf(a,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return Qd(t)||Yd(t)||Cg(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:Df}),n})();var ii=L(2011);const Ko_firebase={projectId:"clientesimages",appId:"1:109342587355:web:337c569d65f2e1dba30ffe",storageBucket:"clientesimages.appspot.com",locationId:"us-central",apiKey:"AIzaSyCfHFG9CkG5PZNYyLLdBFrkk5WEvk1GtSw",authDomain:"clientesimages.firebaseapp.com",messagingSenderId:"109342587355",measurementId:"G-ZXN4TP2L5E"};function Un(...n){const e=(0,Cr.yG)(n);return(0,ui.D)(n,e)}var Sf=L(4986),On=L(5813),Pu=L(3942),De=L(5861),Eo=L(9681),Tt=L(2090),kr=L(4859);const _="firebasestorage.googleapis.com",f="storageBucket";class M extends Tt.ZR{constructor(e,t){super(N(e),`Firebase Storage: ${t} (${N(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,M.prototype)}_codeEquals(e){return N(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function N(n){return"storage/"+n}function ne(){return new M("unknown","An unknown error occurred, please check the error payload for server response.")}function Zr(){return new M("canceled","User canceled the upload/download.")}function Lu(){return new M("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Ia(n){return new M("invalid-argument",n)}function Rf(){return new M("app-deleted","The Firebase app was deleted.")}function lh(n){return new M("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Uc(n,e){return new M("invalid-format","String does not match format '"+n+"': "+e)}function Bu(n){throw new M("internal-error","Internal error: "+n)}class Vi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Vi.makeFromUrl(e,t)}catch(r){return new Vi(e,"")}if(""===i.path)return i;throw function p_(n){return new M("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",p=new RegExp("^gs://"+r+"(/(.*))?$","i");function E(Ze){Ze.path_=decodeURIComponent(Ze.path)}const O=t.replace(/[.]/g,"\\."),at=[{regex:p,indices:{bucket:1,path:3},postModify:function a(Ze){"/"===Ze.path.charAt(Ze.path.length-1)&&(Ze.path_=Ze.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${O}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:E},{regex:new RegExp(`^https?://${t===_?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:E}];for(let Ze=0;Ze<at.length;Ze++){const It=at[Ze],Ot=It.regex.exec(e);if(Ot){let Zi=Ot[It.indices.path];Zi||(Zi=""),i=new Vi(Ot[It.indices.bucket],Zi),It.postModify(i);break}}if(null==i)throw function Nu(n){return new M("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class g_{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Ug(n){return"string"==typeof n||n instanceof String}function __(n){return Hg()&&n instanceof Blob}function Hg(){return"undefined"!=typeof Blob}function Yl(n,e,t,i){if(i<e)throw Ia(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Ia(`Invalid value for '${n}'. Expected ${t} or less.`)}function fl(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function A_(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Hc=(()=>{return(n=Hc||(Hc={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",Hc;var n})();class jg{constructor(e,t,i,r,a,u,p,y,E,S,O){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=p,this.errorCallback_=y,this.timeout_=E,this.progressCallback_=S,this.connectionFactory_=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,j)=>{this.resolve_=V,this.reject_=j,this.start_()})}start_(){const t=(i,r)=>{const a=this.resolve_,u=this.reject_,p=r.connection;if(r.wasSuccessCode)try{const y=this.callback_(p,p.getResponse());!function w0(n){return void 0!==n}(y)?a():a(y)}catch(y){u(y)}else if(null!==p){const y=ne();y.serverResponse=p.getErrorText(),u(this.errorCallback_?this.errorCallback_(p,y):y)}else u(r.canceled?this.appDelete_?Rf():Zr():function di(){return new M("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new zg(!1,null,!0)):this.backoffId_=function v0(n,e,t){let i=1,r=null,a=null,u=!1,p=0;function y(){return 2===p}let E=!1;function S(...Ie){E||(E=!0,e.apply(null,Ie))}function O(Ie){r=setTimeout(()=>{r=null,n(j,y())},Ie)}function V(){a&&clearTimeout(a)}function j(Ie,...Ue){if(E)return void V();if(Ie)return V(),void S.call(null,Ie,...Ue);if(y()||u)return V(),void S.call(null,Ie,...Ue);let at;i<64&&(i*=2),1===p?(p=2,at=0):at=1e3*(i+Math.random()),O(at)}let q=!1;function ue(Ie){q||(q=!0,V(),!E&&(null!==r?(Ie||(p=2),clearTimeout(r),O(0)):Ie||(p=1)))}return O(0),a=setTimeout(()=>{u=!0,ue(!0)},t),ue}((i,r)=>{if(r)return void i(!1,new zg(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const u=p=>{null!==this.progressCallback_&&this.progressCallback_(p.loaded,p.lengthComputable?p.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const p=a.getErrorCode()===Hc.NO_ERROR,y=a.getStatus();if(!p||this.isRetryStatusCode_(y)){const S=a.getErrorCode()===Hc.ABORT;return void i(!1,new zg(!1,null,S))}const E=-1!==this.successCodes_.indexOf(y);i(!0,new zg(E,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function m_(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),a=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||a}}class zg{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function qg(...n){const e=function $g(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(Hg())return new Blob(n);throw new M("unsupported-environment","This browser doesn't seem to support creating Blobs")}const $s={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Of{constructor(e,t){this.data=e,this.contentType=t||null}}function Vu(n,e){switch(n){case $s.RAW:return new Of(D0(e));case $s.BASE64:case $s.BASE64URL:return new Of(S0(n,e));case $s.DATA_URL:return new Of(function k0(n){const e=new M0(n);return e.base64?S0($s.BASE64,e.rest):function T0(n){let e;try{e=decodeURIComponent(n)}catch(t){throw Uc($s.DATA_URL,"Malformed data URL.")}return D0(e)}(e.rest)}(e),function b_(n){return new M0(n).contentType}(e))}throw ne()}function D0(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function S0(n,e){switch(n){case $s.BASE64:{const r=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(r||a)throw Uc(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case $s.BASE64URL:{const r=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(r||a)throw Uc(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function w_(n){return atob(n)}(e)}catch(r){throw Uc(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class M0{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Uc($s.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function R0(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Zl{constructor(e,t){let i=0,r="";__(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(__(this.data_)){const r=function I0(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Zl(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Zl(i,!0)}}static getBlob(...e){if(Hg()){const t=e.map(i=>i instanceof Zl?i.data_:i);return new Zl(qg.apply(null,t))}{const t=e.map(u=>Ug(u)?Vu($s.RAW,u).data:u.data_);let i=0;t.forEach(u=>{i+=u.byteLength});const r=new Uint8Array(i);let a=0;return t.forEach(u=>{for(let p=0;p<u.length;p++)r[a++]=u[p]}),new Zl(r,!0)}}uploadData(){return this.data_}}function Wg(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function OC(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function F0(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function PC(n,e){return e}class Wn{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||PC}}let Kg=null;function Ff(){if(Kg)return Kg;const n=[];n.push(new Wn("bucket")),n.push(new Wn("generation")),n.push(new Wn("metageneration")),n.push(new Wn("name","fullPath",!0));const t=new Wn("name");t.xform=function e(a,u){return function P0(n){return!Ug(n)||n.length<2?n:F0(n)}(u)},n.push(t);const r=new Wn("size");return r.xform=function i(a,u){return void 0!==u?Number(u):u},n.push(r),n.push(new Wn("timeCreated")),n.push(new Wn("updated")),n.push(new Wn("md5Hash",null,!0)),n.push(new Wn("cacheControl",null,!0)),n.push(new Wn("contentDisposition",null,!0)),n.push(new Wn("contentEncoding",null,!0)),n.push(new Wn("contentLanguage",null,!0)),n.push(new Wn("contentType",null,!0)),n.push(new Wn("metadata","customMetadata",!0)),Kg=n,Kg}function N0(n,e,t){const i=Wg(e);return null===i?null:function LC(n,e,t){const i={type:"file"},r=t.length;for(let a=0;a<r;a++){const u=t[a];i[u.local]=u.xform(i,e[u.server])}return function NC(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new Vi(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(i,n),i}(n,i,t)}function E_(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const a=e[r];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const B0="prefixes";class Da{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ta(n){if(!n)throw ne()}function Gu(n,e){return function t(i,r){const a=N0(n,r,e);return Ta(null!==a),a}}function ch(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Rt(){return new M("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function ot(){return new M("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function We(n){return new M("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Ct(n){return new M("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function Uu(n){const e=ch(n);return function t(i,r){let a=e(i,r);return 404===i.getStatus()&&(a=function ve(n){return new M("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=r.serverResponse,a}}function pl(n,e,t){const r=fl(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,p=new Da(r,"GET",Gu(n,t),u);return p.errorHandler=Uu(e),p}function C_(n,e,t,i,r){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),i&&(a.pageToken=i),r&&(a.maxResults=r);const p=fl(e.bucketOnlyServerUrl(),n.host,n._protocol),E=n.maxOperationRetryTime,S=new Da(p,"GET",function Sa(n,e){return function t(i,r){const a=function G0(n,e,t){const i=Wg(t);return null===i?null:function qt(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[B0])for(const r of t[B0]){const a=r.replace(/\/$/,""),u=n._makeStorageReference(new Vi(e,a));i.prefixes.push(u)}if(t.items)for(const r of t.items){const a=n._makeStorageReference(new Vi(e,r.name));i.items.push(a)}return i}(n,e,i)}(n,e,r);return Ta(null!==a),a}}(n,e.bucket),E);return S.urlParams=a,S.errorHandler=ch(e),S}function Pf(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function FS(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class uh{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function Lf(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){Ta(!1)}return Ta(!!t&&-1!==(e||["active"]).indexOf(t)),t}const VC={STATE_CHANGED:"state_changed"},vs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Qg(n){switch(n){case"running":case"pausing":case"canceling":return vs.RUNNING;case"paused":return vs.PAUSED;case"success":return vs.SUCCESS;case"canceled":return vs.CANCELED;default:return vs.ERROR}}class NS{constructor(e,t,i){if(function y_(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=i?i:void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function dh(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class $0 extends class z0{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Hc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Hc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Hc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw Bu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const a in r)r.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,r[a].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bu("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Bu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Ma(){return new $0}class UC{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Ff(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,a)=>{this._resolve=r,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function D_(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),u=Pf(e,i,r),p={name:u.fullPath},y=fl(a,n.host,n._protocol),S={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},O=E_(u,t),q=new Da(y,"POST",function j(ue){let Ie;Lf(ue);try{Ie=ue.getResponseHeader("X-Goog-Upload-URL")}catch(Ue){Ta(!1)}return Ta(Ug(Ie)),Ie},n.maxUploadRetryTime);return q.urlParams=p,q.headers=S,q.body=O,q.errorHandler=ch(e),q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ma,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function PS(n,e,t,i){const y=new Da(t,"POST",function a(E){const S=Lf(E,["active","final"]);let O=null;try{O=E.getResponseHeader("X-Goog-Upload-Size-Received")}catch(j){Ta(!1)}O||Ta(!1);const V=Number(O);return Ta(!isNaN(V)),new uh(V,i.size(),"final"===S)},n.maxUploadRetryTime);return y.headers={"X-Goog-Upload-Command":"query"},y.errorHandler=ch(e),y}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(r,Ma,t,i);this._request=a,a.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new uh(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,a)=>{let u;try{u=function BC(n,e,t,i,r,a,u,p){const y=new uh(0,0);if(u?(y.current=u.current,y.total=u.total):(y.current=0,y.total=i.size()),i.size()!==y.total)throw function Mf(){return new M("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const E=y.total-y.current;let S=E;r>0&&(S=Math.min(S,r));const O=y.current,q={"X-Goog-Upload-Command":S===E?"upload, finalize":"upload","X-Goog-Upload-Offset":`${y.current}`},ue=i.slice(O,O+S);if(null===ue)throw Lu();const at=new Da(t,"POST",function Ie(Ze,It){const Ot=Lf(Ze,["active","final"]),on=y.current+S,Zi=i.size();let Ha;return Ha="final"===Ot?Gu(e,a)(Ze,It):null,new uh(on,Zi,"final"===Ot,Ha)},e.maxUploadRetryTime);return at.headers=q,at.body=ue.uploadData(),at.progressCallback=p||null,at.errorHandler=ch(n),at}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(y){return this._error=y,void this._transition("error")}const p=this._ref.storage._makeRequest(u,Ma,r,a);this._request=p,p.getPromise().then(y=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(y.current),y.finalized?(this._metadata=y.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=pl(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Ma,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function Nf(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},y=function p(){let at="";for(let Ze=0;Ze<2;Ze++)at+=Math.random().toString().slice(2);return at}();u["Content-Type"]="multipart/related; boundary="+y;const E=Pf(e,i,r),S=E_(E,t),j=Zl.getBlob("--"+y+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+S+"\r\n--"+y+"\r\nContent-Type: "+E.contentType+"\r\n\r\n",i,"\r\n--"+y+"--");if(null===j)throw Lu();const q={name:E.fullPath},ue=fl(a,n.host,n._protocol),Ue=n.maxUploadRetryTime,st=new Da(ue,"POST",Gu(n,t),Ue);return st.urlParams=q,st.headers=u,st.body=j.uploadData(),st.errorHandler=ch(e),st}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ma,e,t);this._request=r,r.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Zr(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Qg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const a=new NS(t||void 0,i||void 0,r||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Qg(this._state)){case vs.SUCCESS:dh(this._resolve.bind(null,this.snapshot))();break;case vs.CANCELED:case vs.ERROR:dh(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Qg(this._state)){case vs.RUNNING:case vs.PAUSED:e.next&&dh(e.next.bind(e,this.snapshot))();break;case vs.SUCCESS:e.complete&&dh(e.complete.bind(e))();break;default:e.error&&dh(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class hh{constructor(e,t){this._service=e,this._location=t instanceof Vi?t:Vi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new hh(e,t)}get root(){const e=new Vi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return F0(this._location.path)}get storage(){return this._service}get parent(){const e=function FC(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Vi(this._location.bucket,e);return new hh(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw lh(e)}}function Yg(n,e,t){return S_.apply(this,arguments)}function S_(){return(S_=(0,De.Z)(function*(n,e,t){const r=yield M_(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield Yg(n,e,r.nextPageToken))})).apply(this,arguments)}function M_(n,e){null!=e&&"number"==typeof e.maxResults&&Yl("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=C_(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Ma)}function R_(n){n._throwIfRoot("getDownloadURL");const e=function I_(n,e,t){const r=fl(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,p=new Da(r,"GET",function U0(n,e){return function t(i,r){const a=N0(n,r,e);return Ta(null!==a),function L0(n,e,t,i){const r=Wg(e);if(null===r||!Ug(r.downloadTokens))return null;const a=r.downloadTokens;if(0===a.length)return null;const u=encodeURIComponent;return a.split(",").map(E=>{const O=n.fullPath;return fl("/b/"+u(n.bucket)+"/o/"+u(O),t,i)+A_({alt:"media",token:E})})[0]}(a,r,n.host,n._protocol)}}(n,t),u);return p.errorHandler=Uu(e),p}(n.storage,n._location,Ff());return n.storage.makeRequestWithTokens(e,Ma).then(t=>{if(null===t)throw function kf(){return new M("no-download-url","The given file does not have any download URLs.")}();return t})}function Jl(n,e){const t=function O0(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Vi(n._location.bucket,t);return new hh(n.storage,i)}function Zg(n,e){if(n instanceof F_){const t=n;if(null==t._bucket)throw function hl(){return new M("no-default-bucket","No default bucket found. Did you set the '"+f+"' property when initializing the app?")}();const i=new hh(t,t._bucket);return null!=e?Zg(i,e):i}return void 0!==e?Jl(n,e):n}function $C(n,e){if(e&&function W0(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof F_)return function zC(n,e){return new hh(n,e)}(n,e);throw Ia("To use ref(service, url), the first argument must be a Storage instance.")}return Zg(n,e)}function O_(n,e){const t=null==e?void 0:e[f];return null==t?null:Vi.makeFromBucketSpec(t,n)}class F_{constructor(e,t,i,r,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=a,this._bucket=null,this._host=_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Vi.makeFromBucketSpec(r,this._host):O_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Vi.makeFromBucketSpec(this._url,e):O_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Yl("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Yl("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,De.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,De.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hh(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new g_(Rf());{const a=function x0(n,e,t,i,r,a){const u=A_(n.urlParams),p=n.url+u,y=Object.assign({},n.headers);return function C0(n,e){e&&(n["X-Firebase-GMPID"]=e)}(y,e),function b0(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(y,t),function E0(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(y,a),function v_(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(y,i),new jg(p,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var i=this;return(0,De.Z)(function*(){const[r,a]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,a).getPromise()})()}}const fh="@firebase/storage";function Z0(n,e){return $C(n=(0,Tt.m9)(n),e)}function ew(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new F_(t,i,r,e,Eo.SDK_VERSION)}!function QC(){(0,Eo._registerComponent)(new kr.wA("storage",ew,"PUBLIC").setMultipleInstances(!0)),(0,Eo.registerVersion)(fh,"0.9.9",""),(0,Eo.registerVersion)(fh,"0.9.9","esm2017")}();class tm{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class qs{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new tm(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new tm(i,this,this._ref))},t)}on(e,t,i,r){let a;return t&&(a="function"==typeof t?u=>t(new tm(u,this,this._ref)):{next:t.next?u=>t.next(new tm(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,i||void 0,r||void 0)}}class tw{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Xl(e,this._service))}get items(){return this._delegate.items.map(e=>new Xl(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Xl{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function J0(n,e){return Jl(n,e)}(this._delegate,e);return new Xl(t,this.storage)}get root(){return new Xl(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Xl(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new qs(function WC(n,e,t){return function HS(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new UC(n,new Zl(e),t)}(n=(0,Tt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=$s.RAW,i){this._throwIfRoot("putString");const r=Vu(t,e),a=Object.assign({},i);return null==a.contentType&&null!=r.contentType&&(a.contentType=r.contentType),new qs(new UC(this._delegate,new Zl(r.data,!0),a),this)}listAll(){return function N_(n){return function jc(n){const e={prefixes:[],items:[]};return Yg(n,e).then(()=>e)}(n=(0,Tt.m9)(n))}(this._delegate).then(e=>new tw(e,this.storage))}list(e){return function P_(n,e){return M_(n=(0,Tt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new tw(t,this.storage))}getMetadata(){return function K0(n){return function k_(n){n._throwIfRoot("getMetadata");const e=pl(n.storage,n._location,Ff());return n.storage.makeRequestWithTokens(e,Ma)}(n=(0,Tt.m9)(n))}(this._delegate)}updateMetadata(e){return function Q0(n,e){return function q0(n,e){n._throwIfRoot("updateMetadata");const t=function OS(n,e,t,i){const a=fl(e.fullServerUrl(),n.host,n._protocol),p=E_(t,i),E=n.maxOperationRetryTime,S=new Da(a,"PATCH",Gu(n,i),E);return S.headers={"Content-Type":"application/json; charset=utf-8"},S.body=p,S.errorHandler=Uu(e),S}(n.storage,n._location,e,Ff());return n.storage.makeRequestWithTokens(t,Ma)}(n=(0,Tt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function Y0(n){return R_(n=(0,Tt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function em(n){return function jC(n){n._throwIfRoot("deleteObject");const e=function H0(n,e){const i=fl(e.fullServerUrl(),n.host,n._protocol),p=new Da(i,"DELETE",function u(y,E){},n.maxOperationRetryTime);return p.successCodes=[200,204],p.errorHandler=Uu(e),p}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ma)}(n=(0,Tt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw lh(e)}}class YC{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(ZC(e))throw Ia("ref() expected a child path but got a URL, use refFromURL instead.");return new Xl(Z0(this._delegate,e),this)}refFromURL(e){if(!ZC(e))throw Ia("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Vi.makeFromUrl(e,this._delegate.host)}catch(t){throw Ia("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xl(Z0(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function X0(n,e,t,i={}){!function qC(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,Tt.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function ZC(n){return/^[A-Za-z]+:\/\//.test(n)}function L_(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new YC(t,i)}!function iw(n){const e={TaskState:vs,TaskEvent:VC,StringFormat:$s,Storage:YC,Reference:Xl};n.INTERNAL.registerComponent(new kr.wA("storage-compat",L_,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(Pu.Z),L(5867);var zc=L(1877);const lw=new Map,B_={activated:!1,tokenObservers:[]},ix={initialized:!1,enabled:!1};function lr(n){return lw.get(n)||B_}function Ws(n,e){lw.set(n,e)}function ph(){return ix}class H_{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,De.Z)(function*(){t.stop();try{t.pending=new Tt.BH,yield function JS(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Tt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Jr=new Tt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function j_(n){if(!lr(n).activated)throw Jr.create("use-before-activation",{appName:n.name})}function ka(n,e){return gh.apply(this,arguments)}function gh(){return(gh=(0,De.Z)(function*({url:n,body:e},t){var i,r;const a={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const j=yield u.getHeartbeatsHeader();j&&(a["X-Firebase-Client"]=j)}const p={method:"POST",body:JSON.stringify(e),headers:a};let y,E;try{y=yield fetch(n,p)}catch(j){throw Jr.create("fetch-network-error",{originalErrorMessage:null===(i=j)||void 0===i?void 0:i.message})}if(200!==y.status)throw Jr.create("fetch-status-error",{httpStatus:y.status});try{E=yield y.json()}catch(j){throw Jr.create("fetch-parse-error",{originalErrorMessage:null===(r=j)||void 0===r?void 0:r.message})}const S=E.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw Jr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const O=1e3*Number(S[1]),V=Date.now();return{token:E.token,expireTimeMillis:V+O,issuedAtTimeMillis:V}})).apply(this,arguments)}function XS(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const ju="firebase-app-check-store";let sm=null;function om(){return sm||(sm=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var a;e(Jr.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ju,{keyPath:"compositeKey"})}}catch(i){e(Jr.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),sm)}function $_(){return($_=(0,De.Z)(function*(n,e){const i=(yield om()).transaction(ju,"readwrite"),a=i.objectStore(ju).put({compositeKey:n,value:e});return new Promise((u,p)=>{a.onsuccess=y=>{u()},i.onerror=y=>{var E;p(Jr.create("storage-set",{originalErrorMessage:null===(E=y.target.error)||void 0===E?void 0:E.message}))}})})).apply(this,arguments)}const yh=new zc.Yd("@firebase/app-check");function $u(n,e){return(0,Tt.hl)()?function fw(n,e){return function am(n,e){return $_.apply(this,arguments)}(function zu(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{yh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function mw(){return ph().enabled}function yw(){return Co.apply(this,arguments)}function Co(){return(Co=(0,De.Z)(function*(){const n=ph();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const _w={error:"UNKNOWN_ERROR"};function Aw(n){return Tt.US.encodeString(JSON.stringify(n),!1)}function Hf(n){return cm.apply(this,arguments)}function cm(){return(cm=(0,De.Z)(function*(n,e=!1){const t=n.app;j_(t);const i=lr(t);let a,r=i.token;if(!r){const y=yield i.cachedTokenPromise;y&&J_(y)&&(r=y)}if(!e&&r&&J_(r))return{token:r.token};let p,u=!1;if(mw()){i.exchangeTokenPromise||(i.exchangeTokenPromise=ka(XS(t,yield yw()),n.heartbeatServiceProvider).then(E=>(i.exchangeTokenPromise=void 0,E)),u=!0);const y=yield i.exchangeTokenPromise;return yield $u(t,y),Ws(t,Object.assign(Object.assign({},i),{token:y})),{token:y.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(y=>(i.exchangeTokenPromise=void 0,y)),u=!0),r=yield i.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?yh.warn(y.message):yh.error(y),a=y}return r?(p={token:r.token},Ws(t,Object.assign(Object.assign({},i),{token:r})),yield $u(t,r)):p=ww(a),u&&Z_(t,p),p})).apply(this,arguments)}function Y_(n,e){const t=lr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ws(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function vw(n){const{app:e}=n,t=lr(e);let i=t.tokenRefresher;i||(i=function dx(n){const{app:e}=n;return new H_((0,De.Z)(function*(){let i;if(i=lr(e).token?yield Hf(n,!0):yield Hf(n),i.error)throw i.error}),()=>!0,()=>{const t=lr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Ws(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Z_(n,e){const t=lr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function J_(n){return n.expireTimeMillis-Date.now()>0}function ww(n){return{token:Aw(_w),error:n}}class hx{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=lr(this.app);for(const t of e)Y_(this.app,t.next);return Promise.resolve()}}const qu="app-check-internal";!function vx(){(0,Eo._registerComponent)(new kr.wA("app-check",n=>function fx(n,e){return new hx(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(qu).initialize()})),(0,Eo._registerComponent)(new kr.wA(qu,n=>function eM(n){return{getToken:e=>Hf(n,e),addTokenListener:e=>function Q_(n,e,t,i){const{app:r}=n,a=lr(r),u={next:t,error:i,type:e};if(Ws(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&J_(a.token)){const p=a.token;Promise.resolve().then(()=>{t({token:p.token}),vw(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>vw(n))}(n,"INTERNAL",e),removeTokenListener:e=>Y_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Eo.registerVersion)("@firebase/app-check","0.5.12")}();class jf{constructor(){return(0,On.vb)("app-check")}}"undefined"!=typeof window&&window;var $c=L(127);function iA(n){const e=function wh(n){return new Ai.y(e=>{const t=u=>e.next(u);t(n.snapshot);const a=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){a()}}).pipe(function Gg(n,e=Sf.z){return(0,R.e)((t,i)=>{let r=null,a=null,u=null;const p=()=>{if(r){r.unsubscribe(),r=null;const E=a;a=null,i.next(E)}};function y(){const E=u+n,S=e.now();if(S<E)return r=this.schedule(void 0,E-S),void i.add(r);p()}t.subscribe((0,U.x)(i,E=>{a=E,u=e.now(),r||(r=e.schedule(y,n),i.add(r))},()=>{p(),i.complete()},void 0,()=>{a=r=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Le.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function Yf(n){return{getDownloadURL:()=>Un(void 0).pipe(On.fc,be(()=>n.getDownloadURL()),On.iC),getMetadata:()=>Un(void 0).pipe(On.fc,be(()=>n.getMetadata()),On.iC),delete:()=>(0,ui.D)(n.delete()),child:e=>Yf(n.child(e)),updateMetadata:e=>(0,ui.D)(n.updateMetadata(e)),put:(e,t)=>iA(n.put(e,t)),putString:(e,t,i)=>iA(n.putString(e,t,i)),list:e=>(0,ui.D)(n.list(e)),listAll:()=>(0,ui.D)(n.listAll())}}const Sw=new d.OlP("angularfire2.storageBucket"),Mw=new d.OlP("angularfire2.storage.maxUploadRetryTime"),kw=new d.OlP("angularfire2.storage.maxOperationRetryTime"),Rw=new d.OlP("angularfire2.storage.use-emulator");let Ow=(()=>{class n{constructor(t,i,r,a,u,p,y,E,S,O){const V=(0,ii.on)(t,u,i);this.storage=(0,ii.cc)(`${V.name}.storage.${r}`,"AngularFireStorage",V.name,()=>{const j=u.runOutsideAngular(()=>V.storage(r||void 0)),q=S;return q&&j.useEmulator(...q),y&&j.setMaxUploadRetryTime(y),E&&j.setMaxOperationRetryTime(E),j},[y,E])}ref(t){return Yf(this.storage.ref(t))}refFromURL(t){return Yf(this.storage.refFromURL(t))}upload(t,i,r){return Yf(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ii.Dh),d.LFG(ii.xv,8),d.LFG(Sw,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(On.HU),d.LFG(Mw,8),d.LFG(kw,8),d.LFG(Rw,8),d.LFG(jf,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Fw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),bx=(()=>{class n{constructor(){$c.Z.registerVersion("angularfire",On.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Ow],imports:[Fw]}),n})();var Pw=L(8189);function Nw(...n){return function Ex(){return(0,Pw.J)(1)}()((0,ui.D)(n,(0,Cr.yG)(n)))}function bh(...n){const e=(0,Cr.yG)(n);return(0,R.e)((t,i)=>{(e?Nw(n,t,e):Nw(n,t)).subscribe(i)})}function rA(){return(0,R.e)((n,e)=>{let t,i=!1;n.subscribe((0,U.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function Cx(n,e,t,i,r){return(a,u)=>{let p=t,y=e,E=0;a.subscribe((0,U.x)(u,S=>{const O=E++;y=p?n(y,S,O):(p=!0,S),i&&u.next(y)},r&&(()=>{p&&u.next(y),u.complete()})))}}function Zf(n,e){return(0,R.e)(Cx(n,e,arguments.length>=2,!0))}var Jf=L(4671);function xx(n,e){return n===e}function tc(n,e){return(0,R.e)((t,i)=>{let r=0;t.subscribe((0,U.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}L(1451);var ct,Ix="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ra={},oA=oA||{},Wt=Ix||self;function aA(){}function Lw(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Xf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Vw="closure_uid_"+(1e9*Math.random()>>>0),Dx=0;function Eh(n,e,t){return n.call.apply(n.bind,arguments)}function Tx(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function cr(n,e,t){return(cr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Eh:Tx).apply(null,arguments)}function mm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ur(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var u=Array(arguments.length-2),p=2;p<arguments.length;p++)u[p-2]=arguments[p];return e.prototype[r].apply(i,u)}}function Oa(){this.s=this.s,this.o=this.o}var Gw={};Oa.prototype.s=!1,Oa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Bw(n){return Object.prototype.hasOwnProperty.call(n,Vw)&&n[Vw]||(n[Vw]=++Dx)}(this);delete Gw[n]}},Oa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Uw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Hw=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<i;a++)a in r&&e.call(t,r[a],a,n)};function jw(n){return Array.prototype.concat.apply([],arguments)}function lA(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function ep(n){return/^[\s\xa0]*$/.test(n)}var Rr,zw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function es(n,e){return-1!=n.indexOf(e)}function ym(n,e){return n<e?-1:n>e?1:0}e:{var kx=Wt.navigator;if(kx){var _m=kx.userAgent;if(_m){Rr=_m;break e}}Rr=""}function cA(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Rx(n){const e={};for(const t in n)e[t]=n[t];return e}var Ch="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $w(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<Ch.length;a++)t=Ch[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function tp(n){return tp[" "](n),n}tp[" "]=aA;var xh,n,Ox=es(Rr,"Opera"),nc=es(Rr,"Trident")||es(Rr,"MSIE"),np=es(Rr,"Edge"),ip=np||nc,Fx=es(Rr,"Gecko")&&!(es(Rr.toLowerCase(),"webkit")&&!es(Rr,"Edge"))&&!(es(Rr,"Trident")||es(Rr,"MSIE"))&&!es(Rr,"Edge"),Px=es(Rr.toLowerCase(),"webkit")&&!es(Rr,"Edge");function Am(){var n=Wt.document;return n?n.documentMode:void 0}e:{var vm="",wm=(n=Rr,Fx?/rv:([^\);]+)(\)|;)/.exec(n):np?/Edge\/([\d\.]+)/.exec(n):nc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Px?/WebKit\/(\S+)/.exec(n):Ox?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(wm&&(vm=wm?wm[1]:""),nc){var rp=Am();if(null!=rp&&rp>parseFloat(vm)){xh=String(rp);break e}}xh=vm}var qw={};var Nx=Wt.document&&nc&&(Am()||parseInt(xh,10))||void 0,Kw=function(){if(!Wt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Wt.addEventListener("test",aA,e),Wt.removeEventListener("test",aA,e)}catch(t){}return n}();function Or(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Wu(n,e){if(Or.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Fx){e:{try{tp(e.nodeName);var r=!0;break e}catch(a){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Qw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Wu.Z.h.call(this)}}Or.prototype.h=function(){this.defaultPrevented=!0},ur(Wu,Or);var Qw={2:"touch",3:"pen",4:"mouse"};Wu.prototype.h=function(){Wu.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var op="closure_listenable_"+(1e6*Math.random()|0),Lx=0;function Bx(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++Lx,this.ca=this.fa=!1}function ap(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Ih(n){this.src=n,this.g={},this.h=0}function bm(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=Uw(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(ap(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Em(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==i)return r}return-1}Ih.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=Em(n,e,i,r);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new Bx(e,this.src,a,!!i,r)).fa=t,n.push(e)),e};var Cm="closure_lm_"+(1e6*Math.random()|0),xm={};function hA(n,e,t,i,r){if(i&&i.once)return pA(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)hA(n,e[a],t,i,r);return null}return t=Im(t),n&&n[op]?n.N(e,t,Xf(i)?!!i.capture:!!i,r):fA(n,e,t,!1,i,r)}function fA(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=Xf(r)?!!r.capture:!!r,p=mA(n);if(p||(n[Cm]=p=new Ih(n)),(t=p.add(e,t,i,u,a)).proxy)return t;if(i=function Yw(){var e=Jw;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Kw||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Zw(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function pA(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)pA(n,e[a],t,i,r);return null}return t=Im(t),n&&n[op]?n.O(e,t,Xf(i)?!!i.capture:!!i,r):fA(n,e,t,!0,i,r)}function Vx(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)Vx(n,e[a],t,i,r);else i=Xf(i)?!!i.capture:!!i,t=Im(t),n&&n[op]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Em(a=n.g[e],t,i,r))&&(ap(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=mA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Em(e,t,i,r)),(t=-1<n?e[n]:null)&&gA(t))}function gA(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[op])bm(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Zw(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=mA(e))?(bm(t,n),0==t.h&&(t.src=null,e[Cm]=null)):ap(n)}}}function Zw(n){return n in xm?xm[n]:xm[n]="on"+n}function Jw(n,e){if(n.ca)n=!0;else{e=new Wu(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&gA(n),n=t.call(i,e)}return n}function mA(n){return(n=n[Cm])instanceof Ih?n:null}var ki="__closure_events_fn_"+(1e9*Math.random()>>>0);function Im(n){return"function"==typeof n?n:(n[ki]||(n[ki]=function(e){return n.handleEvent(e)}),n[ki])}function dr(){Oa.call(this),this.i=new Ih(this),this.P=this,this.I=null}function Fr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Or(e,n);else if(e instanceof Or)e.target=e.target||n;else{var r=e;$w(e=new Or(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=lp(u,i,!0,e)&&r}if(r=lp(u=e.g=n,i,!0,e)&&r,r=lp(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=lp(u=e.g=t[a],i,!1,e)&&r}function lp(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ca&&u.capture==t){var p=u.listener,y=u.ia||u.src;u.fa&&bm(n.i,u),r=!1!==p.call(y,i)&&r}}return r&&!i.defaultPrevented}ur(dr,Oa),dr.prototype[op]=!0,dr.prototype.removeEventListener=function(n,e,t,i){Vx(this,n,e,t,i)},dr.prototype.M=function(){if(dr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)ap(t[i]);delete n.g[e],n.h--}}this.I=null},dr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},dr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var yA=Wt.JSON.stringify;function Xw(){var n=AA;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var _A,Ku=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Gx,n=>n.reset());class Gx{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ux(n){Wt.setTimeout(()=>{throw n},0)}function Dm(n,e){_A||function tb(){var n=Wt.Promise.resolve(void 0);_A=function(){n.then(vA)}}(),nb||(_A(),nb=!0),AA.add(n,e)}var nb=!1,AA=new class eb{constructor(){this.h=this.g=null}add(e,t){const i=Ku.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function vA(){for(var n;n=Xw();){try{n.h.call(n.g)}catch(t){Ux(t)}var e=Ku;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}nb=!1}function Qs(n,e){dr.call(this),this.h=n||1,this.g=e||Wt,this.j=cr(this.kb,this),this.l=Date.now()}function wA(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function bA(n,e,t){if("function"==typeof n)t&&(n=cr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=cr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Wt.setTimeout(n,e||0)}function Fa(n){n.g=bA(()=>{n.g=null,n.i&&(n.i=!1,Fa(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ur(Qs,dr),(ct=Qs.prototype).da=!1,ct.S=null,ct.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Fr(this,"tick"),this.da&&(wA(this),this.start()))}},ct.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.M=function(){Qs.Z.M.call(this),wA(this),delete this.g};class Pa extends Oa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Fa(this)}M(){super.M(),this.g&&(Wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(n){Oa.call(this),this.h=n,this.g={}}ur(ws,Oa);var EA=[];function CA(n,e,t,i){Array.isArray(t)||(t&&(EA[0]=t.toString()),t=EA);for(var r=0;r<t.length;r++){var a=hA(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function ib(n){cA(n.g,function(e,t){this.g.hasOwnProperty(t)&&gA(e)},n),n.g={}}function Tm(){this.g=!0}function qc(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zx(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return yA(t)}catch(p){return e}}(n,t)+(i?" "+i:"")})}ws.prototype.M=function(){ws.Z.M.call(this),ib(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Tm.prototype.Aa=function(){this.g=!1},Tm.prototype.info=function(){};var Wc={},rb=null;function up(){return rb=rb||new dr}function xA(n){Or.call(this,Wc.Ma,n)}function Kc(n){const e=up();Fr(e,new xA(e,n))}function sb(n,e){Or.call(this,Wc.STAT_EVENT,n),this.stat=e}function ts(n){const e=up();Fr(e,new sb(e,n))}function IA(n,e){Or.call(this,Wc.Na,n),this.size=e}function Qu(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Wt.setTimeout(function(){n()},e)}Wc.Ma="serverreachability",ur(xA,Or),Wc.STAT_EVENT="statevent",ur(sb,Or),Wc.Na="timingevent",ur(IA,Or);var Yu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Sm={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Mm(){}function TA(){}Mm.prototype.h=null;var Om,Dh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function km(){Or.call(this,"d")}function Rm(){Or.call(this,"c")}function Fm(){}function dp(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new ws(this),this.P=$x,this.W=new Qs(n=ip?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ob}function ob(){this.i=null,this.g="",this.h=!1}ur(km,Or),ur(Rm,Or),ur(Fm,Mm),Fm.prototype.g=function(){return new XMLHttpRequest},Fm.prototype.i=function(){return{}},Om=new Fm;var $x=45e3,SA={},Pm={};function MA(n,e,t){n.K=1,n.v=Vm(gl(e)),n.s=t,n.U=!0,ab(n,null)}function ab(n,e){n.F=Date.now(),hp(n),n.A=gl(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),Ap(t.h,"t",i),n.C=0,t=n.l.H,n.h=new ob,n.g=Km(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Pa(cr(n.Ia,n,n.g),n.O)),CA(n.V,n.g,"readystatechange",n.gb),e=n.H?Rx(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Kc(1),function Hx(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",p=a.split("&"),y=0;y<p.length;y++){var E=p[y].split("=");if(1<E.length){var S=E[0];E=E[1];var O=S.split("_");u=2<=O.length&&"type"==O[1]?u+(S+"=")+E+"&":u+(S+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function lb(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function cb(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=qx(n,t),r==Pm){4==e&&(n.o=4,ts(14),i=!1),qc(n.j,n.m,null,"[Incomplete Response]");break}if(r==SA){n.o=4,ts(15),qc(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}qc(n.j,n.m,r,null),kA(n,r)}lb(n)&&r!=Pm&&r!=SA&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ts(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),tu(e),e.L=!0,ts(11))):(qc(n.j,n.m,t,"[Invalid Chunked Response]"),Zu(n),fp(n))}function qx(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Pm:(t=Number(e.substring(t,i)),isNaN(t)?SA:(i+=1)+t>e.length?Pm:(e=e.substr(i,t),n.C=i+t,e))}function hp(n){n.Y=Date.now()+n.P,ub(n,n.P)}function ub(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Qu(cr(n.eb,n),e)}function Nm(n){n.B&&(Wt.clearTimeout(n.B),n.B=null)}function fp(n){0==n.l.G||n.I||Tb(n.l,n)}function Zu(n){Nm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,wA(n.W),ib(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function kA(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Um(t.i,n)))if(t.I=n.N,!n.J&&Um(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(E){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=Qu(cr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Ip(t),Cp(t)}HA(t),ts(18)}if(1>=PA(t.i)&&t.ka){try{t.ka()}catch(E){}t.ka=void 0}}else ed(t,11)}else if((n.J||t.g==n)&&Ip(t),!ep(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let E=r[e];if(t.U=E[0],E=E[1],2==t.G)if("c"==E[0]){t.J=E[1],t.la=E[2];const S=E[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const O=E[4];null!=O&&(t.za=O,t.h.info("SVER="+t.za));const V=E[5];null!=V&&"number"==typeof V&&0<V&&(t.K=i=1.5*V,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const j=n.g;if(j){const q=j.g?j.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var a=i.i;!a.g&&(es(q,"spdy")||es(q,"quic")||es(q,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(Hm(a,a.h),a.h=null))}if(i.D){const ue=j.g?j.g.getResponseHeader("X-HTTP-Session-Id"):null;ue&&(i.sa=ue,ri(i.F,i.D,ue))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((i=t).oa=Sb(i,i.H?i.la:null,i.W),u.J){mb(i.i,u);var p=u,y=i.K;y&&p.setTimeout(y),p.B&&(Nm(p),hp(p)),i.g=u}else Ib(i);0<t.l.length&&Wm(t)}else"stop"!=E[0]&&"close"!=E[0]||ed(t,7);else 3==t.G&&("stop"==E[0]||"close"==E[0]?"stop"==E[0]?ed(t,7):VA(t):"noop"!=E[0]&&t.j&&t.j.wa(E),t.A=0)}Kc(4)}catch(E){}}function Lm(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Lw(n)||"string"==typeof n)Hw(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Lw(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function Wx(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Lw(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}}function Ju(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Ju)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function Bm(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];Qc(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)Qc(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function Qc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ct=dp.prototype).setTimeout=function(n){this.P=n},ct.gb=function(n){n=n.target;const e=this.L;e&&3==Xc(n)?e.l():this.Ia(n)},ct.Ia=function(n){try{if(n==this.g)e:{const S=Xc(this.g);var e=this.g.Da();const O=this.g.ba();if(!(3>S)&&(3!=S||ip||this.g&&(this.h.h||this.g.ga()||tI(this.g)))){this.I||4!=S||7==e||Kc(8==e||0>=O?3:2),Nm(this);var t=this.g.ba();this.N=t;t:if(lb(this)){var i=tI(this.g);n="";var r=i.length,a=4==Xc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Zu(this),fp(this);var u="";break t}this.h.i=new Wt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function jx(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ep(p)){var E=p;break t}}E=null}if(!(t=E)){this.i=!1,this.o=3,ts(12),Zu(this),fp(this);break e}qc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,kA(this,t)}this.U?(cb(this,S,u),ip&&this.i&&3==S&&(CA(this.V,this.W,"tick",this.fb),this.W.start())):(qc(this.j,this.m,u,null),kA(this,u)),4==S&&Zu(this),this.i&&!this.I&&(4==S?Tb(this.l,this):(this.i=!1,hp(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,ts(12)):(this.o=0,ts(13)),Zu(this),fp(this)}}}catch(S){}},ct.fb=function(){if(this.g){var n=Xc(this.g),e=this.g.ga();this.C<e.length&&(Nm(this),cb(this,n,e),this.i&&4!=n&&hp(this))}},ct.cancel=function(){this.I=!0,Zu(this)},ct.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function cp(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Kc(3),ts(17)),Zu(this),this.o=2,fp(this)):ub(this,this.Y-n)},(ct=Ju.prototype).R=function(){Bm(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ct.T=function(){return Bm(this),this.g.concat()},ct.get=function(n,e){return Qc(this.h,n)?this.h[n]:e},ct.set=function(n,e){Qc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ct.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],a=this.get(r);n.call(e,a,r,this)}};var RA=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Yc){this.g=void 0!==e?e:n.g,pp(this,n.j),this.s=n.s,gp(this,n.i),mp(this,n.m),this.l=n.l,e=n.h;var t=new yp;t.i=e.i,e.g&&(t.g=new Ju(e.g),t.h=e.h),Zc(this,t),this.o=n.o}else n&&(t=String(n).match(RA))?(this.g=!!e,pp(this,t[1]||"",!0),this.s=Xu(t[2]||""),gp(this,t[3]||"",!0),mp(this,t[4]),this.l=Xu(t[5]||"",!0),Zc(this,t[6]||"",!0),this.o=Xu(t[7]||"")):(this.g=!!e,this.h=new yp(null,this.g))}function gl(n){return new Yc(n)}function pp(n,e,t){n.j=t?Xu(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function gp(n,e,t){n.i=t?Xu(e,!0):e}function mp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Zc(n,e,t){e instanceof yp?(n.h=e,function cM(n,e){e&&!n.j&&(Na(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(fb(this,i),Ap(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Gm(e,Kx)),n.h=new yp(e,n.g))}function ri(n,e,t){n.h.set(e,t)}function Vm(n){return ri(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Xu(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gm(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,hb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function hb(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Yc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Gm(e,OA,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Gm(e,OA,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Gm(t,"/"==t.charAt(0)?Pt:lM,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Gm(t,Qx)),n.join("")};var OA=/[#\/\?@]/g,lM=/[#\?:]/g,Pt=/[#\?]/g,Kx=/[#\?@]/g,Qx=/#/g;function yp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Na(n){n.g||(n.g=new Ju,n.h=0,n.i&&function db(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function fb(n,e){Na(n),e=Fn(n,e),Qc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Qc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Bm(n)))}function _p(n,e){return Na(n),e=Fn(n,e),Qc(n.g.h,e)}function Ap(n,e,t){fb(n,e),0<t.length&&(n.i=null,n.g.set(Fn(n,e),lA(t)),n.h+=t.length)}function Fn(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function gb(n){this.l=n||Yx,n=Wt.PerformanceNavigationTiming?0<(n=Wt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Wt.g&&Wt.g.Ea&&Wt.g.Ea()&&Wt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ct=yp.prototype).add=function(n,e){Na(this),this.i=null,n=Fn(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ct.forEach=function(n,e){Na(this),this.g.forEach(function(t,i){Hw(t,function(r){n.call(e,r,i,this)},this)},this)},ct.T=function(){Na(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],a=0;a<r.length;a++)t.push(e[i]);return t},ct.R=function(n){Na(this);var e=[];if("string"==typeof n)_p(this,n)&&(e=jw(e,this.g.get(Fn(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=jw(e,n[t])}return e},ct.set=function(n,e){return Na(this),this.i=null,_p(this,n=Fn(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ct.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var u=r;""!==i[a]&&(u+="="+encodeURIComponent(String(i[a]))),n.push(u)}}return this.i=n.join("&")};var Yx=10;function FA(n){return!!n.h||!!n.g&&n.g.size>=n.j}function PA(n){return n.h?1:n.g?n.g.size:0}function Um(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Hm(n,e){n.g?n.g.add(e):n.h=e}function mb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function yb(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return lA(n.i)}function NA(){}function vp(){this.g=new NA}function Zx(n,e,t){const i=t||"";try{Lm(n,function(r,a){let u=r;Xf(r)&&(u=yA(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function jm(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(a){}}function Jc(n){this.l=n.$b||null,this.j=n.ib||!1}function wp(n,e){dr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=zm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gb.prototype.cancel=function(){if(this.i=yb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},NA.prototype.stringify=function(n){return Wt.JSON.stringify(n,void 0)},NA.prototype.parse=function(n){return Wt.JSON.parse(n,void 0)},ur(Jc,Mm),Jc.prototype.g=function(){return new wp(this.l,this.j)},Jc.prototype.i=function(n){return function(){return n}}({}),ur(wp,dr);var zm=0;function LA(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function bp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ic(n)}function ic(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ct=wp.prototype).open=function(n,e){if(this.readyState!=zm)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ic(this)},ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Wt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bp(this)),this.readyState=zm},ct.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ic(this)),this.g&&(this.readyState=3,ic(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Wt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LA(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ct.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?bp(this):ic(this),3==this.readyState&&LA(this)}},ct.Ua=function(n){this.g&&(this.response=this.responseText=n,bp(this))},ct.Ta=function(n){this.g&&(this.response=n,bp(this))},ct.ha=function(){this.g&&bp(this)},ct.setRequestHeader=function(n,e){this.v.append(n,e)},ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(wp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ep=Wt.JSON.parse;function Gi(n){dr.call(this),this.headers=new Ju,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=_b,this.K=this.L=!1}ur(Gi,dr);var _b="",Xx=/^https?$/i,Ab=["POST","PUT"];function wb(n){return"content-type"==n.toLowerCase()}function bb(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,BA(n),$m(n)}function BA(n){n.D||(n.D=!0,Fr(n,"complete"),Fr(n,"error"))}function Eb(n){if(n.h&&void 0!==oA&&(!n.C[1]||4!=Xc(n)||2!=n.ba()))if(n.v&&4==Xc(n))bA(n.Fa,0,n);else if(Fr(n,"readystatechange"),4==Xc(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===p){var r=String(n.H).match(RA)[1]||null;if(!r&&Wt.self&&Wt.self.location){var a=Wt.self.location.protocol;r=a.substr(0,a.length-1)}i=!Xx.test(r?r.toLowerCase():"")}t=i}if(t)Fr(n,"complete"),Fr(n,"success");else{n.m=6;try{var u=2<Xc(n)?n.g.statusText:""}catch(y){u=""}n.j=u+" ["+n.ba()+"]",BA(n)}}finally{$m(n)}}}function $m(n,e){if(n.g){eI(n);const t=n.g,i=n.C[0]?aA:null;n.g=null,n.C=null,e||Fr(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function eI(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Wt.clearTimeout(n.A),n.A=null)}function Xc(n){return n.g?n.g.readyState:0}function tI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case _b:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function qm(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function uM(n){let e="";return cA(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ri(n,e,t))}function eu(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Cb(n){this.za=0,this.l=[],this.h=new Tm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=eu("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=eu("baseRetryDelayMs",5e3,n),this.$a=eu("retryDelaySeedMs",1e4,n),this.Ya=eu("forwardChannelMaxRetries",2,n),this.ra=eu("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new gb(n&&n.concurrentRequestLimit),this.Ca=new vp,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function VA(n){if(Sh(n),3==n.G){var e=n.V++,t=gl(n.F);ri(t,"SID",n.J),ri(t,"RID",e),ri(t,"TYPE","terminate"),xp(n,t),(e=new dp(n,n.h,e,void 0)).K=2,e.v=Vm(gl(t)),t=!1,Wt.navigator&&Wt.navigator.sendBeacon&&(t=Wt.navigator.sendBeacon(e.v.toString(),"")),!t&&Wt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Km(e.l,null),e.g.ea(e.v)),e.F=Date.now(),hp(e)}zA(n)}function Cp(n){n.g&&(tu(n),n.g.cancel(),n.g=null)}function Sh(n){Cp(n),n.u&&(Wt.clearTimeout(n.u),n.u=null),Ip(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Wt.clearTimeout(n.m),n.m=null)}function GA(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Wm(n)}function Wm(n){FA(n.i)||n.m||(n.m=!0,Dm(n.Ha,n),n.C=0)}function xb(n,e){var t;t=e?e.m:n.V++;const i=gl(n.F);ri(i,"SID",n.J),ri(i,"RID",t),ri(i,"AID",n.U),xp(n,i),n.o&&n.s&&qm(i,n.o,n.s),t=new dp(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=UA(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Hm(n.i,t),MA(t,i,e)}function xp(n,e){n.j&&Lm({},function(t,i){ri(e,i,t)})}function UA(n,e,t){t=Math.min(n.l.length,t);var i=n.j?cr(n.j.Oa,n.j,n):null;e:{var r=n.l;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let p=!0;for(let y=0;y<t;y++){let E=r[y].h;const S=r[y].g;if(E-=a,0>E)a=Math.max(0,r[y].h-100),p=!1;else try{Zx(S,u,"req"+E+"_")}catch(O){i&&i(S)}}if(p){i=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function Ib(n){n.g||n.u||(n.Y=1,Dm(n.Ga,n),n.A=0)}function HA(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Qu(cr(n.Ga,n),jA(n,n.A)),n.A++,0))}function tu(n){null!=n.B&&(Wt.clearTimeout(n.B),n.B=null)}function Db(n){n.g=new dp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=gl(n.oa);ri(e,"RID","rpc"),ri(e,"SID",n.J),ri(e,"CI",n.N?"0":"1"),ri(e,"AID",n.U),xp(n,e),ri(e,"TYPE","xmlhttp"),n.o&&n.s&&qm(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Vm(gl(e)),t.s=null,t.U=!0,ab(t,n)}function Ip(n){null!=n.v&&(Wt.clearTimeout(n.v),n.v=null)}function Tb(n,e){var t=null;if(n.g==e){Ip(n),tu(n),n.g=null;var i=2}else{if(!Um(n.i,e))return;t=e.D,mb(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Fr(i=up(),new IA(i,t,e,r)),Wm(n)}else Ib(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function nI(n,e){return!(PA(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Qu(cr(n.Ha,n,e),jA(n,n.C)),n.C++,0)))}(n,e)||2==i&&HA(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:ed(n,5);break;case 4:ed(n,10);break;case 3:ed(n,6);break;default:ed(n,2)}}function jA(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function ed(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=cr(n.jb,n);t||(t=new Yc("//www.google.com/images/cleardot.gif"),Wt.location&&"http"==Wt.location.protocol||pp(t,"https"),Vm(t)),function Jx(n,e){const t=new Tm;if(Wt.Image){const i=new Image;i.onload=mm(jm,t,i,"TestLoadImage: loaded",!0,e),i.onerror=mm(jm,t,i,"TestLoadImage: error",!1,e),i.onabort=mm(jm,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=mm(jm,t,i,"TestLoadImage: timeout",!1,e),Wt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else ts(2);n.G=0,n.j&&n.j.va(e),zA(n),Sh(n)}function zA(n){n.G=0,n.I=-1,n.j&&((0!=yb(n.i).length||0!=n.l.length)&&(n.i.i.length=0,lA(n.l),n.l.length=0),n.j.ua())}function Sb(n,e,t){let i=function Th(n){return n instanceof Yc?gl(n):new Yc(n,void 0)}(t);if(""!=i.i)e&&gp(i,e+"."+i.i),mp(i,i.m);else{const r=Wt.location;i=function aM(n,e,t,i){var r=new Yc(null,void 0);return n&&pp(r,n),e&&gp(r,e),t&&mp(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&cA(n.aa,function(r,a){ri(i,a,r)}),t=n.sa,(e=n.D)&&t&&ri(i,e,t),ri(i,"VER",n.ma),xp(n,i),i}function Km(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Gi(t&&n.Ba&&!n.qa?new Jc({ib:!0}):n.qa)).L=n.H,e}function Mb(){}function Dp(){if(nc&&!(10<=Number(Nx)))throw Error("Environmental error: no available transport.")}function Ys(n,e){dr.call(this),this.g=new Cb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!ep(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ep(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Mh(this)}function kb(n){km.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Rb(){Rm.call(this),this.status=1}function Mh(n){this.g=n}(ct=Gi.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Om.g(),this.C=function DA(n){return n.h||(n.h=n.i())}(this.u?this.u:Om),this.g.onreadystatechange=cr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void bb(this,a)}n=t||"";const r=new Ju(this.headers);i&&Lm(i,function(a,u){r.set(u,a)}),i=function Mx(n){e:{var e=wb;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=Wt.FormData&&n instanceof Wt.FormData,!(0<=Uw(Ab,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{eI(this),0<this.B&&((this.K=function vb(n){return nc&&function Ww(){return function uA(n){var e=qw;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=zw(String(xh)).split("."),t=zw("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=ym(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||ym(0==r[2].length,0==a[2].length)||ym(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cr(this.pa,this)):this.A=bA(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){bb(this,a)}},ct.pa=function(){void 0!==oA&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fr(this,"timeout"),this.abort(8))},ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Fr(this,"complete"),Fr(this,"abort"),$m(this))},ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$m(this,!0)),Gi.Z.M.call(this)},ct.Fa=function(){this.s||(this.F||this.v||this.l?Eb(this):this.cb())},ct.cb=function(){Eb(this)},ct.ba=function(){try{return 2<Xc(this)?this.g.status:-1}catch(n){return-1}},ct.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ct.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Ep(e)}},ct.Da=function(){return this.m},ct.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=Cb.prototype).ma=8,ct.G=1,ct.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ct.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new dp(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=Rx(a),$w(a,this.P)):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=UA(this,r,e),ri(t=gl(this.F),"RID",n),ri(t,"CVER",22),this.D&&ri(t,"X-HTTP-Session-Id",this.D),xp(this,t),this.o&&a&&qm(t,this.o,a),Hm(this.i,r),this.Ra&&ri(t,"TYPE","init"),this.ja?(ri(t,"$req",e),ri(t,"SID","null"),r.$=!0,MA(r,t,null)):MA(r,t,e),this.G=2}}else 3==this.G&&(n?xb(this,n):0==this.l.length||FA(this.i)||xb(this))},ct.Ga=function(){if(this.u=null,Db(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Qu(cr(this.bb,this),n)}},ct.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ts(10),Cp(this),Db(this))},ct.ab=function(){null!=this.v&&(this.v=null,Cp(this),HA(this),ts(19))},ct.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ts(2)):(this.h.info("Failed to ping google.com"),ts(1))},(ct=Mb.prototype).xa=function(){},ct.wa=function(){},ct.va=function(){},ct.ua=function(){},ct.Oa=function(){},Dp.prototype.g=function(n,e){return new Ys(n,e)},ur(Ys,dr),Ys.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Dm(cr(n.hb,n,e))),ts(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Sb(n,null,n.W),Wm(n)},Ys.prototype.close=function(){VA(this.g)},Ys.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,GA(this.g,e)}else this.v?((e={}).__data__=yA(n),GA(this.g,e)):GA(this.g,n)},Ys.prototype.M=function(){this.g.j=null,delete this.j,VA(this.g),delete this.g,Ys.Z.M.call(this)},ur(kb,km),ur(Rb,Rm),ur(Mh,Mb),Mh.prototype.xa=function(){Fr(this.g,"a")},Mh.prototype.wa=function(n){Fr(this.g,new kb(n))},Mh.prototype.va=function(n){Fr(this.g,new Rb(n))},Mh.prototype.ua=function(){Fr(this.g,"b")},Dp.prototype.createWebChannel=Dp.prototype.g,Ys.prototype.send=Ys.prototype.u,Ys.prototype.open=Ys.prototype.m,Ys.prototype.close=Ys.prototype.close,Yu.NO_ERROR=0,Yu.TIMEOUT=8,Yu.HTTP_ERROR=6,Sm.COMPLETE="complete",TA.EventType=Dh,Dh.OPEN="a",Dh.CLOSE="b",Dh.ERROR="c",Dh.MESSAGE="d",dr.prototype.listen=dr.prototype.N,Gi.prototype.listenOnce=Gi.prototype.O,Gi.prototype.getLastError=Gi.prototype.La,Gi.prototype.getLastErrorCode=Gi.prototype.Da,Gi.prototype.getStatus=Gi.prototype.ba,Gi.prototype.getResponseJson=Gi.prototype.Qa,Gi.prototype.getResponseText=Gi.prototype.ga,Gi.prototype.send=Gi.prototype.ea;var $A=Ra.createWebChannelTransport=function(){return new Dp},iI=Ra.getStatEventTarget=function(){return up()},Qm=Ra.ErrorCode=Yu,rI=Ra.EventType=Sm,sI=Ra.Event=Wc,Ob=Ra.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},oI=Ra.FetchXmlHttpFactory=Jc,Ym=Ra.WebChannel=TA,aI=Ra.XhrIo=Gi;const Fb="@firebase/firestore";class hr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hr.UNAUTHENTICATED=new hr(null),hr.GOOGLE_CREDENTIALS=new hr("google-credentials-uid"),hr.FIRST_PARTY=new hr("first-party-uid"),hr.MOCK_USER=new hr("mock-user");let td="9.9.2";const rc=new zc.Yd("@firebase/firestore");function qA(){return rc.logLevel}function ze(n,...e){if(rc.logLevel<=zc.in.DEBUG){const t=e.map(WA);rc.debug(`Firestore (${td}): ${n}`,...t)}}function Ri(n,...e){if(rc.logLevel<=zc.in.ERROR){const t=e.map(WA);rc.error(`Firestore (${td}): ${n}`,...t)}}function nd(n,...e){if(rc.logLevel<=zc.in.WARN){const t=e.map(WA);rc.warn(`Firestore (${td}): ${n}`,...t)}}function WA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ut(n="Unexpected state"){const e=`FIRESTORE (${td}) INTERNAL ASSERTION FAILED: `+n;throw Ri(e),new Error(e)}function Lt(n,e){n||ut()}function it(n,e){return n}const Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends Tt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Nb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hr.UNAUTHENTICATED))}shutdown(){}}class cI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Bb{constructor(e){this.t=e,this.currentUser=hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=E=>this.i!==r?(r=this.i,t(E)):Promise.resolve();let u=new Ui;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ui,e.enqueueRetryable(()=>a(this.currentUser))};const p=()=>{const E=u;e.enqueueRetryable((0,De.Z)(function*(){yield E.promise,yield a(i.currentUser)}))},y=E=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(E=>y(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?y(E):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ui)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Lt("string"==typeof i.accessToken),new Nb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Lt(null===e||"string"==typeof e),new hr(e)}}class uI{constructor(e,t,i){this.type="FirstParty",this.user=hr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class Vb{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new uI(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(hr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class dI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hI{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=a=>{null!=a.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.p;return this.p=a.token,ze("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?r(a):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Lt("string"==typeof t.token),this.p=t.token,new dI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function fI(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class id{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=fI(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Bt(n,e){return n<e?-1:n>e?1:0}function kh(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function pI(n){return n+"\0"}class Kn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new He(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new He(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new He(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new He(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kn.fromMillis(Date.now())}static fromDate(e){return Kn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Kn(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Vt(e)}static min(){return new Vt(new Kn(0,0))}static max(){return new Vt(new Kn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Tp{constructor(e,t,i){void 0===t?t=0:t>e.length&&ut(),void 0===i?i=e.length-t:i>e.length-t&&ut(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Tp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Tp?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dn extends Tp{construct(e,t,i){return new dn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new He(Ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new dn(t)}static emptyPath(){return new dn([])}}const gI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hi extends Tp{construct(e,t,i){return new hi(e,t,i)}static isValidIdentifier(e){return gI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new He(Ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const p=e[r];if("\\"===p){if(r+1===e.length)throw new He(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[r+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new He(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=y,r+=2}else"`"===p?(u=!u,r++):"."!==p||u?(i+=p,r++):(a(),r++)}if(a(),u)throw new He(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hi(t)}static emptyPath(){return new hi([])}}class et{constructor(e){this.path=e}static fromPath(e){return new et(dn.fromString(e))}static fromName(e){return new et(dn.fromString(e).popFirst(5))}static empty(){return new et(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new dn(e.slice()))}}class Rh{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Oh(n){return n.fields.find(e=>2===e.kind)}function La(n){return n.fields.filter(e=>2!==e.kind)}Rh.UNKNOWN_ID=-1;class Sp{constructor(e,t){this.fieldPath=e,this.kind=t}}class Mp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Mp(0,xo.min())}}function Ub(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Vt.fromTimestamp(1e9===i?new Kn(t+1,0):new Kn(t,i));return new xo(r,et.empty(),e)}function Zm(n){return new xo(n.readTime,n.key,-1)}class xo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new xo(Vt.min(),et.empty(),-1)}static max(){return new xo(Vt.max(),et.empty(),-1)}}function Hb(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=et.comparator(n.documentKey,e.documentKey),0!==t?t:Bt(n.largestBatchId,e.largestBatchId))}const jb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Io(n){return QA.apply(this,arguments)}function QA(){return QA=(0,De.Z)(function*(n){if(n.code!==Ce.FAILED_PRECONDITION||n.message!==jb)throw n;ze("LocalStore","Unexpectedly lost primary lease")}),QA.apply(this,arguments)}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,i)=>{t(e)})}static reject(e){return new he((t,i)=>{i(e)})}static waitFor(e){return new he((t,i)=>{let r=0,a=0,u=!1;e.forEach(p=>{++r,p.next(()=>{++a,u&&a===r&&t()},y=>i(y))}),u=!0,a===r&&t()})}static or(e){let t=he.resolve(!1);for(const i of e)t=t.next(r=>r?he.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new he((i,r)=>{const a=e.length,u=new Array(a);let p=0;for(let y=0;y<a;y++){const E=y;t(e[E]).next(S=>{u[E]=S,++p,p===a&&i(u)},S=>r(S))}})}static doWhile(e,t){return new he((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class YA{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new Ui,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new Jm(e,t.error)):this.T.resolve()},this.transaction.onerror=i=>{const r=ey(i.target.error);this.T.reject(new Jm(e,r))}}static open(e,t,i,r){try{return new YA(t,e.transaction(r,i))}catch(a){throw new Jm(t,a)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new dM(t)}}class Zo{constructor(e,t,i){this.name=e,this.version=t,this.P=i,12.2===Zo.v((0,Tt.z$)())&&Ri("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ze("SimpleDb","Removing database:",e),nu(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Tt.hl)())return!1;if(Zo.S())return!0;const e=(0,Tt.z$)(),t=Zo.v(e),i=0<t&&t<10,r=Zo.D(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(e){var t=this;return(0,De.Z)(function*(){return t.db||(ze("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new Jm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const p=u.target.error;r("VersionError"===p.name?new He(Ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new He(Ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Jm(e,p))},a.onupgradeneeded=u=>{ze("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.P.M(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{ze("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.O&&(t.db.onversionchange=i=>t.O(i)),t.db})()}F(e){this.O=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,De.Z)(function*(){const u="readonly"===t;let p=0;for(;;){++p;try{a.db=yield a.k(e);const y=YA.open(a.db,e,u?"readonly":"readwrite",i),E=r(y).next(S=>(y.R(),S)).catch(S=>(y.abort(S),he.reject(S))).toPromise();return E.catch(()=>{}),yield y.A,E}catch(y){const E=y,S="FirebaseError"!==E.name&&p<3;if(ze("SimpleDb","Transaction failed with error:",E.message,"Retrying:",S),a.close(),!S)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class yI{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return nu(this.$.delete())}}class Jm extends He{constructor(e,t){super(Ce.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function sc(n){return"IndexedDbTransactionError"===n.name}class dM{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(ze("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),nu(i)}add(e){return ze("SimpleDb","ADD",this.store.name,e,e),nu(this.store.add(e))}get(e){return nu(this.store.get(e)).next(t=>(void 0===t&&(t=null),ze("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ze("SimpleDb","DELETE",this.store.name,e),nu(this.store.delete(e))}count(){return ze("SimpleDb","COUNT",this.store.name),nu(this.store.count())}K(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.G(r,(u,p)=>{a.push(p)}).next(()=>a)}{const r=this.store.getAll(i.range);return new he((a,u)=>{r.onerror=p=>{u(p.target.error)},r.onsuccess=p=>{a(p.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new he((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}W(e,t){ze("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.H=!1;const r=this.cursor(i);return this.G(r,(a,u,p)=>p.delete())}J(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Y(e){const t=this.cursor({});return new he((i,r)=>{t.onerror=a=>{const u=ey(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(p=>{p?u.continue():i()}):i()}})}G(e,t){const i=[];return new he((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const p=u.target.result;if(!p)return void r();const y=new yI(p),E=t(p.primaryKey,p.value,y);if(E instanceof he){const S=E.catch(O=>(y.done(),he.reject(O)));i.push(S)}y.isDone?r():null===y.U?p.continue():p.continue(y.U)}}).next(()=>he.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function nu(n){return new he((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=ey(i.target.error);t(r)}})}let Xm=!1;function ey(n){const e=Zo.v((0,Tt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new He("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Xm||(Xm=!0,setTimeout(()=>{throw i},0)),i}}return n}class $b{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;ze("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,De.Z)(function*(){t.task=null;try{ze("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(i){sc(i)?ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Io(i)}yield t.Z(1)}))}}class qb{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,De.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.et(i,e))})()}et(e,t){const i=new Set;let r=t,a=!0;return he.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return ze("IndexBackiller",`Processing collection: ${u}`),this.nt(e,u,r).next(p=>{r-=p,i.add(u)});a=!1})).next(()=>t-r)}nt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.st(r,a)).next(p=>(ze("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>u.size)}))}st(e,t){let i=e;return t.changes.forEach((r,a)=>{const u=Zm(a);Hb(u,i)>0&&(i=u)}),new xo(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class bs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.it(i),this.rt=i=>t.writeSequenceNumber(i))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function Wb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Kb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}bs.ot=-1;class vi{constructor(e,t){this.comparator=e,this.root=t||Pr.EMPTY}insert(e,t){return new vi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pr.BLACK,null,null))}remove(e){return new vi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ty(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ty(this.root,e,this.comparator,!1)}getReverseIterator(){return new ty(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ty(this.root,e,this.comparator,!0)}}class ty{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pr{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=null!=i?i:Pr.RED,this.left=null!=r?r:Pr.EMPTY,this.right=null!=a?a:Pr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Pr(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Pr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Pr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)}}Pr.EMPTY=null,Pr.RED=!0,Pr.BLACK=!1,Pr.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Pr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vn{constructor(e){this.comparator=e,this.data=new vi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ZA(this.data.getIterator())}getIteratorFrom(e){return new ZA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vn(this.comparator);return t.data=e,t}}class ZA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function sd(n){return n.hasNext()?n.getNext():void 0}class Zs{constructor(e){this.fields=e,e.sort(hi.comparator)}static empty(){return new Zs([])}unionWith(e){let t=new vn(hi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Zs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return kh(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Hi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Hi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new Hi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hi.EMPTY_BYTE_STRING=new Hi("");const _I=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function iu(n){if(Lt(!!n),"string"==typeof n){let e=0;const t=_I.exec(n);if(Lt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wi(n.seconds),nanos:wi(n.nanos)}}function wi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function od(n){return"string"==typeof n?Hi.fromBase64String(n):Hi.fromUint8Array(n)}function JA(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Yb(n){const e=n.mapValue.fields.__previous_value__;return JA(e)?Yb(e):e}function kp(n){const e=iu(n.mapValue.fields.__local_write_time__.timestampValue);return new Kn(e.seconds,e.nanos)}class Rp{constructor(e,t,i,r,a,u,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.useFetchStreams=y}}class oc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new oc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}function ad(n){return null==n}function Js(n){return 0===n&&1/n==-1/0}function Zb(n){return"number"==typeof n&&Number.isInteger(n)&&!Js(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const ml={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ru={nullValue:"NULL_VALUE"};function ld(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?JA(n)?4:sy(n)?9007199254740991:10:ut()}function yl(n,e){if(n===e)return!0;const t=ld(n);if(t!==ld(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return kp(n).isEqual(kp(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=iu(i.timestampValue),u=iu(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,od(n.bytesValue).isEqual(od(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return wi(i.geoPointValue.latitude)===wi(r.geoPointValue.latitude)&&wi(i.geoPointValue.longitude)===wi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return wi(i.integerValue)===wi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=wi(i.doubleValue),u=wi(r.doubleValue);return a===u?Js(a)===Js(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return kh(n.arrayValue.values||[],e.arrayValue.values||[],yl);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(Wb(a)!==Wb(u))return!1;for(const p in a)if(a.hasOwnProperty(p)&&(void 0===u[p]||!yl(a[p],u[p])))return!1;return!0}(n,e);default:return ut()}var r}function Op(n,e){return void 0!==(n.values||[]).find(t=>yl(t,e))}function Ba(n,e){if(n===e)return 0;const t=ld(n),i=ld(e);if(t!==i)return Bt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=wi(r.integerValue||r.doubleValue),p=wi(a.integerValue||a.doubleValue);return u<p?-1:u>p?1:u===p?0:isNaN(u)?isNaN(p)?0:-1:1}(n,e);case 3:return Fp(n.timestampValue,e.timestampValue);case 4:return Fp(kp(n),kp(e));case 5:return Bt(n.stringValue,e.stringValue);case 6:return function(r,a){const u=od(r),p=od(a);return u.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),p=a.split("/");for(let y=0;y<u.length&&y<p.length;y++){const E=Bt(u[y],p[y]);if(0!==E)return E}return Bt(u.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=Bt(wi(r.latitude),wi(a.latitude));return 0!==u?u:Bt(wi(r.longitude),wi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],p=a.values||[];for(let y=0;y<u.length&&y<p.length;++y){const E=Ba(u[y],p[y]);if(E)return E}return Bt(u.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===ml.mapValue&&a===ml.mapValue)return 0;if(r===ml.mapValue)return 1;if(a===ml.mapValue)return-1;const u=r.fields||{},p=Object.keys(u),y=a.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const O=Bt(p[S],E[S]);if(0!==O)return O;const V=Ba(u[p[S]],y[E[S]]);if(0!==V)return V}return Bt(p.length,E.length)}(n.mapValue,e.mapValue);default:throw ut()}}function Fp(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Bt(n,e);const t=iu(n),i=iu(e),r=Bt(t.seconds,i.seconds);return 0!==r?r:Bt(t.nanos,i.nanos)}function Fh(n){return XA(n)}function XA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=iu(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?od(n.bytesValue).toBase64():"referenceValue"in n?et.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=XA(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const p of r)u?u=!1:a+=",",a+=`${p}:${XA(i.fields[p])}`;return a+"}"}(n.mapValue):ut();var e}function su(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ny(n){return!!n&&"integerValue"in n}function cd(n){return!!n&&"arrayValue"in n}function ev(n){return!!n&&"nullValue"in n}function Jb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function iy(n){return!!n&&"mapValue"in n}function ry(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return rd(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ry(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ry(n.arrayValue.values[t]);return e}return Object.assign({},n)}function sy(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function tv(n){return"nullValue"in n?ru:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?su(oc.empty(),et.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ut()}function Xb(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?su(oc.empty(),et.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ml:ut()}function oy(n,e){const t=Ba(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function ay(n,e){const t=Ba(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Nr{constructor(e){this.value=e}static empty(){return new Nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!iy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ry(t)}setAll(e){let t=hi.emptyPath(),i={},r=[];e.forEach((u,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,i,r),i={},r=[],t=p.popLast()}u?i[p.lastSegment()]=ry(u):r.push(p.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());iy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];iy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){rd(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Nr(ry(this.value))}}function eE(n){const e=[];return rd(n.fields,(t,i)=>{const r=new hi([t]);if(iy(i)){const a=eE(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new Zs(e)}class Hn{constructor(e,t,i,r,a,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Hn(e,0,Vt.min(),Vt.min(),Nr.empty(),0)}static newFoundDocument(e,t,i){return new Hn(e,1,t,Vt.min(),i,0)}static newNoDocument(e,t){return new Hn(e,2,t,Vt.min(),Nr.empty(),0)}static newUnknownDocument(e,t){return new Hn(e,3,t,Vt.min(),Nr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class AI{constructor(e,t=null,i=[],r=[],a=null,u=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=p,this.ut=null}}function nv(n,e=null,t=[],i=[],r=null,a=null,u=null){return new AI(n,e,t,i,r,a,u)}function ac(n){const e=it(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Fh(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),ad(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Fh(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Fh(i)).join(",")),e.ut=t}return e.ut}function Ph(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!rv(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!yl(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sv(n.startAt,e.startAt)&&sv(n.endAt,e.endAt)}function ly(n){return et.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Pp(n,e){return n.filters.filter(t=>t instanceof fr&&t.field.isEqual(e))}function nE(n,e,t){let i=ru,r=!0;for(const a of Pp(n,e)){let u=ru,p=!0;switch(a.op){case"<":case"<=":u=tv(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,p=!1;break;case"!=":case"not-in":u=ru}oy({value:i,inclusive:r},{value:u,inclusive:p})<0&&(i=u,r=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];oy({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function iv(n,e,t){let i=ml,r=!0;for(const a of Pp(n,e)){let u=ml,p=!0;switch(a.op){case">=":case">":u=Xb(a.value),p=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,p=!1;break;case"!=":case"not-in":u=ml}ay({value:i,inclusive:r},{value:u,inclusive:p})>0&&(i=u,r=p)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];ay({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class fr extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,i):new vI(e,t,i):"array-contains"===t?new Nh(e,i):"in"===t?new bI(e,i):"not-in"===t?new EI(e,i):"array-contains-any"===t?new hM(e,i):new fr(e,t,i)}static ct(e,t,i){return"in"===t?new iE(e,i):new wI(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Ba(t,this.value)):null!==t&&ld(this.value)===ld(t)&&this.at(Ba(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ut()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class vI extends fr{constructor(e,t,i){super(e,t,i),this.key=et.fromName(i.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.at(t)}}class iE extends fr{constructor(e,t){super(e,"in",t),this.keys=ns(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class wI extends fr{constructor(e,t){super(e,"not-in",t),this.keys=ns(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ns(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>et.fromName(i.referenceValue))}class Nh extends fr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cd(t)&&Op(t.arrayValue,this.value)}}class bI extends fr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Op(this.value.arrayValue,t)}}class EI extends fr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Op(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Op(this.value.arrayValue,t)}}class hM extends fr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Op(this.value.arrayValue,i))}}class Jo{constructor(e,t){this.position=e,this.inclusive=t}}class Lh{constructor(e,t="asc"){this.field=e,this.dir=t}}function rv(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function rE(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?et.comparator(et.fromName(u.referenceValue),t.key):Ba(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function sv(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yl(n.position[t],e.position[t]))return!1;return!0}class lc{constructor(e,t=null,i=[],r=[],a=null,u="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=p,this.endAt=y,this.lt=null,this.ft=null}}function sE(n,e,t,i,r,a,u,p){return new lc(n,e,t,i,r,a,u,p)}function ou(n){return new lc(n)}function ov(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function cy(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Bh(n){for(const e of n.filters)if(e.ht())return e.field;return null}function Np(n){return null!==n.collectionGroup}function Lp(n){const e=it(n);if(null===e.lt){e.lt=[];const t=Bh(e),i=cy(e);if(null!==t&&null===i)t.isKeyField()||e.lt.push(new Lh(t)),e.lt.push(new Lh(hi.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.lt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Lh(hi.keyField(),a))}}}return e.lt}function Es(n){const e=it(n);if(!e.ft)if("F"===e.limitType)e.ft=nv(e.path,e.collectionGroup,Lp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Lp(e))t.push(new Lh(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new Jo(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Jo(e.startAt.position,e.startAt.inclusive):null;e.ft=nv(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.ft}function uy(n,e,t){return new lc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vh(n,e){return Ph(Es(n),Es(e))&&n.limitType===e.limitType}function Bp(n){return`${ac(Es(n))}|lt:${n.limitType}`}function dy(n){return`Query(target=${function tE(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Fh(i.value)}`;var i}).join(", ")}]`),ad(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Fh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Fh(t)).join(",")),`Target(${e})`}(Es(n))}; limitType=${n.limitType})`}function av(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):et.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,u){const p=rE(r,a,u);return r.inclusive?p<=0:p<0}(t.startAt,Lp(t),i)||t.endAt&&!function(r,a,u){const p=rE(r,a,u);return r.inclusive?p>=0:p>0}(t.endAt,Lp(t),i)));var t,i}function hy(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fy(n){return(e,t)=>{let i=!1;for(const r of Lp(n)){const a=fM(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function fM(n,e,t){const i=n.field.isKeyField()?et.comparator(e.key,t.key):function(r,a,u){const p=a.data.field(r),y=u.data.field(r);return null!==p&&null!==y?Ba(p,y):ut()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ut()}}function oE(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Js(e)?"-0":e}}function aE(n){return{integerValue:""+n}}function lv(n,e){return Zb(e)?aE(e):oE(n,e)}class Vp{constructor(){this._=void 0}}function CI(n,e,t){return n instanceof Gh?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof ud?uv(n,e):n instanceof dd?dv(n,e):function(i,r){const a=cv(i,r),u=hv(a)+hv(i._t);return ny(a)&&ny(i._t)?aE(u):oE(i.wt,u)}(n,e)}function lE(n,e,t){return n instanceof ud?uv(n,e):n instanceof dd?dv(n,e):t}function cv(n,e){return n instanceof hd?ny(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Gh extends Vp{}class ud extends Vp{constructor(e){super(),this.elements=e}}function uv(n,e){const t=fv(e);for(const i of n.elements)t.some(r=>yl(r,i))||t.push(i);return{arrayValue:{values:t}}}class dd extends Vp{constructor(e){super(),this.elements=e}}function dv(n,e){let t=fv(e);for(const i of n.elements)t=t.filter(r=>!yl(r,i));return{arrayValue:{values:t}}}class hd extends Vp{constructor(e,t){super(),this.wt=e,this._t=t}}function hv(n){return wi(n.integerValue||n.doubleValue)}function fv(n){return cd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Gp{constructor(e,t){this.field=e,this.transform=t}}class pM{constructor(e,t){this.version=e,this.transformResults=t}}class si{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class gv{}function II(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new fd(n.key,si.none()):new Up(n.key,n.data,si.none());{const t=n.data,i=Nr.empty();let r=new vn(hi.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?i.delete(a):i.set(a,u),r=r.add(a)}return new Xo(n.key,i,new Zs(r.toArray()),si.none())}}function gM(n,e,t){n instanceof Up?function(i,r,a){const u=i.value.clone(),p=mv(i.fieldTransforms,r,a.transformResults);u.setAll(p),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Xo?function(i,r,a){if(!pv(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=mv(i.fieldTransforms,r,a.transformResults),p=r.data;p.setAll(TI(i)),p.setAll(u),r.convertToFoundDocument(a.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function py(n,e,t,i){return n instanceof Up?function(r,a,u,p){if(!pv(r.precondition,a))return u;const y=r.value.clone(),E=gy(r.fieldTransforms,p,a);return y.setAll(E),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof Xo?function(r,a,u,p){if(!pv(r.precondition,a))return u;const y=gy(r.fieldTransforms,p,a),E=a.data;return E.setAll(TI(r)),E.setAll(y),a.convertToFoundDocument(a.version,E).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(S=>S.field))}(n,e,t,i):(u=t,pv(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function mM(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=cv(i.transform,r||null);null!=a&&(null===t&&(t=Nr.empty()),t.set(i.field,a))}return t||null}function DI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&kh(t,i,(r,a)=>function xI(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof ud&&i instanceof ud||t instanceof dd&&i instanceof dd?kh(t.elements,i.elements,yl):t instanceof hd&&i instanceof hd?yl(t._t,i._t):t instanceof Gh&&i instanceof Gh);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Up extends gv{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Xo extends gv{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function TI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function mv(n,e,t){const i=new Map;Lt(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,p=e.data.field(a.field);i.set(a.field,lE(u,p,t[r]))}return i}function gy(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,CI(a,u,e))}return i}class fd extends gv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class my extends gv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class yM{constructor(e){this.count=e}}var bi,ln;function yv(n){switch(n){default:return ut();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0}}function _v(n){if(void 0===n)return Ri("GRPC error has no .code"),Ce.UNKNOWN;switch(n){case bi.OK:return Ce.OK;case bi.CANCELLED:return Ce.CANCELLED;case bi.UNKNOWN:return Ce.UNKNOWN;case bi.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case bi.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case bi.INTERNAL:return Ce.INTERNAL;case bi.UNAVAILABLE:return Ce.UNAVAILABLE;case bi.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case bi.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case bi.NOT_FOUND:return Ce.NOT_FOUND;case bi.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case bi.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case bi.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case bi.ABORTED:return Ce.ABORTED;case bi.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case bi.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case bi.DATA_LOSS:return Ce.DATA_LOSS;default:return ut()}}(ln=bi||(bi={}))[ln.OK=0]="OK",ln[ln.CANCELLED=1]="CANCELLED",ln[ln.UNKNOWN=2]="UNKNOWN",ln[ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ln[ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ln[ln.NOT_FOUND=5]="NOT_FOUND",ln[ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",ln[ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",ln[ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",ln[ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ln[ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ln[ln.ABORTED=10]="ABORTED",ln[ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",ln[ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",ln[ln.INTERNAL=13]="INTERNAL",ln[ln.UNAVAILABLE=14]="UNAVAILABLE",ln[ln.DATA_LOSS=15]="DATA_LOSS";class pd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){rd(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return Kb(this.inner)}size(){return this.innerSize}}const SI=new vi(et.comparator);function Xs(){return SI}const yy=new vi(et.comparator);function Hp(...n){let e=yy;for(const t of n)e=e.insert(t.key,t);return e}function MI(n){let e=yy;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function cc(){return jp()}function kI(){return jp()}function jp(){return new pd(n=>n.toString(),(n,e)=>n.isEqual(e))}const _M=new vi(et.comparator),RI=new vn(et.comparator);function Zt(...n){let e=RI;for(const t of n)e=e.add(t);return e}const OI=new vn(Bt);function Uh(){return OI}class zp{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,Cs.createSynthesizedTargetChangeForCurrentChange(e,t)),new zp(Vt.min(),i,Uh(),Xs(),Zt())}}class Cs{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Cs(Hi.EMPTY_BYTE_STRING,t,Zt(),Zt(),Zt())}}class _y{constructor(e,t,i,r){this.gt=e,this.removedTargetIds=t,this.key=i,this.yt=r}}class Ay{constructor(e,t){this.targetId=e,this.It=t}}class cE{constructor(e,t,i=Hi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class uE{constructor(){this.Tt=0,this.Et=wv(),this.At=Hi.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Zt(),t=Zt(),i=Zt();return this.Et.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ut()}}),new Cs(this.At,this.Rt,e,t,i)}Dt(){this.bt=!1,this.Et=wv()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class Av{constructor(e){this.Ot=e,this.Ft=new Map,this.$t=Xs(),this.Bt=vv(),this.Lt=new vn(Bt)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const i=this.Qt(t);switch(e.state){case 0:this.jt(t)&&i.Vt(e.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(e.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(i.Mt(),i.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),i.Vt(e.resumeToken));break;default:ut()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((i,r)=>{this.jt(r)&&t(r)})}zt(e){const t=e.targetId,i=e.It.count,r=this.Ht(t);if(r){const a=r.target;if(ly(a))if(0===i){const u=new et(a.path);this.Kt(t,u,Hn.newNoDocument(u,Vt.min()))}else Lt(1===i);else this.Jt(t)!==i&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((a,u)=>{const p=this.Ht(u);if(p){if(a.current&&ly(p.target)){const y=new et(p.target.path);null!==this.$t.get(y)||this.Xt(u,y)||this.Kt(u,y,Hn.newNoDocument(y,e))}a.vt&&(t.set(u,a.St()),a.Dt())}});let i=Zt();this.Bt.forEach((a,u)=>{let p=!0;u.forEachWhile(y=>{const E=this.Ht(y);return!E||2===E.purpose||(p=!1,!1)}),p&&(i=i.add(a))}),this.$t.forEach((a,u)=>u.setReadTime(e));const r=new zp(e,t,this.Lt,this.$t,i);return this.$t=Xs(),this.Bt=vv(),this.Lt=new vn(Bt),r}qt(e,t){if(!this.jt(e))return;const i=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,i),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,i){if(!this.jt(e))return;const r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),i&&(this.$t=this.$t.insert(t,i))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new uE,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new vn(Bt),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||ze("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}Wt(e){this.Ft.set(e,new uE),this.Ot.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}function vv(){return new vi(et.comparator)}function wv(){return new vi(et.comparator)}const FI={asc:"ASCENDING",desc:"DESCENDING"},dE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class hE{constructor(e,t){this.databaseId=e,this.dt=t}}function $p(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fE(n,e){return n.dt?e.toBase64():e.toUint8Array()}function bv(n,e){return $p(n,e.toTimestamp())}function kn(n){return Lt(!!n),Vt.fromTimestamp(function(e){const t=iu(e);return new Kn(t.seconds,t.nanos)}(n))}function Ev(n,e){return(t=n,new dn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function PI(n){const e=dn.fromString(n);return Lt(wE(e)),e}function qp(n,e){return Ev(n.databaseId,e.path)}function Va(n,e){const t=PI(e);if(t.get(1)!==n.databaseId.projectId)throw new He(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new He(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(mE(t))}function pE(n,e){return Ev(n.databaseId,e)}function gE(n){const e=PI(n);return 4===e.length?dn.emptyPath():mE(e)}function Hh(n){return new dn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mE(n){return Lt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function NI(n,e,t){return{name:qp(n,e),fields:t.value.mapValue.fields}}function Cv(n,e,t){const i=Va(n,e.name),r=kn(e.updateTime),a=new Nr({mapValue:{fields:e.fields}}),u=Hn.newFoundDocument(i,r,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function Wp(n,e){let t;if(e instanceof Up)t={update:NI(n,e.key,e.value)};else if(e instanceof fd)t={delete:qp(n,e.key)};else if(e instanceof Xo)t={update:NI(n,e.key,e.data),updateMask:UI(e.fieldMask)};else{if(!(e instanceof my))return ut();t={verify:qp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof Gh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ud)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof dd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof hd)return{fieldPath:a.field.canonicalString(),increment:u._t};throw ut()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:bv(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ut()),t;var r}function vy(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?si.updateTime(kn(r.updateTime)):void 0!==r.exists?si.exists(r.exists):si.none():si.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let p=null;"setToServerValue"in u?(Lt("REQUEST_TIME"===u.setToServerValue),p=new Gh):"appendMissingElements"in u?p=new ud(u.appendMissingElements.values||[]):"removeAllFromArray"in u?p=new dd(u.removeAllFromArray.values||[]):"increment"in u?p=new hd(a,u.increment):ut();const y=hi.fromServerFormat(u.fieldPath);return new Gp(y,p)}(n,r)):[];var r;if(e.update){const r=Va(n,e.update.name),a=new Nr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Zs((e.updateMask.fieldPaths||[]).map(E=>hi.fromServerFormat(E)));return new Xo(r,a,u,t,i)}return new Up(r,a,t,i)}if(e.delete){const r=Va(n,e.delete);return new fd(r,t)}if(e.verify){const r=Va(n,e.verify);return new my(r,t)}return ut()}function wy(n,e){return{documents:[pE(n,e.path)]}}function Iv(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=pE(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=pE(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(y){if(0===y.length)return;const E=y.map(S=>function(O){if("=="===O.op){if(Jb(O.value))return{unaryFilter:{field:Kp(O.field),op:"IS_NAN"}};if(ev(O.value))return{unaryFilter:{field:Kp(O.field),op:"IS_NULL"}}}else if("!="===O.op){if(Jb(O.value))return{unaryFilter:{field:Kp(O.field),op:"IS_NOT_NAN"}};if(ev(O.value))return{unaryFilter:{field:Kp(O.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kp(O.field),op:VI(O.op),value:O.value}}}(S));return 1===E.length?E[0]:{compositeFilter:{op:"AND",filters:E}}}(e.filters);r&&(t.structuredQuery.where=r);const a=function(y){if(0!==y.length)return y.map(E=>{return{field:Kp((S=E).field),direction:BI(S.dir)};var S})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(E=e.limit,n.dt||ad(E)?E:{value:E});var E,p,y;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function _E(n){let e=gE(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Lt(1===i);const S=t.from[0];S.allDescendants?r=S.collectionId:e=e.child(S.collectionId)}let a=[];t.where&&(a=Dv(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(S=>{return new Lh(Qp((O=S).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let p=null;t.limit&&(p=function(S){let O;return O="object"==typeof S?S.value:S,ad(O)?null:O}(t.limit));let y=null;var S;t.startAt&&(y=new Jo((S=t.startAt).values||[],!!S.before));let E=null;return t.endAt&&(E=function(S){return new Jo(S.values||[],!S.before)}(t.endAt)),sE(e,r,u,a,p,"F",y,E)}function Dv(n){return n?void 0!==n.unaryFilter?[GI(n)]:void 0!==n.fieldFilter?[vE(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Dv(e)).reduce((e,t)=>e.concat(t)):ut():[]}function BI(n){return FI[n]}function VI(n){return dE[n]}function Kp(n){return{fieldPath:n.canonicalString()}}function Qp(n){return hi.fromServerFormat(n.fieldPath)}function vE(n){return fr.create(Qp(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(n.fieldFilter.op),n.fieldFilter.value)}function GI(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Qp(n.unaryFilter.field);return fr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Qp(n.unaryFilter.field);return fr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Qp(n.unaryFilter.field);return fr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Qp(n.unaryFilter.field);return fr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}function UI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wE(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function eo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=HI(e)),e=AM(n.get(t),e);return HI(e)}function AM(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function HI(n){return n+"\x01\x01"}function uc(n){const e=n.length;if(Lt(e>=2),2===e)return Lt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),dn.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&ut(),n.charAt(u+1)){case"\x01":const p=n.substring(a,u);let y;0===r.length?y=p:(r+=p,y=r,r=""),i.push(y);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:ut()}a=u+2}return new dn(i)}const jI=["userId","batchId"];function by(n,e){return[n,eo(e)]}function Yp(n,e,t){return[n,eo(e),t]}const zI={},$I=["prefixPath","collectionGroup","readTime","documentId"],bE=["prefixPath","collectionGroup","documentId"],gd=["collectionGroup","readTime","prefixPath","documentId"],EE=["canonicalId","targetId"],Tv=["targetId","path"],Sv=["path","targetId"],qI=["collectionId","parent"],Mv=["indexId","uid"],kv=["uid","sequenceNumber"],Ey=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],vM=["indexId","uid","orderedDocumentKey"],wM=["userId","collectionPath","documentId"],bM=["userId","collectionPath","largestBatchId"],EM=["userId","collectionGroup","largestBatchId"],Rv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],WI=[...Rv,"documentOverlays"],CE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xE=CE,KI=[...xE,"indexConfiguration","indexState","indexEntries"];class Cy extends zb{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Yi(n,e){const t=it(n);return Zo.N(t.ee,e)}class xy{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&gM(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=py(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=py(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=kI();return this.mutations.forEach(r=>{const a=e.get(r.key),u=a.overlayedDocument;let p=this.applyToLocalView(u,a.mutatedFields);p=t.has(r.key)?null:p;const y=II(u,p);null!==y&&i.set(r.key,y),u.isValidDocument()||u.convertToNoDocument(Vt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zt())}isEqual(e){return this.batchId===e.batchId&&kh(this.mutations,e.mutations,(t,i)=>DI(t,i))&&kh(this.baseMutations,e.baseMutations,(t,i)=>DI(t,i))}}class Ov{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Lt(e.mutations.length===i.length);let r=_M;const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new Ov(e,t,i,r)}}class Fv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class dc{constructor(e,t,i,r,a=Vt.min(),u=Vt.min(),p=Hi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p}withSequenceNumber(e){return new dc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new dc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new dc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Iy{constructor(e){this.ne=e}}function Pv(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:jh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:qp(r=n.ne,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:$p(r,a.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:md(e.version)};else{if(!e.isUnknownDocument())return ut();i.unknownDocument={path:t.path.toArray(),version:md(e.version)}}var r,a;return i}function jh(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function md(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function yd(n){const e=new Kn(n.seconds,n.nanoseconds);return Vt.fromTimestamp(e)}function zh(n,e){const t=(e.baseMutations||[]).map(a=>vy(n.ne,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>vy(n.ne,a)),r=Kn.fromMillis(e.localWriteTimeMs);return new xy(e.batchId,r,t,i)}function Dy(n){const e=yd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?yd(n.lastLimboFreeSnapshotVersion):Vt.min();let i;var r;return void 0!==n.query.documents?(Lt(1===(r=n.query).documents.length),i=Es(ou(gE(r.documents[0])))):i=Es(_E(n.query)),new dc(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Hi.fromBase64String(n.resumeToken))}function QI(n,e){const t=md(e.snapshotVersion),i=md(e.lastLimboFreeSnapshotVersion);let r;r=ly(e.target)?wy(n.ne,e.target):Iv(n.ne,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ac(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Nv(n){const e=_E({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?uy(e,e.limit,"L"):e}function Lv(n,e){return new Fv(e.largestBatchId,vy(n.ne,e.overlayMutation))}function YI(n,e){const t=e.path.lastSegment();return[n,eo(e.path.popLast()),t]}function ZI(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:md(i.readTime),documentKey:eo(i.documentKey.path),largestBatchId:i.largestBatchId}}class xM{getBundleMetadata(e,t){return JI(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:yd(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return JI(e).put({bundleId:(i=t).id,createTime:md(kn(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return XI(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:Nv(r.bundledQuery),readTime:yd(r.readTime)};var r})}saveNamedQuery(e,t){return XI(e).put({name:(i=t).name,readTime:md(kn(i.readTime)),bundledQuery:i.bundledQuery});var i}}function JI(n){return Yi(n,"bundles")}function XI(n){return Yi(n,"namedQueries")}class Ty{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new Ty(e,t.uid||"")}getOverlay(e,t){return Sy(e).get(YI(this.userId,t)).next(i=>i?Lv(this.wt,i):null)}getOverlays(e,t){const i=cc();return he.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,u)=>{const p=new Fv(t,u);r.push(this.ie(e,p))}),he.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(eo(u.getCollectionPath())));const a=[];return r.forEach(u=>{const p=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(Sy(e).W("collectionPathOverlayIndex",p))}),he.waitFor(a)}getOverlaysForCollection(e,t,i){const r=cc(),a=eo(t),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Sy(e).K("collectionPathOverlayIndex",u).next(p=>{for(const y of p){const E=Lv(this.wt,y);r.set(E.getKey(),E)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=cc();let u;const p=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Sy(e).J({index:"collectionGroupOverlayIndex",range:p},(y,E,S)=>{const O=Lv(this.wt,E);a.size()<r||O.largestBatchId===u?(a.set(O.getKey(),O),u=O.largestBatchId):S.done()}).next(()=>a)}ie(e,t){return Sy(e).put(function(i,r,a){const[u,p,y]=YI(r,a.mutation.key);return{userId:r,collectionPath:p,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Wp(i.ne,a.mutation)}}(this.wt,this.userId,t))}}function Sy(n){return Yi(n,"documentOverlays")}class $h{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(wi(e.integerValue));else if("doubleValue"in e){const i=wi(e.doubleValue);isNaN(i)?this.ce(t,13):(this.ce(t,15),Js(i)?t.ae(0):t.ae(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ce(t,20),"string"==typeof i?t.he(i):(t.he(`${i.seconds||""}`),t.ae(i.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(od(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?sy(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):ut()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const i=e.fields||{};this.ce(t,55);for(const r of Object.keys(i))this.le(r,t),this.oe(i[r],t)}me(e,t){const i=e.values||[];this.ce(t,50);for(const r of i)this.oe(r,t)}_e(e,t){this.ce(t,37),et.fromName(e).path.forEach(i=>{this.ce(t,60),this.ge(i,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function IM(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function eD(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=IM(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}$h.ye=new $h;class s{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ie(i.value),i=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const r=t.codePointAt(0);this.Ie(240|r>>>18),this.Ie(128|63&r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r)}}this.Te()}Pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}ve(e){const t=this.Ve(e),i=eD(t);this.Se(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}De(e){const t=this.Ve(e),i=eD(t);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Me(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class o{constructor(e){this.Oe=e}de(e){this.Oe.pe(e)}he(e){this.Oe.be(e)}ae(e){this.Oe.ve(e)}ue(){this.Oe.Ce()}}class l{constructor(e){this.Oe=e}de(e){this.Oe.Ee(e)}he(e){this.Oe.Pe(e)}ae(e){this.Oe.De(e)}ue(){this.Oe.Ne()}}class c{constructor(){this.Oe=new s,this.Fe=new o(this.Oe),this.$e=new l(this.Oe)}seed(e){this.Oe.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class h{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new h(this.indexId,this.documentKey,this.arrayValue,i)}}function g(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=v(n.arrayValue,e.arrayValue),0!==t?t:(t=v(n.directionalValue,e.directionalValue),0!==t?t:et.comparator(n.documentKey,e.documentKey)))}function v(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class b{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const i=t;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(e){const t=Oh(e);if(void 0!==t&&!this.Qe(t))return!1;const i=La(e);let r=0,a=0;for(;r<i.length&&this.Qe(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ke){const u=i[r];if(!this.je(this.Ke,u)||!this.We(this.Ue[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Ue.length||!this.We(this.Ue[a++],u))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class I{constructor(){this.ze=new k}addToCollectionParentIndex(e,t){return this.ze.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(xo.min())}updateCollectionGroup(e,t,i){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class k{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new vn(dn.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new vn(dn.comparator)).toArray()}}const F=new Uint8Array(0);class G{constructor(e,t){this.user=e,this.databaseId=t,this.He=new k,this.Je=new pd(i=>ac(i),(i,r)=>Ph(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const a={collectionId:i,parent:eo(r)};return Y(e).put(a)}return he.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[pI(t),""],!1,!0);return Y(e).K(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(uc(u.parent))}return i})}addFieldIndex(e,t){const i=Te(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var u;delete r.indexId;const a=i.add(r);if(t.indexState){const u=qe(e);return a.next(p=>{u.put(ZI(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=Te(e),r=qe(e),a=le(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=le(e);let r=!0;const a=new Map;return he.forEach(this.Ye(t),u=>this.Xe(e,u).next(p=>{r&&(r=!!p),a.set(u,p)})).next(()=>{if(r){let u=Zt();const p=[];return he.forEach(a,(y,E)=>{var S;ze("IndexedDbIndexManager",`Using index ${S=y,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(at=>`${at.fieldPath}:${at.kind}`).join(",")}`} to execute ${ac(t)}`);const O=function(at,Ze){const It=Oh(Ze);if(void 0===It)return null;for(const Ot of Pp(at,It.fieldPath))switch(Ot.op){case"array-contains-any":return Ot.value.arrayValue.values||[];case"array-contains":return[Ot.value]}return null}(E,y),V=function(at,Ze){const It=new Map;for(const Ot of La(Ze))for(const on of Pp(at,Ot.fieldPath))switch(on.op){case"==":case"in":It.set(Ot.fieldPath.canonicalString(),on.value);break;case"not-in":case"!=":return It.set(Ot.fieldPath.canonicalString(),on.value),Array.from(It.values())}return null}(E,y),j=function(at,Ze){const It=[];let Ot=!0;for(const on of La(Ze)){const Zi=0===on.kind?nE(at,on.fieldPath,at.startAt):iv(at,on.fieldPath,at.startAt);It.push(Zi.value),Ot&&(Ot=Zi.inclusive)}return new Jo(It,Ot)}(E,y),q=function(at,Ze){const It=[];let Ot=!0;for(const on of La(Ze)){const Zi=0===on.kind?iv(at,on.fieldPath,at.endAt):nE(at,on.fieldPath,at.endAt);It.push(Zi.value),Ot&&(Ot=Zi.inclusive)}return new Jo(It,Ot)}(E,y),ue=this.Ze(y,E,j),Ie=this.Ze(y,E,q),Ue=this.tn(y,E,V),st=this.en(y.indexId,O,ue,j.inclusive,Ie,q.inclusive,Ue);return he.forEach(st,at=>i.j(at,t.limit).next(Ze=>{Ze.forEach(It=>{const Ot=et.fromSegments(It.documentKey);u.has(Ot)||(u=u.add(Ot),p.push(Ot))})}))}).next(()=>p)}return he.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,i,r,a,u,p){const y=(null!=t?t.length:1)*Math.max(i.length,a.length),E=y/(null!=t?t.length:1),S=[];for(let O=0;O<y;++O){const V=t?this.nn(t[O/E]):F,j=this.sn(e,V,i[O%E],r),q=this.rn(e,V,a[O%E],u),ue=p.map(Ie=>this.sn(e,V,Ie,!0));S.push(...this.createRange(j,q,ue))}return S}sn(e,t,i,r){const a=new h(e,et.empty(),t,i);return r?a:a.Le()}rn(e,t,i,r){const a=new h(e,et.empty(),t,i);return r?a.Le():a}Xe(e,t){const i=new b(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let u=null;for(const p of a)i.Ge(p)&&(!u||p.fields.length>u.fields.length)&&(u=p);return u})}getIndexType(e,t){let i=2;return he.forEach(this.Ye(t),r=>this.Xe(e,r).next(a=>{a?0!==i&&a.fields.length<function(u){let p=new vn(hi.comparator),y=!1;for(const E of u.filters){const S=E;S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?y=!0:p=p.add(S.field))}for(const E of u.orderBy)E.field.isKeyField()||(p=p.add(E.field));return p.size+(y?1:0)}(r)&&(i=1):i=0})).next(()=>i)}on(e,t){const i=new c;for(const r of La(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const u=i.Be(r.kind);$h.ye.re(a,u)}return i.Me()}nn(e){const t=new c;return $h.ye.re(e,t.Be(0)),t.Me()}un(e,t){const i=new c;return $h.ye.re(su(this.databaseId,t),i.Be(function(r){const a=La(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.Me()}tn(e,t,i){if(null===i)return[];let r=[];r.push(new c);let a=0;for(const u of La(e)){const p=i[a++];for(const y of r)if(this.cn(t,u.fieldPath)&&cd(p))r=this.an(r,u,p);else{const E=y.Be(u.kind);$h.ye.re(p,E)}}return this.hn(r)}Ze(e,t,i){return this.tn(e,t,i.position)}hn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Me();return t}an(e,t,i){const r=[...e],a=[];for(const u of i.arrayValue.values||[])for(const p of r){const y=new c;y.seed(p.Me()),$h.ye.re(u,y.Be(t.kind)),a.push(y)}return a}cn(e,t){return!!e.filters.find(i=>i instanceof fr&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Te(e),r=qe(e);return(t?i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.K()).next(a=>{const u=[];return he.forEach(a,p=>r.get([p.indexId,this.uid]).next(y=>{u.push(function(E,S){const O=S?new Mp(S.sequenceNumber,new xo(yd(S.readTime),new et(uc(S.documentKey)),S.largestBatchId)):Mp.empty(),V=E.fields.map(([j,q])=>new Sp(hi.fromServerFormat(j),q));return new Rh(E.indexId,E.collectionGroup,V,O)}(p,y))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Bt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Te(e),a=qe(e);return this.ln(e).next(u=>r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>he.forEach(p,y=>a.put(ZI(y.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return he.forEach(t,(r,a)=>{const u=i.get(r.collectionGroup);return(u?he.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(p=>(i.set(r.collectionGroup,p),he.forEach(p,y=>this.fn(e,r,y).next(E=>{const S=this.dn(a,y);return E.isEqual(S)?he.resolve():this._n(e,a,y,E,S)}))))})}wn(e,t,i,r){return le(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(i,t.key),documentKey:t.key.path.toArray()})}mn(e,t,i,r){return le(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(i,t.key),t.key.path.toArray()])}fn(e,t,i){const r=le(e);let a=new vn(g);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,t)])},(u,p)=>{a=a.add(new h(i.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>a)}dn(e,t){let i=new vn(g);const r=this.on(t,e);if(null==r)return i;const a=Oh(t);if(null!=a){const u=e.data.field(a.fieldPath);if(cd(u))for(const p of u.arrayValue.values||[])i=i.add(new h(t.indexId,e.key,this.nn(p),r))}else i=i.add(new h(t.indexId,e.key,F,r));return i}_n(e,t,i,r,a){ze("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(p,y,E,S,O){const V=p.getIterator(),j=y.getIterator();let q=sd(V),ue=sd(j);for(;q||ue;){let Ie=!1,Ue=!1;if(q&&ue){const st=E(q,ue);st<0?Ue=!0:st>0&&(Ie=!0)}else null!=q?Ue=!0:Ie=!0;Ie?(S(ue),ue=sd(j)):Ue?(O(q),q=sd(V)):(q=sd(V),ue=sd(j))}}(r,a,g,p=>{u.push(this.wn(e,t,i,p))},p=>{u.push(this.mn(e,t,i,p))}),he.waitFor(u)}ln(e){let t=1;return qe(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,p)=>g(u,p)).filter((u,p,y)=>!p||0!==g(u,y[p-1]));const r=[];r.push(e);for(const u of i){const p=g(u,e),y=g(u,t);if(0===p)r[0]=e.Le();else if(p>0&&y<0)r.push(u),r.push(u.Le());else if(y>0)break}r.push(t);const a=[];for(let u=0;u<r.length;u+=2)a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,F,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,F,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Je)}getMinOffset(e,t){return he.mapArray(this.Ye(t),i=>this.Xe(e,i).next(r=>r||ut())).next(Je)}}function Y(n){return Yi(n,"collectionParents")}function le(n){return Yi(n,"indexEntries")}function Te(n){return Yi(n,"indexConfiguration")}function qe(n){return Yi(n,"indexState")}function Je(n){Lt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Hb(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new xo(e.readTime,e.documentKey,t)}const dt={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ke{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ke(e,ke.DEFAULT_COLLECTION_PERCENTILE,ke.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Dt(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let p=0;const y=i.J({range:u},(S,O,V)=>(p++,V.delete()));a.push(y.next(()=>{Lt(1===p)}));const E=[];for(const S of t.mutations){const O=Yp(e,S.key.path,t.batchId);a.push(r.delete(O)),E.push(S.key)}return he.waitFor(a).next(()=>E)}function Jt(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ut();e=n.noDocument}return JSON.stringify(e).length}ke.DEFAULT_COLLECTION_PERCENTILE=10,ke.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ke.DEFAULT=new ke(41943040,ke.DEFAULT_COLLECTION_PERCENTILE,ke.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ke.DISABLED=new ke(-1,0,0);class yn{constructor(e,t,i,r){this.userId=e,this.wt=t,this.indexManager=i,this.referenceDelegate=r,this.gn={}}static se(e,t,i,r){Lt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new yn(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return no(e).J({index:"userMutationsIndex",range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=au(e),u=no(e);return u.add({}).next(p=>{Lt("number"==typeof p);const y=new xy(p,t,i,r),E=function(V,j,q){const ue=q.baseMutations.map(Ue=>Wp(V.ne,Ue)),Ie=q.mutations.map(Ue=>Wp(V.ne,Ue));return{userId:j,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:ue,mutations:Ie}}(this.wt,this.userId,y),S=[];let O=new vn((V,j)=>Bt(V.canonicalString(),j.canonicalString()));for(const V of r){const j=Yp(this.userId,V.key.path,p);O=O.add(V.key.path.popLast()),S.push(u.put(E)),S.push(a.put(j,zI))}return O.forEach(V=>{S.push(this.indexManager.addToCollectionParentIndex(e,V))}),e.addOnCommittedListener(()=>{this.gn[p]=y.keys()}),he.waitFor(S).next(()=>y)})}lookupMutationBatch(e,t){return no(e).get(t).next(i=>i?(Lt(i.userId===this.userId),zh(this.wt,i)):null)}yn(e,t){return this.gn[t]?he.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.gn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return no(e).J({index:"userMutationsIndex",range:r},(u,p,y)=>{p.userId===this.userId&&(Lt(p.batchId>=i),a=zh(this.wt,p)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return no(e).J({index:"userMutationsIndex",range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return no(e).K("userMutationsIndex",t).next(i=>i.map(r=>zh(this.wt,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=by(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return au(e).J({range:r},(u,p,y)=>{const[E,S,O]=u,V=uc(S);if(E===this.userId&&t.path.isEqual(V))return no(e).get(O).next(j=>{if(!j)throw ut();Lt(j.userId===this.userId),a.push(zh(this.wt,j))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new vn(Bt);const r=[];return t.forEach(a=>{const u=by(this.userId,a.path),p=IDBKeyRange.lowerBound(u),y=au(e).J({range:p},(E,S,O)=>{const[V,j,q]=E,ue=uc(j);V===this.userId&&a.path.isEqual(ue)?i=i.add(q):O.done()});r.push(y)}),he.waitFor(r).next(()=>this.pn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=by(this.userId,i),u=IDBKeyRange.lowerBound(a);let p=new vn(Bt);return au(e).J({range:u},(y,E,S)=>{const[O,V,j]=y,q=uc(V);O===this.userId&&i.isPrefixOf(q)?q.length===r&&(p=p.add(j)):S.done()}).next(()=>this.pn(e,p))}pn(e,t){const i=[],r=[];return t.forEach(a=>{r.push(no(e).get(a).next(u=>{if(null===u)throw ut();Lt(u.userId===this.userId),i.push(zh(this.wt,u))}))}),he.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Dt(e.ee,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),he.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return he.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return au(e).J({range:i},(a,u,p)=>{if(a[0]===this.userId){const y=uc(a[1]);r.push(y)}else p.done()}).next(()=>{Lt(0===r.length)})})}containsKey(e,t){return to(e,this.userId,t)}Tn(e){return My(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function to(n,e,t){const i=by(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return au(n).J({range:a,H:!0},(p,y,E)=>{const[S,O,V]=p;S===e&&O===r&&(u=!0),E.done()}).next(()=>u)}function no(n){return Yi(n,"mutations")}function au(n){return Yi(n,"documentMutations")}function My(n){return Yi(n,"mutationQueues")}class hc{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new hc(0)}static Rn(){return new hc(-1)}}class Bv{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const i=new hc(t.highestTargetId);return t.highestTargetId=i.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>Vt.fromTimestamp(new Kn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Pn(e,r)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(i=>(i.targetCount+=1,this.Vn(t,i),this.Pn(e,i))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>lu(e).delete(t.targetId)).next(()=>this.bn(e)).next(i=>(Lt(i.targetCount>0),i.targetCount-=1,this.Pn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return lu(e).J((u,p)=>{const y=Dy(p);y.sequenceNumber<=t&&null===i.get(y.targetId)&&(r++,a.push(this.removeTargetData(e,y)))}).next(()=>he.waitFor(a)).next(()=>r)}forEachTarget(e,t){return lu(e).J((i,r)=>{const a=Dy(r);t(a)})}bn(e){return ky(e).get("targetGlobalKey").next(t=>(Lt(null!==t),t))}Pn(e,t){return ky(e).put("targetGlobalKey",t)}vn(e,t){return lu(e).put(QI(this.wt,t))}Vn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=ac(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return lu(e).J({range:r,index:"queryTargetsIndex"},(u,p,y)=>{const E=Dy(p);Ph(t,E.target)&&(a=E,y.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=_l(e);return t.forEach(u=>{const p=eo(u.path);r.push(a.put({targetId:i,path:p})),r.push(this.referenceDelegate.addReference(e,i,u))}),he.waitFor(r)}removeMatchingKeys(e,t,i){const r=_l(e);return he.forEach(t,a=>{const u=eo(a.path);return he.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=_l(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=_l(e);let a=Zt();return r.J({range:i,H:!0},(u,p,y)=>{const E=uc(u[1]),S=new et(E);a=a.add(S)}).next(()=>a)}containsKey(e,t){const i=eo(t.path),r=IDBKeyRange.bound([i],[pI(i)],!1,!0);let a=0;return _l(e).J({index:"documentTargetsIndex",H:!0,range:r},([u,p],y,E)=>{0!==u&&(a++,E.done())}).next(()=>a>0)}te(e,t){return lu(e).get(t).next(i=>i?Dy(i):null)}}function lu(n){return Yi(n,"targets")}function ky(n){return Yi(n,"targetGlobal")}function _l(n){return Yi(n,"targetDocuments")}function Ry([n,e],[t,i]){const r=Bt(n,t);return 0===r?Bt(e,i):r}class Vv{constructor(e){this.Sn=e,this.buffer=new vn(Ry),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Ry(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aF{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,De.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){sc(i)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Io(i)}yield t.kn(3e5)}))}}class lF{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.On(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return he.resolve(bs.ot);const i=new Vv(t);return this.Mn.forEachTarget(e,r=>i.xn(r.sequenceNumber)).next(()=>this.Mn.Fn(e,r=>i.xn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Mn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(dt)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dt):this.$n(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}$n(e,t){let i,r,a,u,p,y,E;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),r=this.params.maximumSequenceNumbersToCollect):r=O,u=Date.now(),this.nthSequenceNumber(e,r))).next(O=>(i=O,p=Date.now(),this.removeTargets(e,i,t))).next(O=>(a=O,y=Date.now(),this.removeOrphanedDocuments(e,i))).next(O=>(E=Date.now(),qA()<=zc.in.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-S}ms\n\tDetermined least recently used ${r} in `+(p-u)+`ms\n\tRemoved ${a} targets in `+(y-p)+`ms\n\tRemoved ${O} documents in `+(E-y)+`ms\nTotal Duration: ${E-S}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:O})))}}class cF{constructor(e,t){this.db=e,this.garbageCollector=new lF(this,t)}On(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Bn(e){let t=0;return this.Fn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(i,r)=>t(r))}addReference(e,t,i){return IE(e,i)}removeReference(e,t,i){return IE(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return IE(e,t)}Un(e,t){return function(i,r){let a=!1;return My(i).Y(u=>to(i,u,r).next(p=>(p&&(a=!0),he.resolve(!p)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Ln(e,(u,p)=>{if(p<=t){const y=this.Un(e,u).next(E=>{if(!E)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u,Vt.min()),_l(e).delete([0,eo(u.path)])))});r.push(y)}}).next(()=>he.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return IE(e,t)}Ln(e,t){const i=_l(e);let r,a=bs.ot;return i.J({index:"documentTargetsIndex"},([u,p],{path:y,sequenceNumber:E})=>{0===u?(a!==bs.ot&&t(new et(uc(r)),a),a=E,r=y):a=bs.ot}).next(()=>{a!==bs.ot&&t(new et(uc(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function IE(n,e){return _l(n).put((i=n.currentSequenceNumber,{targetId:0,path:eo(e.path),sequenceNumber:i}));var i}class DM{constructor(){this.changes=new pd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Hn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?he.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uF{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Zp(e).put(i)}removeEntry(e,t,i){return Zp(e).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],jh(a),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.qn(e,i)))}getEntry(e,t){let i=Hn.newInvalidDocument(t);return Zp(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Gv(t))},(r,a)=>{i=this.Kn(t,a)}).next(()=>i)}Gn(e,t){let i={size:0,document:Hn.newInvalidDocument(t)};return Zp(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Gv(t))},(r,a)=>{i={document:this.Kn(t,a),size:Jt(a)}}).next(()=>i)}getEntries(e,t){let i=Xs();return this.Qn(e,t,(r,a)=>{const u=this.Kn(r,a);i=i.insert(r,u)}).next(()=>i)}jn(e,t){let i=Xs(),r=new vi(et.comparator);return this.Qn(e,t,(a,u)=>{const p=this.Kn(a,u);i=i.insert(a,p),r=r.insert(a,Jt(u))}).next(()=>({documents:i,Wn:r}))}Qn(e,t,i){if(t.isEmpty())return he.resolve();let r=new vn(kM);t.forEach(y=>r=r.add(y));const a=IDBKeyRange.bound(Gv(r.first()),Gv(r.last())),u=r.getIterator();let p=u.getNext();return Zp(e).J({index:"documentKeyIndex",range:a},(y,E,S)=>{const O=et.fromSegments([...E.prefixPath,E.collectionGroup,E.documentId]);for(;p&&kM(p,O)<0;)i(p,null),p=u.getNext();p&&p.isEqual(O)&&(i(p,E),p=u.hasNext()?u.getNext():null),p?S.q(Gv(p)):S.done()}).next(()=>{for(;p;)i(p,null),p=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),jh(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zp(e).K(IDBKeyRange.bound(r,a,!0)).next(u=>{let p=Xs();for(const y of u){const E=this.Kn(et.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);p=p.insert(E.key,E)}return p})}getAllFromCollectionGroup(e,t,i,r){let a=Xs();const u=MM(t,i),p=MM(t,xo.max());return Zp(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,p,!0)},(y,E,S)=>{const O=this.Kn(et.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);a=a.insert(O.key,O),a.size===r&&S.done()}).next(()=>a)}newChangeBuffer(e){return new dF(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return SM(e).get("remoteDocumentGlobalKey").next(t=>(Lt(!!t),t))}qn(e,t){return SM(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const i=function CM(n,e){let t;if(e.document)t=Cv(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=et.fromSegments(e.noDocument.path),r=yd(e.noDocument.readTime);t=Hn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ut();{const i=et.fromSegments(e.unknownDocument.path),r=yd(e.unknownDocument.version);t=Hn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Kn(i[0],i[1]);return Vt.fromTimestamp(r)}(e.readTime)),t}(this.wt,t);if(!i.isNoDocument()||!i.version.isEqual(Vt.min()))return i}return Hn.newInvalidDocument(e)}}function TM(n){return new uF(n)}class dF extends DM{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new pd(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new vn((a,u)=>Bt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const p=this.Hn.get(a);if(t.push(this.zn.removeEntry(e,a,p.readTime)),u.isValidDocument()){const y=Pv(this.zn.wt,u);r=r.add(a.path.popLast()),i+=Jt(y)-p.size,t.push(this.zn.addEntry(e,a,y))}else if(i-=p.size,this.trackRemovals){const y=Pv(this.zn.wt,u.convertToNoDocument(Vt.min()));t.push(this.zn.addEntry(e,a,y))}}),r.forEach(a=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.zn.updateMetadata(e,i)),he.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(i=>(this.Hn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:i,Wn:r})=>(r.forEach((a,u)=>{this.Hn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function SM(n){return Yi(n,"remoteDocumentGlobal")}function Zp(n){return Yi(n,"remoteDocumentsV14")}function Gv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function MM(n,e){const t=e.documentKey.path.toArray();return[n,jh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function kM(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Bt(t[a],i[a]),r)return r;return r=Bt(t.length,i.length),r||(r=Bt(t[t.length-2],i[i.length-2]),r||Bt(t[t.length-1],i[i.length-1]))}class hF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class RM{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&py(i.mutation,r,Zs.empty(),Kn.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Zt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Zt()){const r=cc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let u=Hp();return a.forEach((p,y)=>{u=u.insert(p,y.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=cc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Zt()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((u,p)=>{t.set(u,p)})})}computeViews(e,t,i,r){let a=Xs();const u=jp(),p=jp();return t.forEach((y,E)=>{const S=i.get(E.key);r.has(E.key)&&(void 0===S||S.mutation instanceof Xo)?a=a.insert(E.key,E):void 0!==S&&(u.set(E.key,S.mutation.getFieldMask()),py(S.mutation,E,S.mutation.getFieldMask(),Kn.now()))}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((E,S)=>u.set(E,S)),t.forEach((E,S)=>{var O;return p.set(E,new hF(S,null!==(O=u.get(E))&&void 0!==O?O:null))}),p))}recalculateAndSaveOverlays(e,t){const i=jp();let r=new vi((u,p)=>u-p),a=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const p of u)p.keys().forEach(y=>{const E=t.get(y);if(null===E)return;let S=i.get(y)||Zs.empty();S=p.applyToLocalView(E,S),i.set(y,S);const O=(r.get(p.batchId)||Zt()).add(y);r=r.insert(p.batchId,O)})}).next(()=>{const u=[],p=r.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),E=y.key,S=y.value,O=kI();S.forEach(V=>{if(!a.has(V)){const j=II(t.get(V),i.get(V));null!==j&&O.set(V,j),a=a.add(V)}}),u.push(this.documentOverlayCache.saveOverlays(e,E,O))}return he.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return et.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Np(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):he.resolve(cc());let p=-1,y=a;return u.next(E=>he.forEach(E,(S,O)=>(p<O.largestBatchId&&(p=O.largestBatchId),a.get(S)?he.resolve():this.getBaseDocument(e,S,O).next(V=>{y=y.insert(S,V)}))).next(()=>this.populateOverlays(e,E,a)).next(()=>this.computeViews(e,y,E,Zt())).next(S=>({batchId:p,changes:MI(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next(i=>{let r=Hp();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=Hp();return this.indexManager.getCollectionParents(e,r).next(u=>he.forEach(u,p=>{const y=(E=t,S=p.child(r),new lc(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));var E,S;return this.getDocumentsMatchingCollectionQuery(e,y,i).next(E=>{E.forEach((S,O)=>{a=a.insert(S,O)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(a=>(r=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(a=>{a.forEach((p,y)=>{const E=y.getKey();null===r.get(E)&&(r=r.insert(E,Hn.newInvalidDocument(E)))});let u=Hp();return r.forEach((p,y)=>{const E=a.get(p);void 0!==E&&py(E.mutation,y,Zs.empty(),Kn.now()),av(t,y)&&(u=u.insert(p,y))}),u})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):he.resolve(Hn.newInvalidDocument(t))}}class fF{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return he.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var i;return this.Jn.set(t.id,{id:(i=t).id,version:i.version,createTime:kn(i.createTime)}),he.resolve()}getNamedQuery(e,t){return he.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(i=t).name,query:Nv(i.bundledQuery),readTime:kn(i.readTime)}),he.resolve();var i}}class pF{constructor(){this.overlays=new vi(et.comparator),this.Xn=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const i=cc();return he.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.ie(e,t,a)}),he.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.Xn.delete(i)),he.resolve()}getOverlaysForCollection(e,t,i){const r=cc(),a=t.length+1,u=new et(t.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const y=p.getNext().value,E=y.getKey();if(!t.isPrefixOf(E.path))break;E.path.length===a&&y.largestBatchId>i&&r.set(y.getKey(),y)}return he.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new vi((E,S)=>E-S);const u=this.overlays.getIterator();for(;u.hasNext();){const E=u.getNext().value;if(E.getKey().getCollectionGroup()===t&&E.largestBatchId>i){let S=a.get(E.largestBatchId);null===S&&(S=cc(),a=a.insert(E.largestBatchId,S)),S.set(E.getKey(),E)}}const p=cc(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((E,S)=>p.set(E,S)),!(p.size()>=r)););return he.resolve(p)}ie(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Fv(t,i));let a=this.Xn.get(t);void 0===a&&(a=Zt(),this.Xn.set(t,a)),this.Xn.set(t,a.add(i.key))}}class tD{constructor(){this.Zn=new vn(is.ts),this.es=new vn(is.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const i=new is(e,t);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.rs(new is(e,t))}os(e,t){e.forEach(i=>this.removeReference(i,t))}us(e){const t=new et(new dn([])),i=new is(t,e),r=new is(t,e+1),a=[];return this.es.forEachInRange([i,r],u=>{this.rs(u),a.push(u.key)}),a}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new et(new dn([])),i=new is(t,e),r=new is(t,e+1);let a=Zt();return this.es.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new is(e,0),i=this.Zn.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class is{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return et.comparator(e.key,t.key)||Bt(e.ls,t.ls)}static ns(e,t){return Bt(e.ls,t.ls)||et.comparator(e.key,t.key)}}class gF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new vn(is.ts)}checkEmpty(e){return he.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.fs;this.fs++;const u=new xy(a,t,i,r);this.mutationQueue.push(u);for(const p of r)this.ds=this.ds.add(new is(p.key,a)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return he.resolve(u)}lookupMutationBatch(e,t){return he.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ws(t+1),a=r<0?0:r;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new is(t,0),r=new is(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([i,r],u=>{const p=this._s(u.ls);a.push(p)}),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new vn(Bt);return t.forEach(r=>{const a=new is(r,0),u=new is(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([a,u],p=>{i=i.add(p.ls)})}),he.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;et.isDocumentKey(a)||(a=a.child(""));const u=new is(new et(a),0);let p=new vn(Bt);return this.ds.forEachWhile(y=>{const E=y.key.path;return!!i.isPrefixOf(E)&&(E.length===r&&(p=p.add(y.ls)),!0)},u),he.resolve(this.gs(p))}gs(e){const t=[];return e.forEach(i=>{const r=this._s(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Lt(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return he.forEach(t.mutations,r=>{const a=new is(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=i})}In(e){}containsKey(e,t){const i=new is(t,0),r=this.ds.firstAfterOrEqual(i);return he.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return he.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class mF{constructor(e){this.ps=e,this.docs=new vi(et.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.ps(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return he.resolve(i?i.document.mutableCopy():Hn.newInvalidDocument(t))}getEntries(e,t){let i=Xs();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Hn.newInvalidDocument(r))}),he.resolve(i)}getAllFromCollection(e,t,i){let r=Xs();const a=new et(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:p,value:{document:y}}=u.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||Hb(Zm(y),i)<=0||(r=r.insert(y.key,y.mutableCopy()))}return he.resolve(r)}getAllFromCollectionGroup(e,t,i,r){ut()}Is(e,t){return he.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new yF(this)}getSize(e){return he.resolve(this.size)}}class yF extends DM{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.zn.addEntry(e,r)):this.zn.removeEntry(i)}),he.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class _F{constructor(e){this.persistence=e,this.Ts=new pd(t=>ac(t),Ph),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.Es=0,this.As=new tD,this.targetCount=0,this.Rs=hc.An()}forEachTarget(e,t){return this.Ts.forEach((i,r)=>t(r)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Es&&(this.Es=t),he.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new hc(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.vn(t),he.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Ts.forEach((u,p)=>{p.sequenceNumber<=t&&null===i.get(p.targetId)&&(this.Ts.delete(u),a.push(this.removeMatchingKeysForTargetId(e,p.targetId)),r++)}),he.waitFor(a).next(()=>r)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const i=this.Ts.get(t)||null;return he.resolve(i)}addMatchingKeys(e,t,i){return this.As.ss(t,i),he.resolve()}removeMatchingKeys(e,t,i){this.As.os(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),he.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),he.resolve()}getMatchingKeysForTargetId(e,t){const i=this.As.hs(t);return he.resolve(i)}containsKey(e,t){return he.resolve(this.As.containsKey(t))}}class OM{constructor(e,t){this.bs={},this.overlays={},this.Ps=new bs(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new _F(this),this.indexManager=new I,this.remoteDocumentCache=new mF(i=>this.referenceDelegate.Ss(i)),this.wt=new Iy(t),this.Ds=new fF(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.bs[e.toKey()];return i||(i=new gF(t,this.referenceDelegate),this.bs[e.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,i){ze("MemoryPersistence","Starting transaction:",e);const r=new AF(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(a=>this.referenceDelegate.xs(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ns(e,t){return he.or(Object.values(this.bs).map(i=>()=>i.containsKey(e,t)))}}class AF extends zb{constructor(e){super(),this.currentSequenceNumber=e}}class DE{constructor(e){this.persistence=e,this.ks=new tD,this.Ms=null}static Os(e){return new DE(e)}get Fs(){if(this.Ms)return this.Ms;throw ut()}addReference(e,t,i){return this.ks.addReference(i,t),this.Fs.delete(i.toString()),he.resolve()}removeReference(e,t,i){return this.ks.removeReference(i,t),this.Fs.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),he.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Fs.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Cs(){this.Ms=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Fs,i=>{const r=et.fromPath(i);return this.$s(e,r).next(a=>{a||t.removeEntry(r,Vt.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(i=>{i?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return he.or([()=>he.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class vF{constructor(e){this.wt=e}M(e,t,i,r){const a=new YA("createOrUpgrade",t);var p;i<1&&r>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jI,{unique:!0}),p.createObjectStore("documentMutations"),FM(e),function(p){p.createObjectStore("remoteDocuments")}(e));let u=he.resolve();return i<3&&r>=3&&(0!==i&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),FM(e)),u=u.next(()=>function(p){const y=p.store("targetGlobal"),E={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",E)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(p,y){return y.store("mutations").K().next(E=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jI,{unique:!0});const S=y.store("mutations"),O=E.map(V=>S.put(V));return he.waitFor(O)})}(e,a))),u=u.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Bs(a))),i<6&&r>=6&&(u=u.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(a)))),i<7&&r>=7&&(u=u.next(()=>this.Us(a))),i<8&&r>=8&&(u=u.next(()=>this.qs(e,a))),i<9&&r>=9&&(u=u.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.Ks(a))),i<11&&r>=11&&(u=u.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:wM});y.createIndex("collectionPathOverlayIndex",bM,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",EM,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:$I});y.createIndex("documentKeyIndex",bE),y.createIndex("collectionGroupIndex",gd)}(e)).next(()=>this.Gs(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.Qs(e,a))),i<15&&r>=15&&(u=u.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:Mv}).createIndex("sequenceNumberIndex",kv,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:Ey}).createIndex("documentKeyIndex",vM,{unique:!1})}(e))),u}Ls(e){let t=0;return e.store("remoteDocuments").J((i,r)=>{t+=Jt(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.K().next(r=>he.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",u).next(p=>he.forEach(p,y=>{Lt(y.userId===a.userId);const E=zh(this.wt,y);return Dt(e,a.userId,E).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.J((u,p)=>{const y=new dn(u),E=[0,eo(y)];a.push(t.get(E).next(S=>S?he.resolve():t.put({targetId:0,path:eo(y),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>he.waitFor(a))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:qI});const i=t.store("collectionParents"),r=new k,a=u=>{if(r.add(u)){const p=u.lastSegment(),y=u.popLast();return i.put({collectionId:p,parent:eo(y)})}};return t.store("remoteDocuments").J({H:!0},(u,p)=>{const y=new dn(u);return a(y.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([u,p,y],E)=>{const S=uc(p);return a(S.popLast())}))}Ks(e){const t=e.store("targets");return t.J((i,r)=>{const a=Dy(r),u=QI(this.wt,a);return t.put(u)})}Gs(e,t){const i=t.store("remoteDocuments"),r=[];return i.J((a,u)=>{const p=t.store("remoteDocumentsV14"),y=(E=u,E.document?new et(dn.fromString(E.document.name).popFirst(5)):E.noDocument?et.fromSegments(E.noDocument.path):E.unknownDocument?et.fromSegments(E.unknownDocument.path):ut()).path.toArray();var E;const S={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(p.put(S))}).next(()=>he.waitFor(r))}Qs(e,t){const i=t.store("mutations"),r=TM(this.wt),a=new OM(DE.Os,this.wt.ne);return i.K().next(u=>{const p=new Map;return u.forEach(y=>{var E;let S=null!==(E=p.get(y.userId))&&void 0!==E?E:Zt();zh(this.wt,y).keys().forEach(O=>S=S.add(O)),p.set(y.userId,S)}),he.forEach(p,(y,E)=>{const S=new hr(E),O=Ty.se(this.wt,S),V=a.getIndexManager(S),j=yn.se(S,this.wt,V,a.referenceDelegate);return new RM(r,j,O,V).recalculateAndSaveOverlaysForDocumentKeys(new Cy(t,bs.ot),y).next()})})}}function FM(n){n.createObjectStore("targetDocuments",{keyPath:Tv}).createIndex("documentTargetsIndex",Sv,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",EE,{unique:!0}),n.createObjectStore("targetGlobal")}const nD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class iD{constructor(e,t,i,r,a,u,p,y,E,S,O=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.js=a,this.window=u,this.document=p,this.Ws=E,this.zs=S,this.Hs=O,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=V=>Promise.resolve(),!iD.V())throw new He(Ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cF(this,r),this.ei=t+"main",this.wt=new Iy(y),this.ni=new Zo(this.ei,this.Hs,new vF(this.wt)),this.Vs=new Bv(this.referenceDelegate,this.wt),this.remoteDocumentCache=TM(this.wt),this.Ds=new xM,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===S&&Ri("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new He(Ce.FAILED_PRECONDITION,nD);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new bs(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var i=(0,De.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,De.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,De.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>TE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(sc(e))return ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Uv(e).get("owner").next(t=>he.resolve(this.di(t)))}_i(e){return TE(e).delete(this.clientId)}wi(){var e=this;return(0,De.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Yi(i,"clientMetadata");return r.K().next(a=>{const u=e.gi(a,18e5),p=a.filter(y=>-1===u.indexOf(y));return he.forEach(p,y=>r.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e.si)for(const i of t)e.si.removeItem(e.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?he.resolve(!0):Uv(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new He(Ce.FAILED_PRECONDITION,nD);return!1}}return!(!this.networkEnabled||!this.inForeground)||TE(e).K().next(i=>void 0===this.gi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,p=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ze("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,De.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Cy(t,bs.ot);return e.li(i).next(()=>e._i(i))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(i=>this.mi(i.updateTimeMs,t)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>TE(e).K().next(t=>this.gi(t,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return yn.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new G(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return Ty.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,i){ze("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(u=this.Hs)?KI:14===u?xE:13===u?CE:12===u?WI:11===u?Rv:void ut();var u;let p;return this.ni.runTransaction(e,r,a,y=>(p=new Cy(y,this.Ps?this.Ps.next():bs.ot),"readwrite-primary"===t?this.ai(p).next(E=>!!E||this.hi(p)).next(E=>{if(!E)throw Ri(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new He(Ce.FAILED_PRECONDITION,jb);return i(p)}).next(E=>this.fi(p).next(()=>E)):this.bi(p).next(()=>i(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}bi(e){return Uv(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new He(Ce.FAILED_PRECONDITION,nD)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Uv(e).put("owner",t)}static V(){return Zo.V()}li(e){const t=Uv(e);return t.get("owner").next(i=>this.di(i)?(ze("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):he.resolve())}mi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Ri(`Detected an update time that is in the future: ${e} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Tt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const i=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return ze("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ri("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Ri("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Uv(n){return Yi(n,"owner")}function TE(n){return Yi(n,"clientMetadata")}function rD(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class sD{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Pi=i,this.vi=r}static Vi(e,t){let i=Zt(),r=Zt();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new sD(e,t.fromCache,i,r)}}class PM{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ci(e,t).next(a=>a||this.xi(e,t,r,i)).next(a=>a||this.Ni(e,t))}Ci(e,t){if(ov(t))return he.resolve(null);let i=Es(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=uy(t,null,"F"),i=Es(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Zt(...a);return this.Di.getDocuments(e,u).next(p=>this.indexManager.getMinOffset(e,i).next(y=>{const E=this.ki(t,p);return this.Mi(t,E,u,y.readTime)?this.Ci(e,uy(t,null,"F")):this.Oi(e,E,t,y)}))})))}xi(e,t,i,r){return ov(t)||r.isEqual(Vt.min())?this.Ni(e,t):this.Di.getDocuments(e,i).next(a=>{const u=this.ki(t,a);return this.Mi(t,u,i,r)?this.Ni(e,t):(qA()<=zc.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dy(t)),this.Oi(e,u,t,Ub(r,-1)))})}ki(e,t){let i=new vn(fy(e));return t.forEach((r,a)=>{av(e,a)&&(i=i.add(a))}),i}Mi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ni(e,t){return qA()<=zc.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",dy(t)),this.Di.getDocumentsMatchingQuery(e,t,xo.min())}Oi(e,t,i,r){return this.Di.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class wF{constructor(e,t,i,r){this.persistence=e,this.Fi=t,this.wt=r,this.$i=new vi(Bt),this.Bi=new pd(a=>ac(a),Ph),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(i)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RM(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function NM(n,e,t,i){return new wF(n,e,t,i)}function LM(n,e){return oD.apply(this,arguments)}function oD(){return oD=(0,De.Z)(function*(n,e){const t=it(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.qi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],p=[];let y=Zt();for(const E of r){u.push(E.batchId);for(const S of E.mutations)y=y.add(S.key)}for(const E of a){p.push(E.batchId);for(const S of E.mutations)y=y.add(S.key)}return t.localDocuments.getDocuments(i,y).next(E=>({Ki:E,removedBatchIds:u,addedBatchIds:p}))})})}),oD.apply(this,arguments)}function bF(n,e){const t=it(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Ui.newChangeBuffer({trackRemovals:!0});return function(u,p,y,E){const S=y.batch,O=S.keys();let V=he.resolve();return O.forEach(j=>{V=V.next(()=>E.getEntry(p,j)).next(q=>{const ue=y.docVersions.get(j);Lt(null!==ue),q.version.compareTo(ue)<0&&(S.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),E.addEntry(q)))})}),V.next(()=>u.mutationQueue.removeMutationBatch(p,S))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let p=Zt();for(let y=0;y<u.mutationResults.length;++y)u.mutationResults[y].transformResults.length>0&&(p=p.add(u.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function BM(n){const e=it(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function EF(n,e){const t=it(n),i=e.snapshotVersion;let r=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Ui.newChangeBuffer({trackRemovals:!0});r=t.$i;const p=[];e.targetChanges.forEach((S,O)=>{const V=r.get(O);if(!V)return;p.push(t.Vs.removeMatchingKeys(a,S.removedDocuments,O).next(()=>t.Vs.addMatchingKeys(a,S.addedDocuments,O)));let j=V.withSequenceNumber(a.currentSequenceNumber);var q,ue,Ie;e.targetMismatches.has(O)?j=j.withResumeToken(Hi.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):S.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(S.resumeToken,i)),r=r.insert(O,j),ue=j,Ie=S,(0===(q=V).resumeToken.approximateByteSize()||ue.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||Ie.addedDocuments.size+Ie.modifiedDocuments.size+Ie.removedDocuments.size>0)&&p.push(t.Vs.updateTargetData(a,j))});let y=Xs(),E=Zt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(a,S))}),p.push(VM(a,u,e.documentUpdates).next(S=>{y=S.Gi,E=S.Qi})),!i.isEqual(Vt.min())){const S=t.Vs.getLastRemoteSnapshotVersion(a).next(O=>t.Vs.setTargetsMetadata(a,a.currentSequenceNumber,i));p.push(S)}return he.waitFor(p).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,E)).next(()=>y)}).then(a=>(t.$i=r,a))}function VM(n,e,t){let i=Zt(),r=Zt();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=Xs();return t.forEach((p,y)=>{const E=a.get(p);y.isFoundDocument()!==E.isFoundDocument()&&(r=r.add(p)),y.isNoDocument()&&y.version.isEqual(Vt.min())?(e.removeEntry(p,y.readTime),u=u.insert(p,y)):!E.isValidDocument()||y.version.compareTo(E.version)>0||0===y.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(y),u=u.insert(p,y)):ze("LocalStore","Ignoring outdated watch update for ",p,". Current version:",E.version," Watch version:",y.version)}),{Gi:u,Qi:r}})}function CF(n,e){const t=it(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Oy(n,e){const t=it(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Vs.getTargetData(i,e).next(a=>a?(r=a,he.resolve(r)):t.Vs.allocateTargetId(i).next(u=>(r=new dc(e,u,0,i.currentSequenceNumber),t.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.$i=t.$i.insert(i.targetId,i),t.Bi.set(e,i.targetId)),i})}function Fy(n,e,t){return aD.apply(this,arguments)}function aD(){return aD=(0,De.Z)(function*(n,e,t){const i=it(n),r=i.$i.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!sc(u))throw u;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.$i=i.$i.remove(e),i.Bi.delete(r.target)}),aD.apply(this,arguments)}function SE(n,e,t){const i=it(n);let r=Vt.min(),a=Zt();return i.persistence.runTransaction("Execute query","readonly",u=>function(p,y,E){const S=it(p),O=S.Bi.get(E);return void 0!==O?he.resolve(S.$i.get(O)):S.Vs.getTargetData(y,E)}(i,u,Es(e)).next(p=>{if(p)return r=p.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(u,p.targetId).next(y=>{a=y})}).next(()=>i.Fi.getDocumentsMatchingQuery(u,e,t?r:Vt.min(),t?a:Zt())).next(p=>(HM(i,hy(e),p),{documents:p,ji:a})))}function GM(n,e){const t=it(n),i=it(t.Vs),r=t.$i.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.te(a,e).next(u=>u?u.target:null))}function UM(n,e){const t=it(n),i=t.Li.get(e)||Vt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Ui.getAllFromCollectionGroup(r,e,Ub(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(HM(t,e,r),r))}function HM(n,e,t){let i=Vt.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Li.set(e,i)}function lD(){return lD=(0,De.Z)(function*(n,e,t,i){const r=it(n);let a=Zt(),u=Xs();for(const E of t){const S=e.Wi(E.metadata.name);E.document&&(a=a.add(S));const O=e.zi(E);O.setReadTime(e.Hi(E.metadata.readTime)),u=u.insert(S,O)}const p=r.Ui.newChangeBuffer({trackRemovals:!0}),y=yield Oy(r,(E=i,Es(ou(dn.fromString(`__bundle__/docs/${E}`)))));var E;return r.persistence.runTransaction("Apply bundle documents","readwrite",E=>VM(E,p,u).next(S=>(p.apply(E),S)).next(S=>r.Vs.removeMatchingKeysForTargetId(E,y.targetId).next(()=>r.Vs.addMatchingKeys(E,a,y.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(E,S.Gi,S.Qi)).next(()=>S.Gi)))}),lD.apply(this,arguments)}function IF(n,e){return cD.apply(this,arguments)}function cD(){return cD=(0,De.Z)(function*(n,e,t=Zt()){const i=yield Oy(n,Es(Nv(e.bundledQuery))),r=it(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=kn(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ds.saveNamedQuery(a,e);const p=i.withResumeToken(Hi.EMPTY_BYTE_STRING,u);return r.$i=r.$i.insert(p.targetId,p),r.Vs.updateTargetData(a,p).next(()=>r.Vs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Vs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ds.saveNamedQuery(a,e))})}),cD.apply(this,arguments)}function jM(n,e){return`firestore_clients_${n}_${e}`}function zM(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function uD(n,e){return`firestore_targets_${n}_${e}`}class ME{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ji(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new He(r.error.code,r.error.message))),u?new ME(e,t,r.state,a):(Ri("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hv{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ji(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new He(i.error.code,i.error.message))),a?new Hv(e,i.state,r):(Ri("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=Uh();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=Zb(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new kE(e,a):(Ri("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class dD{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new dD(t.clientId,t.onlineState):(Ri("SharedClientState",`Failed to parse online state: ${e}`),null)}}class hD{constructor(){this.activeTargetIds=Uh()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fD{constructor(e,t,i,r,a){this.window=e,this.js=t,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new vi(Bt),this.started=!1,this.ir=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=jM(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new hD),this.cr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,De.Z)(function*(){const t=yield e.syncEngine.Ri();for(const r of t){if(r===e.tr)continue;const a=e.getItem(jM(e.persistenceKey,r));if(a){const u=kE.Ji(r,a);u&&(e.sr=e.sr.insert(u.clientId,u))}}e._r();const i=e.storage.getItem(e.lr);if(i){const r=e.wr(i);r&&e.mr(r)}for(const r of e.ir)e.nr(r);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,i){this.yr(e,t,i),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(uD(this.persistenceKey,e));if(i){const r=Hv.Ji(e,i);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(uD(this.persistenceKey,e))}updateQueryState(e,t,i){this.Tr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.pr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ze("SharedClientState","READ",e,t),t}setItem(e,t){ze("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(ze("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void Ri("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,De.Z)(function*(){if(t.started){if(null!==i.key)if(t.cr.test(i.key)){if(null==i.newValue){const r=t.Rr(i.key);return t.br(r,null)}{const r=t.Pr(i.key,i.newValue);if(r)return t.br(r.clientId,r)}}else if(t.ar.test(i.key)){if(null!==i.newValue){const r=t.vr(i.key,i.newValue);if(r)return t.Vr(r)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const r=t.Sr(i.key,i.newValue);if(r)return t.Dr(r)}}else if(i.key===t.lr){if(null!==i.newValue){const r=t.wr(i.newValue);if(r)return t.mr(r)}}else if(i.key===t.ur){const r=function(a){let u=bs.ot;if(null!=a)try{const p=JSON.parse(a);Lt("number"==typeof p),u=p}catch(p){Ri("SharedClientState","Failed to read sequence number from WebStorage",p)}return u}(i.newValue);r!==bs.ot&&t.sequenceNumberHandler(r)}else if(i.key===t.dr){const r=t.Cr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Nr(a)))}}else t.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,i){const r=new ME(this.currentUser,e,t,i),a=zM(this.persistenceKey,this.currentUser,e);this.setItem(a,r.Yi())}pr(e){const t=zM(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,i){const r=uD(this.persistenceKey,e),a=new Hv(e,t,i);this.setItem(r,a.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const i=this.Rr(e);return kE.Ji(i,t)}vr(e,t){const i=this.ar.exec(e),r=Number(i[1]);return ME.Ji(new hr(void 0!==i[2]?i[2]:null),r,t)}Sr(e,t){const i=this.hr.exec(e),r=Number(i[1]);return Hv.Ji(r,t)}wr(e){return dD.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,De.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const i=t?this.sr.insert(e,t):this.sr.remove(e),r=this.gr(this.sr),a=this.gr(i),u=[],p=[];return a.forEach(y=>{r.has(y)||u.push(y)}),r.forEach(y=>{a.has(y)||p.push(y)}),this.syncEngine.Or(u,p).then(()=>{this.sr=i})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=Uh();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class $M{constructor(){this.Fr=new hD,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,i){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new hD,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class DF{Br(e){}shutdown(){}}class qM{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const TF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class SF{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class MF extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,i,r,a){const u=this.oo(e,t);ze("RestConnection","Sending: ",u,i);const p={};return this.uo(p,r,a),this.co(e,u,p,i).then(y=>(ze("RestConnection","Received: ",y),y),y=>{throw nd("RestConnection",`${e} failed with error: `,y,"url: ",u,"request:",i),y})}ao(e,t,i,r,a,u){return this.ro(e,t,i,r,a)}uo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+td,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}oo(e,t){return`${this.so}/v1/${t}:${TF[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,i,r){return new Promise((a,u)=>{const p=new aI;p.listenOnce(rI.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Qm.NO_ERROR:const E=p.getResponseJson();ze("Connection","XHR received:",JSON.stringify(E)),a(E);break;case Qm.TIMEOUT:ze("Connection",'RPC "'+e+'" timed out'),u(new He(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case Qm.HTTP_ERROR:const S=p.getStatus();if(ze("Connection",'RPC "'+e+'" failed with status:',S,"response text:",p.getResponseText()),S>0){const O=p.getResponseJson().error;if(O&&O.status&&O.message){const V=function(j){const q=j.toLowerCase().replace(/_/g,"-");return Object.values(Ce).indexOf(q)>=0?q:Ce.UNKNOWN}(O.status);u(new He(V,O.message))}else u(new He(Ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else u(new He(Ce.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{ze("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(r);p.send(t,"POST",y,i,15)})}ho(e,t,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=$A(),u=iI(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new oI({})),this.uo(p.initMessageHeaders,t,i),(0,Tt.uI)()||(0,Tt.b$)()||(0,Tt.d)()||(0,Tt.w1)()||(0,Tt.Mn)()||(0,Tt.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const y=r.join("");ze("Connection","Creating WebChannel: "+y,p);const E=a.createWebChannel(y,p);let S=!1,O=!1;const V=new SF({jr:q=>{O?ze("Connection","Not sending because WebChannel is closed:",q):(S||(ze("Connection","Opening WebChannel transport."),E.open(),S=!0),ze("Connection","WebChannel sending:",q),E.send(q))},Wr:()=>E.close()}),j=(q,ue,Ie)=>{q.listen(ue,Ue=>{try{Ie(Ue)}catch(st){setTimeout(()=>{throw st},0)}})};return j(E,Ym.EventType.OPEN,()=>{O||ze("Connection","WebChannel transport opened.")}),j(E,Ym.EventType.CLOSE,()=>{O||(O=!0,ze("Connection","WebChannel transport closed"),V.eo())}),j(E,Ym.EventType.ERROR,q=>{O||(O=!0,nd("Connection","WebChannel transport errored:",q),V.eo(new He(Ce.UNAVAILABLE,"The operation could not be completed")))}),j(E,Ym.EventType.MESSAGE,q=>{var ue;if(!O){const Ie=q.data[0];Lt(!!Ie);const Ue=Ie,st=Ue.error||(null===(ue=Ue[0])||void 0===ue?void 0:ue.error);if(st){ze("Connection","WebChannel received error:",st);const at=st.status;let Ze=function(Ot){const on=bi[Ot];if(void 0!==on)return _v(on)}(at),It=st.message;void 0===Ze&&(Ze=Ce.INTERNAL,It="Unknown error status: "+at+" with message "+st.message),O=!0,V.eo(new He(Ze,It)),E.close()}else ze("Connection","WebChannel received:",Ie),V.no(Ie)}}),j(u,sI.STAT_EVENT,q=>{q.stat===Ob.PROXY?ze("Connection","Detected buffering proxy"):q.stat===Ob.NOPROXY&&ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.Zr()},0),V}}function WM(){return"undefined"!=typeof window?window:null}function RE(){return"undefined"!=typeof document?document:null}function jv(n){return new hE(n,!0)}class pD{constructor(e,t,i=1e3,r=1.5,a=6e4){this.js=e,this.timerId=t,this.lo=i,this.fo=r,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,t-i);r>0&&ze("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class KM{constructor(e,t,i,r,a,u,p,y){this.js=e,this.Ao=i,this.Ro=r,this.bo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new pD(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,De.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,De.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var i=this;return(0,De.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==e?i.So.reset():t&&t.code===Ce.RESOURCE_EXHAUSTED?(Ri(t.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):t&&t.code===Ce.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===t&&this.Uo(i,r)},i=>{e(()=>{const r=new He(Ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(e,t){const i=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var e=this;this.state=5,this.So.Io((0,De.Z)(function*(){e.state=0,e.start()}))}qo(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kF extends KM{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.wt=a}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function LI(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:ut(),r=e.targetChange.targetIds||[],a=function(y,E){return y.dt?(Lt(void 0===E||"string"==typeof E),Hi.fromBase64String(E||"")):(Lt(void 0===E||E instanceof Uint8Array),Hi.fromUint8Array(E||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&function(y){const E=void 0===y.code?Ce.UNKNOWN:_v(y.code);return new He(E,y.message||"")}(u);t=new cE(i,r,a,p||null)}else if("documentChange"in e){const i=e.documentChange,r=Va(n,i.document.name),a=kn(i.document.updateTime),u=new Nr({mapValue:{fields:i.document.fields}}),p=Hn.newFoundDocument(r,a,u);t=new _y(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const i=e.documentDelete,r=Va(n,i.document),a=i.readTime?kn(i.readTime):Vt.min(),u=Hn.newNoDocument(r,a);t=new _y([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Va(n,i.document);t=new _y([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ut();{const i=e.filter,a=new yM(i.count||0);t=new Ay(i.targetId,a)}}var y;return t}(this.wt,e),i=function(r){if(!("targetChange"in r))return Vt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Vt.min():a.readTime?kn(a.readTime):Vt.min()}(e);return this.listener.Go(t,i)}Qo(e){const t={};t.database=Hh(this.wt),t.addTarget=function(r,a){let u;const p=a.target;return u=ly(p)?{documents:wy(r,p)}:{query:Iv(r,p)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=fE(r,a.resumeToken):a.snapshotVersion.compareTo(Vt.min())>0&&(u.readTime=$p(r,a.snapshotVersion.toTimestamp())),u}(this.wt,e);const i=function AE(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ut()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Oo(t)}jo(e){const t={};t.database=Hh(this.wt),t.removeTarget=e,this.Oo(t)}}class RF extends KM{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.wt=a,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function xv(n,e){return n&&n.length>0?(Lt(void 0!==e),n.map(t=>function(i,r){let a=kn(i.updateTime?i.updateTime:r);return a.isEqual(Vt.min())&&(a=kn(r)),new pM(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=kn(e.commitTime);return this.listener.Jo(i,t)}return Lt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Hh(this.wt),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Wp(this.wt,i))};this.Oo(t)}}class OF extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new He(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.bo.ro(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new He(Ce.UNKNOWN,r.toString())})}ao(e,t,i,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.bo.ao(e,t,i,a,u,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new He(Ce.UNKNOWN,a.toString())})}terminate(){this.Zo=!0}}class FF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Ri(t),this.su=!1):ze("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class PF{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(p=>{i.enqueueAndForget((0,De.Z)(function*(){var y;qh(u)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,De.Z)(function*(E){const S=it(E);S.lu.add(4),yield Py(S),S._u.set("Unknown"),S.lu.delete(4),yield zv(S)}),function(E){return y.apply(this,arguments)})(u))}))}),this._u=new FF(i,r)}}function zv(n){return gD.apply(this,arguments)}function gD(){return gD=(0,De.Z)(function*(n){if(qh(n))for(const e of n.fu)yield e(!0)}),gD.apply(this,arguments)}function Py(n){return mD.apply(this,arguments)}function mD(){return mD=(0,De.Z)(function*(n){for(const e of n.fu)yield e(!1)}),mD.apply(this,arguments)}function OE(n,e){const t=it(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),AD(t)?_D(t):Ly(t).Co()&&yD(t,e))}function $v(n,e){const t=it(n),i=Ly(t);t.hu.delete(e),i.Co()&&QM(t,e),0===t.hu.size&&(i.Co()?i.ko():qh(t)&&t._u.set("Unknown"))}function yD(n,e){n.wu.Nt(e.targetId),Ly(n).Qo(e)}function QM(n,e){n.wu.Nt(e),Ly(n).jo(e)}function _D(n){n.wu=new Av({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),Ly(n).start(),n._u.iu()}function AD(n){return qh(n)&&!Ly(n).Do()&&n.hu.size>0}function qh(n){return 0===it(n).lu.size}function YM(n){n.wu=void 0}function NF(n){return vD.apply(this,arguments)}function vD(){return vD=(0,De.Z)(function*(n){n.hu.forEach((e,t)=>{yD(n,e)})}),vD.apply(this,arguments)}function LF(n,e){return wD.apply(this,arguments)}function wD(){return wD=(0,De.Z)(function*(n,e){YM(n),AD(n)?(n._u.uu(e),_D(n)):n._u.set("Unknown")}),wD.apply(this,arguments)}function BF(n,e,t){return bD.apply(this,arguments)}function bD(){return bD=(0,De.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof cE&&2===e.state&&e.cause)try{yield(i=(0,De.Z)(function*(r,a){const u=a.cause;for(const p of a.targetIds)r.hu.has(p)&&(yield r.remoteSyncer.rejectListen(p,u),r.hu.delete(p),r.wu.removeTarget(p))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield FE(n,i)}else if(e instanceof _y?n.wu.Ut(e):e instanceof Ay?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(Vt.min()))try{const i=yield BM(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.wu.Yt(a);return u.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=r.hu.get(y);E&&r.hu.set(y,E.withResumeToken(p.resumeToken,a))}}),u.targetMismatches.forEach(p=>{const y=r.hu.get(p);if(!y)return;r.hu.set(p,y.withResumeToken(Hi.EMPTY_BYTE_STRING,y.snapshotVersion)),QM(r,p);const E=new dc(y.target,p,1,y.sequenceNumber);yD(r,E)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){ze("RemoteStore","Failed to raise snapshot:",i),yield FE(n,i)}var i}),bD.apply(this,arguments)}function FE(n,e,t){return ED.apply(this,arguments)}function ED(){return ED=(0,De.Z)(function*(n,e,t){if(!sc(e))throw e;n.lu.add(1),yield Py(n),n._u.set("Offline"),t||(t=()=>BM(n.localStore)),n.asyncQueue.enqueueRetryable((0,De.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield zv(n)}))}),ED.apply(this,arguments)}function ZM(n,e){return e().catch(t=>FE(n,t,e))}function Ny(n){return CD.apply(this,arguments)}function CD(){return CD=(0,De.Z)(function*(n){const e=it(n),t=Wh(e);let i=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;VF(e);)try{const r=yield CF(e.localStore,i);if(null===r){0===e.au.length&&t.ko();break}i=r.batchId,GF(e,r)}catch(r){yield FE(e,r)}JM(e)&&XM(e)}),CD.apply(this,arguments)}function VF(n){return qh(n)&&n.au.length<10}function GF(n,e){n.au.push(e);const t=Wh(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function JM(n){return qh(n)&&!Wh(n).Do()&&n.au.length>0}function XM(n){Wh(n).start()}function UF(n){return xD.apply(this,arguments)}function xD(){return xD=(0,De.Z)(function*(n){Wh(n).Xo()}),xD.apply(this,arguments)}function HF(n){return ID.apply(this,arguments)}function ID(){return ID=(0,De.Z)(function*(n){const e=Wh(n);for(const t of n.au)e.Ho(t.mutations)}),ID.apply(this,arguments)}function jF(n,e,t){return DD.apply(this,arguments)}function DD(){return DD=(0,De.Z)(function*(n,e,t){const i=n.au.shift(),r=Ov.from(i,e,t);yield ZM(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Ny(n)}),DD.apply(this,arguments)}function zF(n,e){return TD.apply(this,arguments)}function TD(){return TD=(0,De.Z)(function*(n,e){var t;e&&Wh(n).zo&&(yield(t=(0,De.Z)(function*(i,r){if(yv(a=r.code)&&a!==Ce.ABORTED){const u=i.au.shift();Wh(i).No(),yield ZM(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Ny(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),JM(n)&&XM(n)}),TD.apply(this,arguments)}function ek(n,e){return SD.apply(this,arguments)}function SD(){return SD=(0,De.Z)(function*(n,e){const t=it(n);t.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const i=qh(t);t.lu.add(3),yield Py(t),i&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield zv(t)}),SD.apply(this,arguments)}function MD(n,e){return kD.apply(this,arguments)}function kD(){return kD=(0,De.Z)(function*(n,e){const t=it(n);e?(t.lu.delete(2),yield zv(t)):e||(t.lu.add(2),yield Py(t),t._u.set("Unknown"))}),kD.apply(this,arguments)}function Ly(n){return n.mu||(n.mu=function(e,t,i){const r=it(e);return r.tu(),new kF(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:NF.bind(null,n),Jr:LF.bind(null,n),Go:BF.bind(null,n)}),n.fu.push(function(){var e=(0,De.Z)(function*(t){t?(n.mu.No(),AD(n)?_D(n):n._u.set("Unknown")):(yield n.mu.stop(),YM(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Wh(n){return n.gu||(n.gu=function(e,t,i){const r=it(e);return r.tu(),new RF(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:UF.bind(null,n),Jr:zF.bind(null,n),Yo:HF.bind(null,n),Jo:jF.bind(null,n)}),n.fu.push(function(){var e=(0,De.Z)(function*(t){t?(n.gu.No(),yield Ny(n)):(yield n.gu.stop(),n.au.length>0&&(ze("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class RD{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,p=new RD(e,t,u,r,a);return p.start(i),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new He(Ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function By(n,e){if(Ri("AsyncQueue",`${e}: ${n}`),sc(n))return new He(Ce.UNAVAILABLE,`${e}: ${n}`);throw n}class Vy{constructor(e){this.comparator=e?(t,i)=>e(t,i)||et.comparator(t.key,i.key):(t,i)=>et.comparator(t.key,i.key),this.keyedMap=Hp(),this.sortedSet=new vi(this.comparator)}static emptySet(e){return new Vy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Vy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Vy;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class tk{constructor(){this.yu=new vi(et.comparator)}track(e){const t=e.doc.key,i=this.yu.get(t);i?0!==e.type&&3===i.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==i.type?this.yu=this.yu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.yu=this.yu.remove(t):1===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):ut():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Gy{constructor(e,t,i,r,a,u,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,i,r){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new Gy(e,t,Vy.emptySet(t),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class $F{constructor(){this.Iu=void 0,this.listeners=[]}}class qF{constructor(){this.queries=new pd(e=>Bp(e),Vh),this.onlineState="Unknown",this.Tu=new Set}}function OD(n,e){return FD.apply(this,arguments)}function FD(){return FD=(0,De.Z)(function*(n,e){const t=it(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new $F),r)try{a.Iu=yield t.onListen(i)}catch(u){const p=By(u,`Initialization of query '${dy(e.query)}' failed`);return void e.onError(p)}t.queries.set(i,a),a.listeners.push(e),e.Eu(t.onlineState),a.Iu&&e.Au(a.Iu)&&LD(t)}),FD.apply(this,arguments)}function PD(n,e){return ND.apply(this,arguments)}function ND(){return ND=(0,De.Z)(function*(n,e){const t=it(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),ND.apply(this,arguments)}function WF(n,e){const t=it(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const p of u.listeners)p.Au(r)&&(i=!0);u.Iu=r}}i&&LD(t)}function KF(n,e,t){const i=it(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function LD(n){n.Tu.forEach(e=>{e.next()})}class BD{constructor(e,t,i){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Gy(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Gy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class QF{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class nk{constructor(e){this.wt=e}Wi(e){return Va(this.wt,e)}zi(e){return e.metadata.exists?Cv(this.wt,e.document,!1):Hn.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return kn(e)}}class YF{constructor(e,t,i){this.xu=e,this.localStore=t,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ik(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=dn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,i=new nk(this.wt);for(const r of e)if(r.metadata.queries){const a=i.Wi(r.metadata.name);for(const u of r.metadata.queries){const p=(t.get(u)||Zt()).add(a);t.set(u,p)}}return t}complete(){var e=this;return(0,De.Z)(function*(){const t=yield function xF(n,e,t,i){return lD.apply(this,arguments)}(e.localStore,new nk(e.wt),e.documents,e.xu.id),i=e.ku(e.documents);for(const r of e.queries)yield IF(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function ik(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class rk{constructor(e){this.key=e}}class sk{constructor(e){this.key=e}}class ok{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Zt(),this.mutatedKeys=Zt(),this.Lu=fy(e),this.Uu=new Vy(this.Lu)}get qu(){return this.Fu}Ku(e,t){const i=t?t.Gu:new tk,r=t?t.Uu:this.Uu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,p=!1;const y="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,E="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((S,O)=>{const V=r.get(S),j=av(this.query,O)?O:null,q=!!V&&this.mutatedKeys.has(V.key),ue=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Ie=!1;V&&j?V.data.isEqual(j.data)?q!==ue&&(i.track({type:3,doc:j}),Ie=!0):this.Qu(V,j)||(i.track({type:2,doc:j}),Ie=!0,(y&&this.Lu(j,y)>0||E&&this.Lu(j,E)<0)&&(p=!0)):!V&&j?(i.track({type:0,doc:j}),Ie=!0):V&&!j&&(i.track({type:1,doc:V}),Ie=!0,(y||E)&&(p=!0)),Ie&&(j?(u=u.add(j),a=ue?a.add(S):a.delete(S)):(u=u.delete(S),a=a.delete(S)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const S="F"===this.query.limitType?u.last():u.first();u=u.delete(S.key),a=a.delete(S.key),i.track({type:1,doc:S})}return{Uu:u,Gu:i,Mi:p,mutatedKeys:a}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const a=e.Gu.pu();a.sort((E,S)=>function(O,V){const j=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return j(O)-j(V)}(E.type,S.type)||this.Lu(E.doc,S.doc)),this.ju(i);const u=t?this.Wu():[],p=0===this.Bu.size&&this.current?1:0,y=p!==this.$u;return this.$u=p,0!==a.length||y?{snapshot:new Gy(this.query,e.Uu,r,a,e.mutatedKeys,0===p,y,!1),zu:u}:{zu:u}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new tk,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Zt(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const t=[];return e.forEach(i=>{this.Bu.has(i)||t.push(new sk(i))}),this.Bu.forEach(i=>{e.has(i)||t.push(new rk(i))}),t}Ju(e){this.Fu=e.ji,this.Bu=Zt();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Gy.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class ZF{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class JF{constructor(e){this.key=e,this.Xu=!1}}class XF{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Zu={},this.tc=new pd(p=>Bp(p),Vh),this.ec=new Map,this.nc=new Set,this.sc=new vi(et.comparator),this.ic=new Map,this.rc=new tD,this.oc={},this.uc=new Map,this.cc=hc.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function eP(n,e){return VD.apply(this,arguments)}function VD(){return VD=(0,De.Z)(function*(n,e){const t=lT(n);let i,r;const a=t.tc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.Yu();else{const u=yield Oy(t.localStore,Es(e));t.isPrimaryClient&&OE(t.remoteStore,u);const p=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield GD(t,e,i,"current"===p)}return r}),VD.apply(this,arguments)}function GD(n,e,t,i){return UD.apply(this,arguments)}function UD(){return UD=(0,De.Z)(function*(n,e,t,i){n.hc=(S,O,V)=>{return(j=(0,De.Z)(function*(q,ue,Ie,Ue){let st=ue.view.Ku(Ie);st.Mi&&(st=yield SE(q.localStore,ue.query,!1).then(({documents:It})=>ue.view.Ku(It,st)));const at=Ue&&Ue.targetChanges.get(ue.targetId),Ze=ue.view.applyChanges(st,q.isPrimaryClient,at);return ZD(q,ue.targetId,Ze.zu),Ze.snapshot}),function(q,ue,Ie,Ue){return j.apply(this,arguments)})(n,S,O,V);var j};const r=yield SE(n.localStore,e,!0),a=new ok(e,r.ji),u=a.Ku(r.documents),p=Cs.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),y=a.applyChanges(u,n.isPrimaryClient,p);ZD(n,t,y.zu);const E=new ZF(e,t,a);return n.tc.set(e,E),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),y.snapshot}),UD.apply(this,arguments)}function tP(n,e){return HD.apply(this,arguments)}function HD(){return HD=(0,De.Z)(function*(n,e){const t=it(n),i=t.tc.get(e),r=t.ec.get(i.targetId);if(r.length>1)return t.ec.set(i.targetId,r.filter(a=>!Vh(a,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Fy(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),$v(t.remoteStore,i.targetId),Uy(t,i.targetId)}).catch(Io))):(Uy(t,i.targetId),yield Fy(t.localStore,i.targetId,!0))}),HD.apply(this,arguments)}function jD(){return jD=(0,De.Z)(function*(n,e,t){const i=cT(n);try{const r=yield function(a,u){const p=it(a),y=Kn.now(),E=u.reduce((V,j)=>V.add(j.key),Zt());let S,O;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let j=Xs(),q=Zt();return p.Ui.getEntries(V,E).next(ue=>{j=ue,j.forEach((Ie,Ue)=>{Ue.isValidDocument()||(q=q.add(Ie))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,j)).next(ue=>{S=ue;const Ie=[];for(const Ue of u){const st=mM(Ue,S.get(Ue.key).overlayedDocument);null!=st&&Ie.push(new Xo(Ue.key,st,eE(st.value.mapValue),si.exists(!0)))}return p.mutationQueue.addMutationBatch(V,y,Ie,u)}).next(ue=>{O=ue;const Ie=ue.applyToLocalDocumentSet(S,q);return p.documentOverlayCache.saveOverlays(V,ue.batchId,Ie)})}).then(()=>({batchId:O.batchId,changes:MI(S)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,p){let y=a.oc[a.currentUser.toKey()];y||(y=new vi(Bt)),y=y.insert(u,p),a.oc[a.currentUser.toKey()]=y}(i,r.batchId,t),yield _d(i,r.changes),yield Ny(i.remoteStore)}catch(r){const a=By(r,"Failed to persist write");t.reject(a)}}),jD.apply(this,arguments)}function ak(n,e){return zD.apply(this,arguments)}function zD(){return zD=(0,De.Z)(function*(n,e){const t=it(n);try{const i=yield EF(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.ic.get(a);u&&(Lt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Xu=!0:r.modifiedDocuments.size>0?Lt(u.Xu):r.removedDocuments.size>0&&(Lt(u.Xu),u.Xu=!1))}),yield _d(t,i,e)}catch(i){yield Io(i)}}),zD.apply(this,arguments)}function lk(n,e,t){const i=it(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.tc.forEach((a,u)=>{const p=u.view.Eu(e);p.snapshot&&r.push(p.snapshot)}),function(a,u){const p=it(a);p.onlineState=u;let y=!1;p.queries.forEach((E,S)=>{for(const O of S.listeners)O.Eu(u)&&(y=!0)}),y&&LD(p)}(i.eventManager,e),r.length&&i.Zu.Go(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function iP(n,e,t){return $D.apply(this,arguments)}function $D(){return $D=(0,De.Z)(function*(n,e,t){const i=it(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ic.get(e),a=r&&r.key;if(a){let u=new vi(et.comparator);u=u.insert(a,Hn.newNoDocument(a,Vt.min()));const p=Zt().add(a),y=new zp(Vt.min(),new Map,new vn(Bt),u,p);yield ak(i,y),i.sc=i.sc.remove(a),i.ic.delete(e),JD(i)}else yield Fy(i.localStore,e,!1).then(()=>Uy(i,e,t)).catch(Io)}),$D.apply(this,arguments)}function rP(n,e){return qD.apply(this,arguments)}function qD(){return qD=(0,De.Z)(function*(n,e){const t=it(n),i=e.batch.batchId;try{const r=yield bF(t.localStore,e);YD(t,i,null),QD(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield _d(t,r)}catch(r){yield Io(r)}}),qD.apply(this,arguments)}function sP(n,e,t){return WD.apply(this,arguments)}function WD(){return WD=(0,De.Z)(function*(n,e,t){const i=it(n);try{const r=yield function(a,u){const p=it(a);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,u).next(S=>(Lt(null!==S),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,u)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(i.localStore,e);YD(i,e,t),QD(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield _d(i,r)}catch(r){yield Io(r)}}),WD.apply(this,arguments)}function KD(){return KD=(0,De.Z)(function*(n,e){const t=it(n);qh(t.remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=it(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>u.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===i)return void e.resolve();const r=t.uc.get(i)||[];r.push(e),t.uc.set(i,r)}catch(i){const r=By(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),KD.apply(this,arguments)}function QD(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function YD(n,e,t){const i=it(n);let r=i.oc[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.oc[i.currentUser.toKey()]=r}}function Uy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ec.get(e))n.tc.delete(i),t&&n.Zu.lc(i,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(i=>{n.rc.containsKey(i)||ck(n,i)})}function ck(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&($v(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),JD(n))}function ZD(n,e,t){for(const i of t)i instanceof rk?(n.rc.addReference(i.key,e),aP(n,i)):i instanceof sk?(ze("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,e),n.rc.containsKey(i.key)||ck(n,i.key)):ut()}function aP(n,e){const t=e.key,i=t.path.canonicalString();n.sc.get(t)||n.nc.has(i)||(ze("SyncEngine","New document in limbo: "+t),n.nc.add(i),JD(n))}function JD(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new et(dn.fromString(e)),i=n.cc.next();n.ic.set(i,new JF(t)),n.sc=n.sc.insert(t,i),OE(n.remoteStore,new dc(Es(ou(t.path)),i,2,bs.ot))}}function _d(n,e,t){return XD.apply(this,arguments)}function XD(){return XD=(0,De.Z)(function*(n,e,t){const i=it(n),r=[],a=[],u=[];var p;i.tc.isEmpty()||(i.tc.forEach((p,y)=>{u.push(i.hc(y,e,t).then(E=>{if(E){i.isPrimaryClient&&i.sharedClientState.updateQueryState(y.targetId,E.fromCache?"not-current":"current"),r.push(E);const S=sD.Vi(y.targetId,E);a.push(S)}}))}),yield Promise.all(u),i.Zu.Go(r),yield(p=(0,De.Z)(function*(y,E){const S=it(y);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>he.forEach(E,V=>he.forEach(V.Pi,j=>S.persistence.referenceDelegate.addReference(O,V.targetId,j)).next(()=>he.forEach(V.vi,j=>S.persistence.referenceDelegate.removeReference(O,V.targetId,j)))))}catch(O){if(!sc(O))throw O;ze("LocalStore","Failed to update sequence numbers: "+O)}for(const O of E){const V=O.targetId;if(!O.fromCache){const j=S.$i.get(V),ue=j.withLastLimboFreeSnapshotVersion(j.snapshotVersion);S.$i=S.$i.insert(V,ue)}}}),function(y,E){return p.apply(this,arguments)})(i.localStore,a))}),XD.apply(this,arguments)}function lP(n,e){return eT.apply(this,arguments)}function eT(){return eT=(0,De.Z)(function*(n,e){const t=it(n);if(!t.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const i=yield LM(t.localStore,e);t.currentUser=e,(r=t).uc.forEach(u=>{u.forEach(p=>{p.reject(new He(Ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield _d(t,i.Ki)}var r}),eT.apply(this,arguments)}function cP(n,e){const t=it(n),i=t.ic.get(e);if(i&&i.Xu)return Zt().add(i.key);{let r=Zt();const a=t.ec.get(e);if(!a)return r;for(const u of a){const p=t.tc.get(u);r=r.unionWith(p.view.qu)}return r}}function uP(n,e){return tT.apply(this,arguments)}function tT(){return tT=(0,De.Z)(function*(n,e){const t=it(n),i=yield SE(t.localStore,e.query,!0),r=e.view.Ju(i);return t.isPrimaryClient&&ZD(t,e.targetId,r.zu),r}),tT.apply(this,arguments)}function dP(n,e){return nT.apply(this,arguments)}function nT(){return nT=(0,De.Z)(function*(n,e){const t=it(n);return UM(t.localStore,e).then(i=>_d(t,i))}),nT.apply(this,arguments)}function hP(n,e,t,i){return iT.apply(this,arguments)}function iT(){return iT=(0,De.Z)(function*(n,e,t,i){const r=it(n),a=yield function(u,p){const y=it(u),E=it(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",S=>E.yn(S,p).next(O=>O?y.localDocuments.getDocuments(S,O):he.resolve(null)))}(r.localStore,e);var p;null!==a?("pending"===t?yield Ny(r.remoteStore):"acknowledged"===t||"rejected"===t?(YD(r,e,i||null),QD(r,e),p=e,it(it(r.localStore).mutationQueue).In(p)):ut(),yield _d(r,a)):ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),iT.apply(this,arguments)}function rT(){return rT=(0,De.Z)(function*(n,e){const t=it(n);if(lT(t),cT(t),!0===e&&!0!==t.ac){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield uk(t,i.toArray());t.ac=!0,yield MD(t.remoteStore,!0);for(const a of r)OE(t.remoteStore,a)}else if(!1===e&&!1!==t.ac){const i=[];let r=Promise.resolve();t.ec.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(Uy(t,u),Fy(t.localStore,u,!0))),$v(t.remoteStore,u)}),yield r,yield uk(t,i),function(a){const u=it(a);u.ic.forEach((p,y)=>{$v(u.remoteStore,y)}),u.rc.cs(),u.ic=new Map,u.sc=new vi(et.comparator)}(t),t.ac=!1,yield MD(t.remoteStore,!1)}}),rT.apply(this,arguments)}function uk(n,e,t){return sT.apply(this,arguments)}function sT(){return sT=(0,De.Z)(function*(n,e,t){const i=it(n),r=[],a=[];for(const u of e){let p;const y=i.ec.get(u);if(y&&0!==y.length){p=yield Oy(i.localStore,Es(y[0]));for(const E of y){const S=i.tc.get(E),O=yield uP(i,S);O.snapshot&&a.push(O.snapshot)}}else{const E=yield GM(i.localStore,u);p=yield Oy(i.localStore,E),yield GD(i,dk(E),u,!1)}r.push(p)}return i.Zu.Go(a),r}),sT.apply(this,arguments)}function dk(n){return sE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function pP(n){const e=it(n);return it(it(e.localStore).persistence).Ri()}function gP(n,e,t,i){return oT.apply(this,arguments)}function oT(){return oT=(0,De.Z)(function*(n,e,t,i){const r=it(n);if(r.ac)return void ze("SyncEngine","Ignoring unexpected query state notification.");const a=r.ec.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield UM(r.localStore,hy(a[0])),p=zp.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield _d(r,u,p);break}case"rejected":yield Fy(r.localStore,e,!0),Uy(r,e,i);break;default:ut()}}),oT.apply(this,arguments)}function mP(n,e,t){return aT.apply(this,arguments)}function aT(){return aT=(0,De.Z)(function*(n,e,t){const i=lT(n);if(i.ac){for(const r of e){if(i.ec.has(r)){ze("SyncEngine","Adding an already active target "+r);continue}const a=yield GM(i.localStore,r),u=yield Oy(i.localStore,a);yield GD(i,dk(a),u.targetId,!1),OE(i.remoteStore,u)}for(const r of t)i.ec.has(r)&&(yield Fy(i.localStore,r,!1).then(()=>{$v(i.remoteStore,r),Uy(i,r)}).catch(Io))}}),aT.apply(this,arguments)}function lT(n){const e=it(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ak.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iP.bind(null,e),e.Zu.Go=WF.bind(null,e.eventManager),e.Zu.lc=KF.bind(null,e.eventManager),e}function cT(n){const e=it(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sP.bind(null,e),e}class hk{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,De.Z)(function*(){t.wt=jv(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return NM(this.persistence,new PM,e.initialUser,this.wt)}_c(e){return new OM(DE.Os,this.wt)}dc(e){return new $M}terminate(){var e=this;return(0,De.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class fk extends hk{constructor(e,t,i){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,De.Z)(function*(){yield t().call(i,e),yield i.yc.initialize(i,e),yield cT(i.yc.syncEngine),yield Ny(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return NM(this.persistence,new PM,e.initialUser,this.wt)}mc(e,t){return new aF(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const i=new qb(t,this.persistence);return new $b(e.asyncQueue,i)}_c(e){const t=rD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ke.withCacheSize(this.cacheSizeBytes):ke.DEFAULT;return new iD(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,WM(),RE(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new $M}}class _P extends fk{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,De.Z)(function*(){yield t().call(i,e);const r=i.yc.syncEngine;i.sharedClientState instanceof fD&&(i.sharedClientState.syncEngine={kr:hP.bind(null,r),Mr:gP.bind(null,r),Or:mP.bind(null,r),Ri:pP.bind(null,r),Nr:dP.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var a=(0,De.Z)(function*(u){yield function fP(n,e){return rT.apply(this,arguments)}(i.yc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}dc(e){const t=WM();if(!fD.V(t))throw new He(Ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=rD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fD(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class uT{initialize(e,t){var i=this;return(0,De.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>lk(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=lP.bind(null,i.syncEngine),yield MD(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new qF}createDatastore(e){const t=jv(e.databaseInfo.databaseId),i=new MF(e.databaseInfo);return new OF(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=p=>lk(this.syncEngine,p,0),u=qM.V()?new qM:new DF,new PF(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,p,y,E){const S=new XF(i,r,a,u,p,y);return E&&(S.ac=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,De.Z)(function*(t){const i=it(t);ze("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield Py(i),i.du.shutdown(),i._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function pk(n,e=10240){let t=0;return{read:()=>(0,De.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class PE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class AP{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new Ui,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,De.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,De.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,De.Z)(function*(){const t=yield e.bc();if(null===t)return null;const i=e.Ac.decode(t),r=Number(i);isNaN(r)&&e.Pc(`length string (${i}) is not valid number`);const a=yield e.vc(r);return new QF(JSON.parse(a),t.length+r)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,De.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}vc(e){var t=this;return(0,De.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const i=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,De.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class vP{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,De.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new He(Ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,De.Z)(function*(a,u){const p=it(a),y=Hh(p.wt)+"/documents",E={documents:u.map(j=>qp(p.wt,j))},S=yield p.ao("BatchGetDocuments",y,E,u.length),O=new Map;S.forEach(j=>{const q=function yE(n,e){return"found"in e?function(t,i){Lt(!!i.found);const r=Va(t,i.found.name),a=kn(i.found.updateTime),u=new Nr({mapValue:{fields:i.found.fields}});return Hn.newFoundDocument(r,a,u)}(n,e):"missing"in e?function(t,i){Lt(!!i.missing),Lt(!!i.readTime);const r=Va(t,i.missing),a=kn(i.readTime);return Hn.newNoDocument(r,a)}(n,e):ut()}(p.wt,j);O.set(q.key.toString(),q)});const V=[];return u.forEach(j=>{const q=O.get(j.toString());Lt(!!q),V.push(q)}),V}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new fd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,De.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=et.fromPath(r);e.mutations.push(new my(a,e.precondition(a)))}),yield(i=(0,De.Z)(function*(r,a){const u=it(r),p=Hh(u.wt)+"/documents",y={writes:a.map(E=>Wp(u.wt,E))};yield u.ro("Commit",p,y)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ut();t=Vt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new He(Ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?si.updateTime(t):si.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Vt.min()))throw new He(Ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return si.updateTime(t)}return si.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class wP{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Dc=i.maxAttempts,this.So=new pD(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,De.Z)(function*(){const t=new vP(e.datastore),i=e.xc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Nc(a)}))}).catch(r=>{e.Nc(r)})}))}xc(e){try{const t=this.updateFunction(e);return!ad(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!yv(t)}return!1}}class bP{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=hr.UNAUTHENTICATED,this.clientId=id.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,De.Z)(function*(p){ze("FirestoreClient","Received user=",p.uid),yield a.authCredentialListener(p),a.user=p});return function(p){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(ze("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,De.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new He(Ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=By(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function gk(n,e){return dT.apply(this,arguments)}function dT(){return dT=(0,De.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,De.Z)(function*(a){i.isEqual(a)||(yield LM(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),dT.apply(this,arguments)}function mk(n,e){return hT.apply(this,arguments)}function hT(){return hT=(0,De.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield fT(n);ze("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>ek(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>ek(e.remoteStore,a)),n.onlineComponents=e}),hT.apply(this,arguments)}function fT(n){return pT.apply(this,arguments)}function pT(){return pT=(0,De.Z)(function*(n){return n.offlineComponents||(ze("FirestoreClient","Using default OfflineComponentProvider"),yield gk(n,new hk)),n.offlineComponents}),pT.apply(this,arguments)}function NE(n){return gT.apply(this,arguments)}function gT(){return gT=(0,De.Z)(function*(n){return n.onlineComponents||(ze("FirestoreClient","Using default OnlineComponentProvider"),yield mk(n,new uT)),n.onlineComponents}),gT.apply(this,arguments)}function yk(n){return fT(n).then(e=>e.persistence)}function LE(n){return fT(n).then(e=>e.localStore)}function _k(n){return NE(n).then(e=>e.remoteStore)}function mT(n){return NE(n).then(e=>e.syncEngine)}function Hy(n){return yT.apply(this,arguments)}function yT(){return yT=(0,De.Z)(function*(n){const e=yield NE(n),t=e.eventManager;return t.onListen=eP.bind(null,e.syncEngine),t.onUnlisten=tP.bind(null,e.syncEngine),t}),yT.apply(this,arguments)}function Ak(n,e,t={}){const i=new Ui;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(r,a,u,p,y){const E=new PE({next:O=>{a.enqueueAndForget(()=>PD(r,S));const V=O.docs.has(u);!V&&O.fromCache?y.reject(new He(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&O.fromCache&&p&&"server"===p.source?y.reject(new He(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),S=new BD(ou(u.path),E,{includeMetadataChanges:!0,Du:!0});return OD(r,S)}(yield Hy(n),n.asyncQueue,e,t,i)})),i.promise}function vk(n,e,t={}){const i=new Ui;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(r,a,u,p,y){const E=new PE({next:O=>{a.enqueueAndForget(()=>PD(r,S)),O.fromCache&&"server"===p.source?y.reject(new He(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(O)},error:O=>y.reject(O)}),S=new BD(u,E,{includeMetadataChanges:!0,Du:!0});return OD(r,S)}(yield Hy(n),n.asyncQueue,e,t,i)})),i.promise}const wk=new Map;function _T(n,e,t){if(!t)throw new He(Ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bk(n,e,t,i){if(!0===e&&!0===i)throw new He(Ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Ek(n){if(!et.isDocumentKey(n))throw new He(Ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ck(n){if(et.isDocumentKey(n))throw new He(Ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function BE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ut()}function _n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new He(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=BE(n);throw new He(Ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function xk(n,e){if(e<=0)throw new He(Ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Ik{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new He(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new He(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,bk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qv{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ik({}),this._settingsFrozen=!1,e instanceof oc?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new He(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(r.options.projectId)}(e))}get app(){if(!this._app)throw new He(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new He(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ik(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Lb;switch(t.type){case"gapi":const i=t.client;return Lt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new Vb(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new He(Ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=wk.get(e);t&&(ze("ComponentProvider","Removing Datastore"),wk.delete(e),t.terminate())}(this),Promise.resolve()}}class fi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fi(this.firestore,e,this._key)}}class io{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new io(this.firestore,e,this._query)}}class cu extends io{constructor(e,t,i){super(e,t,ou(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fi(this.firestore,null,new et(e))}withConverter(e){return new cu(this.firestore,e,this._path)}}function Dk(n,e,...t){if(n=(0,Tt.m9)(n),_T("collection","path",e),n instanceof qv){const i=dn.fromString(e,...t);return Ck(i),new cu(n,null,i)}{if(!(n instanceof fi||n instanceof cu))throw new He(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(dn.fromString(e,...t));return Ck(i),new cu(n.firestore,null,i)}}function VE(n,e,...t){if(n=(0,Tt.m9)(n),1===arguments.length&&(e=id.I()),_T("doc","path",e),n instanceof qv){const i=dn.fromString(e,...t);return Ek(i),new fi(n,null,new et(i))}{if(!(n instanceof fi||n instanceof cu))throw new He(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(dn.fromString(e,...t));return Ek(i),new fi(n.firestore,n instanceof cu?n.converter:null,new et(i))}}function Tk(n,e){return n=(0,Tt.m9)(n),e=(0,Tt.m9)(e),(n instanceof fi||n instanceof cu)&&(e instanceof fi||e instanceof cu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Sk(n,e){return n=(0,Tt.m9)(n),e=(0,Tt.m9)(e),n instanceof io&&e instanceof io&&n.firestore===e.firestore&&Vh(n._query,e._query)&&n.converter===e.converter}class OP{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new pD(this,"async_queue_retry"),this.Kc=()=>{const t=RE();t&&ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=RE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=RE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new Ui;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}jc(){var e=this;return(0,De.Z)(function*(){if(0!==e.Oc.length){try{yield e.Oc[0](),e.Oc.shift(),e.So.reset()}catch(t){if(!sc(t))throw t;ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Oc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Mc.then(()=>(this.Lc=!0,e().catch(i=>{throw this.Bc=i,this.Lc=!1,Ri("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Mc=t,t}enqueueAfterDelay(e,t,i){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const r=RD.createAndSchedule(this,e,t,i,a=>this.Wc(a));return this.$c.push(r),r}Gc(){this.Bc&&ut()}verifyOperationInProgress(){}zc(){var e=this;return(0,De.Z)(function*(){let t;do{t=e.Mc,yield t}while(t!==e.Mc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function AT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class FP{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ui,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ei extends qv{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new OP,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Mk(this),this._firestoreClient.terminate()}}function pr(n){return n._firestoreClient||Mk(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Mk(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Rp(n._databaseId,a,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var a,p;n._firestoreClient=new bP(n._authCredentials,n._appCheckCredentials,n._queue,i)}function kk(n,e,t){const i=new Ui;return n.asyncQueue.enqueue((0,De.Z)(function*(){try{yield gk(n,t),yield mk(n,e),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(u=a).name?u.code===Ce.FAILED_PRECONDITION||u.code===Ce.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;nd("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var u})).then(()=>i.promise)}function Rk(n){if(n._initialized||n._terminated)throw new He(Ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ad{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new He(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uu(Hi.fromBase64String(e))}catch(t){throw new He(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uu(Hi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Jp{constructor(e){this._methodName=e}}class GE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new He(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new He(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}const zP=/^__.*__$/;class $P{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Xo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Up(e,this.data,t,this.fieldTransforms)}}class Ok{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Xo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Fk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class UE{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.wt=i,this.ignoreUndefinedProperties=r,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new UE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:i,na:!1});return r.sa(e),r}ia(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return zE(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(Fk(this.Zc)&&zP.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class qP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=i||jv(e)}aa(e,t,i,r=!1){return new UE({Zc:e,methodName:t,ca:i,path:hi.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Xp(n){const e=n._freezeSettings(),t=jv(n._databaseId);return new qP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HE(n,e,t,i,r,a={}){const u=n.aa(a.merge||a.mergeFields?2:0,e,t,r);ET("Data must be an object, but it was:",u,i);const p=Lk(i,u);let y,E;if(a.merge)y=new Zs(u.fieldMask),E=u.fieldTransforms;else if(a.mergeFields){const S=[];for(const O of a.mergeFields){const V=CT(e,O,t);if(!u.contains(V))throw new He(Ce.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);Vk(S,V)||S.push(V)}y=new Zs(S),E=u.fieldTransforms.filter(O=>y.covers(O.field))}else y=null,E=u.fieldTransforms;return new $P(new Nr(p),y,E)}class Wv extends Jp{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wv}}function Pk(n,e,t){return new UE({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class vT extends Jp{_toFieldTransform(e){return new Gp(e.path,new Gh)}isEqual(e){return e instanceof vT}}class WP extends Jp{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=Pk(this,e,!0),i=this.ha.map(a=>eg(a,t)),r=new ud(i);return new Gp(e.path,r)}isEqual(e){return this===e}}class KP extends Jp{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=Pk(this,e,!0),i=this.ha.map(a=>eg(a,t)),r=new dd(i);return new Gp(e.path,r)}isEqual(e){return this===e}}class QP extends Jp{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new hd(e.wt,lv(e.wt,this.la));return new Gp(e.path,t)}isEqual(e){return this===e}}function wT(n,e,t,i){const r=n.aa(1,e,t);ET("Data must be an object, but it was:",r,i);const a=[],u=Nr.empty();rd(i,(y,E)=>{const S=jE(e,y,t);E=(0,Tt.m9)(E);const O=r.ia(S);if(E instanceof Wv)a.push(S);else{const V=eg(E,O);null!=V&&(a.push(S),u.set(S,V))}});const p=new Zs(a);return new Ok(u,p,r.fieldTransforms)}function bT(n,e,t,i,r,a){const u=n.aa(1,e,t),p=[CT(e,i,t)],y=[r];if(a.length%2!=0)throw new He(Ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<a.length;V+=2)p.push(CT(e,a[V])),y.push(a[V+1]);const E=[],S=Nr.empty();for(let V=p.length-1;V>=0;--V)if(!Vk(E,p[V])){const j=p[V];let q=y[V];q=(0,Tt.m9)(q);const ue=u.ia(j);if(q instanceof Wv)E.push(j);else{const Ie=eg(q,ue);null!=Ie&&(E.push(j),S.set(j,Ie))}}const O=new Zs(E);return new Ok(S,O,u.fieldTransforms)}function Nk(n,e,t,i=!1){return eg(t,n.aa(i?4:3,e))}function eg(n,e){if(Bk(n=(0,Tt.m9)(n)))return ET("Unsupported field value:",e,n),Lk(n,e);if(n instanceof Jp)return function(t,i){if(!Fk(i.Zc))throw i.oa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let p=eg(u,i.ra(a));null==p&&(p={nullValue:"NULL_VALUE"}),r.push(p),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,Tt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return lv(i.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Kn.fromDate(t);return{timestampValue:$p(i.wt,r)}}if(t instanceof Kn){const r=new Kn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:$p(i.wt,r)}}if(t instanceof GE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof uu)return{bytesValue:fE(i.wt,t._byteString)};if(t instanceof fi){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.oa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Ev(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.oa(`Unsupported field value: ${BE(t)}`)}(n,e)}function Lk(n,e){const t={};return Kb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rd(n,(i,r)=>{const a=eg(r,e.ea(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function Bk(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Kn||n instanceof GE||n instanceof uu||n instanceof fi||n instanceof Jp)}function ET(n,e,t){if(!Bk(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=BE(t);throw e.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function CT(n,e,t){if((e=(0,Tt.m9)(e))instanceof Ad)return e._internalPath;if("string"==typeof e)return jE(n,e);throw zE("Field path arguments must be of type string or ",n,!1,void 0,t)}const YP=new RegExp("[~\\*/\\[\\]]");function jE(n,e,t){if(e.search(YP)>=0)throw zE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ad(...e.split("."))._internalPath}catch(i){throw zE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function zE(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(a||u)&&(y+=" (found",a&&(y+=` in field ${i}`),u&&(y+=` in document ${r}`),y+=")"),new He(Ce.INVALID_ARGUMENT,p+n+y)}function Vk(n,e){return n.some(t=>t.isEqual(e))}class Kv{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new fi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ZP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($E("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ZP extends Kv{data(){return super.data()}}function $E(n,e){return"string"==typeof e?jE(n,e):e instanceof Ad?e._internalPath:e._delegate._internalPath}class tg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vd extends Kv{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field($E("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Qv extends vd{data(e={}){return super.data(e)}}class Kh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new tg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Qv(this._firestore,this._userDataWriter,i.key,i,new tg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new He(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Qv(i._firestore,i._userDataWriter,u.doc.key,u.doc,new tg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const p=new Qv(i._firestore,i._userDataWriter,u.doc.key,u.doc,new tg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let y=-1,E=-1;return 0!==u.type&&(y=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),E=a.indexOf(u.doc.key)),{type:JP(u.type),doc:p,oldIndex:y,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function JP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function Gk(n,e){return n instanceof vd&&e instanceof vd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Kh&&e instanceof Kh&&n._firestore===e._firestore&&Sk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Uk(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new He(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yv{}function Qh(n,...e){for(const t of e)n=t._apply(n);return n}class XP extends Yv{constructor(e,t,i){super(),this.fa=e,this.da=t,this._a=i,this.type="where"}_apply(e){const t=Xp(e.firestore),i=function(r,a,u,p,y,E,S){let O;if(y.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new He(Ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if("in"===E||"not-in"===E){Wk(S,E);const j=[];for(const q of S)j.push(qk(p,r,q));O={arrayValue:{values:j}}}else O=qk(p,r,S)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||Wk(S,E),O=Nk(u,"where",S,"in"===E||"not-in"===E);const V=fr.create(y,E,O);return function(j,q){if(q.ht()){const Ie=Bh(j);if(null!==Ie&&!Ie.isEqual(q.field))throw new He(Ce.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ie.toString()}' and '${q.field.toString()}'`);const Ue=cy(j);null!==Ue&&Kk(0,q.field,Ue)}const ue=function(Ie,Ue){for(const st of Ie.filters)if(Ue.indexOf(st.op)>=0)return st.op;return null}(j,function(Ie){switch(Ie){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(q.op));if(null!==ue)throw new He(Ce.INVALID_ARGUMENT,ue===q.op?`Invalid query. You cannot use more than one '${q.op.toString()}' filter.`:`Invalid query. You cannot use '${q.op.toString()}' filters with '${ue.toString()}' filters.`)}(r,V),V}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new io(e.firestore,e.converter,function(r,a){const u=r.filters.concat([a]);return new lc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class tN extends Yv{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new He(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new He(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Lh(r,a);return function(p,y){if(null===cy(p)){const E=Bh(p);null!==E&&Kk(0,E,y.field)}}(i,u),u}(e._query,this.fa,this.wa);return new io(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new lc(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class Hk extends Yv{constructor(e,t,i){super(),this.type=e,this.ma=t,this.ga=i}_apply(e){return new io(e.firestore,e.converter,uy(e._query,this.ma,this.ga))}}class jk extends Yv{constructor(e,t,i){super(),this.type=e,this.ya=t,this.pa=i}_apply(e){const t=$k(e,this.type,this.ya,this.pa);return new io(e.firestore,e.converter,(r=t,new lc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class zk extends Yv{constructor(e,t,i){super(),this.type=e,this.ya=t,this.pa=i}_apply(e){const t=$k(e,this.type,this.ya,this.pa);return new io(e.firestore,e.converter,(r=t,new lc((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function $k(n,e,t,i){if(t[0]=(0,Tt.m9)(t[0]),t[0]instanceof Kv)return function(r,a,u,p,y){if(!p)throw new He(Ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const E=[];for(const S of Lp(r))if(S.field.isKeyField())E.push(su(a,p.key));else{const O=p.data.field(S.field);if(JA(O))throw new He(Ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const V=S.field.canonicalString();throw new He(Ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}E.push(O)}return new Jo(E,y)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Xp(n.firestore);return function(a,u,p,y,E,S){const O=a.explicitOrderBy;if(E.length>O.length)throw new He(Ce.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let j=0;j<E.length;j++){const q=E[j];if(O[j].field.isKeyField()){if("string"!=typeof q)throw new He(Ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof q}`);if(!Np(a)&&-1!==q.indexOf("/"))throw new He(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${q}' contains a slash.`);const ue=a.path.child(dn.fromString(q));if(!et.isDocumentKey(ue))throw new He(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${ue}' is not because it contains an odd number of segments.`);const Ie=new et(ue);V.push(su(u,Ie))}else{const ue=Nk(p,y,q);V.push(ue)}}return new Jo(V,S)}(n._query,n.firestore._databaseId,r,e,t,i)}}function qk(n,e,t){if("string"==typeof(t=(0,Tt.m9)(t))){if(""===t)throw new He(Ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Np(e)&&-1!==t.indexOf("/"))throw new He(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(dn.fromString(t));if(!et.isDocumentKey(i))throw new He(Ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return su(n,new et(i))}if(t instanceof fi)return su(n,t._key);throw new He(Ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${BE(t)}.`)}function Wk(n,e){if(!Array.isArray(n)||0===n.length)throw new He(Ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new He(Ce.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Kk(n,e,t){if(!t.isEqual(e))throw new He(Ce.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const cN={maxAttempts:5};class xT{convertValue(e,t="none"){switch(ld(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(od(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ut()}}convertObject(e,t){const i={};return rd(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new GE(wi(e.latitude),wi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Yb(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(kp(e));default:return null}}convertTimestamp(e){const t=iu(e);return new Kn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=dn.fromString(e);Lt(wE(i));const r=new oc(i.get(1),i.get(3)),a=new et(i.popFirst(5));return r.isEqual(t)||Ri(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function qE(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class uN extends xT{constructor(e){super(),this.firestore=e}convertBytes(e){return new uu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fi(this.firestore,null,t)}}class Qk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Xp(e)}set(e,t,i){this._verifyNotCommitted();const r=Yh(e,this._firestore),a=qE(r.converter,t,i),u=HE(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,si.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=Yh(e,this._firestore);let u;return u="string"==typeof(t=(0,Tt.m9)(t))||t instanceof Ad?bT(this._dataReader,"WriteBatch.update",a._key,t,i,r):wT(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,si.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Yh(e,this._firestore);return this._mutations=this._mutations.concat(new fd(t._key,si.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new He(Ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yh(n,e){if((n=(0,Tt.m9)(n)).firestore!==e)throw new He(Ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ng extends xT{constructor(e){super(),this.firestore=e}convertBytes(e){return new uu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fi(this.firestore,null,t)}}function Yk(n,e,t){n=_n(n,fi);const i=_n(n.firestore,Ei),r=qE(n.converter,e,t);return jy(i,[HE(Xp(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,si.none())])}function Zk(n,e,t,...i){n=_n(n,fi);const r=_n(n.firestore,Ei),a=Xp(r);let u;return u="string"==typeof(e=(0,Tt.m9)(e))||e instanceof Ad?bT(a,"updateDoc",n._key,e,t,i):wT(a,"updateDoc",n._key,e),jy(r,[u.toMutation(n._key,si.exists(!0))])}function Jk(n,...e){var t,i,r;n=(0,Tt.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||AT(e[u])||(a=e[u],u++);const p={includeMetadataChanges:a.includeMetadataChanges};if(AT(e[u])){const O=e[u];e[u]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[u+1]=null===(i=O.error)||void 0===i?void 0:i.bind(O),e[u+2]=null===(r=O.complete)||void 0===r?void 0:r.bind(O)}let y,E,S;if(n instanceof fi)E=_n(n.firestore,Ei),S=ou(n._key.path),y={next:O=>{e[u]&&e[u](IT(E,n,O))},error:e[u+1],complete:e[u+2]};else{const O=_n(n,io);E=_n(O.firestore,Ei),S=O._query;const V=new ng(E);y={next:j=>{e[u]&&e[u](new Kh(E,V,O,j))},error:e[u+1],complete:e[u+2]},Uk(n._query)}return function(O,V,j,q){const ue=new PE(q),Ie=new BD(V,ue,j);return O.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return OD(yield Hy(O),Ie)})),()=>{ue.Tc(),O.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return PD(yield Hy(O),Ie)}))}}(pr(E),S,p,y)}function jy(n,e){return function(t,i){const r=new Ui;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function nP(n,e,t){return jD.apply(this,arguments)}(yield mT(t),i,r)})),r.promise}(pr(n),e)}function IT(n,e,t){const i=t.docs.get(e._key),r=new ng(n);return new vd(n,r,e._key,i,new tg(t.hasPendingWrites,t.fromCache),e.converter)}class vN extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Xp(e)}get(e){const t=Yh(e,this._firestore),i=new uN(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return ut();const a=r[0];if(a.isFoundDocument())return new Kv(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new Kv(this._firestore,i,t._key,null,t.converter);throw ut()})}set(e,t,i){const r=Yh(e,this._firestore),a=qE(r.converter,t,i),u=HE(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=Yh(e,this._firestore);let u;return u="string"==typeof(t=(0,Tt.m9)(t))||t instanceof Ad?bT(this._dataReader,"Transaction.update",a._key,t,i,r):wT(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=Yh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Yh(e,this._firestore),i=new ng(this._firestore);return super.get(e).then(r=>new vd(this._firestore,i,t._key,r._document,new tg(!1,!1),t.converter))}}function DT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new He("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function eR(){if("undefined"==typeof Uint8Array)throw new He("unimplemented","Uint8Arrays are not available in this environment.")}function tR(){if(!function Qb(){return"undefined"!=typeof atob}())throw new He("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){td=Eo.SDK_VERSION,(0,Eo._registerComponent)(new kr.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),a=new Ei(r,new Bb(t.getProvider("auth-internal")),new hI(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC")),(0,Eo.registerVersion)(Fb,"3.4.14",n),(0,Eo.registerVersion)(Fb,"3.4.14","esm2017")}();class Zv{constructor(e){this._delegate=e}static fromBase64String(e){return tR(),new Zv(uu.fromBase64String(e))}static fromUint8Array(e){return eR(),new Zv(uu.fromUint8Array(e))}toBase64(){return tR(),this._delegate.toBase64()}toUint8Array(){return eR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function TT(n){return function SN(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class MN{enableIndexedDbPersistence(e,t){return function NP(n,e){Rk(n=_n(n,Ei));const t=pr(n),i=n._freezeSettings(),r=new uT;return kk(t,r,new fk(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function LP(n){Rk(n=_n(n,Ei));const e=pr(n),t=n._freezeSettings(),i=new uT;return kk(e,i,new _P(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function BP(n){if(n._initialized&&!n._terminated)throw new He(Ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ui;return n._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{yield(t=(0,De.Z)(function*(i){if(!Zo.V())return Promise.resolve();const r=i+"main";yield Zo.delete(r)}),function(i){return t.apply(this,arguments)})(rD(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class nR{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof oc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&nd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function kP(n,e,t,i={}){var r;const a=(n=_n(n,qv))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&nd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,p;if("string"==typeof i.mockUserToken)u=i.mockUserToken,p=hr.MOCK_USER;else{u=(0,Tt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new He(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new hr(y)}n._authCredentials=new cI(new Nb(u,p))}}(this._delegate,e,t,i)}enableNetwork(){return function GP(n){return function EP(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield yk(n),t=yield _k(n);return e.setNetworkEnabled(!0),function(i){const r=it(i);return r.lu.delete(0),zv(r)}(t)}))}(pr(n=_n(n,Ei)))}(this._delegate)}disableNetwork(){return function UP(n){return function CP(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const e=yield yk(n),t=yield _k(n);return e.setNetworkEnabled(!1),(i=(0,De.Z)(function*(r){const a=it(r);a.lu.add(0),yield Py(a),a._u.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(pr(n=_n(n,Ei)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,bk("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function VP(n){return function(e){const t=new Ui;return e.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function oP(n,e){return KD.apply(this,arguments)}(yield mT(e),t)})),t.promise}(pr(n=_n(n,Ei)))}(this._delegate)}onSnapshotsInSync(e){return function AN(n,e){return function DP(n,e){const t=new PE(e);return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return i=yield Hy(n),r=t,it(i).Tu.add(r),void r.next();var i,r})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return i=yield Hy(n),r=t,void it(i).Tu.delete(r);var i,r}))}}(pr(n=_n(n,Ei)),AT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new He("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new zy(this,Dk(this._delegate,e))}catch(t){throw Do(t,"collection()","Firestore.collection()")}}doc(e){try{return new Al(this,VE(this._delegate,e))}catch(t){throw Do(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new To(this,function RP(n,e){if(n=_n(n,qv),_T("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new He(Ce.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new io(n,null,(t=e,new lc(dn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Do(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function wN(n,e,t){n=_n(n,Ei);const i=Object.assign(Object.assign({},cN),t);return function(r){if(r.maxAttempts<1)throw new He(Ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function TP(n,e,t){const i=new Ui;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const r=yield(a=n,NE(a).then(u=>u.datastore));var a;new wP(n.asyncQueue,r,t,e,i).run()})),i.promise}(pr(n),r=>e(new vN(n,r)),i)}(this._delegate,t=>e(new iR(this,t)))}batch(){return pr(this._delegate),new rR(new Qk(this._delegate,e=>jy(this._delegate,e)))}loadBundle(e){return function HP(n,e){const t=pr(n=_n(n,Ei)),i=new FP;return function SP(n,e,t,i){const r=function(a,u){let p;return p="string"==typeof a?(new TextEncoder).encode(a):a,y=function(y,E){if(y instanceof Uint8Array)return pk(y,E);if(y instanceof ArrayBuffer)return pk(new Uint8Array(y),E);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new AP(y,u);var y}(t,jv(e));n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function yP(n,e,t){const i=it(n);var r;(r=(0,De.Z)(function*(a,u,p){try{const y=yield u.getMetadata();if(yield function(V,j){const q=it(V),ue=kn(j.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",Ie=>q.Ds.getBundleMetadata(Ie,j.id)).then(Ie=>!!Ie&&Ie.createTime.compareTo(ue)>=0)}(a.localStore,y))return yield u.close(),p._completeWith({taskState:"Success",documentsLoaded:(V=y).totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}),Promise.resolve(new Set);p._updateProgress(ik(y));const E=new YF(y,a.localStore,u.wt);let S=yield u.fc();for(;S;){const V=yield E.Nu(S);V&&p._updateProgress(V),S=yield u.fc()}const O=yield E.complete();return yield _d(a,O.Ou,void 0),yield function(V,j){const q=it(V);return q.persistence.runTransaction("Save bundle","readwrite",ue=>q.Ds.saveBundleMetadata(ue,j))}(a.localStore,y),p._completeWith(O.progress),Promise.resolve(O.Mu)}catch(y){return nd("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var V}),function(a,u,p){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield mT(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function jP(n,e){return function MP(n,e){return n.asyncQueue.enqueue((0,De.Z)(function*(){return function(t,i){const r=it(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ds.getNamedQuery(a,i))}(yield LE(n),e)}))}(pr(n=_n(n,Ei)),e).then(t=>t?new io(n,null,t.query):null)}(this._delegate,e).then(t=>t?new To(this,t):null)}}class WE extends xT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zv(new uu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Al.forKey(t,this.firestore,null)}}class iR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new WE(e)}get(e){const t=rg(e);return this._delegate.get(t).then(i=>new Jv(this._firestore,new vd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=rg(e);return i?(DT("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=rg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=rg(e);return this._delegate.delete(t),this}}class rR{constructor(e){this._delegate=e}set(e,t,i){const r=rg(e);return i?(DT("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=rg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=rg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ig{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Qv(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Xv(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=ig.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new ig(e,new WE(e),t),r.set(t,a)),a}}ig.INSTANCES=new WeakMap;class Al{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new WE(e)}static forPath(e,t,i){if(e.length%2!=0)throw new He("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Al(t,new fi(t._delegate,i,new et(e)))}static forKey(e,t,i){return new Al(t,new fi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new zy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new zy(this.firestore,Dk(this._delegate,e))}catch(t){throw Do(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Tt.m9)(e))instanceof fi&&Tk(this._delegate,e)}set(e,t){t=DT("DocumentReference.set",t);try{return t?Yk(this._delegate,e,t):Yk(this._delegate,e)}catch(i){throw Do(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?Zk(this._delegate,e):Zk(this._delegate,e,t,...i)}catch(r){throw Do(r,"updateDoc()","DocumentReference.update()")}}delete(){return function yN(n){return jy(_n(n.firestore,Ei),[new fd(n._key,si.none())])}(this._delegate)}onSnapshot(...e){const t=sR(e),i=oR(e,r=>new Jv(this.firestore,new vd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Jk(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function hN(n){n=_n(n,fi);const e=_n(n.firestore,Ei),t=pr(e),i=new ng(e);return function xP(n,e){const t=new Ui;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(i=(0,De.Z)(function*(r,a,u){try{const p=yield function(y,E){const S=it(y);return S.persistence.runTransaction("read document","readonly",O=>S.localDocuments.getDocument(O,E))}(r,a);p.isFoundDocument()?u.resolve(p):p.isNoDocument()?u.resolve(null):u.reject(new He(Ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=By(p,`Failed to get document '${a} from cache`);u.reject(y)}}),function(r,a,u){return i.apply(this,arguments)})(yield LE(n),e,t);var i})),t.promise}(t,n._key).then(r=>new vd(e,i,n._key,r,new tg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function fN(n){n=_n(n,fi);const e=_n(n.firestore,Ei);return Ak(pr(e),n._key,{source:"server"}).then(t=>IT(e,n,t))}(this._delegate):function dN(n){n=_n(n,fi);const e=_n(n.firestore,Ei);return Ak(pr(e),n._key).then(t=>IT(e,n,t))}(this._delegate),t.then(i=>new Jv(this.firestore,new vd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Al(this.firestore,this._delegate.withConverter(e?ig.getInstance(this.firestore,e):null))}}function Do(n,e,t){return n.message=n.message.replace(e,t),n}function sR(n){for(const e of n)if("object"==typeof e&&!TT(e))return e;return{}}function oR(n,e){var t,i;let r;return r=TT(n[0])?n[0]:TT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Jv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Al(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Gk(this._delegate,e._delegate)}}class Xv extends Jv{data(e){const t=this._delegate.data(e);return function Pb(n,e){n||ut()}(void 0!==t),t}}class To{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new WE(e)}where(e,t,i){try{return new To(this.firestore,Qh(this._delegate,function eN(n,e,t){const i=e,r=$E("where",n);return new XP(r,i,t)}(e,t,i)))}catch(r){throw Do(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new To(this.firestore,Qh(this._delegate,function nN(n,e="asc"){const t=e,i=$E("orderBy",n);return new tN(i,t)}(e,t)))}catch(i){throw Do(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new To(this.firestore,Qh(this._delegate,function iN(n){return xk("limit",n),new Hk("limit",n,"F")}(e)))}catch(t){throw Do(t,"limit()","Query.limit()")}}limitToLast(e){try{return new To(this.firestore,Qh(this._delegate,function rN(n){return xk("limitToLast",n),new Hk("limitToLast",n,"L")}(e)))}catch(t){throw Do(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new To(this.firestore,Qh(this._delegate,function sN(...n){return new jk("startAt",n,!0)}(...e)))}catch(t){throw Do(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new To(this.firestore,Qh(this._delegate,function oN(...n){return new jk("startAfter",n,!1)}(...e)))}catch(t){throw Do(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new To(this.firestore,Qh(this._delegate,function aN(...n){return new zk("endBefore",n,!1)}(...e)))}catch(t){throw Do(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new To(this.firestore,Qh(this._delegate,function lN(...n){return new zk("endAt",n,!0)}(...e)))}catch(t){throw Do(t,"endAt()","Query.endAt()")}}isEqual(e){return Sk(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function gN(n){n=_n(n,io);const e=_n(n.firestore,Ei),t=pr(e),i=new ng(e);return function IP(n,e){const t=new Ui;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(i=(0,De.Z)(function*(r,a,u){try{const p=yield SE(r,a,!0),y=new ok(a,p.ji),E=y.Ku(p.documents),S=y.applyChanges(E,!1);u.resolve(S.snapshot)}catch(p){const y=By(p,`Failed to execute query '${a} against cache`);u.reject(y)}}),function(r,a,u){return i.apply(this,arguments)})(yield LE(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Kh(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function mN(n){n=_n(n,io);const e=_n(n.firestore,Ei),t=pr(e),i=new ng(e);return vk(t,n._query,{source:"server"}).then(r=>new Kh(e,i,n,r))}(this._delegate):function pN(n){n=_n(n,io);const e=_n(n.firestore,Ei),t=pr(e),i=new ng(e);return Uk(n._query),vk(t,n._query).then(r=>new Kh(e,i,n,r))}(this._delegate),t.then(i=>new ST(this.firestore,new Kh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=sR(e),i=oR(e,r=>new ST(this.firestore,new Kh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Jk(this._delegate,t,i)}withConverter(e){return new To(this.firestore,this._delegate.withConverter(e?ig.getInstance(this.firestore,e):null))}}class RN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Xv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ST{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new To(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Xv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new RN(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Xv(this._firestore,i))})}isEqual(e){return Gk(this._delegate,e._delegate)}}class zy extends To{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Al(this.firestore,e):null}doc(e){try{return new Al(this.firestore,void 0===e?VE(this._delegate):VE(this._delegate,e))}catch(t){throw Do(t,"doc()","CollectionReference.doc()")}}add(e){return function _N(n,e){const t=_n(n.firestore,Ei),i=VE(n),r=qE(n.converter,e);return jy(t,[HE(Xp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,si.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Al(this.firestore,t))}isEqual(e){return Tk(this._delegate,e._delegate)}withConverter(e){return new zy(this.firestore,this._delegate.withConverter(e?ig.getInstance(this.firestore,e):null))}}function rg(n){return _n(n,fi)}class MT{constructor(...e){this._delegate=new Ad(...e)}static documentId(){return new MT(hi.keyField().canonicalString())}isEqual(e){return(e=(0,Tt.m9)(e))instanceof Ad&&this._delegate._internalPath.isEqual(e._internalPath)}}class sg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function EN(){return new vT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new sg(e)}static delete(){const e=function bN(){return new Wv("deleteField")}();return e._methodName="FieldValue.delete",new sg(e)}static arrayUnion(...e){const t=function CN(...n){return new WP("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new sg(t)}static arrayRemove(...e){const t=function xN(...n){return new KP("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new sg(t)}static increment(e){const t=function IN(n){return new QP("increment",n)}(e);return t._methodName="FieldValue.increment",new sg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ON={Firestore:nR,GeoPoint:GE,Timestamp:Kn,Blob:Zv,Transaction:iR,WriteBatch:rR,DocumentReference:Al,DocumentSnapshot:Jv,Query:To,QueryDocumentSnapshot:Xv,QuerySnapshot:ST,CollectionReference:zy,FieldPath:MT,FieldValue:sg,setLogLevel:function kN(n){!function lI(n){rc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function PN(n){(function FN(n,e){n.INTERNAL.registerComponent(new kr.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},ON)))})(n,(e,t)=>new nR(e,t,new MN)),n.registerVersion("@firebase/firestore-compat","0.1.23")}(Pu.Z);var $y=L(5363),aR=L(3099);function kT(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,aR.B)({connector:()=>new zn(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const lR=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var LN=L(515);function RT(n){return n<=0?()=>LN.E:(0,R.e)((e,t)=>{let i=0;e.subscribe((0,U.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function BN(n){return(0,R.e)((e,t)=>{let i=!1;e.subscribe((0,U.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function VN(n=GN){return(0,R.e)((e,t)=>{let i=!1;e.subscribe((0,U.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function GN(){return new lR}var qy=L(576);function cR(n,e){return(0,qy.m)(e)?be(()=>n,e):be(()=>n)}var OT=L(9468);const uR=new d.OlP("angularfire2.auth.use-emulator"),dR=new d.OlP("angularfire2.auth.settings"),hR=new d.OlP("angularfire2.auth.tenant-id"),fR=new d.OlP("angularfire2.auth.langugage-code"),pR=new d.OlP("angularfire2.auth.use-device-language"),gR=new d.OlP("angularfire.auth.persistence"),mR=(n,e,t,i,r,a,u,p)=>(0,ii.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),i&&(y.tenantId=i),y.languageCode=r,a&&y.useDeviceLanguage(),u)for(const[E,S]of Object.entries(u))y.settings[E]=S;return p&&y.setPersistence(p),y},[t,i,r,a,u,p]);let yR=(()=>{class n{constructor(t,i,r,a,u,p,y,E,S,O,V,j){const q=new Wr.x,ue=Un(void 0).pipe((0,$y.Q)(u.outsideAngular),be(()=>a.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,1451)))),(0,Le.U)(()=>(0,ii.on)(t,a,i)),(0,Le.U)(Ie=>mR(Ie,a,p,E,S,O,y,V)),kT({bufferSize:1,refCount:!1}));if(nr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Un(null);else{ue.pipe(function UN(n,e){const t=arguments.length>=2;return i=>i.pipe(n?tc((r,a)=>n(r,a,i)):Jf.y,RT(1),t?BN(e):VN(()=>new lR))}()).subscribe();const Ue=ue.pipe(be(Ze=>Ze.getRedirectResult().then(It=>It,()=>null)),On.iC,kT({bufferSize:1,refCount:!1})),st=ue.pipe(be(Ze=>new Ai.y(It=>({unsubscribe:a.runOutsideAngular(()=>Ze.onAuthStateChanged(Ot=>It.next(Ot),Ot=>It.error(Ot),()=>It.complete()))})))),at=ue.pipe(be(Ze=>new Ai.y(It=>({unsubscribe:a.runOutsideAngular(()=>Ze.onIdTokenChanged(Ot=>It.next(Ot),Ot=>It.error(Ot),()=>It.complete()))}))));this.authState=Ue.pipe(cR(st),(0,OT.R)(u.outsideAngular),(0,$y.Q)(u.insideAngular)),this.user=Ue.pipe(cR(at),(0,OT.R)(u.outsideAngular),(0,$y.Q)(u.insideAngular)),this.idToken=this.user.pipe(be(Ze=>Ze?(0,ui.D)(Ze.getIdToken()):Un(null))),this.idTokenResult=this.user.pipe(be(Ze=>Ze?(0,ui.D)(Ze.getIdTokenResult()):Un(null))),this.credential=(0,C.T)(Ue,q,this.authState.pipe(tc(Ze=>!Ze))).pipe((0,Le.U)(Ze=>(null==Ze?void 0:Ze.user)?Ze:null),(0,OT.R)(u.outsideAngular),(0,$y.Q)(u.insideAngular))}return(0,ii.pX)(this,ue,a,{spy:{apply:(Ie,Ue,st)=>{(Ie.startsWith("signIn")||Ie.startsWith("createUser"))&&st.then(at=>q.next(at))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ii.Dh),d.LFG(ii.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(On.HU),d.LFG(uR,8),d.LFG(dR,8),d.LFG(hR,8),d.LFG(fR,8),d.LFG(pR,8),d.LFG(gR,8),d.LFG(jf,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function _R(n,e){return function jN(n,e=Sf.z){return new Ai.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function FT(n,e){return _R(n,e).pipe((0,Le.U)(t=>({payload:t,type:"query"})))}function KE(n,e){return FT(n,e).pipe(bh(void 0),rA(),(0,Le.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,p)=>{const y=r.find(S=>S.doc.ref.isEqual(u.ref)),E=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(u.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(u.metadata)||!y&&E&&JSON.stringify(E.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:u}})}),a}))}function AR(n,e,t){return KE(n,t).pipe(Zf((i,r)=>function $N(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function qN(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return PT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return PT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return PT(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),function sA(n,e=Jf.y){return n=null!=n?n:xx,(0,R.e)((t,i)=>{let r,a=!0;t.subscribe((0,U.x)(i,u=>{const p=e(u);(a||!n(r,p))&&(a=!1,r=p,i.next(u))}))})}(),(0,Le.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function PT(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function vR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class wR{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=KE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Le.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(bh(void 0),rA(),tc(([i,r])=>r.length>0||!i),(0,Le.U)(([i,r])=>r),On.iC)}auditTrail(e){return this.stateChanges(e).pipe(Zf((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=vR(e);return AR(this.query,t,this.afs.schedulers.outsideAngular).pipe(On.iC)}valueChanges(e={}){return FT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Le.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),On.iC)}get(e){return(0,ui.D)(this.query.get(e)).pipe(On.iC)}add(e){return this.ref.add(e)}doc(e){return new bR(this.ref.doc(e),this.afs)}}class bR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=xR(i,t);return new wR(r,a,this.afs)}snapshotChanges(){return function zN(n,e){return _R(n,e).pipe(bh(void 0),rA(),(0,Le.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(On.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Le.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ui.D)(this.ref.get(e)).pipe(On.iC)}}class WN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?KE(this.query,this.afs.schedulers.outsideAngular).pipe((0,Le.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),tc(t=>t.length>0),On.iC):KE(this.query,this.afs.schedulers.outsideAngular).pipe(On.iC)}auditTrail(e){return this.stateChanges(e).pipe(Zf((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=vR(e);return AR(this.query,t,this.afs.schedulers.outsideAngular).pipe(On.iC)}valueChanges(e={}){return FT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Le.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),On.iC)}get(e){return(0,ui.D)(this.query.get(e)).pipe(On.iC)}}const ER=new d.OlP("angularfire2.enableFirestorePersistence"),CR=new d.OlP("angularfire2.firestore.persistenceSettings"),KN=new d.OlP("angularfire2.firestore.settings"),QN=new d.OlP("angularfire2.firestore.use-emulator");function xR(n,e=(t=>t)){return{query:e(n),ref:n}}let YN=(()=>{class n{constructor(t,i,r,a,u,p,y,E,S,O,V,j,q,ue,Ie,Ue,st){this.schedulers=y;const at=(0,ii.on)(t,p,i),Ze=S;O&&mR(at,p,V,q,ue,Ie,j,Ue),[this.firestore,this.persistenceEnabled$]=(0,ii.cc)(`${at.name}.firestore`,"AngularFirestore",at.name,()=>{const It=p.runOutsideAngular(()=>at.firestore());if(a&&It.settings(a),Ze&&It.useEmulator(...Ze),r&&!nr(u)){const Ot=()=>{try{return(0,ui.D)(It.enablePersistence(E||void 0).then(()=>!0,()=>!1))}catch(on){return"undefined"!=typeof console&&console.warn(on),Un(!1)}};return[It,p.runOutsideAngular(Ot)]}return[It,Un(!1)]},[a,Ze,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=xR(r,i),p=this.schedulers.ngZone.run(()=>a);return new wR(p,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new WN(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new bR(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ii.Dh),d.LFG(ii.xv,8),d.LFG(ER,8),d.LFG(KN,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(On.HU),d.LFG(CR,8),d.LFG(QN,8),d.LFG(yR,8),d.LFG(uR,8),d.LFG(dR,8),d.LFG(hR,8),d.LFG(fR,8),d.LFG(pR,8),d.LFG(gR,8),d.LFG(jf,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ZN=(()=>{class n{constructor(){$c.Z.registerVersion("angularfire",On.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:ER,useValue:!0},{provide:CR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[YN]}),n})();const TR=new d.OlP("GALLERY_CONFIG");let vL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:TR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[oo]]}),n})();class SR{}const wd="*";function MR(n,e=null){return{type:2,steps:n,options:e}}function iC(n){return{type:6,styles:n,offset:null}}function kR(n){Promise.resolve(null).then(n)}class t0{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){kR(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class RR{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?kR(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,p)=>Math.max(u,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const hn=!1;function OR(n){return new d.vHH(3e3,hn)}function o2(){return"undefined"!=typeof window&&void 0!==window.document}function LT(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Zh(n){switch(n.length){case 0:return new t0;case 1:return n[0];default:return new RR(n)}}function FR(n,e,t,i,r={},a={}){const u=[],p=[];let y=-1,E=null;if(i.forEach(S=>{const O=S.offset,V=O==y,j=V&&E||{};Object.keys(S).forEach(q=>{let ue=q,Ie=S[q];if("offset"!==q)switch(ue=e.normalizePropertyName(ue,u),Ie){case"!":Ie=r[q];break;case wd:Ie=a[q];break;default:Ie=e.normalizeStyleValue(q,ue,Ie,u)}j[ue]=Ie}),V||p.push(j),E=j,y=O}),u.length)throw function KL(n){return new d.vHH(3502,hn)}();return p}function BT(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&VT(t,"start",n)));break;case"done":n.onDone(()=>i(t&&VT(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&VT(t,"destroy",n)))}}function VT(n,e,t){const i=t.totalTime,a=GT(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function GT(n,e,t,i,r="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function Ga(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function PR(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let UT=(n,e)=>!1,NR=(n,e,t)=>[],LR=null;function HT(n){const e=n.parentNode||n.host;return e===LR?null:e}(LT()||"undefined"!=typeof Element)&&(o2()?(LR=(()=>document.documentElement)(),UT=(n,e)=>{for(;e;){if(e===n)return!0;e=HT(e)}return!1}):UT=(n,e)=>n.contains(e),NR=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let og=null,BR=!1;function VR(n){og||(og=function l2(){return"undefined"!=typeof document?document.body:null}()||{},BR=!!og.style&&"WebkitAppearance"in og.style);let e=!0;return og.style&&!function a2(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in og.style,!e&&BR&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in og.style)),e}const GR=UT,UR=NR;let HR=(()=>{class n{validateStyleProperty(t){return VR(t)}matchesElement(t,i){return!1}containsElement(t,i){return GR(t,i)}getParentElement(t){return HT(t)}query(t,i,r){return UR(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,u,p=[],y){return new t0(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),jT=(()=>{class n{}return n.NOOP=new HR,n})();const zT="ng-enter",sC="ng-leave",oC="ng-trigger",aC=".ng-trigger",zR="ng-animating",$T=".ng-animating";function ag(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:qT(parseFloat(e[1]),e[2])}function qT(n,e){return"s"===e?1e3*n:n}function lC(n,e,t){return n.hasOwnProperty("duration")?n:function d2(n,e,t){let r,a=0,u="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(OR()),{duration:0,delay:0,easing:""};r=qT(parseFloat(p[1]),p[2]);const y=p[3];null!=y&&(a=qT(parseFloat(y),p[4]));const E=p[5];E&&(u=E)}else r=n;if(!t){let p=!1,y=e.length;r<0&&(e.push(function IL(){return new d.vHH(3100,hn)}()),p=!0),a<0&&(e.push(function DL(){return new d.vHH(3101,hn)}()),p=!0),p&&e.splice(y,0,OR())}return{duration:r,delay:a,easing:u}}(n,e,t)}function Wy(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Jh(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else Wy(n,t);return t}function qR(n,e,t){return t?e+":"+t+";":""}function WR(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=qR(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=qR(0,p2(t),n.style[t]));n.setAttribute("style",e)}function du(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=KT(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),LT()&&WR(n))}function lg(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=KT(t);n.style[i]=""}),LT()&&WR(n))}function n0(n){return Array.isArray(n)?1==n.length?n[0]:MR(n):n}const WT=new RegExp("{{\\s*(.+?)\\s*}}","g");function KR(n){let e=[];if("string"==typeof n){let t;for(;t=WT.exec(n);)e.push(t[1]);WT.lastIndex=0}return e}function cC(n,e,t){const i=n.toString(),r=i.replace(WT,(a,u)=>{let p=e[u];return e.hasOwnProperty(u)||(t.push(function SL(n){return new d.vHH(3003,hn)}()),p=""),p.toString()});return r==i?n:r}function uC(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const f2=/-+([a-z0-9])/g;function KT(n){return n.replace(f2,(...e)=>e[1].toUpperCase())}function p2(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ua(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ML(n){return new d.vHH(3004,hn)}()}}function QR(n,e){return window.getComputedStyle(n)[e]}function v2(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function w2(n,e,t){if(":"==n[0]){const y=function b2(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function zL(n){return new d.vHH(3016,hn)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function jL(n){return new d.vHH(3015,hn)}()),e;const r=i[1],a=i[2],u=i[3];e.push(YR(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&e.push(YR(u,r))}(i,t,e)):t.push(n),t}const pC=new Set(["true","1"]),gC=new Set(["false","0"]);function YR(n,e){const t=pC.has(n)||gC.has(n),i=pC.has(e)||gC.has(e);return(r,a)=>{let u="*"==n||n==r,p="*"==e||e==a;return!u&&t&&"boolean"==typeof r&&(u=r?pC.has(n):gC.has(n)),!p&&i&&"boolean"==typeof a&&(p=a?pC.has(e):gC.has(e)),u&&p}}const E2=new RegExp("s*:selfs*,?","g");function QT(n,e,t,i){return new C2(n).build(e,t,i)}class C2{constructor(e){this._driver=e}build(e,t,i){const r=new D2(t);this._resetContextStyleTimingState(r);const a=Ua(this,n0(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function RL(){return new d.vHH(3006,hn)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const y=p,E=y.name;E.toString().split(/\s*,\s*/).forEach(S=>{y.name=S,a.push(this.visitState(y,t))}),y.name=E}else if(1==p.type){const y=this.visitTransition(p,t);i+=y.queryCount,r+=y.depCount,u.push(y)}else t.errors.push(function OL(){return new d.vHH(3007,hn)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(p=>{if(mC(p)){const y=p;Object.keys(y).forEach(E=>{KR(y[E]).forEach(S=>{u.hasOwnProperty(S)||a.add(S)})})}}),a.size&&(uC(a.values()),t.errors.push(function FL(n,e){return new d.vHH(3008,hn)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ua(this,n0(e.animation),t);return{type:1,matchers:v2(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:cg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ua(this,i,t)),options:cg(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(u=>{t.currentTime=i;const p=Ua(this,u,t);return r=Math.max(r,t.currentTime),p});return t.currentTime=r,{type:3,steps:a,options:cg(e.options)}}visitAnimate(e,t){const i=function S2(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return ZT(lC(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=ZT(0,0,"");return a.dynamic=!0,a.strValue=i,a}return t=t||lC(i,e),ZT(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:iC({});if(5==a.type)r=this.visitKeyframes(a,t);else{let u=e.styles,p=!1;if(!u){p=!0;const E={};i.easing&&(E.easing=i.easing),u=iC(E)}t.currentTime+=i.duration+i.delay;const y=this.visitStyle(u,t);y.isEmptyStep=p,r=y}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==wd?i.push(u):t.errors.push(function PL(n){return new d.vHH(3002,hn)}()):i.push(u)}):i.push(e.styles);let r=!1,a=null;return i.forEach(u=>{if(mC(u)){const p=u,y=p.easing;if(y&&(a=y,delete p.easing),!r)for(let E in p)if(p[E].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:a,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(p=>{if(!this._driver.validateStyleProperty(p))return delete u[p],void t.unsupportedCSSPropertiesFound.add(p);const y=t.collectedStyles[t.currentQuerySelector],E=y[p];let S=!0;E&&(a!=r&&a>=E.startTime&&r<=E.endTime&&(t.errors.push(function NL(n,e,t,i,r){return new d.vHH(3010,hn)}()),S=!1),a=E.startTime),S&&(y[p]={startTime:a,endTime:r}),t.options&&function h2(n,e,t){const i=e.params||{},r=KR(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function TL(n){return new d.vHH(3001,hn)}())})}(u[p],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function LL(){return new d.vHH(3011,hn)}()),i;let a=0;const u=[];let p=!1,y=!1,E=0;const S=e.steps.map(Ue=>{const st=this._makeStyleAst(Ue,t);let at=null!=st.offset?st.offset:function T2(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(mC(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(mC(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(st.styles),Ze=0;return null!=at&&(a++,Ze=st.offset=at),y=y||Ze<0||Ze>1,p=p||Ze<E,E=Ze,u.push(Ze),st});y&&t.errors.push(function BL(){return new d.vHH(3012,hn)}()),p&&t.errors.push(function VL(){return new d.vHH(3200,hn)}());const O=e.steps.length;let V=0;a>0&&a<O?t.errors.push(function GL(){return new d.vHH(3202,hn)}()):0==a&&(V=1/(O-1));const j=O-1,q=t.currentTime,ue=t.currentAnimateTimings,Ie=ue.duration;return S.forEach((Ue,st)=>{const at=V>0?st==j?1:V*st:u[st],Ze=at*Ie;t.currentTime=q+ue.delay+Ze,ue.duration=Ze,this._validateStyleAst(Ue,t),Ue.offset=at,i.styles.push(Ue)}),i}visitReference(e,t){return{type:8,animation:Ua(this,n0(e.animation),t),options:cg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:cg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:cg(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function x2(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(E2,"")),n=n.replace(/@\*/g,aC).replace(/@\w+/g,t=>aC+"-"+t.substr(1)).replace(/:animating/g,$T),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,Ga(t.collectedStyles,t.currentQuerySelector,{});const p=Ua(this,n0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:p,originalSelector:e.selector,options:cg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function UL(){return new d.vHH(3013,hn)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:lC(e.timings,t.errors,!0);return{type:12,animation:Ua(this,n0(e.animation),t),timings:i,options:null}}}class D2{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function mC(n){return!Array.isArray(n)&&"object"==typeof n}function cg(n){return n?(n=Wy(n)).params&&(n.params=function I2(n){return n?Wy(n):null}(n.params)):n={},n}function ZT(n,e,t){return{duration:n,delay:e,easing:t}}function JT(n,e,t,i,r,a,u=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:p}}class yC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const R2=new RegExp(":enter","g"),F2=new RegExp(":leave","g");function XT(n,e,t,i,r,a={},u={},p,y,E=[]){return(new P2).buildKeyframes(n,e,t,i,r,a,u,p,y,E)}class P2{buildKeyframes(e,t,i,r,a,u,p,y,E,S=[]){E=E||new yC;const O=new eS(e,t,E,r,a,S,[]);O.options=y,O.currentTimeline.setStyles([u],null,O.errors,y),Ua(this,i,O);const V=O.timelines.filter(j=>j.containsAnimation());if(Object.keys(p).length){let j;for(let q=V.length-1;q>=0;q--){const ue=V[q];if(ue.element===t){j=ue;break}}j&&!j.allowOnlyTimelineStyles()&&j.setStyles([p],null,O.errors,y)}return V.length?V.map(j=>j.buildKeyframes()):[JT(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const u=null!=i.duration?ag(i.duration):null,p=null!=i.delay?ag(i.delay):null;return 0!==u&&e.forEach(y=>{const E=t.appendInstructionToTimeline(y,u,p);a=Math.max(a,E.duration+E.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Ua(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=_C);const u=ag(a.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Ua(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?ag(e.options.delay):0;e.steps.forEach(u=>{const p=t.createSubContext(e.options);a&&p.delayNextStep(a),Ua(this,u,p),r=Math.max(r,p.currentTimeline.currentTime),i.push(p.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return lC(t.params?cC(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,p=t.createSubContext().currentTimeline;p.easing=i.easing,e.styles.forEach(y=>{p.forwardTime((y.offset||0)*a),p.setStyles(y.styles,y.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?ag(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=_C);let u=i;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=p.length;let y=null;p.forEach((E,S)=>{t.currentQueryIndex=S;const O=t.createSubContext(e.options,E);a&&O.delayNextStep(a),E===t.element&&(y=O.currentTimeline),Ua(this,e.animation,O),O.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,O.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),p=u*(t.currentQueryTotal-1);let y=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":y=p-y;break;case"full":y=i.currentStaggerTime}const S=t.currentTimeline;y&&S.delayNextStep(y);const O=S.currentTime;Ua(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-O+(r.startTime-i.currentTimeline.startTime)}}const _C={};class eS{constructor(e,t,i,r,a,u,p,y){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_C,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new AC(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=ag(i.duration)),null!=i.delay&&(r.delay=ag(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(p=>{(!t||!u.hasOwnProperty(p))&&(u[p]=cC(a[p],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new eS(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=_C,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},a=new N2(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,u){let p=[];if(r&&p.push(this.element),e.length>0){e=(e=e.replace(R2,"."+this._enterClassName)).replace(F2,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=i);0!==i&&(E=i<0?E.slice(E.length+i,E.length):E.slice(0,i)),p.push(...E)}return!a&&0==p.length&&u.push(function HL(n){return new d.vHH(3014,hn)}()),p}}class AC{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new AC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||wd,this._currentKeyframe[t]=wd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const a=r&&r.params||{},u=function L2(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(a=>{t[a]=wd})):Jh(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(p=>{const y=cC(u[p],a,i);this._pendingStyles[p]=y,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:wd),this._updateStyle(p,y)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((p,y)=>{const E=Jh(p,!0);Object.keys(E).forEach(S=>{const O=E[S];"!"==O?e.add(S):O==wd&&t.add(S)}),i||(E.offset=y/this.duration),r.push(E)});const a=e.size?uC(e.values()):[],u=t.size?uC(t.values()):[];if(i){const p=r[0],y=Wy(p);p.offset=0,y.offset=1,r=[p,y]}return JT(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class N2 extends AC{constructor(e,t,i,r,a,u,p=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=p,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=i+t,p=t/u,y=Jh(e[0],!1);y.offset=0,a.push(y);const E=Jh(e[0],!1);E.offset=XR(p),a.push(E);const S=e.length-1;for(let O=1;O<=S;O++){let V=Jh(e[O],!1);V.offset=XR((t+V.offset*i)/u),a.push(V)}i=u,t=0,r="",e=a}return JT(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function XR(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class tS{}class B2 extends tS{normalizePropertyName(e,t){return KT(e)}normalizeStyleValue(e,t,i,r){let a="";const u=i.toString().trim();if(V2[t]&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const p=i.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&r.push(function kL(n,e){return new d.vHH(3005,hn)}())}return u+a}}const V2=(()=>function G2(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function e1(n,e,t,i,r,a,u,p,y,E,S,O,V){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:u,timelines:p,queriedElements:y,preStyleProps:E,postStyleProps:S,totalTime:O,errors:V}}const nS={};class t1{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function U2(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],a=this._stateStyles[e],u=r?r.buildStyles(t,i):{};return a?a.buildStyles(t,i):u}build(e,t,i,r,a,u,p,y,E,S){const O=[],V=this.ast.options&&this.ast.options.params||nS,q=this.buildStyles(i,p&&p.params||nS,O),ue=y&&y.params||nS,Ie=this.buildStyles(r,ue,O),Ue=new Set,st=new Map,at=new Map,Ze="void"===r,It={params:Object.assign(Object.assign({},V),ue)},Ot=S?[]:XT(e,t,this.ast.animation,a,u,q,Ie,It,E,O);let on=0;if(Ot.forEach(Ha=>{on=Math.max(Ha.duration+Ha.delay,on)}),O.length)return e1(t,this._triggerName,i,r,Ze,q,Ie,[],[],st,at,on,O);Ot.forEach(Ha=>{const Td=Ha.element,YO=Ga(st,Td,{});Ha.preStyleProps.forEach(pg=>YO[pg]=!0);const f0=Ga(at,Td,{});Ha.postStyleProps.forEach(pg=>f0[pg]=!0),Td!==t&&Ue.add(Td)});const Zi=uC(Ue.values());return e1(t,this._triggerName,i,r,Ze,q,Ie,Ot,Zi,st,at,on)}}class H2{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=Wy(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!=u&&(r[a]=u)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const u=a;Object.keys(u).forEach(p=>{let y=u[p];y.length>1&&(y=cC(y,r,t));const E=this.normalizer.normalizePropertyName(p,t);y=this.normalizer.normalizeStyleValue(p,E,y,t),i[E]=y})}}),i}}class z2{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new H2(r.style,r.options&&r.options.params||{},i)}),n1(this.states,"true","1"),n1(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new t1(e,r,this.states))}),this.fallbackTransition=function $2(n,e,t){return new t1(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function n1(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const q2=new yC;class W2{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],a=QT(this._driver,t,i,[]);if(i.length)throw function QL(n){return new d.vHH(3503,hn)}();this._animations[e]=a}_buildPlayer(e,t,i){const r=e.element,a=FR(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations[e];let u;const p=new Map;if(a?(u=XT(this._driver,t,a,zT,sC,{},{},i,q2,r),u.forEach(S=>{const O=Ga(p,S.element,{});S.postStyleProps.forEach(V=>O[V]=null)})):(r.push(function YL(){return new d.vHH(3300,hn)}()),u=[]),r.length)throw function ZL(n){return new d.vHH(3504,hn)}();p.forEach((S,O)=>{Object.keys(S).forEach(V=>{S[V]=this._driver.computeStyle(O,V,wd)})});const E=Zh(u.map(S=>{const O=p.get(S.element);return this._buildPlayer(S,{},O)}));return this._playersById[e]=E,E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function JL(n){return new d.vHH(3301,hn)}();return t}listen(e,t,i,r){const a=GT(t,"","","");return BT(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const r1="ng-animate-queued",iS="ng-animate-disabled",J2=[],s1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},X2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vl="__ng_removed";class rS{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function iB(n){return null!=n?n:null}(i?e.value:e),i){const a=Wy(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const r0="void",sS=new rS(r0);class eB{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,wl(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function XL(n,e){return new d.vHH(3302,hn)}();if(null==i||0==i.length)throw function e2(n){return new d.vHH(3303,hn)}();if(!function rB(n){return"start"==n||"done"==n}(i))throw function t2(n,e){return new d.vHH(3400,hn)}();const a=Ga(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};a.push(u);const p=Ga(this._engine.statesByElement,e,{});return p.hasOwnProperty(t)||(wl(e,oC),wl(e,oC+"-"+t),p[t]=sS),()=>{this._engine.afterFlush(()=>{const y=a.indexOf(u);y>=0&&a.splice(y,1),this._triggers[t]||delete p[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function n2(n){return new d.vHH(3401,hn)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),u=new oS(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(wl(e,oC),wl(e,oC+"-"+t),this._engine.statesByElement.set(e,p={}));let y=p[t];const E=new rS(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&y&&E.absorbOptions(y.options),p[t]=E,y||(y=sS),E.value!==r0&&y.value===E.value){if(!function aB(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(y.params,E.params)){const ue=[],Ie=a.matchStyles(y.value,y.params,ue),Ue=a.matchStyles(E.value,E.params,ue);ue.length?this._engine.reportError(ue):this._engine.afterFlush(()=>{lg(e,Ie),du(e,Ue)})}return}const V=Ga(this._engine.playersByElement,e,[]);V.forEach(ue=>{ue.namespaceId==this.id&&ue.triggerName==t&&ue.queued&&ue.destroy()});let j=a.matchTransition(y.value,E.value,e,E.params),q=!1;if(!j){if(!r)return;j=a.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:j,fromState:y,toState:E,player:u,isFallbackTransition:q}),q||(wl(e,r1),u.onStart(()=>{Ky(e,r1)})),u.onDone(()=>{let ue=this.players.indexOf(u);ue>=0&&this.players.splice(ue,1);const Ie=this._engine.playersByElement.get(e);if(Ie){let Ue=Ie.indexOf(u);Ue>=0&&Ie.splice(Ue,1)}}),this.players.push(u),V.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,aC,!0);i.forEach(r=>{if(r[vl])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const p=[];if(Object.keys(a).forEach(y=>{if(u.set(y,a[y].value),this._triggers[y]){const E=this.trigger(e,y,r0,r);E&&p.push(E)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Zh(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const y=this._triggers[u].fallbackTransition,E=i[u]||sS,S=new rS(r0),O=new oS(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:y,fromState:E,toState:S,player:O,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[vl];(!a||a===s1)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){wl(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(p=>{if(p.name==i.triggerName){const y=GT(a,i.triggerName,i.fromState.value,i.toState.value);y._data=e,BT(i.player,p.phase,y,p.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class tB{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new eB(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,a=i.length-1;if(a>=0){let u=!1;if(void 0!==this.driver.getParentElement){let p=this.driver.getParentElement(t);for(;p;){const y=r.get(p);if(y){const E=i.indexOf(y);i.splice(E+1,0,e),u=!0;break}p=this.driver.getParentElement(p)}}else for(let p=a;p>=0;p--)if(this.driver.containsElement(i[p].hostElement,t)){i.splice(p+1,0,e),u=!0;break}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let a=0;a<r.length;a++){const u=i[r[a]].namespaceId;if(u){const p=this._fetchNamespace(u);p&&t.add(p)}}}return t}trigger(e,t,i,r){if(vC(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!vC(t))return;const a=t[vl];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wl(e,iS)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ky(e,iS))}removeNode(e,t,i,r){if(vC(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[vl]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return vC(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,aC,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,$T,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Zh(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[vl];if(i&&i.setForRemoval){if(e[vl]=s1,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(iS))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)wl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Zh(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function r2(n){return new d.vHH(3402,hn)}()}_flushAnimations(e,t){const i=new yC,r=[],a=new Map,u=[],p=new Map,y=new Map,E=new Map,S=new Set;this.disabledNodes.forEach(wt=>{S.add(wt);const Nt=this.driver.query(wt,".ng-animate-queued",!0);for(let Ut=0;Ut<Nt.length;Ut++)S.add(Nt[Ut])});const O=this.bodyNode,V=Array.from(this.statesByElement.keys()),j=l1(V,this.collectedEnterElements),q=new Map;let ue=0;j.forEach((wt,Nt)=>{const Ut=zT+ue++;q.set(Nt,Ut),wt.forEach(bn=>wl(bn,Ut))});const Ie=[],Ue=new Set,st=new Set;for(let wt=0;wt<this.collectedLeaveElements.length;wt++){const Nt=this.collectedLeaveElements[wt],Ut=Nt[vl];Ut&&Ut.setForRemoval&&(Ie.push(Nt),Ue.add(Nt),Ut.hasAnimation?this.driver.query(Nt,".ng-star-inserted",!0).forEach(bn=>Ue.add(bn)):st.add(Nt))}const at=new Map,Ze=l1(V,Array.from(Ue));Ze.forEach((wt,Nt)=>{const Ut=sC+ue++;at.set(Nt,Ut),wt.forEach(bn=>wl(bn,Ut))}),e.push(()=>{j.forEach((wt,Nt)=>{const Ut=q.get(Nt);wt.forEach(bn=>Ky(bn,Ut))}),Ze.forEach((wt,Nt)=>{const Ut=at.get(Nt);wt.forEach(bn=>Ky(bn,Ut))}),Ie.forEach(wt=>{this.processLeaveNode(wt)})});const It=[],Ot=[];for(let wt=this._namespaceList.length-1;wt>=0;wt--)this._namespaceList[wt].drainQueuedTransitions(t).forEach(Ut=>{const bn=Ut.player,ss=Ut.element;if(It.push(bn),this.collectedEnterElements.length){const So=ss[vl];if(So&&So.setForMove){if(So.previousTriggersValues&&So.previousTriggersValues.has(Ut.triggerName)){const gg=So.previousTriggersValues.get(Ut.triggerName),rf=this.statesByElement.get(Ut.element);rf&&rf[Ut.triggerName]&&(rf[Ut.triggerName].value=gg)}return void bn.destroy()}}const hu=!O||!this.driver.containsElement(O,ss),ja=at.get(ss),nf=q.get(ss),Fi=this._buildInstruction(Ut,i,nf,ja,hu);if(Fi.errors&&Fi.errors.length)return void Ot.push(Fi);if(hu)return bn.onStart(()=>lg(ss,Fi.fromStyles)),bn.onDestroy(()=>du(ss,Fi.toStyles)),void r.push(bn);if(Ut.isFallbackTransition)return bn.onStart(()=>lg(ss,Fi.fromStyles)),bn.onDestroy(()=>du(ss,Fi.toStyles)),void r.push(bn);const XO=[];Fi.timelines.forEach(So=>{So.stretchStartingKeyframe=!0,this.disabledNodes.has(So.element)||XO.push(So)}),Fi.timelines=XO,i.append(ss,Fi.timelines),u.push({instruction:Fi,player:bn,element:ss}),Fi.queriedElements.forEach(So=>Ga(p,So,[]).push(bn)),Fi.preStyleProps.forEach((So,gg)=>{const rf=Object.keys(So);if(rf.length){let mg=y.get(gg);mg||y.set(gg,mg=new Set),rf.forEach(RS=>mg.add(RS))}}),Fi.postStyleProps.forEach((So,gg)=>{const rf=Object.keys(So);let mg=E.get(gg);mg||E.set(gg,mg=new Set),rf.forEach(RS=>mg.add(RS))})});if(Ot.length){const wt=[];Ot.forEach(Nt=>{wt.push(function s2(n,e){return new d.vHH(3505,hn)}())}),It.forEach(Nt=>Nt.destroy()),this.reportError(wt)}const on=new Map,Zi=new Map;u.forEach(wt=>{const Nt=wt.element;i.has(Nt)&&(Zi.set(Nt,Nt),this._beforeAnimationBuild(wt.player.namespaceId,wt.instruction,on))}),r.forEach(wt=>{const Nt=wt.element;this._getPreviousPlayers(Nt,!1,wt.namespaceId,wt.triggerName,null).forEach(bn=>{Ga(on,Nt,[]).push(bn),bn.destroy()})});const Ha=Ie.filter(wt=>u1(wt,y,E)),Td=new Map;a1(Td,this.driver,st,E,wd).forEach(wt=>{u1(wt,y,E)&&Ha.push(wt)});const f0=new Map;j.forEach((wt,Nt)=>{a1(f0,this.driver,new Set(wt),y,"!")}),Ha.forEach(wt=>{const Nt=Td.get(wt),Ut=f0.get(wt);Td.set(wt,Object.assign(Object.assign({},Nt),Ut))});const pg=[],ZO=[],JO={};u.forEach(wt=>{const{element:Nt,player:Ut,instruction:bn}=wt;if(i.has(Nt)){if(S.has(Nt))return Ut.onDestroy(()=>du(Nt,bn.toStyles)),Ut.disabled=!0,Ut.overrideTotalTime(bn.totalTime),void r.push(Ut);let ss=JO;if(Zi.size>1){let ja=Nt;const nf=[];for(;ja=ja.parentNode;){const Fi=Zi.get(ja);if(Fi){ss=Fi;break}nf.push(ja)}nf.forEach(Fi=>Zi.set(Fi,ss))}const hu=this._buildAnimation(Ut.namespaceId,bn,on,a,f0,Td);if(Ut.setRealPlayer(hu),ss===JO)pg.push(Ut);else{const ja=this.playersByElement.get(ss);ja&&ja.length&&(Ut.parentPlayer=Zh(ja)),r.push(Ut)}}else lg(Nt,bn.fromStyles),Ut.onDestroy(()=>du(Nt,bn.toStyles)),ZO.push(Ut),S.has(Nt)&&r.push(Ut)}),ZO.forEach(wt=>{const Nt=a.get(wt.element);if(Nt&&Nt.length){const Ut=Zh(Nt);wt.setRealPlayer(Ut)}}),r.forEach(wt=>{wt.parentPlayer?wt.syncPlayerEvents(wt.parentPlayer):wt.destroy()});for(let wt=0;wt<Ie.length;wt++){const Nt=Ie[wt],Ut=Nt[vl];if(Ky(Nt,sC),Ut&&Ut.hasAnimation)continue;let bn=[];if(p.size){let hu=p.get(Nt);hu&&hu.length&&bn.push(...hu);let ja=this.driver.query(Nt,$T,!0);for(let nf=0;nf<ja.length;nf++){let Fi=p.get(ja[nf]);Fi&&Fi.length&&bn.push(...Fi)}}const ss=bn.filter(hu=>!hu.destroyed);ss.length?sB(this,Nt,ss):this.processLeaveNode(Nt)}return Ie.length=0,pg.forEach(wt=>{this.players.push(wt),wt.onDone(()=>{wt.destroy();const Nt=this.players.indexOf(wt);this.players.splice(Nt,1)}),wt.play()}),pg}elementContainsData(e,t){let i=!1;const r=t[vl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let u=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(u=p)}else{const p=this.playersByElement.get(e);if(p){const y=!a||a==r0;p.forEach(E=>{E.queued||!y&&E.triggerName!=r||u.push(E)})}}return(i||r)&&(u=u.filter(p=>!(i&&i!=p.namespaceId||r&&r!=p.triggerName))),u}_beforeAnimationBuild(e,t,i){const a=t.element,u=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const E=y.element,S=E!==a,O=Ga(i,E,[]);this._getPreviousPlayers(E,S,u,p,t.toState).forEach(j=>{const q=j.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),j.destroy(),O.push(j)})}lg(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,u){const p=t.triggerName,y=t.element,E=[],S=new Set,O=new Set,V=t.timelines.map(q=>{const ue=q.element;S.add(ue);const Ie=ue[vl];if(Ie&&Ie.removedBeforeQueried)return new t0(q.duration,q.delay);const Ue=ue!==y,st=function oB(n){const e=[];return c1(n,e),e}((i.get(ue)||J2).map(on=>on.getRealPlayer())).filter(on=>!!on.element&&on.element===ue),at=a.get(ue),Ze=u.get(ue),It=FR(0,this._normalizer,0,q.keyframes,at,Ze),Ot=this._buildPlayer(q,It,st);if(q.subTimeline&&r&&O.add(ue),Ue){const on=new oS(e,p,ue);on.setRealPlayer(Ot),E.push(on)}return Ot});E.forEach(q=>{Ga(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function nB(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,q.element,q))}),S.forEach(q=>wl(q,zR));const j=Zh(V);return j.onDestroy(()=>{S.forEach(q=>Ky(q,zR)),du(y,t.toStyles)}),O.forEach(q=>{Ga(r,q,[]).push(j)}),j}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new t0(e.duration,e.delay)}}class oS{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new t0,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>BT(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ga(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function vC(n){return n&&1===n.nodeType}function o1(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function a1(n,e,t,i,r){const a=[];t.forEach(y=>a.push(o1(y)));const u=[];i.forEach((y,E)=>{const S={};y.forEach(O=>{const V=S[O]=e.computeStyle(E,O,r);(!V||0==V.length)&&(E[vl]=X2,u.push(E))}),n.set(E,S)});let p=0;return t.forEach(y=>o1(y,a[p++])),u}function l1(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const r=new Set(e),a=new Map;function u(p){if(!p)return 1;let y=a.get(p);if(y)return y;const E=p.parentNode;return y=t.has(E)?E:r.has(E)?1:u(E),a.set(p,y),y}return e.forEach(p=>{const y=u(p);1!==y&&t.get(y).push(p)}),t}function wl(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Ky(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function sB(n,e,t){Zh(t).onDone(()=>n.processLeaveNode(e))}function c1(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof RR?c1(i.players,e):e.push(i)}}function u1(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class wC{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new tB(e,t,i),this._timelineEngine=new W2(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const u=e+"-"+r;let p=this._triggerCache[u];if(!p){const y=[],S=QT(this._driver,a,y,[]);if(y.length)throw function WL(n,e){return new d.vHH(3404,hn)}();p=function j2(n,e,t){return new z2(n,e,t)}(r,S,this._normalizer),this._triggerCache[u]=p}this._transitionEngine.registerTrigger(t,r,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,u]=PR(i);this._timelineEngine.command(a,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[u,p]=PR(i);return this._timelineEngine.listen(u,t,p,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let cB=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&du(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(du(this._element,this._initialStyles),this._endStyles&&(du(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(lg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(lg(this._element,this._endStyles),this._endStyles=null),du(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function aS(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];uB(r)&&(e=e||{},e[r]=n[r])}return e}function uB(n){return"display"===n||"position"===n}class d1{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:QR(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class dB{validateStyleProperty(e){return VR(e)}matchesElement(e,t){return!1}containsElement(e,t){return GR(e,t)}getParentElement(e){return HT(e)}query(e,t,i){return UR(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,u=[]){const y={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(y.easing=a);const E={},S=u.filter(V=>V instanceof d1);(function g2(n,e){return 0===n||0===e})(i,r)&&S.forEach(V=>{let j=V.currentSnapshot;Object.keys(j).forEach(q=>E[q]=j[q])}),t=function m2(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let a=e[0],u=[];if(i.forEach(p=>{a.hasOwnProperty(p)||u.push(p),a[p]=t[p]}),u.length)for(var r=1;r<e.length;r++){let p=e[r];u.forEach(function(y){p[y]=QR(n,y)})}}return e}(e,t=t.map(V=>Jh(V,!1)),E);const O=function lB(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=aS(e[0]),e.length>1&&(i=aS(e[e.length-1]))):e&&(t=aS(e)),t||i?new cB(n,t,i):null}(e,t);return new d1(e,t,y,O)}}let hB=(()=>{class n extends SR{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?MR(t):t;return h1(this._renderer,null,i,"register",[r]),new fB(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class fB extends class wL{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new pB(this._id,e,t||{},this._renderer)}}class pB{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return h1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function h1(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const f1="@.disabled";let gB=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const p=null==u?void 0:u.parentNode(a);p&&u.removeChild(p,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let S=this._rendererCache.get(a);return S||(S=new p1("",a,this.engine),this._rendererCache.set(a,S)),S}const u=i.id,p=i.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const y=S=>{Array.isArray(S)?S.forEach(y):this.engine.registerTrigger(u,p,t,S.name,S)};return i.data.animation.forEach(y),new mB(this,p,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,p]=a;u(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(wC),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class p1{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==f1?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class mB extends p1{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==f1?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function yB(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),u="";return"@"!=a.charAt(0)&&([a,u]=function _B(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,p=>{this.factory.scheduleListenerCallback(p._data||-1,i,p)})}return this.delegate.listen(e,t,i)}}let AB=(()=>{class n extends wC{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(de),d.LFG(jT),d.LFG(tS))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const g1=new d.OlP("AnimationModuleType"),m1=[{provide:SR,useClass:hB},{provide:tS,useFactory:function vB(){return new B2}},{provide:wC,useClass:AB},{provide:d.FYo,useFactory:function wB(n,e,t){return new gB(n,e,t)},deps:[wn,wC,d.R0b]}],y1=[{provide:jT,useFactory:()=>new dB},{provide:g1,useValue:"BrowserAnimations"},...m1],bB=[{provide:jT,useClass:HR},{provide:g1,useValue:"NoopAnimations"},...m1];let _1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?bB:y1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:y1,imports:[po]}),n})(),NB=(()=>{class n{static forRoot(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[oo]]}),n})();L(8505);const GB={provide:d.tb,useFactory:function VB(n,e){return()=>{if(Sn(e)){const t=Array.from(n.querySelectorAll(`[class*=${C1}]`)),i=/\bflex-layout-.+?\b/g;t.forEach(r=>{r.classList.contains(`${C1}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[de,d.Lbi],multi:!0},C1="flex-layout-";let cS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[GB]}),n})();const uS={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},fc=new d.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>uS}),Qy=new d.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),dS=new d.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});L(5032);let z1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[cS]]}),n})(),gS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),Q1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[cS,gS]]}),n})(),iO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[cS]]}),n})(),tH=(()=>{class n{constructor(t,i){nr(i)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,i=[]){return{ngModule:n,providers:t.serverLoaded?[{provide:fc,useValue:Object.assign(Object.assign({},uS),t)},{provide:dS,useValue:i,multi:!0},{provide:Qy,useValue:!0}]:[{provide:fc,useValue:Object.assign(Object.assign({},uS),t)},{provide:dS,useValue:i,multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Qy),d.LFG(d.Lbi))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Q1,z1,iO],Q1,z1,iO]}),n})();L(3922);var nH=L(5226),l0=L.n(nH),mS=L(5577);class rO{}class sO{}class Id{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Id?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Id;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Id?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(p=>-1===a.indexOf(p)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class rH{encodeKey(e){return oO(e)}encodeValue(e){return oO(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const oH=/%(\d[a-f0-9])/gi,aH={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function oO(n){return encodeURIComponent(n).replace(oH,(e,t)=>{var i;return null!==(i=aH[t])&&void 0!==i?i:e})}function aO(n){return`${n}`}class ef{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new rH,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function sH(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,p]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],y=t.get(u)||[];y.push(p),t.set(u,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ef({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(aO(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(aO(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class lH{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function lO(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function cO(n){return"undefined"!=typeof Blob&&n instanceof Blob}function uO(n){return"undefined"!=typeof FormData&&n instanceof FormData}class c0{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function cH(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Id),this.context||(this.context=new lH),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const p=t.indexOf("?");this.urlWithParams=t+(-1===p?"?":p<t.length-1?"&":"")+u}}else this.params=new ef,this.urlWithParams=t}serializeBody(){return null===this.body?null:lO(this.body)||cO(this.body)||uO(this.body)||function uH(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ef?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||uO(this.body)?null:cO(this.body)?this.body.type||null:lO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ef?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,a=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,p=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,y=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let E=e.headers||this.headers,S=e.params||this.params;const O=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(E=Object.keys(e.setHeaders).reduce((V,j)=>V.set(j,e.setHeaders[j]),E)),e.setParams&&(S=Object.keys(e.setParams).reduce((V,j)=>V.set(j,e.setParams[j]),S)),new c0(i,r,u,{params:S,headers:E,context:O,reportProgress:y,responseType:a,withCredentials:p})}}var gr=(()=>((gr=gr||{})[gr.Sent=0]="Sent",gr[gr.UploadProgress=1]="UploadProgress",gr[gr.ResponseHeader=2]="ResponseHeader",gr[gr.DownloadProgress=3]="DownloadProgress",gr[gr.Response=4]="Response",gr[gr.User=5]="User",gr))();class yS{constructor(e,t=200,i="OK"){this.headers=e.headers||new Id,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class _S extends yS{constructor(e={}){super(e),this.type=gr.ResponseHeader}clone(e={}){return new _S({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class IC extends yS{constructor(e={}){super(e),this.type=gr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new IC({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class dO extends yS{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function AS(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let DC=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof c0)a=t;else{let y,E;y=r.headers instanceof Id?r.headers:new Id(r.headers),r.params&&(E=r.params instanceof ef?r.params:new ef({fromObject:r.params})),a=new c0(t,i,void 0!==r.body?r.body:null,{headers:y,context:r.context,params:E,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=Un(a).pipe(function iH(n,e){return(0,qy.m)(e)?(0,mS.z)(n,e,1):(0,mS.z)(n,1)}(y=>this.handler.handle(y)));if(t instanceof c0||"events"===r.observe)return u;const p=u.pipe(tc(y=>y instanceof IC));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return p.pipe((0,Le.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return p.pipe((0,Le.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return p.pipe((0,Le.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return p.pipe((0,Le.U)(y=>y.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new ef).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,AS(r,i))}post(t,i,r={}){return this.request("POST",t,AS(r,i))}put(t,i,r={}){return this.request("PUT",t,AS(r,i))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(rO))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class hO{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const fO=new d.OlP("HTTP_INTERCEPTORS");let dH=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const hH=/^\)\]\}',?\n/;let pO=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ai.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((j,q)=>r.setRequestHeader(j,q.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const j=t.detectContentTypeHeader();null!==j&&r.setRequestHeader("Content-Type",j)}if(t.responseType){const j=t.responseType.toLowerCase();r.responseType="json"!==j?j:"text"}const a=t.serializeBody();let u=null;const p=()=>{if(null!==u)return u;const j=r.statusText||"OK",q=new Id(r.getAllResponseHeaders()),ue=function fH(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return u=new _S({headers:q,status:r.status,statusText:j,url:ue}),u},y=()=>{let{headers:j,status:q,statusText:ue,url:Ie}=p(),Ue=null;204!==q&&(Ue=void 0===r.response?r.responseText:r.response),0===q&&(q=Ue?200:0);let st=q>=200&&q<300;if("json"===t.responseType&&"string"==typeof Ue){const at=Ue;Ue=Ue.replace(hH,"");try{Ue=""!==Ue?JSON.parse(Ue):null}catch(Ze){Ue=at,st&&(st=!1,Ue={error:Ze,text:Ue})}}st?(i.next(new IC({body:Ue,headers:j,status:q,statusText:ue,url:Ie||void 0})),i.complete()):i.error(new dO({error:Ue,headers:j,status:q,statusText:ue,url:Ie||void 0}))},E=j=>{const{url:q}=p(),ue=new dO({error:j,status:r.status||0,statusText:r.statusText||"Unknown Error",url:q||void 0});i.error(ue)};let S=!1;const O=j=>{S||(i.next(p()),S=!0);let q={type:gr.DownloadProgress,loaded:j.loaded};j.lengthComputable&&(q.total=j.total),"text"===t.responseType&&!!r.responseText&&(q.partialText=r.responseText),i.next(q)},V=j=>{let q={type:gr.UploadProgress,loaded:j.loaded};j.lengthComputable&&(q.total=j.total),i.next(q)};return r.addEventListener("load",y),r.addEventListener("error",E),r.addEventListener("timeout",E),r.addEventListener("abort",E),t.reportProgress&&(r.addEventListener("progress",O),null!==a&&r.upload&&r.upload.addEventListener("progress",V)),r.send(a),i.next({type:gr.Sent}),()=>{r.removeEventListener("error",E),r.removeEventListener("abort",E),r.removeEventListener("load",y),r.removeEventListener("timeout",E),t.reportProgress&&(r.removeEventListener("progress",O),null!==a&&r.upload&&r.upload.removeEventListener("progress",V)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(un))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const vS=new d.OlP("XSRF_COOKIE_NAME"),wS=new d.OlP("XSRF_HEADER_NAME");class gO{}let pH=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ro(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(de),d.LFG(d.Lbi),d.LFG(vS))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),bS=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(gO),d.LFG(wS))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),gH=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(fO,[]);this.chain=i.reduceRight((r,a)=>new hO(r,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(sO),d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),mH=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:bS,useClass:dH}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:vS,useValue:t.cookieName}:[],t.headerName?{provide:wS,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[bS,{provide:fO,useExisting:bS,multi:!0},{provide:gO,useClass:pH},{provide:vS,useValue:"XSRF-TOKEN"},{provide:wS,useValue:"X-XSRF-TOKEN"}]}),n})(),yH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[DC,{provide:rO,useClass:gH},pO,{provide:sO,useExisting:pO}],imports:[[mH.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();function _H(n,e){if(1&n&&(d.TgZ(0,"option",25),d._uU(1),d.qZA()),2&n){const t=e.$implicit;d.Q6J("value",t),d.xp6(1),d.hij(" ",t," ")}}let mO=(()=>{class n{constructor(t,i,r){this.fb=t,this._http=i,this.doms=r,this.to="geniustechdevelopment@gmail.com",this.server="https://emailsp.herokuapp.com/email",this.img="",this.estilo="",this.emailcolor="",this.formulario=this.formInit()}get services(){return this.internalservice}set services(t){if("string"==typeof t){console.log(t);const i=t.split(",");this.internalservice=i}else this.internalservice=t}formInit(){return this.fb.group({nombre:["",xr.required],lastname:["",xr.required],email:["",xr.required],asunto:["New service request",xr.required],phone:["",xr.required],address:["",xr.required],service:["",xr.required],mensaje:["no extras",xr.required],temail:[!1,xr.required],tphone:[!1,xr.required]})}ngOnInit(){}guardarDatosCliente(){var t=this;if(this.formulario.invalid)return void l0().fire({title:"Form incomplete",text:"Please enter all the required information to proceed",icon:"error"});console.log(this.formulario.value);const a=this.formulario.controls.nombre.value,u=this.formulario.controls.lastname.value,j={toEmail:this.to,nombre:a,lastname:u,email:this.formulario.controls.email.value,asunto:`${this.formulario.controls.asunto.value} from ${a} ${u}`,phone:this.formulario.controls.phone.value,address:this.formulario.controls.address.value,service:this.formulario.controls.service.value,mensaje:this.formulario.controls.mensaje.value,img:this.img,color:this.emailcolor,waytocontact:`${this.formulario.controls.tphone.value?"Phone":""}  ${this.formulario.controls.temail.value?"Email":""}`};var q;console.log(j),this.formulario.reset({nombre:"",lastname:"",email:"",asunto:"New service request",phone:"",address:"",service:"",mensaje:"no extras",temail:!1,tphone:!1}),l0().fire({title:"Send request",showCancelButton:!0,confirmButtonText:"Send it",showLoaderOnConfirm:!0,preConfirm:(q=(0,De.Z)(function*(ue){try{return yield t._http.post(t.server,j).toPromise()}catch(Ie){return void l0().fire({title:"Error",text:`Failed to send request ${Ie}`,icon:"error"})}}),function(Ie){return q.apply(this,arguments)}),allowOutsideClick:()=>!l0().isLoading()}).then(q=>{q.isConfirmed&&l0().fire({title:"The request have been send"})})}safeCss(){return this.doms.bypassSecurityTrustStyle(this.estilo)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Tf),d.Y36(DC),d.Y36(Er))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-form"]],inputs:{to:"to",server:"server",img:"img",estilo:"estilo",emailcolor:"emailcolor",services:"services"},decls:32,vars:4,consts:[[1,"formContent"],[1,"formContent__container"],[3,"formGroup","ngSubmit"],[1,"formContent__nameContent"],["type","text","formControlName","nombre","placeholder","Name","autofocus","",1,"formContent__name","form-control"],["type","text","formControlName","lastname","placeholder","Last Name",1,"formContent__lastName","form-control"],[1,"formContent__emailPhone"],["type","text","formControlName","email","placeholder","Email",1,"formContent__email","form-control"],["type","number","formControlName","phone","placeholder","Phone",1,"formContent__phone","form-control"],[1,"formContent__addressContent"],["type","text","formControlName","address","placeholder","Address",1,"formContent__address","form-control"],[1,"formContent__menuContent"],["formControlName","service",1,"formContent__menu","form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"formContent__checkContent"],[1,"formContent__check"],[1,"formContent__checkOpt"],["type","checkbox","name","phoneCheck","formControlName","tphone",1,"form-check-input"],["for","phoneCheck",1,"form-check-label"],["type","checkbox","name","emailCheck","formControlName","temail",1,"form-check-input"],["for","emailCheck",1,"form-check-label"],[1,"formContent__menssageContent"],["formControlName","mensaje","placeholder","Message","required","",1,"formContent__messages","form-control"],["type","submit",1,"formContent__btn"],[3,"value"]],template:function(t,i){1&t&&(d.TgZ(0,"div",0)(1,"div",1)(2,"form",2),d.NdJ("ngSubmit",function(){return i.guardarDatosCliente()}),d.TgZ(3,"div",3),d._UZ(4,"input",4)(5,"input",5),d.qZA(),d.TgZ(6,"div",6),d._UZ(7,"input",7)(8,"input",8),d.qZA(),d.TgZ(9,"div",9),d._UZ(10,"input",10),d.qZA(),d.TgZ(11,"div",11)(12,"select",12)(13,"option",13),d._uU(14,"Type You Services You Need"),d.qZA(),d.YNc(15,_H,2,2,"option",14),d.qZA()(),d.TgZ(16,"div",15)(17,"p"),d._uU(18,"Best Way To Contact You"),d.qZA(),d.TgZ(19,"div",16)(20,"div",17),d._UZ(21,"input",18),d.TgZ(22,"label",19),d._uU(23,"Phone"),d.qZA()(),d.TgZ(24,"div",17),d._UZ(25,"input",20),d.TgZ(26,"label",21),d._uU(27,"Email"),d.qZA()()()(),d.TgZ(28,"div",22),d._UZ(29,"textarea",23),d.qZA(),d.TgZ(30,"button",24),d._uU(31," Send A Message "),d.qZA()()()()),2&t&&(d.xp6(2),d.Q6J("formGroup",i.formulario),d.xp6(13),d.Q6J("ngForOf",i.services),d.xp6(15),d.Akn(i.safeCss()))},directives:[Af,ba,Nc,bu,Kr,Mn,th,Kl,Rg,Pg,jn,Ud,Ou],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:after, *[_ngcontent-%COMP%]:before{padding:0;margin:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}.formContent[_ngcontent-%COMP%]{width:80%;margin:0 auto;padding:40px 0;text-align:center}.form-control[_ngcontent-%COMP%]{width:100%;background:#fff;border:2px solid #eee;border-radius:3px;height:45px;line-height:45px;padding:0 40px 0 10px;margin-bottom:10px;transition:.3s ease all}.form-control-error[_ngcontent-%COMP%]{border:3px solid #ff0000}.form-control[_ngcontent-%COMP%]:focus{border:3px solid #0075FF;outline:none;box-shadow:3px 0 30px #a3a3a366}.formContent__checkContent[_ngcontent-%COMP%]{text-align:start;padding-bottom:20px}.formContent__checkContent[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:500;padding-bottom:10px}.formContent__check[_ngcontent-%COMP%]{display:flex}.formContent__checkOpt[_ngcontent-%COMP%]{margin-right:10px;margin-left:10px}.formContent__nameContent[_ngcontent-%COMP%], .formContent__emailPhone[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.formContent__name[_ngcontent-%COMP%], .formContent__email[_ngcontent-%COMP%]{margin-right:10px}.formContent__lastName[_ngcontent-%COMP%], .formContent__phone[_ngcontent-%COMP%]{margin-left:10px}.formContent__messages[_ngcontent-%COMP%]{height:100px}.formContent__btn[_ngcontent-%COMP%]{width:100%;height:45px;background:#0075FF;border:none;border-radius:3px;color:#fff;font-size:16px;font-weight:700;cursor:pointer;transition:.3s ease all}.formContent__btn[_ngcontent-%COMP%]:hover{transform:scale(1.02)}@media screen and (max-width: 560px){.formContent__nameContent[_ngcontent-%COMP%], .formContent__emailPhone[_ngcontent-%COMP%]{display:block}.formContent__name[_ngcontent-%COMP%], .formContent__email[_ngcontent-%COMP%], .formContent__lastName[_ngcontent-%COMP%], .formContent__phone[_ngcontent-%COMP%]{margin:0 0 10px}}"]}),n})();const AH=function(){return["plumming","cleaning","cutting"]};let vH=(()=>{class n{constructor(){this.title="elementsv13"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:2,consts:[[2,"width","500px"],["to","alvininterscope@gmail.com","server","https://paginasserver.herokuapp.com/email","img","https://scandinavianwoodsinc.com/wp-content/uploads/2022/01/SCANDINAVIAN-WOODS-INC-WH.png","estilo","width: 100%;\nheight: 45px;\nbackground: #15FF00;\nborder: none;\nborder-radius: 3px;\ncolor: #fff;\nfont-size: 16px;\nfont-weight: bold;\ncursor: pointer;\ntransition: .3s ease all;","emailcolor","2",3,"services"]],template:function(t,i){1&t&&(d.TgZ(0,"div",0),d._UZ(1,"app-form",1),d.qZA()),2&t&&(d.xp6(1),d.Q6J("services",d.DdM(1,AH)))},directives:[mO],styles:[""]}),n})(),BH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[oo]]}),n})();L(9672),L(9635),L(727);let IS,sj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();try{IS="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){IS=!1}let oj=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Sn(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!IS)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PO="cdk-high-contrast-black-on-white",NO="cdk-high-contrast-white-on-black",TS="cdk-high-contrast-active";let Ej=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(TS),t.remove(PO),t.remove(NO),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(TS),t.add(PO)):2===i&&(t.add(TS),t.add(NO))}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(oj),d.LFG(de))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xj=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function Cj(){return!0}});let Dd=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function cj(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ej),d.LFG(xj,8),d.LFG(de))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[gS],gS]}),n})(),Dj=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Dd],Dd]}),n})(),Fj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[BO,Dd],BO,Dd]}),n})();const Nj=new d.OlP("angularfire2.functions.origin"),Lj=new d.OlP("angularfire2.functions.region"),Bj=new d.OlP("angularfire2.functions.use-emulator");let jO=(()=>{class n{constructor(t,i,r,a,u,p,y,E){const S=y,O=Un(void 0).pipe((0,$y.Q)(a.outsideAngular),be(()=>L.e(568).then(L.bind(L,7568))),(0,Le.U)(()=>(0,ii.on)(t,r,i)),(0,Le.U)(V=>(0,ii.cc)(`${V.name}.functions.${u||p}`,"AngularFireFunctions",V.name,()=>{let j;if(u&&p)throw new Error("REGION and ORIGIN can't be used at the same time.");return j=V.functions(u||p||void 0),S&&j.useEmulator(...S),j},[u,p,S])),kT({bufferSize:1,refCount:!1}));return this.httpsCallable=(V,j)=>q=>(0,ui.D)(O).pipe((0,$y.Q)(a.insideAngular),be(ue=>ue.httpsCallable(V,j)(q)),(0,Le.U)(ue=>ue.data)),(0,ii.pX)(this,O,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ii.Dh),d.LFG(ii.xv,8),d.LFG(d.R0b),d.LFG(On.HU),d.LFG(Lj,8),d.LFG(Nj,8),d.LFG(Bj,8),d.LFG(jf,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Vj=(()=>{class n{constructor(){$c.Z.registerVersion("angularfire",On.q4.full,"fn-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[jO]}),n})(),Wj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Dd],Dd]}),n})(),Kj=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Kj]}),n})(),kS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[oo,Dd,Qj],Dd]}),n})(),QO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),e3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Dj],imports:[[QO,kS,Dd],QO,kS]}),n})(),t3=(()=>{class n{constructor(t){this.injector=t}ngDoBootstrap(){const t=nl(vH,{injector:this.injector});customElements.define("my-own-element",t);const i=nl(mO,{injector:this.injector});customElements.define("form-contact",i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[{provide:TR,useValue:{dots:!0,imageSize:"cover"}}],imports:[[po,f_,yH,Df,_1,ii.hO.initializeApp(Ko_firebase),bx,ZN.enablePersistence(),Vj,vL,_1,NB.forRoot(),tH,BH,sj,Fj,Wj,kS,e3]]}),n})();(0,d.G48)(),Ja().bootstrapModule(t3).catch(n=>console.error(n))},5867:(rt,ye,L)=>{"use strict";L.d(ye,{Mq:()=>d.getApp,C6:()=>d.getApps});var d=L(9681);(0,d.registerVersion)("firebase","9.9.2","app")},127:(rt,ye,L)=>{"use strict";L.d(ye,{Z:()=>d.Z});var d=L(3942);d.Z.registerVersion("firebase","9.9.2","app-compat")},1451:(rt,ye,L)=>{"use strict";L.r(ye);var d=L(5861),se=L(3942),B=L(2090),ge=L(9681),fe=L(655),Ee=L(1877),de=L(4859);const Be=function Ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},yt=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Se=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),lt=new Ee.Yd("@firebase/auth");function ht(_,...f){lt.logLevel<=Ee.in.ERROR&&lt.error(`Auth (${ge.SDK_VERSION}): ${_}`,...f)}function Ve(_,...f){throw te(_,...f)}function Me(_,...f){return te(_,...f)}function Oe(_,f,m){const w=Object.assign(Object.assign({},yt()),{[f]:m});return new B.LL("auth","Firebase",w).create(f,{appName:_.name})}function Qe(_,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Ve(_,"argument-error"),Oe(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function te(_,...f){if("string"!=typeof _){const m=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(m,...w)}return Se.create(_,...f)}function X(_,f,...m){if(!_)throw te(f,...m)}function Ae(_){const f="INTERNAL ASSERTION FAILED: "+_;throw ht(f),new Error(f)}function ie(_,f){_||Ae(f)}const ce=new Map;function re(_){ie(_ instanceof Function,"Expected a class definition");let f=ce.get(_);return f?(ie(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,ce.set(_,f),f)}function je(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function pt(){return"http:"===Xt()||"https:"===Xt()}function Xt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Kt{constructor(f,m){this.shortDelay=f,this.longDelay=m,ie(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function jt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pn(_,f){ie(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class rn{static initialize(f,m,w){this.fetchImpl=f,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ae("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ae("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ae("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Qn=new Kt(3e4,6e4);function tn(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Ht(_,f,m,w){return mr.apply(this,arguments)}function mr(){return(mr=(0,d.Z)(function*(_,f,m,w,M={}){return Ji(_,M,(0,d.Z)(function*(){let N={},ne={};w&&("GET"===f?ne=w:N={body:JSON.stringify(w)});const ve=(0,B.xO)(Object.assign({key:_.config.apiKey},ne)).slice(1),We=yield _._getAdditionalHeaders();return We["Content-Type"]="application/json",_.languageCode&&(We["X-Firebase-Locale"]=_.languageCode),rn.fetch()(xs(_,_.config.apiHost,m,ve),Object.assign({method:f,headers:We,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Ji(_,f,m){return oi.apply(this,arguments)}function oi(){return(oi=(0,d.Z)(function*(_,f,m){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},Qt),f);try{const M=new Yn(_),N=yield Promise.race([m(),M.promise]);M.clearNetworkTimeout();const ne=yield N.json();if("needConfirmation"in ne)throw xn(_,"account-exists-with-different-credential",ne);if(N.ok&&!("errorMessage"in ne))return ne;{const ve=N.ok?ne.errorMessage:ne.error.message,[We,ot]=ve.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===We)throw xn(_,"credential-already-in-use",ne);if("EMAIL_EXISTS"===We)throw xn(_,"email-already-in-use",ne);if("USER_DISABLED"===We)throw xn(_,"user-disabled",ne);const Rt=w[We]||We.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw Oe(_,Rt,ot);Ve(_,Rt)}}catch(M){if(M instanceof B.ZR)throw M;Ve(_,"network-request-failed")}})).apply(this,arguments)}function xi(_,f,m,w){return zi.apply(this,arguments)}function zi(){return(zi=(0,d.Z)(function*(_,f,m,w,M={}){const N=yield Ht(_,f,m,w,M);return"mfaPendingCredential"in N&&Ve(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function xs(_,f,m,w){const M=`${f}${m}?${w}`;return _.config.emulator?Pn(_.config,M):`${_.config.apiScheme}://${M}`}class Yn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Me(this.auth,"network-request-failed")),Qn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xn(_,f,m){const w={appName:_.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const M=Me(_,f,w);return M.customData._tokenResponse=m,M}function $i(){return($i=(0,d.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function sn(_,f){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,d.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function yr(_,f){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,d.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function bt(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function _r(){return(_r=(0,d.Z)(function*(_,f=!1){const m=(0,B.m9)(_),w=yield m.getIdToken(f),M=nt(w);X(M&&M.exp&&M.auth_time&&M.iat,m.auth,"internal-error");const N="object"==typeof M.firebase?M.firebase:void 0,ne=null==N?void 0:N.sign_in_provider;return{claims:M,token:w,authTime:bt(St(M.auth_time)),issuedAtTime:bt(St(M.iat)),expirationTime:bt(St(M.exp)),signInProvider:ne||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function St(_){return 1e3*Number(_)}function nt(_){var f;const[m,w,M]=_.split(".");if(void 0===m||void 0===w||void 0===M)return ht("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,B.tV)(w);return N?JSON.parse(N):(ht("Failed to decode base64 JWT payload"),null)}catch(N){return ht("Caught error parsing JWT payload as JSON",null===(f=N)||void 0===f?void 0:f.toString()),null}}function Jn(_,f){return En.apply(this,arguments)}function En(){return(En=(0,d.Z)(function*(_,f,m=!1){if(m)return f;try{return yield f}catch(w){throw w instanceof B.ZR&&Yt(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}function Yt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class os{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const M=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),w)}iteration(){var f=this;return(0,d.Z)(function*(){var m;try{yield f.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===(null===(m=w)||void 0===m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class gi{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=bt(this.lastLoginAt),this.creationTime=bt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mi(_){return _t.apply(this,arguments)}function _t(){return(_t=(0,d.Z)(function*(_){var f;const m=_.auth,w=yield _.getIdToken(),M=yield Jn(_,yr(m,{idToken:w}));X(null==M?void 0:M.users.length,m,"internal-error");const N=M.users[0];_._notifyReloadListener(N);const ne=(null===(f=N.providerUserInfo)||void 0===f?void 0:f.length)?$(N.providerUserInfo):[],ve=z(_.providerData,ne),Rt=!!_.isAnonymous&&!(_.email&&N.passwordHash||(null==ve?void 0:ve.length)),Ct={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:ve,metadata:new gi(N.createdAt,N.lastLoginAt),isAnonymous:Rt};Object.assign(_,Ct)})).apply(this,arguments)}function W(){return(W=(0,d.Z)(function*(_){const f=(0,B.m9)(_);yield mi(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function z(_,f){return[..._.filter(w=>!f.some(M=>M.providerId===w.providerId)),...f]}function $(_){return _.map(f=>{var{providerId:m}=f,w=(0,fe._T)(f,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function ee(){return(ee=(0,d.Z)(function*(_,f){const m=yield Ji(_,{},(0,d.Z)(function*(){const w=(0,B.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:M,apiKey:N}=_.config,ne=xs(_,M,"/v1/token",`key=${N}`),ve=yield _._getAdditionalHeaders();return ve["Content-Type"]="application/x-www-form-urlencoded",rn.fetch()(ne,{method:"POST",headers:ve,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Pe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){X(f.idToken,"internal-error"),X(void 0!==f.idToken,"internal-error"),X(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function Mt(_){const f=nt(_);return X(f,"internal-error"),X(void 0!==f.exp,"internal-error"),X(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var w=this;return(0,d.Z)(function*(){return X(!w.accessToken||w.refreshToken,f,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var w=this;return(0,d.Z)(function*(){const{accessToken:M,refreshToken:N,expiresIn:ne}=yield function Q(_,f){return ee.apply(this,arguments)}(f,m);w.updateTokensAndExpiration(M,N,Number(ne))})()}updateTokensAndExpiration(f,m,w){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,m){const{refreshToken:w,accessToken:M,expirationTime:N}=m,ne=new Pe;return w&&(X("string"==typeof w,"internal-error",{appName:f}),ne.refreshToken=w),M&&(X("string"==typeof M,"internal-error",{appName:f}),ne.accessToken=M),N&&(X("number"==typeof N,"internal-error",{appName:f}),ne.expirationTime=N),ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Pe,this.toJSON())}_performRefresh(){return Ae("not implemented")}}function $e(_,f){X("string"==typeof _||void 0===_,"internal-error",{appName:f})}class gt{constructor(f){var{uid:m,auth:w,stsTokenManager:M}=f,N=(0,fe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new os(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new gi(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,d.Z)(function*(){const w=yield Jn(m,m.stsTokenManager.getToken(m.auth,f));return X(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(f){return function Zn(_){return _r.apply(this,arguments)}(this,f)}reload(){return function as(_){return W.apply(this,arguments)}(this)}_assign(f){this!==f&&(X(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new gt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var w=this;return(0,d.Z)(function*(){let M=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),M=!0),m&&(yield mi(w)),yield w.auth._persistUserIfCurrent(w),M&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,d.Z)(function*(){const m=yield f.getIdToken();return yield Jn(f,function ft(_,f){return $i.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var w,M,N,ne,ve,We,ot,Rt;const Ct=null!==(w=m.displayName)&&void 0!==w?w:void 0,di=null!==(M=m.email)&&void 0!==M?M:void 0,Zr=null!==(N=m.phoneNumber)&&void 0!==N?N:void 0,Nu=null!==(ne=m.photoURL)&&void 0!==ne?ne:void 0,p_=null!==(ve=m.tenantId)&&void 0!==ve?ve:void 0,hl=null!==(We=m._redirectEventId)&&void 0!==We?We:void 0,Lu=null!==(ot=m.createdAt)&&void 0!==ot?ot:void 0,Mf=null!==(Rt=m.lastLoginAt)&&void 0!==Rt?Rt:void 0,{uid:kf,emailVerified:Ia,isAnonymous:Rf,providerData:lh,stsTokenManager:Uc}=m;X(kf&&Uc,f,"internal-error");const Bu=Pe.fromJSON(this.name,Uc);X("string"==typeof kf,f,"internal-error"),$e(Ct,f.name),$e(di,f.name),X("boolean"==typeof Ia,f,"internal-error"),X("boolean"==typeof Rf,f,"internal-error"),$e(Zr,f.name),$e(Nu,f.name),$e(p_,f.name),$e(hl,f.name),$e(Lu,f.name),$e(Mf,f.name);const Vi=new gt({uid:kf,auth:f,email:di,emailVerified:Ia,displayName:Ct,isAnonymous:Rf,photoURL:Nu,phoneNumber:Zr,tenantId:p_,stsTokenManager:Bu,createdAt:Lu,lastLoginAt:Mf});return lh&&Array.isArray(lh)&&(Vi.providerData=lh.map(g_=>Object.assign({},g_))),hl&&(Vi._redirectEventId=hl),Vi}static _fromIdTokenResponse(f,m,w=!1){return(0,d.Z)(function*(){const M=new Pe;M.updateFromServerResponse(m);const N=new gt({uid:m.localId,auth:f,stsTokenManager:M,isAnonymous:w});return yield mi(N),N})()}}const nn=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,w){var M=this;return(0,d.Z)(function*(){M.storage[m]=w})()}_get(m){var w=this;return(0,d.Z)(function*(){const M=w.storage[m];return void 0===M?null:M})()}_remove(m){var w=this;return(0,d.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return _.type="NONE",_})();function ai(_,f,m){return`firebase:${_}:${f}:${m}`}class zt{constructor(f,m,w){this.persistence=f,this.auth=m,this.userKey=w;const{config:M,name:N}=this.auth;this.fullUserKey=ai(this.userKey,M.apiKey,N),this.fullPersistenceKey=ai("persistence",M.apiKey,N),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?gt._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,d.Z)(function*(){if(m.persistence===f)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,w="authUser"){return(0,d.Z)(function*(){if(!m.length)return new zt(re(nn),f,w);const M=(yield Promise.all(m.map(function(){var ot=(0,d.Z)(function*(Rt){if(yield Rt._isAvailable())return Rt});return function(Rt){return ot.apply(this,arguments)}}()))).filter(ot=>ot);let N=M[0]||re(nn);const ne=ai(w,f.config.apiKey,f.name);let ve=null;for(const ot of m)try{const Rt=yield ot._get(ne);if(Rt){const Ct=gt._fromJSON(f,Rt);ot!==N&&(ve=Ct),N=ot;break}}catch(Rt){}const We=M.filter(ot=>ot._shouldAllowMigration);return N._shouldAllowMigration&&We.length?(N=We[0],ve&&(yield N._set(ne,ve.toJSON())),yield Promise.all(m.map(function(){var ot=(0,d.Z)(function*(Rt){if(Rt!==N)try{yield Rt._remove(ne)}catch(Ct){}});return function(Rt){return ot.apply(this,arguments)}}())),new zt(N,f,w)):new zt(N,f,w)})()}}function Ii(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Xn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Br(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(cs(f))return"Blackberry";if(ei(f))return"Webos";if(Mo(f))return"Safari";if((f.includes("chrome/")||ls(f))&&!f.includes("edge/"))return"Chrome";if(Pi(f))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Br(_=(0,B.z$)()){return/firefox\//i.test(_)}function Mo(_=(0,B.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function ls(_=(0,B.z$)()){return/crios\//i.test(_)}function Xn(_=(0,B.z$)()){return/iemobile/i.test(_)}function Pi(_=(0,B.z$)()){return/android/i.test(_)}function cs(_=(0,B.z$)()){return/blackberry/i.test(_)}function ei(_=(0,B.z$)()){return/webos/i.test(_)}function Di(_=(0,B.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Is(_=(0,B.z$)()){return Di(_)||Pi(_)||ei(_)||cs(_)||/windows phone/i.test(_)||Xn(_)}function ko(_,f=[]){let m;switch(_){case"Browser":m=Ii((0,B.z$)());break;case"Worker":m=`${Ii((0,B.z$)())}-${_}`;break;default:m=_}const w=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${ge.SDK_VERSION}/${w}`}class qi{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const w=N=>new Promise((ne,ve)=>{try{ne(f(N))}catch(We){ve(We)}});w.onAbort=m,this.queue.push(w);const M=this.queue.length-1;return()=>{this.queue[M]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,d.Z)(function*(){var w;if(m.auth.currentUser===f)return;const M=[];try{for(const N of m.queue)yield N(f),N.onAbort&&M.push(N.onAbort)}catch(N){M.reverse();for(const ne of M)try{ne()}catch(ve){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=N)||void 0===w?void 0:w.message})}})()}}class tt{constructor(f,m,w){this.app=f,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pn(this),this.idTokenSubscription=new pn(this),this.beforeStateQueue=new qi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Se,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(f,m){var w=this;return m&&(this._popupRedirectResolver=re(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var M,N;if(!w._deleted&&(w.persistenceManager=yield zt.create(w,f),!w._deleted)){if(null===(M=w._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(ne){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(N=w.currentUser)||void 0===N?void 0:N.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,d.Z)(function*(){var w;const M=yield m.assertedPersistence.getCurrentUser();let N=M,ne=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ve=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,We=null==N?void 0:N._redirectEventId,ot=yield m.tryRedirectSignIn(f);(!ve||ve===We)&&(null==ot?void 0:ot.user)&&(N=ot.user,ne=!0)}if(!N)return m.directlySetCurrentUser(null);if(!N._redirectEventId){if(ne)try{yield m.beforeStateQueue.runMiddleware(N)}catch(ve){N=M,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ve))}return N?m.reloadAndSetCurrentUserOrClear(N):m.directlySetCurrentUser(null)}return X(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===N._redirectEventId?m.directlySetCurrentUser(N):m.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var m=this;return(0,d.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(M){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,d.Z)(function*(){var w;try{yield mi(f)}catch(M){if("auth/network-request-failed"!==(null===(w=M)||void 0===w?void 0:w.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Ye(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,d.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,d.Z)(function*(){const w=f?(0,B.m9)(f):null;return w&&X(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(f,m=!1){var w=this;return(0,d.Z)(function*(){if(!w._deleted)return f&&X(w.tenantId===f.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(f)),w.queue((0,d.Z)(function*(){yield w.directlySetCurrentUser(f),w.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(re(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new B.LL("auth","Firebase",f())}onAuthStateChanged(f,m,w){return this.registerStateListener(this.authStateSubscription,f,m,w)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,w){return this.registerStateListener(this.idTokenSubscription,f,m,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var w=this;return(0,d.Z)(function*(){const M=yield w.getOrInitRedirectPersistenceManager(m);return null===f?M.removeCurrentUser():M.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const w=f&&re(f)||m._popupRedirectResolver;X(w,m,"argument-error"),m.redirectPersistenceManager=yield zt.create(m,[re(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,d.Z)(function*(){var w,M;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===f?m._currentUser:(null===(M=m.redirectUser)||void 0===M?void 0:M._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,d.Z)(function*(){if(f===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,w,M){if(this._deleted)return()=>{};const N="function"==typeof m?m:m.next.bind(m),ne=this._isInitialized?Promise.resolve():this._initializationPromise;return X(ne,this,"internal-error"),ne.then(()=>N(this.currentUser)),"function"==typeof m?f.addObserver(m,w,M):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ko(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.Z)(function*(){var m;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const M=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return M&&(w["X-Firebase-Client"]=M),w})()}}function mt(_){return(0,B.m9)(_)}class pn{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xi(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Ar(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Cn{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return Ae("not implemented")}_getIdTokenResponse(f){return Ae("not implemented")}_linkToIdToken(f,m){return Ae("not implemented")}_getReauthenticationResolver(f){return Ae("not implemented")}}function Ln(_,f){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,d.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:resetPassword",tn(_,f))})).apply(this,arguments)}function Ro(_,f){return er.apply(this,arguments)}function er(){return(er=(0,d.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function na(_,f){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,d.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:update",tn(_,f))})).apply(this,arguments)}function so(){return(so=(0,d.Z)(function*(_,f){return xi(_,"POST","/v1/accounts:signInWithPassword",tn(_,f))})).apply(this,arguments)}function us(_,f){return ti.apply(this,arguments)}function ti(){return(ti=(0,d.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:sendOobCode",tn(_,f))})).apply(this,arguments)}function mn(_,f){return za.apply(this,arguments)}function za(){return(za=(0,d.Z)(function*(_,f){return us(_,f)})).apply(this,arguments)}function ia(_,f){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,d.Z)(function*(_,f){return us(_,f)})).apply(this,arguments)}function Vr(_,f){return $a.apply(this,arguments)}function $a(){return($a=(0,d.Z)(function*(_,f){return us(_,f)})).apply(this,arguments)}function gc(_,f){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,d.Z)(function*(_,f){return us(_,f)})).apply(this,arguments)}function tr(){return(tr=(0,d.Z)(function*(_,f){return xi(_,"POST","/v1/accounts:signInWithEmailLink",tn(_,f))})).apply(this,arguments)}function bl(){return(bl=(0,d.Z)(function*(_,f){return xi(_,"POST","/v1/accounts:signInWithEmailLink",tn(_,f))})).apply(this,arguments)}class yi extends Cn{constructor(f,m,w,M=null){super("password",w),this._email=f,this._password=m,this._tenantId=M}static _fromEmailAndPassword(f,m){return new yi(f,m,"password")}static _fromEmailAndCode(f,m,w=null){return new yi(f,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,d.Z)(function*(){switch(m.signInMethod){case"password":return function jn(_,f){return so.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function vr(_,f){return tr.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Ve(f,"internal-error")}})()}_linkToIdToken(f,m){var w=this;return(0,d.Z)(function*(){switch(w.signInMethod){case"password":return Ro(f,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Sd(_,f){return bl.apply(this,arguments)}(f,{idToken:m,email:w._email,oobCode:w._password});default:Ve(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ts(_,f){return mc.apply(this,arguments)}function mc(){return(mc=(0,d.Z)(function*(_,f){return xi(_,"POST","/v1/accounts:signInWithIdp",tn(_,f))})).apply(this,arguments)}class ds extends Cn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new ds(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Ve("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:M}=m,N=(0,fe._T)(m,["providerId","signInMethod"]);if(!w||!M)return null;const ne=new ds(w,M);return ne.idToken=N.idToken||void 0,ne.accessToken=N.accessToken||void 0,ne.secret=N.secret,ne.nonce=N.nonce,ne.pendingToken=N.pendingToken||null,ne}_getIdTokenResponse(f){return Ts(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,Ts(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Ts(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,B.xO)(m)}return f}}function kd(_,f){return yc.apply(this,arguments)}function yc(){return(yc=(0,d.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:sendVerificationCode",tn(_,f))})).apply(this,arguments)}function Ss(){return(Ss=(0,d.Z)(function*(_,f){return xi(_,"POST","/v1/accounts:signInWithPhoneNumber",tn(_,f))})).apply(this,arguments)}function Cl(){return(Cl=(0,d.Z)(function*(_,f){const m=yield xi(_,"POST","/v1/accounts:signInWithPhoneNumber",tn(_,f));if(m.temporaryProof)throw xn(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Rd={USER_NOT_FOUND:"user-not-found"};function _c(){return(_c=(0,d.Z)(function*(_,f){return xi(_,"POST","/v1/accounts:signInWithPhoneNumber",tn(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Rd)})).apply(this,arguments)}class Fo extends Cn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new Fo({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new Fo({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function El(_,f){return Ss.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function Oo(_,f){return Cl.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Od(_,f){return _c.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:w,verificationCode:M}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:w,code:M}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:w,phoneNumber:M,temporaryProof:N}=f;return w||m||M||N?new Fo({verificationId:m,verificationCode:w,phoneNumber:M,temporaryProof:N}):null}}class qa{constructor(f){var m,w,M,N,ne,ve;const We=(0,B.zd)((0,B.pd)(f)),ot=null!==(m=We.apiKey)&&void 0!==m?m:null,Rt=null!==(w=We.oobCode)&&void 0!==w?w:null,Ct=function fu(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=We.mode)&&void 0!==M?M:null);X(ot&&Rt&&Ct,"argument-error"),this.apiKey=ot,this.operation=Ct,this.code=Rt,this.continueUrl=null!==(N=We.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(ne=We.languageCode)&&void 0!==ne?ne:null,this.tenantId=null!==(ve=We.tenantId)&&void 0!==ve?ve:null}static parseLink(f){const m=function ra(_){const f=(0,B.zd)((0,B.pd)(_)).link,m=f?(0,B.zd)((0,B.pd)(f)).deep_link_id:null,w=(0,B.zd)((0,B.pd)(_)).deep_link_id;return(w?(0,B.zd)((0,B.pd)(w)).link:null)||w||m||f||_}(f);try{return new qa(m)}catch(w){return null}}}let vc=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,w){return yi._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const M=qa.parseLink(w);return X(M,"argument-error"),yi._fromEmailAndCode(m,M.code,M.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Ti{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ms extends Ti{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ur extends Ms{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return X("providerId"in m&&"signInMethod"in m,"argument-error"),ds._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return X(f.idToken||f.accessToken,"argument-error"),ds._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ur.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ur.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:M,pendingToken:N,nonce:ne,providerId:ve}=f;if(!w&&!M&&!m&&!N||!ve)return null;try{return new Ur(ve)._credential({idToken:m,accessToken:w,nonce:ne,pendingToken:N})}catch(We){return null}}}let Po=(()=>{class _ extends Ms{constructor(){super("facebook.com")}static credential(m){return ds._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(w){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),xl=(()=>{class _ extends Ms{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return ds._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:M}=m;if(!w&&!M)return null;try{return _.credential(w,M)}catch(N){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),pu=(()=>{class _ extends Ms{constructor(){super("github.com")}static credential(m){return ds._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(w){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class ao extends Cn{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Ts(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,Ts(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Ts(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:M,pendingToken:N}=m;return w&&M&&N&&w===M?new ao(w,N):null}static _create(f,m){return new ao(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ni extends Ti{constructor(f){X(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Ni.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Ni.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=ao.fromJSON(f);return X(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:w}=f;if(!m||!w)return null;try{return ao._create(w,m)}catch(M){return null}}}let lo=(()=>{class _ extends Ms{constructor(){super("twitter.com")}static credential(m,w){return ds._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:M}=m;if(!w||!M)return null;try{return _.credential(w,M)}catch(N){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Sn(_,f){return nr.apply(this,arguments)}function nr(){return(nr=(0,d.Z)(function*(_,f){return xi(_,"POST","/v1/accounts:signUp",tn(_,f))})).apply(this,arguments)}class ir{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,w,M=!1){return(0,d.Z)(function*(){const N=yield gt._fromIdTokenResponse(f,w,M),ne=Il(w);return new ir({user:N,providerId:ne,_tokenResponse:w,operationType:m})})()}static _forOperation(f,m,w){return(0,d.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const M=Il(w);return new ir({user:f,providerId:M,_tokenResponse:w,operationType:m})})()}}function Il(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function bc(){return(bc=(0,d.Z)(function*(_){var f;const m=mt(_);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new ir({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Sn(m,{returnSecureToken:!0}),M=yield ir._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class sa extends B.ZR{constructor(f,m,w,M){var N;super(m.code,m.message),this.operationType=w,this.user=M,Object.setPrototypeOf(this,sa.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,m,w,M){return new sa(f,m,w,M)}}function Dl(_,f,m,w){return("reauthenticate"===f?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?sa._fromErrorAndOperation(_,N,f,w):N})}function Hr(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function un(){return(un=(0,d.Z)(function*(_,f){const m=(0,B.m9)(_);yield an(!0,m,f);const{providerUserInfo:w}=yield sn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),M=Hr(w||[]);return m.providerData=m.providerData.filter(N=>M.has(N.providerId)),M.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Lo(_,f){return co.apply(this,arguments)}function co(){return(co=(0,d.Z)(function*(_,f,m=!1){const w=yield Jn(_,f._linkToIdToken(_.auth,yield _.getIdToken()),m);return ir._forOperation(_,"link",w)})).apply(this,arguments)}function an(_,f,m){return hs.apply(this,arguments)}function hs(){return(hs=(0,d.Z)(function*(_,f,m){yield mi(f);const M=!1===_?"provider-already-linked":"no-such-provider";X(Hr(f.providerData).has(m)===_,f.auth,M)})).apply(this,arguments)}function Wa(_,f){return fs.apply(this,arguments)}function fs(){return(fs=(0,d.Z)(function*(_,f,m=!1){var w;const{auth:M}=_,N="reauthenticate";try{const ne=yield Jn(_,Dl(M,N,f,_),m);X(ne.idToken,M,"internal-error");const ve=nt(ne.idToken);X(ve,M,"internal-error");const{sub:We}=ve;return X(_.uid===We,M,"user-mismatch"),ir._forOperation(_,N,ne)}catch(ne){throw"auth/user-not-found"===(null===(w=ne)||void 0===w?void 0:w.code)&&Ve(M,"user-mismatch"),ne}})).apply(this,arguments)}function _i(_,f){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,d.Z)(function*(_,f,m=!1){const w="signIn",M=yield Dl(_,w,f),N=yield ir._fromIdTokenResponse(_,w,M);return m||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Dn(_,f){return jr.apply(this,arguments)}function jr(){return(jr=(0,d.Z)(function*(_,f){return _i(mt(_),f)})).apply(this,arguments)}function ni(_,f){return ks.apply(this,arguments)}function ks(){return(ks=(0,d.Z)(function*(_,f){const m=(0,B.m9)(_);return yield an(!1,m,f.providerId),Lo(m,f)})).apply(this,arguments)}function ps(_,f){return oa.apply(this,arguments)}function oa(){return(oa=(0,d.Z)(function*(_,f){return Wa((0,B.m9)(_),f)})).apply(this,arguments)}function wr(_,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,d.Z)(function*(_,f){return xi(_,"POST","/v1/accounts:signInWithCustomToken",tn(_,f))})).apply(this,arguments)}function Et(){return(Et=(0,d.Z)(function*(_,f){const m=mt(_),w=yield wr(m,{token:f,returnSecureToken:!0}),M=yield ir._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(M.user),M})).apply(this,arguments)}class uo{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Ka._fromServerResponse(f,m):Ve(f,"internal-error")}}class Ka extends uo{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Ka(m)}}function Rs(_,f,m){var w;X((null===(w=m.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),X(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(X(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(X(m.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function aa(){return(aa=(0,d.Z)(function*(_,f,m){const w=(0,B.m9)(_),M={requestType:"PASSWORD_RESET",email:f};m&&Rs(w,M,m),yield ia(w,M)})).apply(this,arguments)}function ho(){return(ho=(0,d.Z)(function*(_,f,m){yield Ln((0,B.m9)(_),{oobCode:f,newPassword:m})})).apply(this,arguments)}function $t(){return($t=(0,d.Z)(function*(_,f){yield na((0,B.m9)(_),{oobCode:f})})).apply(this,arguments)}function Qa(_,f){return wn.apply(this,arguments)}function wn(){return(wn=(0,d.Z)(function*(_,f){const m=(0,B.m9)(_),w=yield Ln(m,{oobCode:f}),M=w.requestType;switch(X(M,m,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(w.mfaInfo,m,"internal-error");default:X(w.email,m,"internal-error")}let N=null;return w.mfaInfo&&(N=uo._fromServerResponse(mt(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:N},operation:M}})).apply(this,arguments)}function Os(){return(Os=(0,d.Z)(function*(_,f){const{data:m}=yield Qa((0,B.m9)(_),f);return m.email})).apply(this,arguments)}function la(){return(la=(0,d.Z)(function*(_,f,m){const w=mt(_),M=yield Sn(w,{returnSecureToken:!0,email:f,password:m}),N=yield ir._fromIdTokenResponse(w,"signIn",M);return yield w._updateCurrentUser(N.user),N})).apply(this,arguments)}function Ya(){return(Ya=(0,d.Z)(function*(_,f,m){const w=(0,B.m9)(_),M={requestType:"EMAIL_SIGNIN",email:f};X(m.handleCodeInApp,w,"argument-error"),m&&Rs(w,M,m),yield Vr(w,M)})).apply(this,arguments)}function Bn(){return(Bn=(0,d.Z)(function*(_,f,m){const w=(0,B.m9)(_),M=vc.credentialWithLink(f,m||je());return X(M._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Dn(w,M)})).apply(this,arguments)}function gs(_,f){return ua.apply(this,arguments)}function ua(){return(ua=(0,d.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:createAuthUri",tn(_,f))})).apply(this,arguments)}function sr(){return(sr=(0,d.Z)(function*(_,f){const w={identifier:f,continueUri:pt()?je():"http://localhost"},{signinMethods:M}=yield gs((0,B.m9)(_),w);return M||[]})).apply(this,arguments)}function ha(){return(ha=(0,d.Z)(function*(_,f){const m=(0,B.m9)(_),M={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Rs(m.auth,M,f);const{email:N}=yield mn(m.auth,M);N!==_.email&&(yield _.reload())})).apply(this,arguments)}function Ja(){return(Ja=(0,d.Z)(function*(_,f,m){const w=(0,B.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};m&&Rs(w.auth,N,m);const{email:ne}=yield gc(w.auth,N);ne!==_.email&&(yield _.reload())})).apply(this,arguments)}function fa(_,f){return po.apply(this,arguments)}function po(){return(po=(0,d.Z)(function*(_,f){return Ht(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function go(){return(go=(0,d.Z)(function*(_,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const w=(0,B.m9)(_),N={idToken:yield w.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},ne=yield Jn(w,fa(w.auth,N));w.displayName=ne.displayName||null,w.photoURL=ne.photoUrl||null;const ve=w.providerData.find(({providerId:We})=>"password"===We);ve&&(ve.displayName=w.displayName,ve.photoURL=w.photoURL),yield w._updateTokensIfNecessary(ne)})).apply(this,arguments)}function Ps(_,f,m){return pa.apply(this,arguments)}function pa(){return(pa=(0,d.Z)(function*(_,f,m){const{auth:w}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(N.email=f),m&&(N.password=m);const ne=yield Jn(_,Ro(w,N));yield _._updateTokensIfNecessary(ne,!0)})).apply(this,arguments)}class Vo{constructor(f,m,w={}){this.isNewUser=f,this.providerId=m,this.profile=w}}class ga extends Vo{constructor(f,m,w,M){super(f,m,w),this.username=M}}class Go extends Vo{constructor(f,m){super(f,"facebook.com",m)}}class $r extends ga{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class mu extends Vo{constructor(f,m){super(f,"google.com",m)}}class li extends ga{constructor(f,m,w){super(f,"twitter.com",m,w)}}function br(_){const{user:f,_tokenResponse:m}=_;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ec(_){var f,m;if(!_)return null;const{providerId:w}=_,M=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&(null==_?void 0:_.idToken)){const ne=null===(m=null===(f=nt(_.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(ne)return new Vo(N,"anonymous"!==ne&&"custom"!==ne?ne:null)}if(!w)return null;switch(w){case"facebook.com":return new Go(N,M);case"github.com":return new $r(N,M);case"google.com":return new mu(N,M);case"twitter.com":return new li(N,M,_.screenName||null);case"custom":case"anonymous":return new Vo(N,null);default:return new Vo(N,w,M)}}(m)}class qr{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new qr("enroll",f)}static _fromMfaPendingCredential(f){return new qr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,w;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return qr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(w=f.multiFactorSession)||void 0===w?void 0:w.idToken)return qr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ns{constructor(f,m,w){this.session=f,this.hints=m,this.signInResolver=w}static _fromError(f,m){const w=mt(f),M=m.customData._serverResponse,N=(M.mfaInfo||[]).map(ve=>uo._fromServerResponse(w,ve));X(M.mfaPendingCredential,w,"internal-error");const ne=qr._fromMfaPendingCredential(M.mfaPendingCredential);return new Ns(ne,N,function(){var ve=(0,d.Z)(function*(We){const ot=yield We._process(w,ne);delete M.mfaInfo,delete M.mfaPendingCredential;const Rt=Object.assign(Object.assign({},M),{idToken:ot.idToken,refreshToken:ot.refreshToken});switch(m.operationType){case"signIn":const Ct=yield ir._fromIdTokenResponse(w,m.operationType,Rt);return yield w._updateCurrentUser(Ct.user),Ct;case"reauthenticate":return X(m.user,w,"internal-error"),ir._forOperation(m.user,m.operationType,Rt);default:Ve(w,"internal-error")}});return function(We){return ve.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,d.Z)(function*(){return m.signInResolver(f)})()}}function _u(_,f){return Ht(_,"POST","/v2/accounts/mfaEnrollment:start",tn(_,f))}class yo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>uo._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new yo(f)}getSession(){var f=this;return(0,d.Z)(function*(){return qr._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var w=this;return(0,d.Z)(function*(){const M=f,N=yield w.getSession(),ne=yield Jn(w.user,M._process(w.user.auth,N,m));return yield w.user._updateTokensIfNecessary(ne),w.user.reload()})()}unenroll(f){var m=this;return(0,d.Z)(function*(){var w;const M="string"==typeof f?f:f.uid,N=yield m.user.getIdToken(),ne=yield Jn(m.user,function Qi(_,f){return Ht(_,"POST","/v2/accounts/mfaEnrollment:withdraw",tn(_,f))}(m.user.auth,{idToken:N,mfaEnrollmentId:M}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ve})=>ve!==M),yield m.user._updateTokensIfNecessary(ne);try{yield m.user.reload()}catch(ve){if("auth/user-token-expired"!==(null===(w=ve)||void 0===w?void 0:w.code))throw ve}})()}}const el=new WeakMap,Ls="__sak";class Nl{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Ls,"1"),this.storage.removeItem(Ls),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const C=(()=>{class _ extends Nl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ld(){const _=(0,B.z$)();return Mo(_)||Di(_)}()&&function At(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=Is(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const M=this.storage.getItem(w),N=this.localCache[w];M!==N&&m(w,N,M)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((ve,We,ot)=>{this.notifyListeners(ve,ot)});const M=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ve=this.storage.getItem(M);if(m.newValue!==ve)null!==m.newValue?this.storage.setItem(M,m.newValue):this.storage.removeItem(M);else if(this.localCache[M]===m.newValue&&!w)return}const N=()=>{const ve=this.storage.getItem(M);!w&&this.localCache[M]===ve||this.notifyListeners(M,ve)},ne=this.storage.getItem(M);!function ta(){return(0,B.w1)()&&10===document.documentMode}()||ne===m.newValue||m.newValue===m.oldValue?N():setTimeout(N,10)}notifyListeners(m,w){this.localCache[m]=w;const M=this.listeners[m];if(M)for(const N of Array.from(M))N(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var M=()=>super._set,N=this;return(0,d.Z)(function*(){yield M().call(N,m,w),N.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,M=this;return(0,d.Z)(function*(){const N=yield w().call(M,m);return M.localCache[m]=JSON.stringify(N),N})()}_remove(m){var w=()=>super._remove,M=this;return(0,d.Z)(function*(){yield w().call(M,m),delete M.localCache[m]})()}}return _.type="LOCAL",_})(),R=(()=>{class _ extends Nl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return _.type="SESSION",_})();let be=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(N=>N.isListeningto(m));if(w)return w;const M=new _(m);return this.receivers.push(M),M}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,d.Z)(function*(){const M=m,{eventId:N,eventType:ne,data:ve}=M.data,We=w.handlersMap[ne];if(!(null==We?void 0:We.size))return;M.ports[0].postMessage({status:"ack",eventId:N,eventType:ne});const ot=Array.from(We).map(function(){var Ct=(0,d.Z)(function*(di){return di(M.origin,ve)});return function(di){return Ct.apply(this,arguments)}}()),Rt=yield function U(_){return Promise.all(_.map(function(){var f=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return f.apply(this,arguments)}}()))}(ot);M.ports[0].postMessage({status:"done",eventId:N,eventType:ne,response:Rt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Le(_="",f=10){let m="";for(let w=0;w<f;w++)m+=Math.floor(10*Math.random());return _+m}class An{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,w=50){var M=this;return(0,d.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let ne,ve;return new Promise((We,ot)=>{const Rt=Le("",20);N.port1.start();const Ct=setTimeout(()=>{ot(new Error("unsupported_event"))},w);ve={messageChannel:N,onMessage(di){const Zr=di;if(Zr.data.eventId===Rt)switch(Zr.data.status){case"ack":clearTimeout(Ct),ne=setTimeout(()=>{ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(ne),We(Zr.data.response);break;default:clearTimeout(Ct),clearTimeout(ne),ot(new Error("invalid_response"))}}},M.handlers.add(ve),N.port1.addEventListener("message",ve.onMessage),M.target.postMessage({eventType:f,eventId:Rt,data:m},[N.port2])}).finally(()=>{ve&&M.removeMessageHandler(ve)})})()}}function en(){return window}function or(){return void 0!==en().WorkerGlobalScope&&"function"==typeof en().importScripts}function tl(){return(tl=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const xc="firebaseLocalStorageDb",Uo="firebaseLocalStorage",Ic="fbase_key";class Bs{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ya(_,f){return _.transaction([Uo],f?"readwrite":"readonly").objectStore(Uo)}function Dc(){const _=indexedDB.open(xc,1);return new Promise((f,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(Uo,{keyPath:Ic})}catch(M){m(M)}}),_.addEventListener("success",(0,d.Z)(function*(){const w=_.result;w.objectStoreNames.contains(Uo)?f(w):(w.close(),yield function Au(){const _=indexedDB.deleteDatabase(xc);return new Bs(_).toPromise()}(),f(yield Dc()))}))})}function nl(_,f,m){return vu.apply(this,arguments)}function vu(){return(vu=(0,d.Z)(function*(_,f,m){const w=ya(_,!0).put({[Ic]:f,value:m});return new Bs(w).toPromise()})).apply(this,arguments)}function Ai(){return(Ai=(0,d.Z)(function*(_,f){const m=ya(_,!1).get(f),w=yield new Bs(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function wu(_,f){const m=ya(_,!0).delete(f);return new Bs(m).toPromise()}const Ho=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield Dc()),m.db})()}_withRetries(m){var w=this;return(0,d.Z)(function*(){let M=0;for(;;)try{const N=yield w._openDb();return yield m(N)}catch(N){if(M++>3)throw N;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return or()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=be._getInstance(function sf(){return or()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,d.Z)(function*(M,N){return{keyProcessed:(yield m._poll()).includes(N.key)}});return function(M,N){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,d.Z)(function*(M,N){return["keyChanged"]});return function(M,N){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var w,M;if(m.activeServiceWorker=yield function Ll(){return tl.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new An(m.activeServiceWorker);const N=yield m.sender._send("ping",{},800);!N||(null===(w=N[0])||void 0===w?void 0:w.fulfilled)&&(null===(M=N[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,d.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Vd(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Dc();return yield nl(m,Ls,"1"),yield wu(m,Ls),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,d.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var M=this;return(0,d.Z)(function*(){return M._withPendingWrite((0,d.Z)(function*(){return yield M._withRetries(N=>nl(N,m,w)),M.localCache[m]=w,M.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,d.Z)(function*(){const M=yield w._withRetries(N=>function ui(_,f){return Ai.apply(this,arguments)}(N,m));return w.localCache[m]=M,M})()}_remove(m){var w=this;return(0,d.Z)(function*(){return w._withPendingWrite((0,d.Z)(function*(){return yield w._withRetries(M=>wu(M,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const w=yield m._withRetries(ne=>{const ve=ya(ne,!1).getAll();return new Bs(ve).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const M=[],N=new Set;for(const{fbase_key:ne,value:ve}of w)N.add(ne),JSON.stringify(m.localCache[ne])!==JSON.stringify(ve)&&(m.notifyListeners(ne,ve),M.push(ne));for(const ne of Object.keys(m.localCache))m.localCache[ne]&&!N.has(ne)&&(m.notifyListeners(ne,null),M.push(ne));return M})()}notifyListeners(m,w){this.localCache[m]=w;const M=this.listeners[m];if(M)for(const N of Array.from(M))N(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Tc(_,f){return Ht(_,"POST","/v2/accounts/mfaSignIn:start",tn(_,f))}function il(){return(il=(0,d.Z)(function*(_){return(yield Ht(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ms(_){return new Promise((f,m)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=f,w.onerror=M=>{const N=Me("internal-error");N.customData=M,m(N)},w.type="text/javascript",w.charset="UTF-8",function _a(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(w)})}function _o(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Si=1e12;class Ul{constructor(f){this.auth=f,this.counter=Si,this._widgets=new Map}render(f,m){const w=this.counter;return this._widgets.set(w,new Ud(f,this.auth.name,m||{})),this.counter++,w}reset(f){var m;const w=f||Si;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Si))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,d.Z)(function*(){var w;return null===(w=m._widgets.get(f||Si))||void 0===w||w.execute(),""})()}}class Ud{constructor(f,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof f?document.getElementById(f):f;X(M,"argument-error",{appName:m}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function af(_){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vn=_o("rcb"),Ag=new Kt(3e4,6e4);class Ao{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(f=en().grecaptcha)||void 0===f?void 0:f.render)}load(f,m=""){return X(function vg(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(en().grecaptcha):new Promise((w,M)=>{const N=en().setTimeout(()=>{M(Me(f,"network-request-failed"))},Ag.get());en()[Vn]=()=>{en().clearTimeout(N),delete en()[Vn];const ve=en().grecaptcha;if(!ve)return void M(Me(f,"internal-error"));const We=ve.render;ve.render=(ot,Rt)=>{const Ct=We(ot,Rt);return this.counter++,Ct},this.hostLanguage=m,w(ve)},ms(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Vn,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(N),M(Me(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!!(null===(m=en().grecaptcha)||void 0===m?void 0:m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ar{load(f){return(0,d.Z)(function*(){return new Ul(f)})()}clearedOneInstance(){}}const Aa="recaptcha",Jy={theme:"light",type:"image"};class xr{constructor(f,m=Object.assign({},Jy),w){this.parameters=m,this.type=Aa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mt(w),this.isInvisible="invisible"===this.parameters.size,X("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof f?document.getElementById(f):f;X(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ar:new Ao,this.validateStartingState()}verify(){var f=this;return(0,d.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(m)||new Promise(N=>{const ne=ve=>{!ve||(f.tokenChangeListeners.delete(ne),N(ve))};f.tokenChangeListeners.add(ne),f.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof f)f(m);else if("string"==typeof f){const w=en()[f];"function"==typeof w&&w(m)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.Z)(function*(){X(pt()&&!or(),f.auth,"internal-error"),yield function lf(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Vs(_){return il.apply(this,arguments)}(f.auth);X(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qn{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=Fo._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function vo(){return(vo=(0,d.Z)(function*(_,f,m){const w=mt(_),M=yield zo(w,f,(0,B.m9)(m));return new qn(M,N=>Dn(w,N))})).apply(this,arguments)}function Sc(){return(Sc=(0,d.Z)(function*(_,f,m){const w=(0,B.m9)(_);yield an(!1,w,"phone");const M=yield zo(w.auth,f,(0,B.m9)(m));return new qn(M,N=>ni(w,N))})).apply(this,arguments)}function Dr(){return(Dr=(0,d.Z)(function*(_,f,m){const w=(0,B.m9)(_),M=yield zo(w.auth,f,(0,B.m9)(m));return new qn(M,N=>ps(w,N))})).apply(this,arguments)}function zo(_,f,m){return va.apply(this,arguments)}function va(){return(va=(0,d.Z)(function*(_,f,m){var w;const M=yield m.verify();try{let N;if(X("string"==typeof M,_,"argument-error"),X(m.type===Aa,_,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const ne=N.session;if("phoneNumber"in N)return X("enroll"===ne.type,_,"internal-error"),(yield _u(_,{idToken:ne.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{X("signin"===ne.type,_,"internal-error");const ve=(null===(w=N.multiFactorHint)||void 0===w?void 0:w.uid)||N.multiFactorUid;return X(ve,_,"missing-multi-factor-info"),(yield Tc(_,{mfaPendingCredential:ne.credential,mfaEnrollmentId:ve,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ne}=yield kd(_,{phoneNumber:N.phoneNumber,recaptchaToken:M});return ne}}finally{m._reset()}})).apply(this,arguments)}function zl(){return(zl=(0,d.Z)(function*(_,f){yield Lo((0,B.m9)(_),f)})).apply(this,arguments)}let rl=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=mt(m)}verifyPhoneNumber(m,w){return zo(this.auth,m,(0,B.m9)(w))}static credential(m,w){return Fo._fromVerification(m,w)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:M}=m;return w&&M?Fo._fromTokenResponse(w,M):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function $o(_,f){return f?re(f):(X(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Eu extends Cn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ts(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Ts(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Ts(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function uf(_){return _i(_.auth,new Eu(_),_.bypassAuthState)}function sl(_){const{auth:f,user:m}=_;return X(m,f,"internal-error"),Wa(m,new Eu(_),_.bypassAuthState)}function Bi(_){return wo.apply(this,arguments)}function wo(){return(wo=(0,d.Z)(function*(_){const{auth:f,user:m}=_;return X(m,f,"internal-error"),Lo(m,new Eu(_),_.bypassAuthState)})).apply(this,arguments)}class Gs{constructor(f,m,w,M,N=!1){this.auth=f,this.resolver=w,this.user=M,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,d.Z)(function*(w,M){f.pendingPromise={resolve:w,reject:M};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(w,M){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,d.Z)(function*(){const{urlResponse:w,sessionId:M,postBody:N,tenantId:ne,error:ve,type:We}=f;if(ve)return void m.reject(ve);const ot={auth:m.auth,requestUri:w,sessionId:M,tenantId:ne||void 0,postBody:N||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(We)(ot))}catch(Rt){m.reject(Rt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return uf;case"linkViaPopup":case"linkViaRedirect":return Bi;case"reauthViaPopup":case"reauthViaRedirect":return sl;default:Ve(this.auth,"internal-error")}}resolve(f){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cu=new Kt(2e3,1e4);function wa(){return(wa=(0,d.Z)(function*(_,f,m){const w=mt(_);Qe(_,f,Ti);const M=$o(w,m);return new ys(w,"signInViaPopup",f,M).executeNotNull()})).apply(this,arguments)}function Iu(){return(Iu=(0,d.Z)(function*(_,f,m){const w=(0,B.m9)(_);Qe(w.auth,f,Ti);const M=$o(w.auth,m);return new ys(w.auth,"reauthViaPopup",f,M,w).executeNotNull()})).apply(this,arguments)}function Mc(){return(Mc=(0,d.Z)(function*(_,f,m){const w=(0,B.m9)(_);Qe(w.auth,f,Ti);const M=$o(w.auth,m);return new ys(w.auth,"linkViaPopup",f,M,w).executeNotNull()})).apply(this,arguments)}let ys=(()=>{class _ extends Gs{constructor(m,w,M,N,ne){super(m,w,N,ne),this.provider=M,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const w=yield m.execute();return X(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,d.Z)(function*(){ie(1===m.filter.length,"Popup operations only handle one event");const w=Le();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(M=>{m.reject(M)}),m.resolver._isIframeWebStorageSupported(m.auth,M=>{M||m.reject(Me(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,M;this.pollId=(null===(M=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Cu.get())};m()}}return _.currentPopupAction=null,_})();const Us=new Map;class Xy extends Gs{constructor(f,m,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,d.Z)(function*(){let w=Us.get(m.auth._key());if(!w){try{const N=(yield function kc(_,f){return Kr.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;w=()=>Promise.resolve(N)}catch(M){w=()=>Promise.reject(M)}Us.set(m.auth._key(),w)}return m.bypassAuthState||Us.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,w=this;return(0,d.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(w,f);if("unknown"!==f.type){if(f.eventId){const M=yield w.auth._redirectUserForId(f.eventId);if(M)return w.user=M,m().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Kr(){return(Kr=(0,d.Z)(function*(_,f){const m=jd(f),w=ol(_);if(!(yield w._isAvailable()))return!1;const M="true"===(yield w._get(m));return yield w._remove(m),M})).apply(this,arguments)}function ba(_,f){return _s.apply(this,arguments)}function _s(){return(_s=(0,d.Z)(function*(_,f){return ol(_)._set(jd(f),"true")})).apply(this,arguments)}function Hd(_,f){Us.set(_._key(),f)}function ol(_){return re(_._redirectPersistence)}function jd(_){return ai("pendingRedirect",_.config.apiKey,_.name)}function D(){return(D=(0,d.Z)(function*(_,f,m){const w=mt(_);Qe(_,f,Ti);const M=$o(w,m);return yield ba(M,w),M._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function H(){return(H=(0,d.Z)(function*(_,f,m){const w=(0,B.m9)(_);Qe(w.auth,f,Ti);const M=$o(w.auth,m);yield ba(M,w.auth);const N=yield vt(w);return M._openRedirect(w.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function Ne(){return(Ne=(0,d.Z)(function*(_,f,m){const w=(0,B.m9)(_);Qe(w.auth,f,Ti);const M=$o(w.auth,m);yield an(!1,w,f.providerId),yield ba(M,w.auth);const N=yield vt(w);return M._openRedirect(w.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function xt(){return(xt=(0,d.Z)(function*(_,f){return yield mt(_)._initializationPromise,kt(_,f,!1)})).apply(this,arguments)}function kt(_,f){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,d.Z)(function*(_,f,m=!1){const w=mt(_),M=$o(w,f),ne=yield new Xy(w,M,m).execute();return ne&&!m&&(delete ne.user._redirectEventId,yield w._persistUserIfCurrent(ne.user),yield w._setRedirectUser(null,f)),ne})).apply(this,arguments)}function vt(_){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,d.Z)(function*(_){const f=Le(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class qo{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(m=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function zd(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hs(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var w;if(f.error&&!Hs(f)){const M=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Me(this.auth,M))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const w=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(As(f))}saveEventToCache(f){this.cachedEventUids.add(As(f)),this.lastProcessedEventTime=Date.now()}}function As(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function Hs({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function ql(_){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,d.Z)(function*(_,f={}){return Ht(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Sr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,js=/^https?/;function bg(){return(bg=(0,d.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield ql(_);for(const m of f)try{if(ff(m))return}catch(w){}Ve(_,"unauthorized-domain")})).apply(this,arguments)}function ff(_){const f=je(),{protocol:m,hostname:w}=new URL(f);if(_.startsWith("chrome-extension://")){const ne=new URL(_);return""===ne.hostname&&""===w?"chrome-extension:"===m&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&ne.hostname===w}if(!js.test(m))return!1;if(Sr.test(_))return w===_;const M=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(w)}const p0=new Kt(3e4,6e4);function pf(){const _=en().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let Du=null;function gf(_){return Du=Du||function e_(_){return new Promise((f,m)=>{var w,M,N;function ne(){pf(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{pf(),m(Me(_,"network-request-failed"))},timeout:p0.get()})}if(null===(M=null===(w=en().gapi)||void 0===w?void 0:w.iframes)||void 0===M?void 0:M.Iframe)f(gapi.iframes.getContext());else{if(!(null===(N=en().gapi)||void 0===N?void 0:N.load)){const ve=_o("iframefcb");return en()[ve]=()=>{gapi.load?ne():m(Me(_,"network-request-failed"))},ms(`https://apis.google.com/js/api.js?onload=${ve}`).catch(We=>m(We))}ne()}}).catch(f=>{throw Du=null,f})}(_),Du}const Fc=new Kt(5e3,15e3),Tu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$d=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Su(_){const f=_.config;X(f.authDomain,_,"auth-domain-config-required");const m=f.emulator?Pn(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,w={apiKey:f.apiKey,appName:_.name,v:ge.SDK_VERSION},M=$d.get(_.config.apiHost);M&&(w.eid=M);const N=_._getFrameworks();return N.length&&(w.fw=N.join(",")),`${m}?${(0,B.xO)(w).slice(1)}`}function Mu(){return Mu=(0,d.Z)(function*(_){const f=yield gf(_),m=en().gapi;return X(m,_,"internal-error"),f.open({where:document.body,url:Su(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tu,dontclear:!0},w=>new Promise(function(){var M=(0,d.Z)(function*(N,ne){yield w.restyle({setHideOnLeave:!1});const ve=Me(_,"network-request-failed"),We=en().setTimeout(()=>{ne(ve)},Fc.get());function ot(){en().clearTimeout(We),N(w)}w.ping(ot).then(ot,()=>{ne(ve)})});return function(N,ne){return M.apply(this,arguments)}}()))}),Mu.apply(this,arguments)}const qd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qd{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Ca(_,f,m,w,M,N){X(_.config.authDomain,_,"auth-domain-config-required"),X(_.config.apiKey,_,"invalid-api-key");const ne={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:w,v:ge.SDK_VERSION,eventId:M};if(f instanceof Ti){f.setDefaultLanguage(_.languageCode),ne.providerId=f.providerId||"",(0,B.xb)(f.getCustomParameters())||(ne.customParameters=JSON.stringify(f.getCustomParameters()));for(const[We,ot]of Object.entries(N||{}))ne[We]=ot}if(f instanceof Ms){const We=f.getScopes().filter(ot=>""!==ot);We.length>0&&(ne.scopes=We.join(","))}_.tenantId&&(ne.tid=_.tenantId);const ve=ne;for(const We of Object.keys(ve))void 0===ve[We]&&delete ve[We];return`${function Zd({config:_}){return _.emulator?Pn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,B.xO)(ve).slice(1)}`}const ku="webStorageSupport";class Wl extends class t_{constructor(f){this.factorId=f}_process(f,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,w);case"signin":return this._finalizeSignIn(f,m.credential);default:return Ae("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Wl(f)}_finalizeEnroll(f,m,w){return function mo(_,f){return Ht(_,"POST","/v2/accounts/mfaEnrollment:finalize",tn(_,f))}(f,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Cr(_,f){return Ht(_,"POST","/v2/accounts/mfaSignIn:finalize",tn(_,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Xd=(()=>{class _{constructor(){}static assertion(m){return Wl._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var _f="@firebase/auth";class g0{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(w=>{var M;f((null===(M=w)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zs(){return window}function ul(){return(ul=(0,d.Z)(function*(_,f,m){var w;const{BuildInfo:M}=zs();ie(f.sessionId,"AuthEvent did not contain a session ID");const N=yield vf(f.sessionId),ne={};return Di()?ne.ibi=M.packageName:Pi()?ne.apn=M.packageName:Ve(_,"operation-not-supported-in-this-environment"),M.displayName&&(ne.appDisplayName=M.displayName),ne.sessionId=N,Ca(_,m,f.type,void 0,null!==(w=f.eventId)&&void 0!==w?w:void 0,ne)})).apply(this,arguments)}function eh(){return(eh=(0,d.Z)(function*(_){const{BuildInfo:f}=zs(),m={};Di()?m.iosBundleId=f.packageName:Pi()?m.androidPackageName=f.packageName:Ve(_,"operation-not-supported-in-this-environment"),yield ql(_,m)})).apply(this,arguments)}function i_(){return(i_=(0,d.Z)(function*(_,f,m){const{cordova:w}=zs();let M=()=>{};try{yield new Promise((N,ne)=>{let ve=null;function We(){var Ct;N();const di=null===(Ct=w.plugins.browsertab)||void 0===Ct?void 0:Ct.close;"function"==typeof di&&di(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function ot(){ve||(ve=window.setTimeout(()=>{ne(Me(_,"redirect-cancelled-by-user"))},2e3))}function Rt(){"visible"===(null==document?void 0:document.visibilityState)&&ot()}f.addPassiveListener(We),document.addEventListener("resume",ot,!1),Pi()&&document.addEventListener("visibilitychange",Rt,!1),M=()=>{f.removePassiveListener(We),document.removeEventListener("resume",ot,!1),document.removeEventListener("visibilitychange",Rt,!1),ve&&window.clearTimeout(ve)}})}finally{M()}})).apply(this,arguments)}function vf(_){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,d.Z)(function*(_){const f=wf(_),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function wf(_){if(ie(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),m=new Uint8Array(f);for(let w=0;w<_.length;w++)m[w]=_.charCodeAt(w);return m}!function RC(_){(0,ge._registerComponent)(new de.wA("auth",(f,{options:m})=>{const w=f.getProvider("app").getImmediate(),M=f.getProvider("heartbeat"),{apiKey:N,authDomain:ne}=w.options;return((ve,We)=>{X(N&&!N.includes(":"),"invalid-api-key",{appName:ve.name}),X(!(null==ne?void 0:ne.includes(":")),"argument-error",{appName:ve.name});const ot={apiKey:N,authDomain:ne,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ko(_)},Rt=new tt(ve,We,ot);return function me(_,f){const m=(null==f?void 0:f.persistence)||[],w=(Array.isArray(m)?m:[m]).map(re);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(w,null==f?void 0:f.popupRedirectResolver)}(Rt,m),Rt})(w,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,w)=>{f.getProvider("auth-internal").initialize()})),(0,ge._registerComponent)(new de.wA("auth-internal",f=>{const m=mt(f.getProvider("auth").getImmediate());return new g0(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ge.registerVersion)(_f,"0.20.5",function m0(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ge.registerVersion)(_f,"0.20.5","esm2017")}("Browser");class Dg extends qo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,d.Z)(function*(){yield f.initPromise})()}}function Mg(_){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,d.Z)(function*(_){const f=yield Lc()._get(Bc(_));return f&&(yield Lc()._remove(Bc(_))),f})).apply(this,arguments)}function nh(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*f.length);_.push(f.charAt(w))}return _.join("")}function Lc(){return re(C)}function Bc(_){return ai("authEvent",_.config.apiKey,_.name)}function Mn(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...m]=_.split("?");return(0,B.zd)(m.join("?"))}function Kl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Me("no-auth-event")}}function rh(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Pg(_=(0,B.z$)()){return!("file:"!==rh()&&"ionic:"!==rh()&&"capacitor:"!==rh()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ef(){try{const _=self.localStorage,f=Le();if(_)return _.setItem(f,"1"),_.removeItem(f),!function dl(_=(0,B.z$)()){return function Mr(){return(0,B.w1)()&&11===(null==document?void 0:document.documentMode)}()||function sh(_=(0,B.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,B.hl)()}catch(_){return Mi()&&(0,B.hl)()}return!1}function Mi(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ql(){return(function Fg(){return"http:"===rh()||"https:"===rh()}()||(0,B.ru)()||Pg())&&!function Vc(){return(0,B.b$)()||(0,B.UG)()}()&&Ef()&&!Mi()}function Ru(){return Pg()&&"undefined"!=typeof document}function Cf(){return(Cf=(0,d.Z)(function*(){return!!Ru()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Qr={LOCAL:"local",NONE:"none",SESSION:"session"},Gc=X,xf="persistence";function oh(_){return If.apply(this,arguments)}function If(){return(If=(0,d.Z)(function*(_){yield _._initializationPromise;const f=Lg(),m=ai(xf,_.config.apiKey,_.name);f&&f.setItem(m,_._getPersistence())})).apply(this,arguments)}function Lg(){var _;try{return(null===(_=function Ou(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(f){return null}}const Bg=X;class xa{constructor(){this.browserResolver=re(class Jd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R,this._completeRedirectFn=kt,this._overrideRedirectResult=Hd}_openPopup(f,m,w,M){var N=this;return(0,d.Z)(function*(){var ne;ie(null===(ne=N.eventManagers[f._key()])||void 0===ne?void 0:ne.manager,"_initialize() not called before _openPopup()");const ve=Ca(f,m,w,je(),M);return function Yd(_,f,m,w=500,M=600){const N=Math.max((window.screen.availHeight-M)/2,0).toString(),ne=Math.max((window.screen.availWidth-w)/2,0).toString();let ve="";const We=Object.assign(Object.assign({},qd),{width:w.toString(),height:M.toString(),top:N,left:ne}),ot=(0,B.z$)().toLowerCase();m&&(ve=ls(ot)?"_blank":m),Br(ot)&&(f=f||"http://localhost",We.scrollbars="yes");const Rt=Object.entries(We).reduce((di,[Zr,Nu])=>`${di}${Zr}=${Nu},`,"");if(function ro(_=(0,B.z$)()){var f;return Di(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(ot)&&"_self"!==ve)return function Cg(_,f){const m=document.createElement("a");m.href=_,m.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(f||"",ve),new Qd(null);const Ct=window.open(f||"",ve,Rt);X(Ct,_,"popup-blocked");try{Ct.focus()}catch(di){}return new Qd(Ct)}(f,ve,Le())})()}_openRedirect(f,m,w,M){var N=this;return(0,d.Z)(function*(){return yield N._originValidation(f),function $n(_){en().location.href=_}(Ca(f,m,w,je(),M)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:M,promise:N}=this.eventManagers[m];return M?Promise.resolve(M):(ie(N,"If manager is not set, promise should be"),N)}const w=this.initAndGetManager(f);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(f){var m=this;return(0,d.Z)(function*(){const w=yield function ll(_){return Mu.apply(this,arguments)}(f),M=new qo(f);return w.register("authEvent",N=>(X(null==N?void 0:N.authEvent,f,"invalid-auth-event"),{status:M.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:M},m.iframes[f._key()]=w,M})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(ku,{type:ku},M=>{var N;const ne=null===(N=null==M?void 0:M[0])||void 0===N?void 0:N[ku];void 0!==ne&&m(!!ne),Ve(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function hf(_){return bg.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Is()||Mo()||Di()}}),this.cordovaResolver=re(class kg{constructor(){this._redirectPersistence=R,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=kt,this._overrideRedirectResult=Hd}_initialize(f){var m=this;return(0,d.Z)(function*(){const w=f._key();let M=m.eventManagers.get(w);return M||(M=new Dg(f),m.eventManagers.set(w,M),m.attachCallbackListeners(f,M)),M})()}_openPopup(f){Ve(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,w,M){var N=this;return(0,d.Z)(function*(){!function r_(_){var f,m,w,M,N,ne,ve,We,ot,Rt;const Ct=zs();X("function"==typeof(null===(f=null==Ct?void 0:Ct.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),X(void 0!==(null===(m=null==Ct?void 0:Ct.BuildInfo)||void 0===m?void 0:m.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),X("function"==typeof(null===(N=null===(M=null===(w=null==Ct?void 0:Ct.cordova)||void 0===w?void 0:w.plugins)||void 0===M?void 0:M.browsertab)||void 0===N?void 0:N.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),X("function"==typeof(null===(We=null===(ve=null===(ne=null==Ct?void 0:Ct.cordova)||void 0===ne?void 0:ne.plugins)||void 0===ve?void 0:ve.browsertab)||void 0===We?void 0:We.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),X("function"==typeof(null===(Rt=null===(ot=null==Ct?void 0:Ct.cordova)||void 0===ot?void 0:ot.InAppBrowser)||void 0===Rt?void 0:Rt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const ne=yield N._initialize(f);yield ne.initialized(),ne.resetRedirect(),function Rc(){Us.clear()}(),yield N._originValidation(f);const ve=function Tg(_,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:nh(),postBody:null,tenantId:_.tenantId,error:Me(_,"no-auth-event")}}(f,w,M);yield function Sg(_,f){return Lc()._set(Bc(_),f)}(f,ve);const We=yield function bo(_,f,m){return ul.apply(this,arguments)}(f,ve,m),ot=yield function th(_){const{cordova:f}=zs();return new Promise(m=>{f.plugins.browsertab.isAvailable(w=>{let M=null;w?f.plugins.browsertab.openUrl(_):M=f.InAppBrowser.open(_,function pc(_=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(M)})})}(We);return function _0(_,f,m){return i_.apply(this,arguments)}(f,ne,ot)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Af(_){return eh.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:w,handleOpenURL:M,BuildInfo:N}=zs(),ne=setTimeout((0,d.Z)(function*(){yield Mg(f),m.onEvent(Kl())}),500),ve=function(){var Rt=(0,d.Z)(function*(Ct){clearTimeout(ne);const di=yield Mg(f);let Zr=null;di&&(null==Ct?void 0:Ct.url)&&(Zr=function o_(_,f){var m,w;const M=function a_(_){const f=Mn(_),m=f.link?decodeURIComponent(f.link):void 0,w=Mn(m).link,M=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Mn(M).link||M||w||m||_}(f);if(M.includes("/__/auth/callback")){const N=Mn(M),ne=N.firebaseError?function ih(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(N.firebaseError)):null,ve=null===(w=null===(m=null==ne?void 0:ne.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],We=ve?Me(ve):null;return We?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:We,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:M,postBody:null}}return null}(di,Ct.url)),m.onEvent(Zr||Kl())});return function(di){return Rt.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,ve);const We=M,ot=`${N.packageName.toLowerCase()}://`;zs().handleOpenURL=function(){var Rt=(0,d.Z)(function*(Ct){if(Ct.toLowerCase().startsWith(ot)&&ve({url:Ct}),"function"==typeof We)try{We(Ct)}catch(di){console.error(di)}});return function(Ct){return Rt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R,this._completeRedirectFn=kt,this._overrideRedirectResult=Hd}_initialize(f){var m=this;return(0,d.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,w,M){var N=this;return(0,d.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,m,w,M)})()}_openRedirect(f,m,w,M){var N=this;return(0,d.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,m,w,M)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Ru()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Bg(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,d.Z)(function*(){if(f.underlyingResolver)return;const m=yield function d_(){return Cf.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function h_(_){return _.unwrap()}function Fu(_){return Df(_)}function Df(_){const{_tokenResponse:f}=_ instanceof B.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof B.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return rl.credentialFromResult(_);const m=f.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=xl;break;case"facebook.com":w=Po;break;case"github.com":w=pu;break;case"twitter.com":w=lo;break;default:const{oauthIdToken:M,oauthAccessToken:N,oauthTokenSecret:ne,pendingToken:ve,nonce:We}=f;return N||ne||M||ve?ve?m.startsWith("saml.")?ao._create(m,ve):ds._fromParams({providerId:m,signInMethod:m,pendingToken:ve,idToken:M,accessToken:N}):new Ur(m).credential({idToken:M,accessToken:N,rawNonce:We}):null}return _ instanceof B.ZR?w.credentialFromError(_):w.credentialFromResult(_)}function Yr(_,f){return f.catch(m=>{throw m instanceof B.ZR&&function f_(_,f){var m,w;const M=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(w=f)||void 0===w?void 0:w.code))f.resolver=new ii(_,function ci(_,f){var m;const w=(0,B.m9)(_),M=f;return X(f.customData.operationType,w,"argument-error"),X(null===(m=M.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Ns._fromError(w,M)}(_,f));else if(M){const N=Df(f),ne=f;N&&(ne.credential=N,ne.tenantId=M.tenantId||void 0,ne.email=M.email||void 0,ne.phoneNumber=M.phoneNumber||void 0)}}(_,m),m}).then(m=>{const M=m.user;return{operationType:m.operationType,credential:Fu(m),additionalUserInfo:br(m),user:Ko.getOrCreate(M)}})}function Tf(_,f){return Vg.apply(this,arguments)}function Vg(){return(Vg=(0,d.Z)(function*(_,f){const m=yield f;return{verificationId:m.verificationId,confirm:w=>Yr(_,m.confirm(w))}})).apply(this,arguments)}class ii{constructor(f,m){this.resolver=m,this.auth=function A0(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Yr(h_(this.auth),this.resolver.resolveSignIn(f))}}class Ko{constructor(f){this._delegate=f,this.multiFactor=function Er(_){const f=(0,B.m9)(_);return el.has(f)||el.set(f,yo._fromUser(f)),el.get(f)}(f)}static getOrCreate(f){return Ko.USER_MAP.has(f)||Ko.USER_MAP.set(f,new Ko(f)),Ko.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,d.Z)(function*(){return Yr(m.auth,ni(m._delegate,f))})()}linkWithPhoneNumber(f,m){var w=this;return(0,d.Z)(function*(){return Tf(w.auth,function cf(_,f,m){return Sc.apply(this,arguments)}(w._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,d.Z)(function*(){return Yr(m.auth,function df(_,f,m){return Mc.apply(this,arguments)}(m._delegate,f,xa))})()}linkWithRedirect(f){var m=this;return(0,d.Z)(function*(){return yield oh(mt(m.auth)),function oe(_,f,m){return function pe(_,f,m){return Ne.apply(this,arguments)}(_,f,m)}(m._delegate,f,xa)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,d.Z)(function*(){return Yr(m.auth,ps(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return Tf(this.auth,function Ir(_,f,m){return Dr.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return Yr(this.auth,function xu(_,f,m){return Iu.apply(this,arguments)}(this._delegate,f,xa))}reauthenticateWithRedirect(f){var m=this;return(0,d.Z)(function*(){return yield oh(mt(m.auth)),function T(_,f,m){return function P(_,f,m){return H.apply(this,arguments)}(_,f,m)}(m._delegate,f,xa)})()}sendEmailVerification(f){return function da(_,f){return ha.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,d.Z)(function*(){return yield function Tl(_,f){return un.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function gu(_,f){return Ps((0,B.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function Xa(_,f){return Ps((0,B.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function jl(_,f){return zl.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Fl(_,f){return go.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function Ol(_,f,m){return Ja.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ko.USER_MAP=new WeakMap;const Un=X;let Sf=(()=>{class _{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=m.options;Un(M,"invalid-api-key",{appName:m.name}),Un(M,"invalid-api-key",{appName:m.name});const N="undefined"!=typeof window?xa:void 0;this._delegate=w.initialize({options:{persistence:On(M,m.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Be),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ko.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function Wi(_,f,m){const w=mt(_);X(w._canInitEmulator,w,"emulator-config-failed"),X(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const M=!!(null==m?void 0:m.disableWarnings),N=Xi(f),{host:ne,port:ve}=function In(_){const f=Xi(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(w);if(M){const N=M[1];return{host:N,port:Ar(w.substr(N.length+1))}}{const[N,ne]=w.split(":");return{host:N,port:Ar(ne)}}}(f);w.config.emulator={url:`${N}//${ne}${null===ve?"":`:${ve}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:ne,port:ve,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function gn(){function _(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,w)}applyActionCode(m){return function Fe(_,f){return $t.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Qa(this._delegate,m)}confirmPasswordReset(m,w){return function kl(_,f,m){return ho.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var M=this;return(0,d.Z)(function*(){return Yr(M._delegate,function rr(_,f,m){return la.apply(this,arguments)}(M._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Fs(_,f){return sr.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function ca(_,f){const m=qa.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,d.Z)(function*(){Un(Ql(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function Xe(_,f){return xt.apply(this,arguments)}(m._delegate,xa);return w?Yr(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Rg(_,f){mt(_)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,w,M){const{next:N,error:ne,complete:ve}=Gg(m,w,M);return this._delegate.onAuthStateChanged(N,ne,ve)}onIdTokenChanged(m,w,M){const{next:N,error:ne,complete:ve}=Gg(m,w,M);return this._delegate.onIdTokenChanged(N,ne,ve)}sendSignInLinkToEmail(m,w){return function Fd(_,f,m){return Ya.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function Ml(_,f,m){return aa.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,d.Z)(function*(){let M;switch(function Ng(_,f){Gc(Object.values(Qr).includes(f),_,"invalid-persistence-type"),(0,B.b$)()?Gc(f!==Qr.SESSION,_,"unsupported-persistence-type"):(0,B.UG)()?Gc(f===Qr.NONE,_,"unsupported-persistence-type"):Mi()?Gc(f===Qr.NONE||f===Qr.LOCAL&&(0,B.hl)(),_,"unsupported-persistence-type"):Gc(f===Qr.NONE||Ef(),_,"unsupported-persistence-type")}(w._delegate,m),m){case Qr.SESSION:M=R;break;case Qr.LOCAL:M=(yield re(Ho)._isAvailable())?Ho:C;break;case Qr.NONE:M=nn;break;default:return Ve("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Yr(this._delegate,function wc(_){return bc.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Yr(this._delegate,Dn(this._delegate,m))}signInWithCustomToken(m){return Yr(this._delegate,function Bo(_,f){return Et.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Yr(this._delegate,function Rl(_,f,m){return Dn((0,B.m9)(_),vc.credential(f,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Yr(this._delegate,function Za(_,f,m){return Bn.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return Tf(this._delegate,function Hl(_,f,m){return vo.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,d.Z)(function*(){return Un(Ql(),w._delegate,"operation-not-supported-in-this-environment"),Yr(w._delegate,function $l(_,f,m){return wa.apply(this,arguments)}(w._delegate,m,xa))})()}signInWithRedirect(m){var w=this;return(0,d.Z)(function*(){return Un(Ql(),w._delegate,"operation-not-supported-in-this-environment"),yield oh(w._delegate),function Oc(_,f,m){return function wg(_,f,m){return D.apply(this,arguments)}(_,f,m)}(w._delegate,m,xa)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function fo(_,f){return Os.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Qr,_})();function Gg(_,f,m){let w=_;"function"!=typeof _&&({next:w,error:f,complete:m}=_);const M=w;return{next:ne=>M(ne&&Ko.getOrCreate(ne)),error:f,complete:m}}function On(_,f){const m=function ah(_,f){const m=Lg();if(!m)return[];const w=ai(xf,_,f);switch(m.getItem(w)){case Qr.NONE:return[nn];case Qr.LOCAL:return[Ho,R];case Qr.SESSION:return[R];default:return[]}}(_,f);if("undefined"!=typeof self&&!m.includes(Ho)&&m.push(Ho),"undefined"!=typeof window)for(const w of[C,R])m.includes(w)||m.push(w);return m.includes(nn)||m.push(nn),m}class Pu{constructor(){this.providerId="phone",this._delegate=new rl(h_(se.Z.auth()))}static credential(f,m){return rl.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}Pu.PHONE_SIGN_IN_METHOD=rl.PHONE_SIGN_IN_METHOD,Pu.PROVIDER_ID=rl.PROVIDER_ID;const De=X;class Eo{constructor(f,m,w=se.Z.app()){var M;De(null===(M=w.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new xr(f,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function kr(_){_.INTERNAL.registerComponent(new de.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),w=f.getProvider("auth");return new Sf(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:vc,FacebookAuthProvider:Po,GithubAuthProvider:pu,GoogleAuthProvider:xl,OAuthProvider:Ur,SAMLAuthProvider:Ni,PhoneAuthProvider:Pu,PhoneMultiFactorGenerator:Xd,RecaptchaVerifier:Eo,TwitterAuthProvider:lo,Auth:Sf,AuthCredential:Cn,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.18")}(se.Z)},9751:(rt,ye,L)=>{"use strict";L.d(ye,{y:()=>_e});var d=L(930),se=L(727),B=L(8822),ge=L(9635),fe=L(2416),Ee=L(576),de=L(2806);let _e=(()=>{class ae{constructor(Ge){Ge&&(this._subscribe=Ge)}lift(Ge){const Be=new ae;return Be.source=this,Be.operator=Ge,Be}subscribe(Ge,Be,yt){const Se=function J(ae){return ae&&ae instanceof d.Lv||function K(ae){return ae&&(0,Ee.m)(ae.next)&&(0,Ee.m)(ae.error)&&(0,Ee.m)(ae.complete)}(ae)&&(0,se.Nn)(ae)}(Ge)?Ge:new d.Hp(Ge,Be,yt);return(0,de.x)(()=>{const{operator:Re,source:lt}=this;Se.add(Re?Re.call(Se,lt):lt?this._subscribe(Se):this._trySubscribe(Se))}),Se}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(Be){Ge.error(Be)}}forEach(Ge,Be){return new(Be=we(Be))((yt,Se)=>{const Re=new d.Hp({next:lt=>{try{Ge(lt)}catch(ht){Se(ht),Re.unsubscribe()}},error:Se,complete:yt});this.subscribe(Re)})}_subscribe(Ge){var Be;return null===(Be=this.source)||void 0===Be?void 0:Be.subscribe(Ge)}[B.L](){return this}pipe(...Ge){return(0,ge.U)(Ge)(this)}toPromise(Ge){return new(Ge=we(Ge))((Be,yt)=>{let Se;this.subscribe(Re=>Se=Re,Re=>yt(Re),()=>Be(Se))})}}return ae.create=Ke=>new ae(Ke),ae})();function we(ae){var Ke;return null!==(Ke=null!=ae?ae:fe.v.Promise)&&void 0!==Ke?Ke:Promise}},7579:(rt,ye,L)=>{"use strict";L.d(ye,{x:()=>de});var d=L(9751),se=L(727);const ge=(0,L(3888).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=L(8737),Ee=L(2806);let de=(()=>{class we extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(J){const ae=new _e(this,this);return ae.operator=J,ae}_throwIfClosed(){if(this.closed)throw new ge}next(J){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ae of this.currentObservers)ae.next(J)}})}error(J){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=J;const{observers:ae}=this;for(;ae.length;)ae.shift().error(J)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:J}=this;for(;J.length;)J.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var J;return(null===(J=this.observers)||void 0===J?void 0:J.length)>0}_trySubscribe(J){return this._throwIfClosed(),super._trySubscribe(J)}_subscribe(J){return this._throwIfClosed(),this._checkFinalizedStatuses(J),this._innerSubscribe(J)}_innerSubscribe(J){const{hasError:ae,isStopped:Ke,observers:Ge}=this;return ae||Ke?se.Lc:(this.currentObservers=null,Ge.push(J),new se.w0(()=>{this.currentObservers=null,(0,fe.P)(Ge,J)}))}_checkFinalizedStatuses(J){const{hasError:ae,thrownError:Ke,isStopped:Ge}=this;ae?J.error(Ke):Ge&&J.complete()}asObservable(){const J=new d.y;return J.source=this,J}}return we.create=(K,J)=>new _e(K,J),we})();class _e extends de{constructor(K,J){super(),this.destination=K,this.source=J}next(K){var J,ae;null===(ae=null===(J=this.destination)||void 0===J?void 0:J.next)||void 0===ae||ae.call(J,K)}error(K){var J,ae;null===(ae=null===(J=this.destination)||void 0===J?void 0:J.error)||void 0===ae||ae.call(J,K)}complete(){var K,J;null===(J=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===J||J.call(K)}_subscribe(K){var J,ae;return null!==(ae=null===(J=this.source)||void 0===J?void 0:J.subscribe(K))&&void 0!==ae?ae:se.Lc}}},930:(rt,ye,L)=>{"use strict";L.d(ye,{Hp:()=>yt,Lv:()=>ae});var d=L(576),se=L(727),B=L(2416),ge=L(7849),fe=L(5032);const Ee=we("C",void 0,void 0);function we(Ve,Me,Oe){return{kind:Ve,value:Me,error:Oe}}var K=L(3410),J=L(2806);class ae extends se.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,se.Nn)(Me)&&Me.add(this)):this.destination=ht}static create(Me,Oe,Qe){return new yt(Me,Oe,Qe)}next(Me){this.isStopped?lt(function _e(Ve){return we("N",Ve,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?lt(function de(Ve){return we("E",void 0,Ve)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?lt(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function Ge(Ve,Me){return Ke.call(Ve,Me)}class Be{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(Me)}catch(Qe){Se(Qe)}}error(Me){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(Me)}catch(Qe){Se(Qe)}else Se(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(Oe){Se(Oe)}}}class yt extends ae{constructor(Me,Oe,Qe){let te;if(super(),(0,d.m)(Me)||!Me)te={next:null!=Me?Me:void 0,error:null!=Oe?Oe:void 0,complete:null!=Qe?Qe:void 0};else{let X;this&&B.v.useDeprecatedNextContext?(X=Object.create(Me),X.unsubscribe=()=>this.unsubscribe(),te={next:Me.next&&Ge(Me.next,X),error:Me.error&&Ge(Me.error,X),complete:Me.complete&&Ge(Me.complete,X)}):te=Me}this.destination=new Be(te)}}function Se(Ve){B.v.useDeprecatedSynchronousErrorHandling?(0,J.O)(Ve):(0,ge.h)(Ve)}function lt(Ve,Me){const{onStoppedNotification:Oe}=B.v;Oe&&K.z.setTimeout(()=>Oe(Ve,Me))}const ht={closed:!0,next:fe.Z,error:function Re(Ve){throw Ve},complete:fe.Z}},727:(rt,ye,L)=>{"use strict";L.d(ye,{Lc:()=>Ee,w0:()=>fe,Nn:()=>de});var d=L(576);const B=(0,L(3888).d)(we=>function(J){we(this),this.message=J?`${J.length} errors occurred during unsubscription:\n${J.map((ae,Ke)=>`${Ke+1}) ${ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=J});var ge=L(8737);class fe{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:J}=this;if(J)if(this._parentage=null,Array.isArray(J))for(const Ge of J)Ge.remove(this);else J.remove(this);const{initialTeardown:ae}=this;if((0,d.m)(ae))try{ae()}catch(Ge){K=Ge instanceof B?Ge.errors:[Ge]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const Ge of Ke)try{_e(Ge)}catch(Be){K=null!=K?K:[],Be instanceof B?K=[...K,...Be.errors]:K.push(Be)}}if(K)throw new B(K)}}add(K){var J;if(K&&K!==this)if(this.closed)_e(K);else{if(K instanceof fe){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(J=this._finalizers)&&void 0!==J?J:[]).push(K)}}_hasParent(K){const{_parentage:J}=this;return J===K||Array.isArray(J)&&J.includes(K)}_addParent(K){const{_parentage:J}=this;this._parentage=Array.isArray(J)?(J.push(K),J):J?[J,K]:K}_removeParent(K){const{_parentage:J}=this;J===K?this._parentage=null:Array.isArray(J)&&(0,ge.P)(J,K)}remove(K){const{_finalizers:J}=this;J&&(0,ge.P)(J,K),K instanceof fe&&K._removeParent(this)}}fe.EMPTY=(()=>{const we=new fe;return we.closed=!0,we})();const Ee=fe.EMPTY;function de(we){return we instanceof fe||we&&"closed"in we&&(0,d.m)(we.remove)&&(0,d.m)(we.add)&&(0,d.m)(we.unsubscribe)}function _e(we){(0,d.m)(we)?we():we.unsubscribe()}},2416:(rt,ye,L)=>{"use strict";L.d(ye,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(rt,ye,L)=>{"use strict";L.d(ye,{E:()=>se});const se=new(L(9751).y)(fe=>fe.complete())},8996:(rt,ye,L)=>{"use strict";L.d(ye,{D:()=>Me});var d=L(8421),se=L(5363),B=L(9468),Ee=L(9751),_e=L(2202),we=L(576),K=L(9672);function ae(Oe,Qe){if(!Oe)throw new Error("Iterable cannot be null");return new Ee.y(te=>{(0,K.f)(te,Qe,()=>{const X=Oe[Symbol.asyncIterator]();(0,K.f)(te,Qe,()=>{X.next().then(Ae=>{Ae.done?te.complete():te.next(Ae.value)})},0,!0)})})}var Ke=L(3670),Ge=L(8239),Be=L(1144),yt=L(6495),Se=L(2206),Re=L(4532),lt=L(3260);function Me(Oe,Qe){return Qe?function Ve(Oe,Qe){if(null!=Oe){if((0,Ke.c)(Oe))return function ge(Oe,Qe){return(0,d.Xf)(Oe).pipe((0,B.R)(Qe),(0,se.Q)(Qe))}(Oe,Qe);if((0,Be.z)(Oe))return function de(Oe,Qe){return new Ee.y(te=>{let X=0;return Qe.schedule(function(){X===Oe.length?te.complete():(te.next(Oe[X++]),te.closed||this.schedule())})})}(Oe,Qe);if((0,Ge.t)(Oe))return function fe(Oe,Qe){return(0,d.Xf)(Oe).pipe((0,B.R)(Qe),(0,se.Q)(Qe))}(Oe,Qe);if((0,Se.D)(Oe))return ae(Oe,Qe);if((0,yt.T)(Oe))return function J(Oe,Qe){return new Ee.y(te=>{let X;return(0,K.f)(te,Qe,()=>{X=Oe[_e.h](),(0,K.f)(te,Qe,()=>{let Ae,ie;try{({value:Ae,done:ie}=X.next())}catch(ce){return void te.error(ce)}ie?te.complete():te.next(Ae)},0,!0)}),()=>(0,we.m)(null==X?void 0:X.return)&&X.return()})}(Oe,Qe);if((0,lt.L)(Oe))return function ht(Oe,Qe){return ae((0,lt.Q)(Oe),Qe)}(Oe,Qe)}throw(0,Re.z)(Oe)}(Oe,Qe):(0,d.Xf)(Oe)}},8421:(rt,ye,L)=>{"use strict";L.d(ye,{Xf:()=>Ke});var d=L(655),se=L(1144),B=L(8239),ge=L(9751),fe=L(3670),Ee=L(2206),de=L(4532),_e=L(6495),we=L(3260),K=L(576),J=L(7849),ae=L(8822);function Ke(Ve){if(Ve instanceof ge.y)return Ve;if(null!=Ve){if((0,fe.c)(Ve))return function Ge(Ve){return new ge.y(Me=>{const Oe=Ve[ae.L]();if((0,K.m)(Oe.subscribe))return Oe.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ve);if((0,se.z)(Ve))return function Be(Ve){return new ge.y(Me=>{for(let Oe=0;Oe<Ve.length&&!Me.closed;Oe++)Me.next(Ve[Oe]);Me.complete()})}(Ve);if((0,B.t)(Ve))return function yt(Ve){return new ge.y(Me=>{Ve.then(Oe=>{Me.closed||(Me.next(Oe),Me.complete())},Oe=>Me.error(Oe)).then(null,J.h)})}(Ve);if((0,Ee.D)(Ve))return Re(Ve);if((0,_e.T)(Ve))return function Se(Ve){return new ge.y(Me=>{for(const Oe of Ve)if(Me.next(Oe),Me.closed)return;Me.complete()})}(Ve);if((0,we.L)(Ve))return function lt(Ve){return Re((0,we.Q)(Ve))}(Ve)}throw(0,de.z)(Ve)}function Re(Ve){return new ge.y(Me=>{(function ht(Ve,Me){var Oe,Qe,te,X;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Oe=(0,d.KL)(Ve);!(Qe=yield Oe.next()).done;)if(Me.next(Qe.value),Me.closed)return}catch(Ae){te={error:Ae}}finally{try{Qe&&!Qe.done&&(X=Oe.return)&&(yield X.call(Oe))}finally{if(te)throw te.error}}Me.complete()})})(Ve,Me).catch(Oe=>Me.error(Oe))})}},6451:(rt,ye,L)=>{"use strict";L.d(ye,{T:()=>Ee});var d=L(8189),se=L(8421),B=L(515),ge=L(7669),fe=L(8996);function Ee(...de){const _e=(0,ge.yG)(de),we=(0,ge._6)(de,1/0),K=de;return K.length?1===K.length?(0,se.Xf)(K[0]):(0,d.J)(we)((0,fe.D)(K,_e)):B.E}},5403:(rt,ye,L)=>{"use strict";L.d(ye,{x:()=>se});var d=L(930);function se(ge,fe,Ee,de,_e){return new B(ge,fe,Ee,de,_e)}class B extends d.Lv{constructor(fe,Ee,de,_e,we,K){super(fe),this.onFinalize=we,this.shouldUnsubscribe=K,this._next=Ee?function(J){try{Ee(J)}catch(ae){fe.error(ae)}}:super._next,this._error=_e?function(J){try{_e(J)}catch(ae){fe.error(ae)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(J){fe.error(J)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4004:(rt,ye,L)=>{"use strict";L.d(ye,{U:()=>B});var d=L(4482),se=L(5403);function B(ge,fe){return(0,d.e)((Ee,de)=>{let _e=0;Ee.subscribe((0,se.x)(de,we=>{de.next(ge.call(fe,we,_e++))}))})}},8189:(rt,ye,L)=>{"use strict";L.d(ye,{J:()=>B});var d=L(5577),se=L(4671);function B(ge=1/0){return(0,d.z)(se.y,ge)}},5577:(rt,ye,L)=>{"use strict";L.d(ye,{z:()=>_e});var d=L(4004),se=L(8421),B=L(4482),ge=L(9672),fe=L(5403),de=L(576);function _e(we,K,J=1/0){return(0,de.m)(K)?_e((ae,Ke)=>(0,d.U)((Ge,Be)=>K(ae,Ge,Ke,Be))((0,se.Xf)(we(ae,Ke))),J):("number"==typeof K&&(J=K),(0,B.e)((ae,Ke)=>function Ee(we,K,J,ae,Ke,Ge,Be,yt){const Se=[];let Re=0,lt=0,ht=!1;const Ve=()=>{ht&&!Se.length&&!Re&&K.complete()},Me=Qe=>Re<ae?Oe(Qe):Se.push(Qe),Oe=Qe=>{Ge&&K.next(Qe),Re++;let te=!1;(0,se.Xf)(J(Qe,lt++)).subscribe((0,fe.x)(K,X=>{null==Ke||Ke(X),Ge?Me(X):K.next(X)},()=>{te=!0},void 0,()=>{if(te)try{for(Re--;Se.length&&Re<ae;){const X=Se.shift();Be?(0,ge.f)(K,Be,()=>Oe(X)):Oe(X)}Ve()}catch(X){K.error(X)}}))};return we.subscribe((0,fe.x)(K,Me,()=>{ht=!0,Ve()})),()=>{null==yt||yt()}}(ae,Ke,we,J)))}},5363:(rt,ye,L)=>{"use strict";L.d(ye,{Q:()=>ge});var d=L(9672),se=L(4482),B=L(5403);function ge(fe,Ee=0){return(0,se.e)((de,_e)=>{de.subscribe((0,B.x)(_e,we=>(0,d.f)(_e,fe,()=>_e.next(we),Ee),()=>(0,d.f)(_e,fe,()=>_e.complete(),Ee),we=>(0,d.f)(_e,fe,()=>_e.error(we),Ee)))})}},3099:(rt,ye,L)=>{"use strict";L.d(ye,{B:()=>fe});var d=L(8421),se=L(7579),B=L(930),ge=L(4482);function fe(de={}){const{connector:_e=(()=>new se.x),resetOnError:we=!0,resetOnComplete:K=!0,resetOnRefCountZero:J=!0}=de;return ae=>{let Ke,Ge,Be,yt=0,Se=!1,Re=!1;const lt=()=>{null==Ge||Ge.unsubscribe(),Ge=void 0},ht=()=>{lt(),Ke=Be=void 0,Se=Re=!1},Ve=()=>{const Me=Ke;ht(),null==Me||Me.unsubscribe()};return(0,ge.e)((Me,Oe)=>{yt++,!Re&&!Se&&lt();const Qe=Be=null!=Be?Be:_e();Oe.add(()=>{yt--,0===yt&&!Re&&!Se&&(Ge=Ee(Ve,J))}),Qe.subscribe(Oe),!Ke&&yt>0&&(Ke=new B.Hp({next:te=>Qe.next(te),error:te=>{Re=!0,lt(),Ge=Ee(ht,we,te),Qe.error(te)},complete:()=>{Se=!0,lt(),Ge=Ee(ht,K),Qe.complete()}}),(0,d.Xf)(Me).subscribe(Ke))})(ae)}}function Ee(de,_e,...we){if(!0===_e)return void de();if(!1===_e)return;const K=new B.Hp({next:()=>{K.unsubscribe(),de()}});return _e(...we).subscribe(K)}},9468:(rt,ye,L)=>{"use strict";L.d(ye,{R:()=>se});var d=L(4482);function se(B,ge=0){return(0,d.e)((fe,Ee)=>{Ee.add(B.schedule(()=>fe.subscribe(Ee),ge))})}},8505:(rt,ye,L)=>{"use strict";L.d(ye,{b:()=>fe});var d=L(576),se=L(4482),B=L(5403),ge=L(4671);function fe(Ee,de,_e){const we=(0,d.m)(Ee)||de||_e?{next:Ee,error:de,complete:_e}:Ee;return we?(0,se.e)((K,J)=>{var ae;null===(ae=we.subscribe)||void 0===ae||ae.call(we);let Ke=!0;K.subscribe((0,B.x)(J,Ge=>{var Be;null===(Be=we.next)||void 0===Be||Be.call(we,Ge),J.next(Ge)},()=>{var Ge;Ke=!1,null===(Ge=we.complete)||void 0===Ge||Ge.call(we),J.complete()},Ge=>{var Be;Ke=!1,null===(Be=we.error)||void 0===Be||Be.call(we,Ge),J.error(Ge)},()=>{var Ge,Be;Ke&&(null===(Ge=we.unsubscribe)||void 0===Ge||Ge.call(we)),null===(Be=we.finalize)||void 0===Be||Be.call(we)}))}):ge.y}},4408:(rt,ye,L)=>{"use strict";L.d(ye,{o:()=>fe});var d=L(727);class se extends d.w0{constructor(de,_e){super()}schedule(de,_e=0){return this}}const B={setInterval(Ee,de,..._e){const{delegate:we}=B;return(null==we?void 0:we.setInterval)?we.setInterval(Ee,de,..._e):setInterval(Ee,de,..._e)},clearInterval(Ee){const{delegate:de}=B;return((null==de?void 0:de.clearInterval)||clearInterval)(Ee)},delegate:void 0};var ge=L(8737);class fe extends se{constructor(de,_e){super(de,_e),this.scheduler=de,this.work=_e,this.pending=!1}schedule(de,_e=0){if(this.closed)return this;this.state=de;const we=this.id,K=this.scheduler;return null!=we&&(this.id=this.recycleAsyncId(K,we,_e)),this.pending=!0,this.delay=_e,this.id=this.id||this.requestAsyncId(K,this.id,_e),this}requestAsyncId(de,_e,we=0){return B.setInterval(de.flush.bind(de,this),we)}recycleAsyncId(de,_e,we=0){if(null!=we&&this.delay===we&&!1===this.pending)return _e;B.clearInterval(_e)}execute(de,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(de,_e);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,_e){let K,we=!1;try{this.work(de)}catch(J){we=!0,K=J||new Error("Scheduled action threw falsy error")}if(we)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:de,scheduler:_e}=this,{actions:we}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ge.P)(we,this),null!=de&&(this.id=this.recycleAsyncId(_e,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(rt,ye,L)=>{"use strict";L.d(ye,{v:()=>B});var d=L(6063);class se{constructor(fe,Ee=se.now){this.schedulerActionCtor=fe,this.now=Ee}schedule(fe,Ee=0,de){return new this.schedulerActionCtor(this,fe).schedule(de,Ee)}}se.now=d.l.now;class B extends se{constructor(fe,Ee=se.now){super(fe,Ee),this.actions=[],this._active=!1,this._scheduled=void 0}flush(fe){const{actions:Ee}=this;if(this._active)return void Ee.push(fe);let de;this._active=!0;do{if(de=fe.execute(fe.state,fe.delay))break}while(fe=Ee.shift());if(this._active=!1,de){for(;fe=Ee.shift();)fe.unsubscribe();throw de}}}},4986:(rt,ye,L)=>{"use strict";L.d(ye,{z:()=>B});var d=L(4408);const B=new(L(7565).v)(d.o)},6063:(rt,ye,L)=>{"use strict";L.d(ye,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(rt,ye,L)=>{"use strict";L.d(ye,{z:()=>d});const d={setTimeout(se,B,...ge){const{delegate:fe}=d;return(null==fe?void 0:fe.setTimeout)?fe.setTimeout(se,B,...ge):setTimeout(se,B,...ge)},clearTimeout(se){const{delegate:B}=d;return((null==B?void 0:B.clearTimeout)||clearTimeout)(se)},delegate:void 0}},2202:(rt,ye,L)=>{"use strict";L.d(ye,{h:()=>se});const se=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(rt,ye,L)=>{"use strict";L.d(ye,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(rt,ye,L)=>{"use strict";L.d(ye,{_6:()=>Ee,jO:()=>ge,yG:()=>fe});var d=L(576);function B(de){return de[de.length-1]}function ge(de){return(0,d.m)(B(de))?de.pop():void 0}function fe(de){return function se(de){return de&&(0,d.m)(de.schedule)}(B(de))?de.pop():void 0}function Ee(de,_e){return"number"==typeof B(de)?de.pop():_e}},8737:(rt,ye,L)=>{"use strict";function d(se,B){if(se){const ge=se.indexOf(B);0<=ge&&se.splice(ge,1)}}L.d(ye,{P:()=>d})},3888:(rt,ye,L)=>{"use strict";function d(se){const ge=se(fe=>{Error.call(fe),fe.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}L.d(ye,{d:()=>d})},2806:(rt,ye,L)=>{"use strict";L.d(ye,{x:()=>B,O:()=>ge});var d=L(2416);let se=null;function B(fe){if(d.v.useDeprecatedSynchronousErrorHandling){const Ee=!se;if(Ee&&(se={errorThrown:!1,error:null}),fe(),Ee){const{errorThrown:de,error:_e}=se;if(se=null,de)throw _e}}else fe()}function ge(fe){d.v.useDeprecatedSynchronousErrorHandling&&se&&(se.errorThrown=!0,se.error=fe)}},9672:(rt,ye,L)=>{"use strict";function d(se,B,ge,fe=0,Ee=!1){const de=B.schedule(function(){ge(),Ee?se.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(se.add(de),!Ee)return de}L.d(ye,{f:()=>d})},4671:(rt,ye,L)=>{"use strict";function d(se){return se}L.d(ye,{y:()=>d})},1144:(rt,ye,L)=>{"use strict";L.d(ye,{z:()=>d});const d=se=>se&&"number"==typeof se.length&&"function"!=typeof se},2206:(rt,ye,L)=>{"use strict";L.d(ye,{D:()=>se});var d=L(576);function se(B){return Symbol.asyncIterator&&(0,d.m)(null==B?void 0:B[Symbol.asyncIterator])}},576:(rt,ye,L)=>{"use strict";function d(se){return"function"==typeof se}L.d(ye,{m:()=>d})},3670:(rt,ye,L)=>{"use strict";L.d(ye,{c:()=>B});var d=L(8822),se=L(576);function B(ge){return(0,se.m)(ge[d.L])}},6495:(rt,ye,L)=>{"use strict";L.d(ye,{T:()=>B});var d=L(2202),se=L(576);function B(ge){return(0,se.m)(null==ge?void 0:ge[d.h])}},8239:(rt,ye,L)=>{"use strict";L.d(ye,{t:()=>se});var d=L(576);function se(B){return(0,d.m)(null==B?void 0:B.then)}},3260:(rt,ye,L)=>{"use strict";L.d(ye,{Q:()=>B,L:()=>ge});var d=L(655),se=L(576);function B(fe){return(0,d.FC)(this,arguments,function*(){const de=fe.getReader();try{for(;;){const{value:_e,done:we}=yield(0,d.qq)(de.read());if(we)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(_e)}}finally{de.releaseLock()}})}function ge(fe){return(0,se.m)(null==fe?void 0:fe.getReader)}},4482:(rt,ye,L)=>{"use strict";L.d(ye,{A:()=>se,e:()=>B});var d=L(576);function se(ge){return(0,d.m)(null==ge?void 0:ge.lift)}function B(ge){return fe=>{if(se(fe))return fe.lift(function(Ee){try{return ge(Ee,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(rt,ye,L)=>{"use strict";function d(){}L.d(ye,{Z:()=>d})},9635:(rt,ye,L)=>{"use strict";L.d(ye,{z:()=>se,U:()=>B});var d=L(4671);function se(...ge){return B(ge)}function B(ge){return 0===ge.length?d.y:1===ge.length?ge[0]:function(Ee){return ge.reduce((de,_e)=>_e(de),Ee)}}},7849:(rt,ye,L)=>{"use strict";L.d(ye,{h:()=>B});var d=L(2416),se=L(3410);function B(ge){se.z.setTimeout(()=>{const{onUnhandledError:fe}=d.v;if(!fe)throw ge;fe(ge)})}},4532:(rt,ye,L)=>{"use strict";function d(se){return new TypeError(`You provided ${null!==se&&"object"==typeof se?"an invalid object":`'${se}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(ye,{z:()=>d})},5226:function(rt){rt.exports=function(){"use strict";const ye="SweetAlert2:",d=C=>C.charAt(0).toUpperCase()+C.slice(1),se=C=>{console.warn("".concat(ye," ").concat("object"==typeof C?C.join(" "):C))},B=C=>{console.error("".concat(ye," ").concat(C))},ge=[],Ee=(C,x)=>{(C=>{ge.includes(C)||(ge.push(C),se(C))})('"'.concat(C,'" is deprecated and will be removed in the next major release. Please use "').concat(x,'" instead.'))},de=C=>"function"==typeof C?C():C,_e=C=>C&&"function"==typeof C.toPromise,we=C=>_e(C)?C.toPromise():Promise.resolve(C),K=C=>C&&Promise.resolve(C)===C,ae={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ke=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ge={},Be=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],yt=C=>Object.prototype.hasOwnProperty.call(ae,C),Se=C=>-1!==Ke.indexOf(C),Re=C=>Ge[C],lt=C=>{yt(C)||se('Unknown parameter "'.concat(C,'"'))},ht=C=>{Be.includes(C)&&se('The parameter "'.concat(C,'" is incompatible with toasts'))},Ve=C=>{Re(C)&&Ee(C,Re(C))},Qe=C=>{const x={};for(const R in C)x[C[R]]="swal2-"+C[R];return x},te=Qe(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),X=Qe(["success","warning","info","question","error"]),Ae=()=>document.body.querySelector(".".concat(te.container)),ie=C=>{const x=Ae();return x?x.querySelector(C):null},ce=C=>ie(".".concat(C)),re=()=>ce(te.popup),xe=()=>ce(te.icon),me=()=>ce(te.title),je=()=>ce(te["html-container"]),pt=()=>ce(te.image),Xt=()=>ce(te["progress-steps"]),jt=()=>ce(te["validation-message"]),Ye=()=>ie(".".concat(te.actions," .").concat(te.confirm)),Kt=()=>ie(".".concat(te.actions," .").concat(te.deny)),rn=()=>ie(".".concat(te.loader)),Qt=()=>ie(".".concat(te.actions," .").concat(te.cancel)),Qn=()=>ce(te.actions),tn=()=>ce(te.footer),Ht=()=>ce(te["timer-progress-bar"]),mr=()=>ce(te.close),oi=()=>{const C=Array.from(re().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((R,U)=>{const be=parseInt(R.getAttribute("tabindex")),Le=parseInt(U.getAttribute("tabindex"));return be>Le?1:be<Le?-1:0}),x=Array.from(re().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(R=>"-1"!==R.getAttribute("tabindex"));return(C=>{const x=[];for(let R=0;R<C.length;R++)-1===x.indexOf(C[R])&&x.push(C[R]);return x})(C.concat(x)).filter(R=>En(R))},xi=()=>ft(document.body,te.shown)&&!ft(document.body,te["toast-shown"])&&!ft(document.body,te["no-backdrop"]),zi=()=>re()&&ft(re(),te.toast),Yn={previousBodyPadding:null},xn=(C,x)=>{if(C.textContent="",x){const U=(new DOMParser).parseFromString(x,"text/html");Array.from(U.querySelector("head").childNodes).forEach(be=>{C.appendChild(be)}),Array.from(U.querySelector("body").childNodes).forEach(be=>{C.appendChild(be)})}},ft=(C,x)=>{if(!x)return!1;const R=x.split(/\s+/);for(let U=0;U<R.length;U++)if(!C.classList.contains(R[U]))return!1;return!0},sn=(C,x,R)=>{if(((C,x)=>{Array.from(C.classList).forEach(R=>{!Object.values(te).includes(R)&&!Object.values(X).includes(R)&&!Object.values(x.showClass).includes(R)&&C.classList.remove(R)})})(C,x),x.customClass&&x.customClass[R]){if("string"!=typeof x.customClass[R]&&!x.customClass[R].forEach)return se("Invalid type of customClass.".concat(R,'! Expected string or iterable object, got "').concat(typeof x.customClass[R],'"'));bt(C,x.customClass[R])}},Nn=(C,x)=>{if(!x)return null;switch(x){case"select":case"textarea":case"file":return C.querySelector(".".concat(te.popup," > .").concat(te[x]));case"checkbox":return C.querySelector(".".concat(te.popup," > .").concat(te.checkbox," input"));case"radio":return C.querySelector(".".concat(te.popup," > .").concat(te.radio," input:checked"))||C.querySelector(".".concat(te.popup," > .").concat(te.radio," input:first-child"));case"range":return C.querySelector(".".concat(te.popup," > .").concat(te.range," input"));default:return C.querySelector(".".concat(te.popup," > .").concat(te.input))}},yr=C=>{if(C.focus(),"file"!==C.type){const x=C.value;C.value="",C.value=x}},Lr=(C,x,R)=>{!C||!x||("string"==typeof x&&(x=x.split(/\s+/).filter(Boolean)),x.forEach(U=>{Array.isArray(C)?C.forEach(be=>{R?be.classList.add(U):be.classList.remove(U)}):R?C.classList.add(U):C.classList.remove(U)}))},bt=(C,x)=>{Lr(C,x,!0)},cn=(C,x)=>{Lr(C,x,!1)},Zn=(C,x)=>{const R=Array.from(C.children);for(let U=0;U<R.length;U++){const be=R[U];if(be instanceof HTMLElement&&ft(be,x))return be}},_r=(C,x,R)=>{R==="".concat(parseInt(R))&&(R=parseInt(R)),R||0===parseInt(R)?C.style[x]="number"==typeof R?"".concat(R,"px"):R:C.style.removeProperty(x)},St=function(C){C.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},nt=C=>{C.style.display="none"},Mt=(C,x,R,U)=>{const be=C.querySelector(x);be&&(be.style[R]=U)},Jn=function(C,x){x?St(C,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):nt(C)},En=C=>!(!C||!(C.offsetWidth||C.offsetHeight||C.getClientRects().length)),os=C=>C.scrollHeight>C.clientHeight,gi=C=>{const x=window.getComputedStyle(C),R=parseFloat(x.getPropertyValue("animation-duration")||"0"),U=parseFloat(x.getPropertyValue("transition-duration")||"0");return R>0||U>0},mi=function(C){let x=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const R=Ht();En(R)&&(x&&(R.style.transition="none",R.style.width="100%"),setTimeout(()=>{R.style.transition="width ".concat(C/1e3,"s linear"),R.style.width="0%"},10))},as=()=>"undefined"==typeof window||"undefined"==typeof document,z={},Q=C=>new Promise(x=>{if(!C)return x();const R=window.scrollX,U=window.scrollY;z.restoreFocusTimeout=setTimeout(()=>{z.previousActiveElement instanceof HTMLElement?(z.previousActiveElement.focus(),z.previousActiveElement=null):document.body&&document.body.focus(),x()},100),window.scrollTo(R,U)}),ee='\n <div aria-labelledby="'.concat(te.title,'" aria-describedby="').concat(te["html-container"],'" class="').concat(te.popup,'" tabindex="-1">\n   <button type="button" class="').concat(te.close,'"></button>\n   <ul class="').concat(te["progress-steps"],'"></ul>\n   <div class="').concat(te.icon,'"></div>\n   <img class="').concat(te.image,'" />\n   <h2 class="').concat(te.title,'" id="').concat(te.title,'"></h2>\n   <div class="').concat(te["html-container"],'" id="').concat(te["html-container"],'"></div>\n   <input class="').concat(te.input,'" />\n   <input type="file" class="').concat(te.file,'" />\n   <div class="').concat(te.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(te.select,'"></select>\n   <div class="').concat(te.radio,'"></div>\n   <label for="').concat(te.checkbox,'" class="').concat(te.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(te.label,'"></span>\n   </label>\n   <textarea class="').concat(te.textarea,'"></textarea>\n   <div class="').concat(te["validation-message"],'" id="').concat(te["validation-message"],'"></div>\n   <div class="').concat(te.actions,'">\n     <div class="').concat(te.loader,'"></div>\n     <button type="button" class="').concat(te.confirm,'"></button>\n     <button type="button" class="').concat(te.deny,'"></button>\n     <button type="button" class="').concat(te.cancel,'"></button>\n   </div>\n   <div class="').concat(te.footer,'"></div>\n   <div class="').concat(te["timer-progress-bar-container"],'">\n     <div class="').concat(te["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),$e=()=>{z.currentInstance.resetValidationMessage()},zt=C=>{const x=(()=>{const C=Ae();return!!C&&(C.remove(),cn([document.documentElement,document.body],[te["no-backdrop"],te["toast-shown"],te["has-column"]]),!0)})();if(as())return void B("SweetAlert2 requires document to initialize");const R=document.createElement("div");R.className=te.container,x&&bt(R,te["no-transition"]),xn(R,ee);const U=(C=>"string"==typeof C?document.querySelector(C):C)(C.target);U.appendChild(R),(C=>{const x=re();x.setAttribute("role",C.toast?"alert":"dialog"),x.setAttribute("aria-live",C.toast?"polite":"assertive"),C.toast||x.setAttribute("aria-modal","true")})(C),(C=>{"rtl"===window.getComputedStyle(C).direction&&bt(Ae(),te.rtl)})(U),(()=>{const C=re(),x=Zn(C,te.input),R=Zn(C,te.file),U=C.querySelector(".".concat(te.range," input")),be=C.querySelector(".".concat(te.range," output")),Le=Zn(C,te.select),An=C.querySelector(".".concat(te.checkbox," input")),en=Zn(C,te.textarea);x.oninput=$e,R.onchange=$e,Le.onchange=$e,An.onchange=$e,en.oninput=$e,U.oninput=()=>{$e(),be.value=U.value},U.onchange=()=>{$e(),be.value=U.value}})()},Ii=(C,x)=>{C instanceof HTMLElement?x.appendChild(C):"object"==typeof C?Br(C,x):C&&xn(x,C)},Br=(C,x)=>{C.jquery?Mo(x,C):xn(x,C.toString())},Mo=(C,x)=>{if(C.textContent="",0 in x)for(let R=0;R in x;R++)C.appendChild(x[R].cloneNode(!0));else C.appendChild(x.cloneNode(!0))},ls=(()=>{if(as())return!1;const C=document.createElement("div"),x={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const R in x)if(Object.prototype.hasOwnProperty.call(x,R)&&void 0!==C.style[R])return x[R];return!1})(),Pi=(C,x)=>{const R=Qn(),U=rn();x.showConfirmButton||x.showDenyButton||x.showCancelButton?St(R):nt(R),sn(R,x,"actions"),function cs(C,x,R){const U=Ye(),be=Kt(),Le=Qt();Di(U,"confirm",R),Di(be,"deny",R),Di(Le,"cancel",R),function ei(C,x,R,U){if(!U.buttonsStyling)return cn([C,x,R],te.styled);bt([C,x,R],te.styled),U.confirmButtonColor&&(C.style.backgroundColor=U.confirmButtonColor,bt(C,te["default-outline"])),U.denyButtonColor&&(x.style.backgroundColor=U.denyButtonColor,bt(x,te["default-outline"])),U.cancelButtonColor&&(R.style.backgroundColor=U.cancelButtonColor,bt(R,te["default-outline"]))}(U,be,Le,R),R.reverseButtons&&(R.toast?(C.insertBefore(Le,U),C.insertBefore(be,U)):(C.insertBefore(Le,x),C.insertBefore(be,x),C.insertBefore(U,x)))}(R,U,x),xn(U,x.loaderHtml),sn(U,x,"loader")};function Di(C,x,R){Jn(C,R["show".concat(d(x),"Button")],"inline-block"),xn(C,R["".concat(x,"ButtonText")]),C.setAttribute("aria-label",R["".concat(x,"ButtonAriaLabel")]),C.className=te[x],sn(C,R,"".concat(x,"Button")),bt(C,R["".concat(x,"ButtonClass")])}const pc=(C,x)=>{const R=Ae();!R||(function ro(C,x){"string"==typeof x?C.style.background=x:x||bt([document.documentElement,document.body],te["no-backdrop"])}(R,x.backdrop),function ta(C,x){x in te?bt(C,te[x]):(se('The "position" parameter is not valid, defaulting to "center"'),bt(C,te.center))}(R,x.position),function Is(C,x){if(x&&"string"==typeof x){const R="grow-".concat(x);R in te&&bt(C,te[R])}}(R,x.grow),sn(R,x,"container"))};var At={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const ko=["input","file","range","select","radio","checkbox","textarea"],tt=C=>{if(!Cn[C.input])return B('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(C.input,'"'));const x=Ar(C.input),R=Cn[C.input](x,C);St(x),setTimeout(()=>{yr(R)})},pn=(C,x)=>{const R=Nn(re(),C);if(R){(C=>{for(let x=0;x<C.attributes.length;x++){const R=C.attributes[x].name;["type","value","style"].includes(R)||C.removeAttribute(R)}})(R);for(const U in x)R.setAttribute(U,x[U])}},Wi=C=>{const x=Ar(C.input);"object"==typeof C.customClass&&bt(x,C.customClass.input)},Xi=(C,x)=>{(!C.placeholder||x.inputPlaceholder)&&(C.placeholder=x.inputPlaceholder)},In=(C,x,R)=>{if(R.inputLabel){C.id=te.input;const U=document.createElement("label"),be=te["input-label"];U.setAttribute("for",C.id),U.className=be,"object"==typeof R.customClass&&bt(U,R.customClass.inputLabel),U.innerText=R.inputLabel,x.insertAdjacentElement("beforebegin",U)}},Ar=C=>Zn(re(),te[C]||te.input),gn=(C,x)=>{["string","number"].includes(typeof x)?C.value="".concat(x):K(x)||se('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof x,'"'))},Cn={};Cn.text=Cn.email=Cn.password=Cn.number=Cn.tel=Cn.url=(C,x)=>(gn(C,x.inputValue),In(C,C,x),Xi(C,x),C.type=x.input,C),Cn.file=(C,x)=>(In(C,C,x),Xi(C,x),C),Cn.range=(C,x)=>{const R=C.querySelector("input"),U=C.querySelector("output");return gn(R,x.inputValue),R.type=x.input,gn(U,x.inputValue),In(R,C,x),C},Cn.select=(C,x)=>{if(C.textContent="",x.inputPlaceholder){const R=document.createElement("option");xn(R,x.inputPlaceholder),R.value="",R.disabled=!0,R.selected=!0,C.appendChild(R)}return In(C,C,x),C},Cn.radio=C=>(C.textContent="",C),Cn.checkbox=(C,x)=>{const R=Nn(re(),"checkbox");R.value="1",R.id=te.checkbox,R.checked=Boolean(x.inputValue);const U=C.querySelector("span");return xn(U,x.inputPlaceholder),R},Cn.textarea=(C,x)=>{gn(C,x.inputValue),Xi(C,x),In(C,C,x);return setTimeout(()=>{if("MutationObserver"in window){const U=parseInt(window.getComputedStyle(re()).width);new MutationObserver(()=>{const Le=C.offsetWidth+(U=>parseInt(window.getComputedStyle(U).marginLeft)+parseInt(window.getComputedStyle(U).marginRight))(C);re().style.width=Le>U?"".concat(Le,"px"):null}).observe(C,{attributes:!0,attributeFilter:["style"]})}}),C};const Ln=(C,x)=>{const R=je();sn(R,x,"htmlContainer"),x.html?(Ii(x.html,R),St(R,"block")):x.text?(R.textContent=x.text,St(R,"block")):nt(R),((C,x)=>{const R=re(),U=At.innerParams.get(C),be=!U||x.input!==U.input;ko.forEach(Le=>{const An=Zn(R,te[Le]);pn(Le,x.inputAttributes),An.className=te[Le],be&&nt(An)}),x.input&&(be&&tt(x),Wi(x))})(C,x)},na=(C,x)=>{for(const R in X)x.icon!==R&&cn(C,X[R]);bt(C,X[x.icon]),ti(C,x),Ds(),sn(C,x,"icon")},Ds=()=>{const C=re(),x=window.getComputedStyle(C).getPropertyValue("background-color"),R=C.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let U=0;U<R.length;U++)R[U].style.backgroundColor=x},us=(C,x)=>{let U,R=C.innerHTML;x.iconHtml?U=mn(x.iconHtml):"success"===x.icon?(U='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',R=R.replace(/ style=".*?"/g,"")):U="error"===x.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':mn({question:"?",warning:"!",info:"i"}[x.icon]),R.trim()!==U.trim()&&xn(C,U)},ti=(C,x)=>{if(x.iconColor){C.style.color=x.iconColor,C.style.borderColor=x.iconColor;for(const R of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Mt(C,R,"backgroundColor",x.iconColor);Mt(C,".swal2-success-ring","borderColor",x.iconColor)}},mn=C=>'<div class="'.concat(te["icon-content"],'">').concat(C,"</div>"),Ki=C=>{const x=document.createElement("li");return bt(x,te["progress-step"]),xn(x,C),x},Vr=C=>{const x=document.createElement("li");return bt(x,te["progress-step-line"]),C.progressStepsDistance&&_r(x,"width",C.progressStepsDistance),x},Gr=(C,x)=>{C.className="".concat(te.popup," ").concat(En(C)?x.showClass.popup:""),x.toast?(bt([document.documentElement,document.body],te["toast-shown"]),bt(C,te.toast)):bt(C,te.modal),sn(C,x,"popup"),"string"==typeof x.customClass&&bt(C,x.customClass),x.icon&&bt(C,te["icon-".concat(x.icon)])},vr=(C,x)=>{((C,x)=>{const R=Ae(),U=re();x.toast?(_r(R,"width",x.width),U.style.width="100%",U.insertBefore(rn(),xe())):_r(U,"width",x.width),_r(U,"padding",x.padding),x.color&&(U.style.color=x.color),x.background&&(U.style.background=x.background),nt(jt()),Gr(U,x)})(0,x),pc(0,x),((C,x)=>{const R=Xt();if(!x.progressSteps||0===x.progressSteps.length)return nt(R);St(R),R.textContent="",x.currentProgressStep>=x.progressSteps.length&&se("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),x.progressSteps.forEach((U,be)=>{const Le=Ki(U);if(R.appendChild(Le),be===x.currentProgressStep&&bt(Le,te["active-progress-step"]),be!==x.progressSteps.length-1){const An=Vr(x);R.appendChild(An)}})})(0,x),((C,x)=>{const R=At.innerParams.get(C),U=xe();R&&x.icon===R.icon?(us(U,x),na(U,x)):x.icon||x.iconHtml?x.icon&&-1===Object.keys(X).indexOf(x.icon)?(B('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(x.icon,'"')),nt(U)):(St(U),us(U,x),na(U,x),bt(U,x.showClass.icon)):nt(U)})(C,x),((C,x)=>{const R=pt();if(!x.imageUrl)return nt(R);St(R,""),R.setAttribute("src",x.imageUrl),R.setAttribute("alt",x.imageAlt),_r(R,"width",x.imageWidth),_r(R,"height",x.imageHeight),R.className=te.image,sn(R,x,"image")})(0,x),((C,x)=>{const R=me();Jn(R,x.title||x.titleText,"block"),x.title&&Ii(x.title,R),x.titleText&&(R.innerText=x.titleText),sn(R,x,"title")})(0,x),((C,x)=>{const R=mr();xn(R,x.closeButtonHtml),sn(R,x,"closeButton"),Jn(R,x.showCloseButton),R.setAttribute("aria-label",x.closeButtonAriaLabel)})(0,x),Ln(C,x),Pi(0,x),((C,x)=>{const R=tn();Jn(R,x.footer),x.footer&&Ii(x.footer,R),sn(R,x,"footer")})(0,x),"function"==typeof x.didRender&&x.didRender(re())},tr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),bl=()=>{Array.from(document.body.children).forEach(x=>{x.hasAttribute("data-previous-aria-hidden")?(x.setAttribute("aria-hidden",x.getAttribute("data-previous-aria-hidden")),x.removeAttribute("data-previous-aria-hidden")):x.removeAttribute("aria-hidden")})},yi=["swal-title","swal-html","swal-footer"],mc=C=>{const x={};return Array.from(C.querySelectorAll("swal-param")).forEach(U=>{Oo(U,["name","value"]);const be=U.getAttribute("name"),Le=U.getAttribute("value");"boolean"==typeof ae[be]&&"false"===Le&&(x[be]=!1),"object"==typeof ae[be]&&(x[be]=JSON.parse(Le))}),x},Md=C=>{const x={};return Array.from(C.querySelectorAll("swal-button")).forEach(U=>{Oo(U,["type","color","aria-label"]);const be=U.getAttribute("type");x["".concat(be,"ButtonText")]=U.innerHTML,x["show".concat(d(be),"Button")]=!0,U.hasAttribute("color")&&(x["".concat(be,"ButtonColor")]=U.getAttribute("color")),U.hasAttribute("aria-label")&&(x["".concat(be,"ButtonAriaLabel")]=U.getAttribute("aria-label"))}),x},ds=C=>{const x={},R=C.querySelector("swal-image");return R&&(Oo(R,["src","width","height","alt"]),R.hasAttribute("src")&&(x.imageUrl=R.getAttribute("src")),R.hasAttribute("width")&&(x.imageWidth=R.getAttribute("width")),R.hasAttribute("height")&&(x.imageHeight=R.getAttribute("height")),R.hasAttribute("alt")&&(x.imageAlt=R.getAttribute("alt"))),x},kd=C=>{const x={},R=C.querySelector("swal-icon");return R&&(Oo(R,["type","color"]),R.hasAttribute("type")&&(x.icon=R.getAttribute("type")),R.hasAttribute("color")&&(x.iconColor=R.getAttribute("color")),x.iconHtml=R.innerHTML),x},yc=C=>{const x={},R=C.querySelector("swal-input");R&&(Oo(R,["type","label","placeholder","value"]),x.input=R.getAttribute("type")||"text",R.hasAttribute("label")&&(x.inputLabel=R.getAttribute("label")),R.hasAttribute("placeholder")&&(x.inputPlaceholder=R.getAttribute("placeholder")),R.hasAttribute("value")&&(x.inputValue=R.getAttribute("value")));const U=Array.from(C.querySelectorAll("swal-input-option"));return U.length&&(x.inputOptions={},U.forEach(be=>{Oo(be,["value"]);const Le=be.getAttribute("value");x.inputOptions[Le]=be.innerHTML})),x},El=(C,x)=>{const R={};for(const U in x){const be=x[U],Le=C.querySelector(be);Le&&(Oo(Le,[]),R[be.replace(/^swal-/,"")]=Le.innerHTML.trim())}return R},Ss=C=>{const x=yi.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(C.children).forEach(R=>{const U=R.tagName.toLowerCase();-1===x.indexOf(U)&&se("Unrecognized element <".concat(U,">"))})},Oo=(C,x)=>{Array.from(C.attributes).forEach(R=>{-1===x.indexOf(R.name)&&se(['Unrecognized attribute "'.concat(R.name,'" on <').concat(C.tagName.toLowerCase(),">."),"".concat(x.length?"Allowed attributes are: ".concat(x.join(", ")):"To set the value, use HTML within the element.")])})};var Cl={email:(C,x)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(C)?Promise.resolve():Promise.resolve(x||"Invalid email address"),url:(C,x)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(C)?Promise.resolve():Promise.resolve(x||"Invalid URL")};function _c(C){(function Rd(C){C.inputValidator||Object.keys(Cl).forEach(x=>{C.input===x&&(C.inputValidator=Cl[x])})})(C),C.showLoaderOnConfirm&&!C.preConfirm&&se("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Od(C){(!C.target||"string"==typeof C.target&&!document.querySelector(C.target)||"string"!=typeof C.target&&!C.target.appendChild)&&(se('Target parameter is not valid, defaulting to "body"'),C.target="body")}(C),"string"==typeof C.title&&(C.title=C.title.split("\n").join("<br />")),zt(C)}class Fo{constructor(x,R){this.callback=x,this.remaining=R,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(x){const R=this.running;return R&&this.stop(),this.remaining+=x,R&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const fu=()=>{null===Yn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Yn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Yn.previousBodyPadding+(()=>{const C=document.createElement("div");C.className=te["scrollbar-measure"],document.body.appendChild(C);const x=C.getBoundingClientRect().width-C.clientWidth;return document.body.removeChild(C),x})(),"px"))},Ac=()=>{const C=navigator.userAgent,x=!!C.match(/iPad/i)||!!C.match(/iPhone/i),R=!!C.match(/WebKit/i);x&&R&&!C.match(/CriOS/i)&&re().scrollHeight>window.innerHeight-44&&(Ae().style.paddingBottom="".concat(44,"px"))},vc=()=>{const C=Ae();let x;C.ontouchstart=R=>{x=Ti(R)},C.ontouchmove=R=>{x&&(R.preventDefault(),R.stopPropagation())}},Ti=C=>{const x=C.target,R=Ae();return!(Ms(C)||Ur(C)||x!==R&&(os(R)||"INPUT"===x.tagName||"TEXTAREA"===x.tagName||os(je())&&je().contains(x)))},Ms=C=>C.touches&&C.touches.length&&"stylus"===C.touches[0].touchType,Ur=C=>C.touches&&C.touches.length>1,pu=C=>{const x=Ae(),R=re();"function"==typeof C.willOpen&&C.willOpen(R);const be=window.getComputedStyle(document.body).overflowY;Ni(x,R,C),setTimeout(()=>{ao(x,R)},10),xi()&&(No(x,C.scrollbarPadding,be),Array.from(document.body.children).forEach(x=>{x===Ae()||x.contains(Ae())||(x.hasAttribute("aria-hidden")&&x.setAttribute("data-previous-aria-hidden",x.getAttribute("aria-hidden")),x.setAttribute("aria-hidden","true"))})),!zi()&&!z.previousActiveElement&&(z.previousActiveElement=document.activeElement),"function"==typeof C.didOpen&&setTimeout(()=>C.didOpen(R)),cn(x,te["no-transition"])},oo=C=>{const x=re();if(C.target!==x)return;const R=Ae();x.removeEventListener(ls,oo),R.style.overflowY="auto"},ao=(C,x)=>{ls&&gi(x)?(C.style.overflowY="hidden",x.addEventListener(ls,oo)):C.style.overflowY="auto"},No=(C,x,R)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!ft(document.body,te.iosfix)){const x=document.body.scrollTop;document.body.style.top="".concat(-1*x,"px"),bt(document.body,te.iosfix),vc(),Ac()}})(),x&&"hidden"!==R&&fu(),setTimeout(()=>{C.scrollTop=0})},Ni=(C,x,R)=>{bt(C,R.showClass.backdrop),x.style.setProperty("opacity","0","important"),St(x,"grid"),setTimeout(()=>{bt(x,R.showClass.popup),x.style.removeProperty("opacity")},10),bt([document.documentElement,document.body],te.shown),R.heightAuto&&R.backdrop&&!R.toast&&bt([document.documentElement,document.body],te["height-auto"])},lo=C=>{let x=re();x||new zn,x=re();const R=rn();zi()?nt(xe()):Sn(x,C),St(R),x.setAttribute("data-loading","true"),x.setAttribute("aria-busy","true"),x.focus()},Sn=(C,x)=>{const R=Qn(),U=rn();!x&&En(Ye())&&(x=Ye()),St(R),x&&(nt(x),U.setAttribute("data-button-to-replace",x.className)),U.parentNode.insertBefore(U,x),bt([C,R],te.loading)},Il=C=>C.checked?1:0,wc=C=>C.checked?C.value:null,bc=C=>C.files.length?null!==C.getAttribute("multiple")?C.files:C.files[0]:null,sa=(C,x)=>{const R=re(),U=be=>Hr[x.input](R,Tl(be),x);_e(x.inputOptions)||K(x.inputOptions)?(lo(Ye()),we(x.inputOptions).then(be=>{C.hideLoading(),U(be)})):"object"==typeof x.inputOptions?U(x.inputOptions):B("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof x.inputOptions))},Dl=(C,x)=>{const R=C.getInput();nt(R),we(x.inputValue).then(U=>{R.value="number"===x.input?parseFloat(U)||0:"".concat(U),St(R),R.focus(),C.hideLoading()}).catch(U=>{B("Error in inputValue promise: ".concat(U)),R.value="",St(R),R.focus(),C.hideLoading()})},Hr={select:(C,x,R)=>{const U=Zn(C,te.select),be=(Le,An,en)=>{const $n=document.createElement("option");$n.value=en,xn($n,An),$n.selected=un(en,R.inputValue),Le.appendChild($n)};x.forEach(Le=>{const An=Le[0],en=Le[1];if(Array.isArray(en)){const $n=document.createElement("optgroup");$n.label=An,$n.disabled=!1,U.appendChild($n),en.forEach(or=>be($n,or[1],or[0]))}else be(U,en,An)}),U.focus()},radio:(C,x,R)=>{const U=Zn(C,te.radio);x.forEach(Le=>{const An=Le[0],en=Le[1],$n=document.createElement("input"),or=document.createElement("label");$n.type="radio",$n.name=te.radio,$n.value=An,un(An,R.inputValue)&&($n.checked=!0);const Ll=document.createElement("span");xn(Ll,en),Ll.className=te.label,or.appendChild($n),or.appendChild(Ll),U.appendChild(or)});const be=U.querySelectorAll("input");be.length&&be[0].focus()}},Tl=C=>{const x=[];return"undefined"!=typeof Map&&C instanceof Map?C.forEach((R,U)=>{let be=R;"object"==typeof be&&(be=Tl(be)),x.push([U,be])}):Object.keys(C).forEach(R=>{let U=C[R];"object"==typeof U&&(U=Tl(U)),x.push([R,U])}),x},un=(C,x)=>x&&x.toString()===C.toString();function Lo(){const C=At.innerParams.get(this);if(!C)return;const x=At.domCache.get(this);nt(x.loader),zi()?C.icon&&St(xe()):co(x),cn([x.popup,x.actions],te.loading),x.popup.removeAttribute("aria-busy"),x.popup.removeAttribute("data-loading"),x.confirmButton.disabled=!1,x.denyButton.disabled=!1,x.cancelButton.disabled=!1}const co=C=>{const x=C.popup.getElementsByClassName(C.loader.getAttribute("data-button-to-replace"));x.length?St(x[0],"inline-block"):!En(Ye())&&!En(Kt())&&!En(Qt())&&nt(C.actions)};var hs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const fs=()=>Ye()&&Ye().click(),Dn=C=>{C.keydownTarget&&C.keydownHandlerAdded&&(C.keydownTarget.removeEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!1)},ni=(C,x,R)=>{const U=oi();if(U.length)return(x+=R)===U.length?x=0:-1===x&&(x=U.length-1),U[x].focus();re().focus()},ks=["ArrowRight","ArrowDown"],ps=["ArrowLeft","ArrowUp"],oa=(C,x,R)=>{const U=At.innerParams.get(C);!U||x.isComposing||229===x.keyCode||(U.stopKeydownPropagation&&x.stopPropagation(),"Enter"===x.key?wr(C,x,U):"Tab"===x.key?zr(x,U):[...ks,...ps].includes(x.key)?Bo(x.key):"Escape"===x.key&&Et(x,U,R))},wr=(C,x,R)=>{if(de(R.allowEnterKey)&&x.target&&C.getInput()&&x.target instanceof HTMLElement&&x.target.outerHTML===C.getInput().outerHTML){if(["textarea","file"].includes(R.input))return;fs(),x.preventDefault()}},zr=(C,x)=>{const R=C.target,U=oi();let be=-1;for(let Le=0;Le<U.length;Le++)if(R===U[Le]){be=Le;break}ni(0,be,C.shiftKey?-1:1),C.stopPropagation(),C.preventDefault()},Bo=C=>{const x=Ye(),R=Kt(),U=Qt();if(document.activeElement instanceof HTMLElement&&![x,R,U].includes(document.activeElement))return;const be=ks.includes(C)?"nextElementSibling":"previousElementSibling";let Le=document.activeElement;for(let An=0;An<Qn().children.length;An++){if(Le=Le[be],!Le)return;if(Le instanceof HTMLButtonElement&&En(Le))break}Le instanceof HTMLButtonElement&&Le.focus()},Et=(C,x,R)=>{de(x.allowEscapeKey)&&(C.preventDefault(),R(tr.esc))};function uo(C,x,R,U){zi()?wn(C,U):(Q(R).then(()=>wn(C,U)),Dn(z)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(x.setAttribute("style","display:none !important"),x.removeAttribute("class"),x.innerHTML=""):x.remove(),xi()&&(null!==Yn.previousBodyPadding&&(document.body.style.paddingRight="".concat(Yn.previousBodyPadding,"px"),Yn.previousBodyPadding=null),(()=>{if(ft(document.body,te.iosfix)){const C=parseInt(document.body.style.top,10);cn(document.body,te.iosfix),document.body.style.top="",document.body.scrollTop=-1*C}})(),bl()),function Ka(){cn([document.documentElement,document.body],[te.shown,te["height-auto"],te["no-backdrop"],te["toast-shown"]])}()}function Rs(C){C=Fe(C);const x=hs.swalPromiseResolve.get(this),R=aa(this);this.isAwaitingPromise()?C.isDismissed||(ho(this),x(C)):R&&x(C)}const aa=C=>{const x=re();if(!x)return!1;const R=At.innerParams.get(C);if(!R||ft(x,R.hideClass.popup))return!1;cn(x,R.showClass.popup),bt(x,R.hideClass.popup);const U=Ae();return cn(U,R.showClass.backdrop),bt(U,R.hideClass.backdrop),$t(C,x,R),!0};const ho=C=>{C.isAwaitingPromise()&&(At.awaitingPromise.delete(C),At.innerParams.get(C)||C._destroy())},Fe=C=>void 0===C?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},C),$t=(C,x,R)=>{const U=Ae(),be=ls&&gi(x);"function"==typeof R.willClose&&R.willClose(x),be?Qa(C,x,U,R.returnFocus,R.didClose):uo(C,U,R.returnFocus,R.didClose)},Qa=(C,x,R,U,be)=>{z.swalCloseEventFinishedCallback=uo.bind(null,C,R,U,be),x.addEventListener(ls,function(Le){Le.target===x&&(z.swalCloseEventFinishedCallback(),delete z.swalCloseEventFinishedCallback)})},wn=(C,x)=>{setTimeout(()=>{"function"==typeof x&&x.bind(C.params)(),C._destroy()})};function fo(C,x,R){const U=At.domCache.get(C);x.forEach(be=>{U[be].disabled=R})}function Os(C,x){if(!C)return!1;if("radio"===C.type){const U=C.parentNode.parentNode.querySelectorAll("input");for(let be=0;be<U.length;be++)U[be].disabled=x}else C.disabled=x}const gs=C=>{const x={};return Object.keys(C).forEach(R=>{Se(R)?x[R]=C[R]:se("Invalid parameter to update: ".concat(R))}),x};const Fs=C=>{sr(C),delete C.params,delete z.keydownHandler,delete z.keydownTarget,delete z.currentInstance},sr=C=>{C.isAwaitingPromise()?(da(At,C),At.awaitingPromise.set(C,!0)):(da(hs,C),da(At,C))},da=(C,x)=>{for(const R in C)C[R].delete(x)};var ha=Object.freeze({hideLoading:Lo,disableLoading:Lo,getInput:function an(C){const x=At.innerParams.get(C||this),R=At.domCache.get(C||this);return R?Nn(R.popup,x.input):null},close:Rs,isAwaitingPromise:function Ml(){return!!At.awaitingPromise.get(this)},rejectPromise:function kl(C){const x=hs.swalPromiseReject.get(this);ho(this),x&&x(C)},handleAwaitingPromise:ho,closePopup:Rs,closeModal:Rs,closeToast:Rs,enableButtons:function rr(){fo(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function la(){fo(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function Rl(){return Os(this.getInput(),!1)},disableInput:function Fd(){return Os(this.getInput(),!0)},showValidationMessage:function Ya(C){const x=At.domCache.get(this),R=At.innerParams.get(this);xn(x.validationMessage,C),x.validationMessage.className=te["validation-message"],R.customClass&&R.customClass.validationMessage&&bt(x.validationMessage,R.customClass.validationMessage),St(x.validationMessage);const U=this.getInput();U&&(U.setAttribute("aria-invalid",!0),U.setAttribute("aria-describedby",te["validation-message"]),yr(U),bt(U,te.inputerror))},resetValidationMessage:function ca(){const C=At.domCache.get(this);C.validationMessage&&nt(C.validationMessage);const x=this.getInput();x&&(x.removeAttribute("aria-invalid"),x.removeAttribute("aria-describedby"),cn(x,te.inputerror))},getProgressSteps:function Za(){return At.domCache.get(this).progressSteps},update:function Bn(C){const x=re(),R=At.innerParams.get(this);if(!x||ft(x,R.hideClass.popup))return se("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const U=gs(C),be=Object.assign({},R,U);vr(this,be),At.innerParams.set(this,be),Object.defineProperties(this,{params:{value:Object.assign({},this.params,C),writable:!1,enumerable:!0}})},_destroy:function ua(){const C=At.domCache.get(this),x=At.innerParams.get(this);x?(C.popup&&z.swalCloseEventFinishedCallback&&(z.swalCloseEventFinishedCallback(),delete z.swalCloseEventFinishedCallback),"function"==typeof x.didDestroy&&x.didDestroy(),Fs(this)):sr(this)}});const po=(C,x)=>{const R=At.innerParams.get(C);if(!R.input)return void B('The "input" parameter is needed to be set when using returnInputValueOn'.concat(d(x)));const U=((C,x)=>{const R=C.getInput();if(!R)return null;switch(x.input){case"checkbox":return Il(R);case"radio":return wc(R);case"file":return bc(R);default:return x.inputAutoTrim?R.value.trim():R.value}})(C,R);R.inputValidator?Fl(C,U,x):C.getInput().checkValidity()?"deny"===x?go(C,U):Ps(C,U):(C.enableButtons(),C.showValidationMessage(R.validationMessage))},Fl=(C,x,R)=>{const U=At.innerParams.get(C);C.disableInput(),Promise.resolve().then(()=>we(U.inputValidator(x,U.validationMessage))).then(Le=>{C.enableButtons(),C.enableInput(),Le?C.showValidationMessage(Le):"deny"===R?go(C,x):Ps(C,x)})},go=(C,x)=>{const R=At.innerParams.get(C||void 0);R.showLoaderOnDeny&&lo(Kt()),R.preDeny?(At.awaitingPromise.set(C||void 0,!0),Promise.resolve().then(()=>we(R.preDeny(x,R.validationMessage))).then(be=>{!1===be?(C.hideLoading(),ho(C)):C.close({isDenied:!0,value:void 0===be?x:be})}).catch(be=>Xa(C||void 0,be))):C.close({isDenied:!0,value:x})},gu=(C,x)=>{C.close({isConfirmed:!0,value:x})},Xa=(C,x)=>{C.rejectPromise(x)},Ps=(C,x)=>{const R=At.innerParams.get(C||void 0);R.showLoaderOnConfirm&&lo(),R.preConfirm?(C.resetValidationMessage(),At.awaitingPromise.set(C||void 0,!0),Promise.resolve().then(()=>we(R.preConfirm(x,R.validationMessage))).then(be=>{En(jt())||!1===be?(C.hideLoading(),ho(C)):gu(C,void 0===be?x:be)}).catch(be=>Xa(C||void 0,be))):gu(C,x)},Ec=(C,x,R)=>{x.popup.onclick=()=>{const U=At.innerParams.get(C);U&&(Vo(U)||U.timer||U.input)||R(tr.close)}},Vo=C=>C.showConfirmButton||C.showDenyButton||C.showCancelButton||C.showCloseButton;let ga=!1;const Go=C=>{C.popup.onmousedown=()=>{C.container.onmouseup=function(x){C.container.onmouseup=void 0,x.target===C.container&&(ga=!0)}}},$r=C=>{C.container.onmousedown=()=>{C.popup.onmouseup=function(x){C.popup.onmouseup=void 0,(x.target===C.popup||C.popup.contains(x.target))&&(ga=!0)}}},mu=(C,x,R)=>{x.container.onclick=U=>{const be=At.innerParams.get(C);ga?ga=!1:U.target===x.container&&de(be.allowOutsideClick)&&R(tr.backdrop)}},br=C=>C instanceof Element||(C=>"object"==typeof C&&C.jquery)(C);const Pd=()=>{if(z.timeout)return(()=>{const C=Ht(),x=parseInt(window.getComputedStyle(C).width);C.style.removeProperty("transition"),C.style.width="100%";const U=x/parseInt(window.getComputedStyle(C).width)*100;C.style.removeProperty("transition"),C.style.width="".concat(U,"%")})(),z.timeout.stop()},Pl=()=>{if(z.timeout){const C=z.timeout.start();return mi(C),C}};let qr=!1;const Ns={};const _u=C=>{for(let x=C.target;x&&x!==document;x=x.parentNode)for(const R in Ns){const U=x.getAttribute(R);if(U)return void Ns[R].fire({template:U})}};var mo=Object.freeze({isValidParameter:yt,isUpdatableParameter:Se,isDeprecatedParameter:Re,argsToParams:C=>{const x={};return"object"!=typeof C[0]||br(C[0])?["title","html","icon"].forEach((R,U)=>{const be=C[U];"string"==typeof be||br(be)?x[R]=be:void 0!==be&&B("Unexpected type of ".concat(R,'! Expected "string" or "Element", got ').concat(typeof be))}):Object.assign(x,C[0]),x},isVisible:()=>En(re()),clickConfirm:fs,clickDeny:()=>Kt()&&Kt().click(),clickCancel:()=>Qt()&&Qt().click(),getContainer:Ae,getPopup:re,getTitle:me,getHtmlContainer:je,getImage:pt,getIcon:xe,getInputLabel:()=>ce(te["input-label"]),getCloseButton:mr,getActions:Qn,getConfirmButton:Ye,getDenyButton:Kt,getCancelButton:Qt,getLoader:rn,getFooter:tn,getTimerProgressBar:Ht,getFocusableElements:oi,getValidationMessage:jt,isLoading:()=>re().hasAttribute("data-loading"),fire:function yg(){const C=this;for(var x=arguments.length,R=new Array(x),U=0;U<x;U++)R[U]=arguments[U];return new C(...R)},mixin:function yu(C){return class x extends(this){_main(U,be){return super._main(U,Object.assign({},C,be))}}},showLoading:lo,enableLoading:lo,getTimerLeft:()=>z.timeout&&z.timeout.getTimerLeft(),stopTimer:Pd,resumeTimer:Pl,toggleTimer:()=>{const C=z.timeout;return C&&(C.running?Pd():Pl())},increaseTimer:C=>{if(z.timeout){const x=z.timeout.increase(C);return mi(x,!0),x}},isTimerRunning:()=>z.timeout&&z.timeout.isRunning(),bindClickHandler:function ci(){Ns[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,qr||(document.body.addEventListener("click",_u),qr=!0)}});let Qi;class yo{constructor(){if("undefined"==typeof window)return;Qi=this;for(var x=arguments.length,R=new Array(x),U=0;U<x;U++)R[U]=arguments[U];const be=Object.freeze(this.constructor.argsToParams(R));Object.defineProperties(this,{params:{value:be,writable:!1,enumerable:!0,configurable:!0}});const Le=Qi._main(Qi.params);At.promise.set(this,Le)}_main(x){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(C=>{!C.backdrop&&C.allowOutsideClick&&se('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const x in C)lt(x),C.toast&&ht(x),Ve(x)})(Object.assign({},R,x)),z.currentInstance&&(z.currentInstance._destroy(),xi()&&bl()),z.currentInstance=Qi;const U=Er(x,R);_c(U),Object.freeze(U),z.timeout&&(z.timeout.stop(),delete z.timeout),clearTimeout(z.restoreFocusTimeout);const be=Ls(Qi);return vr(Qi,U),At.innerParams.set(Qi,U),el(Qi,be,U)}then(x){return At.promise.get(this).then(x)}finally(x){return At.promise.get(this).finally(x)}}const el=(C,x,R)=>new Promise((U,be)=>{const Le=An=>{C.closePopup({isDismissed:!0,dismiss:An})};hs.swalPromiseResolve.set(C,U),hs.swalPromiseReject.set(C,be),x.confirmButton.onclick=()=>(C=>{const x=At.innerParams.get(C);C.disableButtons(),x.input?po(C,"confirm"):Ps(C,!0)})(C),x.denyButton.onclick=()=>(C=>{const x=At.innerParams.get(C);C.disableButtons(),x.returnInputValueOnDeny?po(C,"deny"):go(C,!1)})(C),x.cancelButton.onclick=()=>((C,x)=>{C.disableButtons(),x(tr.cancel)})(C,Le),x.closeButton.onclick=()=>Le(tr.close),((C,x,R)=>{At.innerParams.get(C).toast?Ec(C,x,R):(Go(x),$r(x),mu(C,x,R))})(C,x,Le),((C,x,R,U)=>{Dn(x),R.toast||(x.keydownHandler=be=>oa(C,be,U),x.keydownTarget=R.keydownListenerCapture?window:re(),x.keydownListenerCapture=R.keydownListenerCapture,x.keydownTarget.addEventListener("keydown",x.keydownHandler,{capture:x.keydownListenerCapture}),x.keydownHandlerAdded=!0)})(C,z,R,Le),((C,x)=>{"select"===x.input||"radio"===x.input?sa(C,x):["text","email","number","tel","textarea"].includes(x.input)&&(_e(x.inputValue)||K(x.inputValue))&&(lo(Ye()),Dl(C,x))})(C,R),pu(R),Nl(z,R,Le),Ld(x,R),setTimeout(()=>{x.container.scrollTop=0})}),Er=(C,x)=>{const R=(C=>{const x="string"==typeof C.template?document.querySelector(C.template):C.template;if(!x)return{};const R=x.content;return Ss(R),Object.assign(mc(R),Md(R),ds(R),kd(R),yc(R),El(R,yi))})(C),U=Object.assign({},ae,x,R,C);return U.showClass=Object.assign({},ae.showClass,U.showClass),U.hideClass=Object.assign({},ae.hideClass,U.hideClass),U},Ls=C=>{const x={popup:re(),container:Ae(),actions:Qn(),confirmButton:Ye(),denyButton:Kt(),cancelButton:Qt(),loader:rn(),closeButton:mr(),validationMessage:jt(),progressSteps:Xt()};return At.domCache.set(C,x),x},Nl=(C,x,R)=>{const U=Ht();nt(U),x.timer&&(C.timeout=new Fo(()=>{R("timer"),delete C.timeout},x.timer),x.timerProgressBar&&(St(U),sn(U,x,"timerProgressBar"),setTimeout(()=>{C.timeout&&C.timeout.running&&mi(x.timer)})))},Ld=(C,x)=>{if(!x.toast){if(!de(x.allowEnterKey))return Bd();Wr(C,x)||ni(0,-1,1)}},Wr=(C,x)=>x.focusDeny&&En(C.denyButton)?(C.denyButton.focus(),!0):x.focusCancel&&En(C.cancelButton)?(C.cancelButton.focus(),!0):!(!x.focusConfirm||!En(C.confirmButton)||(C.confirmButton.focus(),0)),Bd=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)&&Math.random()<.1){const C=document.createElement("div");C.className="leave-russia-now-and-apply-your-skills-to-the-world";const x=(C=>C[Math.floor(Math.random()*C.length)])([{text:"\u0412 \u043d\u0438\u0436\u0435\u043f\u0440\u0438\u0432\u0435\u0434\u0451\u043d\u043d\u043e\u043c \u0432\u0438\u0434\u0435\u043e \u043e\u0431\u044a\u044f\u0441\u043d\u044f\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u043a\u0430\u0436\u0434\u044b\u0439 \u0438\u0437 \u043d\u0430\u0441 \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u043c\u043e\u0447\u044c \u0432 \u0442\u043e\u043c,\n        <strong>\u0447\u0442\u043e\u0431\u044b \u044d\u0442\u0430 \u0431\u0435\u0441\u0441\u043c\u044b\u0441\u043b\u0435\u043d\u043d\u0430\u044f \u0438 \u0431\u0435\u0441\u0447\u0435\u043b\u043e\u0432\u0435\u0447\u043d\u0430\u044f \u0432\u043e\u0439\u043d\u0430 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0430\u0441\u044c</strong>:",id:"4CfDhaRkw7I"},{text:"\u042d\u043c\u043f\u0430\u0442\u0438\u044f - \u0433\u043b\u0430\u0432\u043d\u043e\u0435 <strong>\u0447\u0435\u043b\u043e\u0432\u0435\u0447\u0435\u0441\u043a\u043e\u0435</strong> \u0447\u0443\u0432\u0441\u0442\u0432\u043e. \u0421\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u043f\u0435\u0440\u0435\u0436\u0438\u0432\u0430\u0442\u044c. <strong>\u0421\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0431\u044f \u043d\u0430 \u043c\u0435\u0441\u0442\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e.</strong>",id:"s-GLAIY4DXA"}]);xn(C,"\n      <div>\n        \u0415\u0441\u043b\u0438 \u043c\u044b \u043d\u0435 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043c \u0432\u043e\u0439\u043d\u0443, \u043e\u043d\u0430 \u043f\u0440\u0438\u0434\u0435\u0442 \u0432 \u0434\u043e\u043c <strong>\u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0438\u0437 \u043d\u0430\u0441</strong> \u0438 \u0435\u0451 \u043f\u043e\u0441\u043b\u0435\u0434\u0441\u0442\u0432\u0438\u044f \u0431\u0443\u0434\u0443\u0442 <strong>\u0443\u0436\u0430\u0441\u0430\u044e\u0449\u0438\u043c\u0438</strong>.\n      </div>\n      <div>\n        \u041f\u0443\u0442\u0438\u043d\u0441\u043a\u0438\u0439 \u0440\u0435\u0436\u0438\u043c \u0437\u0430 20 \u0441 \u043b\u0438\u0448\u043d\u0438\u043c \u043b\u0435\u0442 \u0441\u0432\u043e\u0435\u0433\u043e \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u044f \u0432\u0434\u043e\u043b\u0431\u0438\u043b \u043d\u0430\u043c, \u0447\u0442\u043e \u043c\u044b \u0431\u0435\u0441\u0441\u0438\u043b\u044c\u043d\u044b \u0438 \u043e\u0434\u0438\u043d \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043d\u0438\u0447\u0435\u0433\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c. <strong>\u042d\u0442\u043e \u043d\u0435 \u0442\u0430\u043a!</strong>\n      </div>\n      <div>\n        ".concat(x.text,'\n      </div>\n      <iframe width="560" height="315" src="https://www.youtube.com/embed/').concat(x.id,'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n      <div>\n        \u041d\u0435\u0442 \u0432\u043e\u0439\u043d\u0435!\n      </div>\n      '));const R=document.createElement("button");R.innerHTML="&times;",R.onclick=()=>C.remove(),C.appendChild(R),window.addEventListener("load",()=>{setTimeout(()=>{document.body.appendChild(C)},1e3)})}Object.assign(yo.prototype,ha),Object.assign(yo,mo),Object.keys(ha).forEach(C=>{yo[C]=function(){if(Qi)return Qi[C](...arguments)}}),yo.DismissReason=tr,yo.version="11.4.24";const zn=yo;return zn.default=zn,zn}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(ye,L){var d=ye.createElement("style");if(ye.getElementsByTagName("head")[0].appendChild(d),d.styleSheet)d.styleSheet.disabled||(d.styleSheet.cssText=L);else try{d.innerHTML=L}catch(se){d.innerText=L}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.leave-russia-now-and-apply-your-skills-to-the-world{display:flex;position:fixed;z-index:1939;top:0;right:0;bottom:0;left:0;flex-direction:column;align-items:center;justify-content:center;padding:25px 0 20px;background:#20232a;color:#fff;text-align:center}.leave-russia-now-and-apply-your-skills-to-the-world div{max-width:560px;margin:10px;line-height:146%}.leave-russia-now-and-apply-your-skills-to-the-world iframe{max-width:100%;max-height:55.5555555556vmin;margin:16px auto}.leave-russia-now-and-apply-your-skills-to-the-world strong{border-bottom:2px dashed #fff}.leave-russia-now-and-apply-your-skills-to-the-world button{display:flex;position:fixed;z-index:1940;top:0;right:0;align-items:center;justify-content:center;width:48px;height:48px;margin-right:10px;margin-bottom:-10px;border:none;background:0 0;color:#aaa;font-size:48px;font-weight:700;cursor:pointer}.leave-russia-now-and-apply-your-skills-to-the-world button:hover{color:#fff}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},3922:()=>{},655:(rt,ye,L)=>{"use strict";function ge(ie,ce){var re={};for(var xe in ie)Object.prototype.hasOwnProperty.call(ie,xe)&&ce.indexOf(xe)<0&&(re[xe]=ie[xe]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(xe=Object.getOwnPropertySymbols(ie);me<xe.length;me++)ce.indexOf(xe[me])<0&&Object.prototype.propertyIsEnumerable.call(ie,xe[me])&&(re[xe[me]]=ie[xe[me]])}return re}function _e(ie,ce,re,xe){return new(re||(re=Promise))(function(je,pt){function Xt(Kt){try{Ye(xe.next(Kt))}catch(Pn){pt(Pn)}}function jt(Kt){try{Ye(xe.throw(Kt))}catch(Pn){pt(Pn)}}function Ye(Kt){Kt.done?je(Kt.value):function me(je){return je instanceof re?je:new re(function(pt){pt(je)})}(Kt.value).then(Xt,jt)}Ye((xe=xe.apply(ie,ce||[])).next())})}function Se(ie){return this instanceof Se?(this.v=ie,this):new Se(ie)}function Re(ie,ce,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,xe=re.apply(ie,ce||[]),je=[];return me={},pt("next"),pt("throw"),pt("return"),me[Symbol.asyncIterator]=function(){return this},me;function pt(rn){xe[rn]&&(me[rn]=function(Qt){return new Promise(function(Qn,tn){je.push([rn,Qt,Qn,tn])>1||Xt(rn,Qt)})})}function Xt(rn,Qt){try{!function jt(rn){rn.value instanceof Se?Promise.resolve(rn.value.v).then(Ye,Kt):Pn(je[0][2],rn)}(xe[rn](Qt))}catch(Qn){Pn(je[0][3],Qn)}}function Ye(rn){Xt("next",rn)}function Kt(rn){Xt("throw",rn)}function Pn(rn,Qt){rn(Qt),je.shift(),je.length&&Xt(je[0][0],je[0][1])}}function ht(ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,ce=ie[Symbol.asyncIterator];return ce?ce.call(ie):(ie=function ae(ie){var ce="function"==typeof Symbol&&Symbol.iterator,re=ce&&ie[ce],xe=0;if(re)return re.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&xe>=ie.length&&(ie=void 0),{value:ie&&ie[xe++],done:!ie}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(ie),re={},xe("next"),xe("throw"),xe("return"),re[Symbol.asyncIterator]=function(){return this},re);function xe(je){re[je]=ie[je]&&function(pt){return new Promise(function(Xt,jt){!function me(je,pt,Xt,jt){Promise.resolve(jt).then(function(Ye){je({value:Ye,done:Xt})},pt)}(Xt,jt,(pt=ie[je](pt)).done,pt.value)})}}}L.d(ye,{_T:()=>ge,mG:()=>_e,qq:()=>Se,FC:()=>Re,KL:()=>ht})},5e3:(rt,ye,L)=>{"use strict";L.d(ye,{tb:()=>_v,AFp:()=>fd,ip1:()=>mv,CZH:()=>gy,hGG:()=>Lv,z2F:()=>xv,sBO:()=>GI,_Vd:()=>KA,EJc:()=>Hp,SBq:()=>Bt,qLn:()=>Fu,vpe:()=>Js,OlP:()=>Vn,zs3:()=>Co,ZZ4:()=>Iy,aQg:()=>jh,soG:()=>yy,h0i:()=>Io,R0b:()=>Cs,FiY:()=>Ft,Lbi:()=>yv,g9A:()=>ln,Qsj:()=>Vt,FYo:()=>Kn,JOm:()=>M,q3G:()=>Mn,WD2:()=>Ms,tp0:()=>Tn,Rgc:()=>ru,dDg:()=>dE,q4F:()=>et,GfV:()=>hi,s_b:()=>Fp,ifc:()=>St,eFA:()=>Hh,G48:()=>VI,Gpc:()=>J,f3M:()=>H,X6Q:()=>BI,_c5:()=>Nv,VLi:()=>fE,zSh:()=>ju,wAp:()=>Pt,vHH:()=>Be,EiD:()=>Bc,mCW:()=>zs,qzn:()=>Ca,JVY:()=>ku,pB0:()=>Wl,eBb:()=>yf,L6k:()=>Jd,LAX:()=>t_,cg1:()=>Xu,kL8:()=>hb,yhl:()=>Zd,dqk:()=>Yt,sIi:()=>_h,CqO:()=>Ww,QGY:()=>rp,F4k:()=>qw,RDi:()=>Dl,AaK:()=>_e,z3N:()=>Wo,qOj:()=>dm,TTD:()=>Ur,_Bn:()=>Lb,xp6:()=>G0,uIk:()=>Tw,ekj:()=>vA,Xpm:()=>$e,lG2:()=>Mo,Yz7:()=>Qt,cJS:()=>tn,oAB:()=>zt,Yjl:()=>ls,Y36:()=>Ch,_UZ:()=>ip,qZA:()=>np,TgZ:()=>nc,EpF:()=>wm,n5z:()=>Vs,LFG:()=>T,$8M:()=>_a,NdJ:()=>sp,CRH:()=>Pp,oxw:()=>Qw,Q6J:()=>tp,DdM:()=>ey,VKq:()=>$b,WLB:()=>qb,kEZ:()=>bs,iGM:()=>tE,evT:()=>De,Jf7:()=>Pu,CHM:()=>Qa,uOi:()=>Kl,LSH:()=>bf,kYT:()=>Ii,Akn:()=>Qs,YNc:()=>Pw,_uU:()=>IA,Oqu:()=>Qu,hij:()=>Yu,AsE:()=>Sm,Gf:()=>Ph});var d=L(7579),se=L(727),B=L(9751),ge=L(6451),fe=L(3099);function Ee(s){for(let o in s)if(s[o]===Ee)return o;throw Error("Could not find renamed property on target object.")}function de(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function _e(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(_e).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function we(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const K=Ee({__forward_ref__:Ee});function J(s){return s.__forward_ref__=J,s.toString=function(){return _e(this())},s}function ae(s){return Ke(s)?s():s}function Ke(s){return"function"==typeof s&&s.hasOwnProperty(K)&&s.__forward_ref__===J}class Be extends Error{constructor(o,l){super(function yt(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function Se(s){return"string"==typeof s?s:null==s?"":String(s)}function Re(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Se(s)}function Me(s,o){const l=o?` in ${o}`:"";throw new Be(-201,`No provider for ${Re(s)} found${l}`)}function jt(s,o){null==s&&function Ye(s,o,l,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${l} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function Qt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function tn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ht(s){return mr(s,zi)||mr(s,Yn)}function mr(s,o){return s.hasOwnProperty(o)?s[o]:null}function xi(s){return s&&(s.hasOwnProperty(xs)||s.hasOwnProperty(xn))?s[xs]:null}const zi=Ee({\u0275prov:Ee}),xs=Ee({\u0275inj:Ee}),Yn=Ee({ngInjectableDef:Ee}),xn=Ee({ngInjectorDef:Ee});var ft=(()=>((ft=ft||{})[ft.Default=0]="Default",ft[ft.Host=1]="Host",ft[ft.Self=2]="Self",ft[ft.SkipSelf=4]="SkipSelf",ft[ft.Optional=8]="Optional",ft))();let $i;function Nn(s){const o=$i;return $i=s,o}function yr(s,o,l){const c=Ht(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&ft.Optional?null:void 0!==o?o:void Me(_e(s),"Injector")}function bt(s){return{toString:s}.toString()}var cn=(()=>((cn=cn||{})[cn.OnPush=0]="OnPush",cn[cn.Default=1]="Default",cn))(),St=(()=>{return(s=St||(St={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",St;var s})();const nt="undefined"!=typeof globalThis&&globalThis,Mt="undefined"!=typeof window&&window,Jn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Yt=nt||"undefined"!=typeof global&&global||Mt||Jn,mi={},_t=[],as=Ee({\u0275cmp:Ee}),W=Ee({\u0275dir:Ee}),z=Ee({\u0275pipe:Ee}),$=Ee({\u0275mod:Ee}),Q=Ee({\u0275fac:Ee}),ee=Ee({__NG_ELEMENT_ID__:Ee});let Pe=0;function $e(s){return bt(()=>{const l={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===cn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||_t,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||St.Emulated,id:"c",styles:s.styles||_t,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,g=s.features,v=s.pipes;return c.id+=Pe++,c.inputs=Br(s.inputs,l),c.outputs=Br(s.outputs),g&&g.forEach(b=>b(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(fn):null,c.pipeDefs=v?()=>("function"==typeof v?v():v).map(nn):null,c})}function fn(s){return Xn(s)||function Pi(s){return s[W]||null}(s)}function nn(s){return function cs(s){return s[z]||null}(s)}const ai={};function zt(s){return bt(()=>{const o={type:s.type,bootstrap:s.bootstrap||_t,declarations:s.declarations||_t,imports:s.imports||_t,exports:s.exports||_t,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(ai[s.id]=s.type),o})}function Ii(s,o){return bt(()=>{const l=ei(s,!0);l.declarations=o.declarations||_t,l.imports=o.imports||_t,l.exports=o.exports||_t})}function Br(s,o){if(null==s)return mi;const l={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=c,o&&(o[h]=g)}return l}const Mo=$e;function ls(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Xn(s){return s[as]||null}function ei(s,o){const l=s[$]||null;if(!l&&!0===o)throw new Error(`Type ${_e(s)} does not have '\u0275mod' property.`);return l}function Ki(s){return Array.isArray(s)&&"object"==typeof s[1]}function Vr(s){return Array.isArray(s)&&!0===s[1]}function $a(s){return 0!=(8&s.flags)}function gc(s){return 2==(2&s.flags)}function Gr(s){return 1==(1&s.flags)}function vr(s){return null!==s.template}function tr(s){return 0!=(512&s[2])}function Ti(s,o){return s.hasOwnProperty(Q)?s[Q]:null}class Ms{constructor(o,l,c){this.previousValue=o,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function Ur(){return Po}function Po(s){return s.type.prototype.ngOnChanges&&(s.setInput=pu),xl}function xl(){const s=ao(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===mi)s.previous=o;else for(let c in o)l[c]=o[c];s.current=null,this.ngOnChanges(o)}}function pu(s,o,l,c){const h=ao(s)||function No(s,o){return s[oo]=o}(s,{previous:mi,current:null}),g=h.current||(h.current={}),v=h.previous,b=this.declaredInputs[l],I=v[b];g[b]=new Ms(I&&I.currentValue,o,v===mi),s[c]=o}Ur.ngInherit=!0;const oo="__ngSimpleChanges__";function ao(s){return s[oo]||null}let sa;function Dl(s){sa=s}function un(s){return!!s.listen}const Lo={createRenderer:(s,o)=>function Hr(){return void 0!==sa?sa:"undefined"!=typeof document?document:void 0}()};function an(s){for(;Array.isArray(s);)s=s[0];return s}function fs(s,o){return an(o[s])}function _i(s,o){return an(o[s.index])}function Dn(s,o){return s.data[o]}function ni(s,o){const l=o[s];return Ki(l)?l:l[0]}function ks(s){return 4==(4&s[2])}function ps(s){return 128==(128&s[2])}function wr(s,o){return null==o?null:s[o]}function zr(s){s[18]=0}function Bo(s,o){s[5]+=o;let l=s,c=s[3];for(;null!==c&&(1===o&&1===l[5]||-1===o&&0===l[5]);)c[5]+=o,l=c,c=c[3]}const Et={lFrame:Ec(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function aa(){return Et.bindingsEnabled}function Fe(){return Et.lFrame.lView}function $t(){return Et.lFrame.tView}function Qa(s){return Et.lFrame.contextLView=s,s[8]}function wn(){let s=fo();for(;null!==s&&64===s.type;)s=s.parent;return s}function fo(){return Et.lFrame.currentTNode}function rr(s,o){const l=Et.lFrame;l.currentTNode=s,l.isParent=o}function la(){return Et.lFrame.isParent}function ca(){return Et.isInCheckNoChangesMode}function Za(s){Et.isInCheckNoChangesMode=s}function Bn(){const s=Et.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Fs(){return Et.lFrame.bindingIndex++}function sr(s){const o=Et.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function Ol(s,o){const l=Et.lFrame;l.bindingIndex=l.bindingRootIndex=s,fa(o)}function fa(s){Et.lFrame.currentDirectiveIndex=s}function Fl(){return Et.lFrame.currentQueryIndex}function go(s){Et.lFrame.currentQueryIndex=s}function gu(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Xa(s,o,l){if(l&ft.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||l&ft.Host||(h=gu(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const c=Et.lFrame=pa();return c.currentTNode=o,c.lView=s,!0}function Ps(s){const o=pa(),l=s[1];Et.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function pa(){const s=Et.lFrame,o=null===s?null:s.child;return null===o?Ec(s):o}function Ec(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Vo(){const s=Et.lFrame;return Et.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const ga=Vo;function Go(){const s=Vo();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function li(){return Et.lFrame.selectedIndex}function br(s){Et.lFrame.selectedIndex=s}function Rn(){const s=Et.lFrame;return Dn(s.tView,s.selectedIndex)}function Cc(s,o){for(let l=o.directiveStart,c=o.directiveEnd;l<c;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:b,ngAfterViewInit:I,ngAfterViewChecked:k,ngOnDestroy:F}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),b&&((s.contentHooks||(s.contentHooks=[])).push(l,b),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,b)),I&&(s.viewHooks||(s.viewHooks=[])).push(-l,I),k&&((s.viewHooks||(s.viewHooks=[])).push(l,k),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,k)),null!=F&&(s.destroyHooks||(s.destroyHooks=[])).push(l,F)}}function ma(s,o,l){ci(s,o,3,l)}function qr(s,o,l,c){(3&s[2])===l&&ci(s,o,l,c)}function Ns(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function ci(s,o,l,c){const g=null!=c?c:-1,v=o.length-1;let b=0;for(let I=void 0!==c?65535&s[18]:0;I<v;I++)if("number"==typeof o[I+1]){if(b=o[I],null!=c&&b>=c)break}else o[I]<0&&(s[18]+=65536),(b<g||-1==g)&&(_u(s,l,o,I),s[18]=(4294901760&s[18])+I+2),I++}function _u(s,o,l,c){const h=l[c]<0,g=l[c+1],b=s[h?-l[c]:l[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(b)}finally{}}}else try{g.call(b)}finally{}}class Qi{constructor(o,l,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function zn(s,o,l){const c=un(s);let h=0;for(;h<l.length;){const g=l[h];if("number"==typeof g){if(0!==g)break;h++;const v=l[h++],b=l[h++],I=l[h++];c?s.setAttribute(o,b,I,v):o.setAttributeNS(v,b,I)}else{const v=g,b=l[++h];x(v)?c&&s.setProperty(o,v,b):c?s.setAttribute(o,v,b):o.setAttribute(v,b),h++}}return h}function C(s){return 3===s||4===s||6===s}function x(s){return 64===s.charCodeAt(0)}function R(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?l=h:0===l||U(s,l,h,null,-1===l||2===l?o[++c]:null)}}return s}function U(s,o,l,c,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const b=s[g++];if("number"==typeof b){if(b===o){v=-1;break}if(b>o){v=g-1;break}}}for(;g<s.length;){const b=s[g];if("number"==typeof b)break;if(b===l){if(null===c)return void(null!==h&&(s[g+1]=h));if(c===s[g+1])return void(s[g+2]=h)}g++,null!==c&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,l),null!==c&&s.splice(g++,0,c),null!==h&&s.splice(g++,0,h)}function be(s){return-1!==s}function Le(s){return 32767&s}function en(s,o){let l=function An(s){return s>>16}(s),c=o;for(;l>0;)c=c[15],l--;return c}let $n=!0;function or(s){const o=$n;return $n=s,o}let sf=0;function Bl(s,o){const l=Ic(s,o);if(-1!==l)return l;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,Uo(c.data,s),Uo(o,null),Uo(c.blueprint,null));const h=Bs(s,o),g=s.injectorIndex;if(be(h)){const v=Le(h),b=en(h,o),I=b[1].data;for(let k=0;k<8;k++)o[g+k]=b[v+k]|I[v+k]}return o[g+8]=h,g}function Uo(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Ic(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Bs(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,c=null,h=o;for(;null!==h;){const g=h[1],v=g.type;if(c=2===v?g.declTNode:1===v?h[6]:null,null===c)return-1;if(l++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return-1}function ya(s,o,l){!function xc(s,o,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(ee)&&(c=l[ee]),null==c&&(c=l[ee]=sf++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function Dc(s,o,l){if(l&ft.Optional)return s;Me(o,"NodeInjector")}function nl(s,o,l,c){if(l&ft.Optional&&void 0===c&&(c=null),0==(l&(ft.Self|ft.Host))){const h=s[9],g=Nn(void 0);try{return h?h.get(o,c,l&ft.Optional):yr(o,c,l&ft.Optional)}finally{Nn(g)}}return Dc(c,o,l)}function vu(s,o,l,c=ft.Default,h){if(null!==s){const g=function Gd(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ee)?s[ee]:void 0;return"number"==typeof o?o>=0?255&o:Ai:o}(l);if("function"==typeof g){if(!Xa(o,s,c))return c&ft.Host?Dc(h,l,c):nl(o,l,c,h);try{const v=g(c);if(null!=v||c&ft.Optional)return v;Me(l)}finally{ga()}}else if("number"==typeof g){let v=null,b=Ic(s,o),I=-1,k=c&ft.Host?o[16][6]:null;for((-1===b||c&ft.SkipSelf)&&(I=-1===b?Bs(s,o):o[b+8],-1!==I&&Tc(c,!1)?(v=o[1],b=Le(I),o=en(I,o)):b=-1);-1!==b;){const F=o[1];if(Ho(g,b,F.data)){const G=wu(b,o,l,v,c,k);if(G!==ui)return G}I=o[b+8],-1!==I&&Tc(c,o[1].data[b+8]===k)&&Ho(g,b,o)?(v=F,b=Le(I),o=en(I,o)):b=-1}}}return nl(o,l,c,h)}const ui={};function Ai(){return new Cr(wn(),Fe())}function wu(s,o,l,c,h,g){const v=o[1],b=v.data[s+8],F=Vl(b,v,l,null==c?gc(b)&&$n:c!=v&&0!=(3&b.type),h&ft.Host&&g===b);return null!==F?Gl(o,v,F,b):ui}function Vl(s,o,l,c,h){const g=s.providerIndexes,v=o.data,b=1048575&g,I=s.directiveStart,F=g>>20,Y=h?b+F:s.directiveEnd;for(let le=c?b:b+F;le<Y;le++){const Te=v[le];if(le<I&&l===Te||le>=I&&Te.type===l)return le}if(h){const le=v[I];if(le&&vr(le)&&le.type===l)return I}return null}function Gl(s,o,l,c){let h=s[l];const g=o.data;if(function yo(s){return s instanceof Qi}(h)){const v=h;v.resolving&&function lt(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Be(-200,`Circular dependency in DI detected for ${s}${l}`)}(Re(g[l]));const b=or(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?Nn(v.injectImpl):null;Xa(s,c,ft.Default);try{h=s[l]=v.factory(void 0,g,s,c),o.firstCreatePass&&l>=c.directiveStart&&function Nd(s,o,l){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(c){const v=Po(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],o)}finally{null!==I&&Nn(I),or(b),v.resolving=!1,ga()}}return h}function Ho(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Tc(s,o){return!(s&ft.Self||s&ft.Host&&o)}class Cr{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,c){return vu(this._tNode,this._lView,o,c,l)}}function Vs(s){return bt(()=>{const o=s.prototype.constructor,l=o[Q]||il(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const g=h[Q]||il(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function il(s){return Ke(s)?()=>{const o=il(ae(s));return o&&o()}:Ti(s)}function _a(s){return function Au(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const c=l.length;let h=0;for(;h<c;){const g=l[h];if(C(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<c&&"string"==typeof l[h];)h++;else{if(g===o)return l[h+1];h+=2}}}return null}(wn(),s)}const _o="__parameters__";function Ul(s,o,l){return bt(()=>{const c=function Si(s){return function(...l){if(s){const c=s(...l);for(const h in c)this[h]=c[h]}}}(o);function h(...g){if(this instanceof h)return c.apply(this,g),this;const v=new h(...g);return b.annotation=v,b;function b(I,k,F){const G=I.hasOwnProperty(_o)?I[_o]:Object.defineProperty(I,_o,{value:[]})[_o];for(;G.length<=F;)G.push(null);return(G[F]=G[F]||[]).push(v),I}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Vn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Qt({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Ir(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let c=s[l];Array.isArray(c)?(o===s&&(o=s.slice(0,l)),Ir(c,o)):o!==s&&o.push(c)}return o}function Dr(s,o){s.forEach(l=>Array.isArray(l)?Dr(l,o):o(l))}function zo(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function va(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Bi(s,o,l){let c=Gs(s,o);return c>=0?s[1|c]=l:(c=~c,function $o(s,o,l,c){let h=s.length;if(h==o)s.push(l,c);else if(1===h)s.push(c,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=c}}(s,c,o,l)),c}function wo(s,o){const l=Gs(s,o);if(l>=0)return s[1|l]}function Gs(s,o){return function $l(s,o,l){let c=0,h=s.length>>l;for(;h!==c;){const g=c+(h-c>>1),v=s[g<<l];if(o===v)return g<<l;v>o?h=g:c=g+1}return~(h<<l)}(s,o,1)}const kc={},Kr="__NG_DI_FLAG__",ba="ngTempTokenPath",Rc=/\n/gm,ol="__source",jd=Ee({provide:String,useValue:Ee});let Oc;function wg(s){const o=Oc;return Oc=s,o}function D(s,o=ft.Default){if(void 0===Oc)throw new Be(203,"");return null===Oc?yr(s,void 0,o):Oc.get(s,o&ft.Optional?null:void 0,o)}function T(s,o=ft.Default){return(function sn(){return $i}()||D)(ae(s),o)}const H=T;function oe(s){const o=[];for(let l=0;l<s.length;l++){const c=ae(s[l]);if(Array.isArray(c)){if(0===c.length)throw new Be(900,"");let h,g=ft.Default;for(let v=0;v<c.length;v++){const b=c[v],I=Ne(b);"number"==typeof I?-1===I?h=b.token:g|=I:h=b}o.push(T(h,g))}else o.push(T(c))}return o}function pe(s,o){return s[Kr]=o,s.prototype[Kr]=o,s}function Ne(s){return s[Kr]}const Ft=pe(Ul("Optional"),8),Tn=pe(Ul("SkipSelf"),4);let Fc,ll;function al(s){var o;return(null===(o=function Eg(){if(void 0===Fc&&(Fc=null,Yt.trustedTypes))try{Fc=Yt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Fc}())||void 0===o?void 0:o.createHTML(s))||s}function Wd(s){var o;return(null===(o=function Mu(){if(void 0===ll&&(ll=null,Yt.trustedTypes))try{ll=Yt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return ll}())||void 0===o?void 0:o.createScriptURL(s))||s}class cl{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Kd extends cl{getTypeName(){return"HTML"}}class Qd extends cl{getTypeName(){return"Style"}}class Yd extends cl{getTypeName(){return"Script"}}class Cg extends cl{getTypeName(){return"URL"}}class xg extends cl{getTypeName(){return"ResourceURL"}}function Wo(s){return s instanceof cl?s.changingThisBreaksApplicationSecurity:s}function Ca(s,o){const l=Zd(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function Zd(s){return s instanceof cl&&s.getTypeName()||null}function ku(s){return new Kd(s)}function Jd(s){return new Qd(s)}function yf(s){return new Yd(s)}function t_(s){return new Cg(s)}function Wl(s){return new xg(s)}class _f{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(al(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class n_{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const c=this.inertDocument.createElement("body");l.appendChild(c)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=al(o),l;const c=this.inertDocument.createElement("body");return c.innerHTML=al(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const l=o.attributes;for(let h=l.length-1;0<h;h--){const v=l.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const m0=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,y0=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zs(s){return(s=String(s)).match(m0)||s.match(y0)?s:"unsafe:"+s}function bo(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function ul(...s){const o={};for(const l of s)for(const c in l)l.hasOwnProperty(c)&&(o[c]=!0);return o}const Af=bo("area,br,col,hr,img,wbr"),eh=bo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),th=bo("rp,rt"),vf=ul(Af,ul(eh,bo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ul(th,bo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ul(th,eh)),Pc=bo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wf=bo("srcset"),Tg=ul(Pc,wf,bo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Sg=bo("script,style,template");class Mg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,c=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?c=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,c&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!vf.hasOwnProperty(l))return this.sanitizedSomething=!0,!Sg.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const c=o.attributes;for(let h=0;h<c.length;h++){const g=c.item(h),v=g.name,b=v.toLowerCase();if(!Tg.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let I=g.value;Pc[b]&&(I=zs(I)),wf[b]&&(s=I,I=(s=String(s)).split(",").map(o=>zs(o.trim())).join(", ")),this.buf.push(" ",v,'="',nh(I),'"')}var s;return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();vf.hasOwnProperty(l)&&!Af.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(nh(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const Nc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o_=/([^\#-~ |!])/g;function nh(s){return s.replace(/&/g,"&amp;").replace(Nc,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(o_,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Lc;function Bc(s,o){let l=null;try{Lc=Lc||function Xd(s){const o=new n_(s);return function g0(){try{return!!(new window.DOMParser).parseFromString(al(""),"text/html")}catch(s){return!1}}()?new _f(o):o}(s);let c=o?String(o):"";l=Lc.getInertBodyElement(c);let h=5,g=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=g,g=l.innerHTML,l=Lc.getInertBodyElement(c)}while(c!==g);return al((new Mg).sanitizeChildren(ih(l)||l))}finally{if(l){const c=ih(l)||l;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function ih(s){return"content"in s&&function a_(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Mn=(()=>((Mn=Mn||{})[Mn.NONE=0]="NONE",Mn[Mn.HTML=1]="HTML",Mn[Mn.STYLE=2]="STYLE",Mn[Mn.SCRIPT=3]="SCRIPT",Mn[Mn.URL=4]="URL",Mn[Mn.RESOURCE_URL=5]="RESOURCE_URL",Mn))();function bf(s){const o=Vc();return o?o.sanitize(Mn.URL,s)||"":Ca(s,"URL")?Wo(s):zs(Se(s))}function Kl(s){const o=Vc();if(o)return Wd(o.sanitize(Mn.RESOURCE_URL,s)||"");if(Ca(s,"ResourceURL"))return Wd(Wo(s));throw new Be(904,"")}function Vc(){const s=Fe();return s&&s[12]}const Ef="__ngContext__";function Mi(s,o){s[Ef]=o}function Ru(s){const o=function Ql(s){return s[Ef]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function xa(s){return s.ngOriginalError}function A0(s,...o){s.error(...o)}class Fu{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),c=function h_(s){return s&&s.ngErrorLogger||A0}(o);c(this._console,"ERROR",o),l&&c(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&xa(o);for(;l&&xa(l);)l=xa(l);return l||null}}const On=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Yt))();function Pu(s){return s.ownerDocument.defaultView}function De(s){return s.ownerDocument}function kr(s){return s instanceof Function?s():s}var M=(()=>((M=M||{})[M.Important=1]="Important",M[M.DashCase=2]="DashCase",M))();function ne(s,o){return undefined(s,o)}function ot(s){const o=s[3];return Vr(o)?o[3]:o}function di(s){return Nu(s[13])}function Zr(s){return Nu(s[4])}function Nu(s){for(;null!==s&&!Vr(s);)s=s[4];return s}function hl(s,o,l,c,h){if(null!=c){let g,v=!1;Vr(c)?g=c:Ki(c)&&(v=!0,c=c[0]);const b=an(c);0===s&&null!==l?null==h?fl(o,l,b):Yl(o,l,b,h||null,!0):1===s&&null!==l?Yl(o,l,b,h||null,!0):2===s?function $s(s,o,l){const c=jg(s,o);c&&function Hc(s,o,l,c){un(s)?s.removeChild(o,l,c):o.removeChild(l)}(s,c,o,l)}(o,b,v):3===s&&o.destroyNode(b),null!=g&&function S0(s,o,l,c,h){const g=l[7];g!==an(l)&&hl(o,s,c,g,h);for(let b=10;b<l.length;b++){const I=l[b];Vu(I[1],I,s,o,c,g)}}(o,s,g,l,h)}}function Ia(s,o,l){if(un(s))return s.createElement(o,l);{const c=null!==l?function bc(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===c?s.createElement(o):s.createElementNS(c,o)}}function v0(s,o){const l=s[9],c=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Bo(h,-1)),l.splice(c,1)}function m_(s,o){if(s.length<=10)return;const l=10+o,c=s[l];if(c){const h=c[17];null!==h&&h!==s&&v0(h,c),o>0&&(s[l-1][4]=c[4]);const g=va(s,10+o);!function Rf(s,o){Vu(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const v=g[19];null!==v&&v.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function w0(s,o){if(!(256&o[2])){const l=o[11];un(l)&&l.destroyNode&&Vu(s,o,l,3,null,null),function Bu(s){let o=s[13];if(!o)return y_(s[1],s);for(;o;){let l=null;if(Ki(o))l=o[13];else{const c=o[10];c&&(l=c)}if(!l){for(;o&&!o[4]&&o!==s;)Ki(o)&&y_(o[1],o),o=o[3];null===o&&(o=s),Ki(o)&&y_(o[1],o),l=o&&o[4]}o=l}}(o)}}function y_(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Ug(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let c=0;c<l.length;c+=2){const h=o[l[c]];if(!(h instanceof Qi)){const g=l[c+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const b=h[g[v]],I=g[v+1];try{I.call(b)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function OC(s,o){const l=s.cleanup,c=o[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+1],b="function"==typeof v?v(o):an(o[v]),I=c[h=l[g+2]],k=l[g+3];"boolean"==typeof k?b.removeEventListener(l[g],I,k):k>=0?c[h=k]():c[h=-k].unsubscribe(),g+=2}else{const v=c[h=l[g+1]];l[g].call(v)}if(null!==c){for(let g=h+1;g<c.length;g++)c[g]();o[7]=null}}(s,o),1===o[1].type&&un(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&Vr(o[3])){l!==o[3]&&v0(l,o);const c=o[19];null!==c&&c.detachView(s)}}}function __(s,o,l){return function Hg(s,o,l){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return l[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===St.None||h===St.Emulated)return null}return _i(c,l)}(s,o.parent,l)}function Yl(s,o,l,c,h){un(s)?s.insertBefore(o,l,c,h):o.insertBefore(l,c,h)}function fl(s,o,l){un(s)?s.appendChild(o,l):o.appendChild(l)}function A_(s,o,l,c,h){null!==c?Yl(s,o,l,c,h):fl(s,o,l)}function jg(s,o){return un(s)?s.parentNode(o):o.parentNode}let C0=function E0(s,o,l){return 40&s.type?_i(s,l):null};function $g(s,o,l,c){const h=__(s,c,o),g=o[11],b=function b0(s,o,l){return C0(s,o,l)}(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(l))for(let I=0;I<l.length;I++)A_(g,h,l[I],b,!1);else A_(g,h,l,b,!1)}function qg(s,o){if(null!==o){const l=o.type;if(3&l)return _i(o,s);if(4&l)return w_(-1,s[o.index]);if(8&l){const c=o.child;if(null!==c)return qg(s,c);{const h=s[o.index];return Vr(h)?w_(-1,h):an(h)}}if(32&l)return ne(o,s)()||an(s[o.index]);{const c=I0(s,o);return null!==c?Array.isArray(c)?c[0]:qg(ot(s[16]),c):qg(s,o.next)}}return null}function I0(s,o){return null!==o?s[16][6].projection[o.projection]:null}function w_(s,o){const l=10+s+1;if(l<o.length){const c=o[l],h=c[1].firstChild;if(null!==h)return qg(c,h)}return o[7]}function Of(s,o,l,c,h,g,v){for(;null!=l;){const b=c[l.index],I=l.type;if(v&&0===o&&(b&&Mi(an(b),c),l.flags|=4),64!=(64&l.flags))if(8&I)Of(s,o,l.child,c,h,g,!1),hl(o,s,h,b,g);else if(32&I){const k=ne(l,c);let F;for(;F=k();)hl(o,s,h,F,g);hl(o,s,h,b,g)}else 16&I?T0(s,o,c,l,h,g):hl(o,s,h,b,g);l=v?l.projectionNext:l.next}}function Vu(s,o,l,c,h,g){Of(l,c,s.firstChild,o,h,g,!1)}function T0(s,o,l,c,h,g){const v=l[16],I=v[6].projection[c.projection];if(Array.isArray(I))for(let k=0;k<I.length;k++)hl(o,s,h,I[k],g);else Of(s,o,I,v[3],h,g,!0)}function k0(s,o,l){un(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function b_(s,o,l){un(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function R0(s,o,l){let c=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===c||s.charCodeAt(h+g)<=32)return h}l=h+1}}const Wg="ng-template";function FC(s,o,l){let c=0;for(;c<s.length;){let h=s[c++];if(l&&"class"===h){if(h=s[c],-1!==R0(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function O0(s){return 4===s.type&&s.value!==Wg}function F0(s,o,l){return o===(4!==s.type||l?s.value:Wg)}function PC(s,o,l){let c=4;const h=s.attrs||[],g=function NC(s){for(let o=0;o<s.length;o++)if(C(s[o]))return o;return s.length}(h);let v=!1;for(let b=0;b<o.length;b++){const I=o[b];if("number"!=typeof I){if(!v)if(4&c){if(c=2|1&c,""!==I&&!F0(s,I,l)||""===I&&1===o.length){if(Wn(c))return!1;v=!0}}else{const k=8&c?I:o[++b];if(8&c&&null!==s.attrs){if(!FC(s.attrs,k,l)){if(Wn(c))return!1;v=!0}continue}const G=Kg(8&c?"class":I,h,O0(s),l);if(-1===G){if(Wn(c))return!1;v=!0;continue}if(""!==k){let Y;Y=G>g?"":h[G+1].toLowerCase();const le=8&c?Y:null;if(le&&-1!==R0(le,k,0)||2&c&&k!==Y){if(Wn(c))return!1;v=!0}}}}else{if(!v&&!Wn(c)&&!Wn(I))return!1;if(v&&Wn(I))continue;v=!1,c=I|1&c}}return Wn(c)||v}function Wn(s){return 0==(1&s)}function Kg(s,o,l,c){if(null===o)return-1;let h=0;if(c||!l){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let b=o[++h];for(;"string"==typeof b;)b=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function LC(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const c=s[l];if("number"==typeof c)return-1;if(c===o)return l;l++}return-1}(o,s)}function P0(s,o,l=!1){for(let c=0;c<o.length;c++)if(PC(s,o[c],l))return!0;return!1}function L0(s,o){return s?":not("+o.trim()+")":o}function E_(s){let o=s[0],l=1,c=2,h="",g=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&c){const b=s[++l];h+="["+v+(b.length>0?'="'+b+'"':"")+"]"}else 8&c?h+="."+v:4&c&&(h+=" "+v);else""!==h&&!Wn(v)&&(o+=L0(g,h),h=""),c=v,g=g||!Wn(c);l++}return""!==h&&(o+=L0(g,h)),o}const qt={};function G0(s){Da($t(),Fe(),li()+s,ca())}function Da(s,o,l,c){if(!c)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&ma(o,g,l)}else{const g=s.preOrderHooks;null!==g&&qr(o,g,0,l)}br(l)}function Gu(s,o){return s<<17|o<<2}function Sa(s){return s>>17&32767}function Uu(s){return 2|s}function pl(s){return(131068&s)>>2}function C_(s,o){return-131069&s|o<<2}function I_(s){return 1|s}function O_(s,o){const l=s.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const h=l[c],g=l[c+1];if(-1!==g){const v=s.data[g];go(h),v.contentQueries(2,o[g],g)}}}function fh(s,o,l,c,h,g,v,b,I,k){const F=o.blueprint.slice();return F[0]=h,F[2]=140|c,zr(F),F[3]=F[15]=s,F[8]=l,F[10]=v||s&&s[10],F[11]=b||s&&s[11],F[12]=I||s&&s[12]||null,F[9]=k||s&&s[9]||null,F[6]=g,F[16]=2==o.type?s[16]:F,F}function Hu(s,o,l,c,h){let g=s.data[o];if(null===g)g=function Jg(s,o,l,c,h){const g=fo(),v=la(),I=s.data[o]=function zS(s,o,l,c,h,g){return{type:l,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,o,c,h);return null===s.firstChild&&(s.firstChild=I),null!==g&&(v?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(s,o,l,c,h),function da(){return Et.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=c,g.attrs=h;const v=function Os(){const s=Et.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return rr(g,!0),g}function Bf(s,o,l,c){if(0===l)return-1;const h=o.length;for(let g=0;g<l;g++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function Xg(s,o,l){Ps(o);try{const c=s.viewQuery;null!==c&&H_(1,c,l);const h=s.template;null!==h&&K0(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&O_(s,o),s.staticViewQueries&&H_(2,s.viewQuery,l);const g=s.components;null!==g&&function F_(s,o){for(let l=0;l<o.length;l++)ix(s,o[l])}(o,g)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,Go()}}function Vf(s,o,l,c){const h=o[2];if(256==(256&h))return;Ps(o);const g=ca();try{zr(o),function ua(s){return Et.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&K0(s,o,l,2,c);const v=3==(3&h);if(!g)if(v){const k=s.preOrderCheckHooks;null!==k&&ma(o,k,null)}else{const k=s.preOrderHooks;null!==k&&qr(o,k,0,null),Ns(o,0)}if(function zc(s){for(let o=di(s);null!==o;o=Zr(o)){if(!o[2])continue;const l=o[9];for(let c=0;c<l.length;c++){const h=l[c],g=h[3];0==(1024&h[2])&&Bo(g,1),h[2]|=1024}}}(o),function ZS(s){for(let o=di(s);null!==o;o=Zr(o))for(let l=10;l<o.length;l++){const c=o[l],h=c[1];ps(c)&&Vf(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&O_(s,o),!g)if(v){const k=s.contentCheckHooks;null!==k&&ma(o,k)}else{const k=s.contentHooks;null!==k&&qr(o,k,1),Ns(o,1)}!function $C(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let c=0;c<l.length;c++){const h=l[c];if(h<0)br(~h);else{const g=h,v=l[++c],b=l[++c];Ol(v,g),b(2,o[g])}}}finally{br(-1)}}(s,o);const b=s.components;null!==b&&function qC(s,o){for(let l=0;l<o.length;l++)lw(s,o[l])}(o,b);const I=s.viewQuery;if(null!==I&&H_(2,I,c),!g)if(v){const k=s.viewCheckHooks;null!==k&&ma(o,k)}else{const k=s.viewHooks;null!==k&&qr(o,k,2),Ns(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Bo(o[3],-1))}finally{Go()}}function WC(s,o,l,c){const h=o[10],g=!ca(),v=ks(o);try{g&&!v&&h.begin&&h.begin(),v&&Xg(s,o,c),Vf(s,o,l,c)}finally{g&&!v&&h.end&&h.end()}}function K0(s,o,l,c,h){const g=li(),v=2&c;try{br(-1),v&&o.length>20&&Da(s,o,20,ca()),l(c,h)}finally{br(g)}}function P_(s,o,l){!aa()||(function nm(s,o,l,c){const h=l.directiveStart,g=l.directiveEnd;s.firstCreatePass||Bl(l,o),Mi(c,o);const v=l.initialInputs;for(let b=h;b<g;b++){const I=s.data[b],k=vr(I);k&&KS(o,l,I);const F=Gl(o,s,b,l);Mi(F,o),null!==v&&QS(0,b-h,F,I,0,v),k&&(ni(l.index,o)[8]=F)}}(s,o,l,_i(l,o)),128==(128&l.flags)&&function XC(s,o,l){const c=l.directiveStart,h=l.directiveEnd,v=l.index,b=function Ja(){return Et.lFrame.currentDirectiveIndex}();try{br(v);for(let I=c;I<h;I++){const k=s.data[I],F=o[I];fa(I),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&ex(k,F)}}finally{br(-1),fa(b)}}(s,o,l))}function N_(s,o,l=_i){const c=o.localNames;if(null!==c){let h=o.index+1;for(let g=0;g<c.length;g+=2){const v=c[g+1],b=-1===v?l(o,s):s[v];s[h++]=b}}}function Y0(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=em(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function em(s,o,l,c,h,g,v,b,I,k){const F=20+c,G=F+h,Y=function Z0(s,o){const l=[];for(let c=0;c<o;c++)l.push(c<s?null:qt);return l}(F,G),le="function"==typeof k?k():k;return Y[1]={type:s,blueprint:Y,template:l,queries:null,viewQuery:b,declTNode:o,data:Y.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:G,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:le,incompleteFirstPass:!1}}function KC(s,o,l,c){const h=Jr(o);null===l?h.push(c):(h.push(l),s.firstCreatePass&&Gf(s).push(c,h.length-1))}function ew(s,o,l){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(l=null===l?{}:l).hasOwnProperty(c)?l[c].push(o,h):l[c]=[o,h]}return l}function L_(s,o,l,c){let h=!1;if(aa()){const g=function tx(s,o,l){const c=s.directiveRegistry;let h=null;if(c)for(let g=0;g<c.length;g++){const v=c[g];P0(l,v.selectors,!1)&&(h||(h=[]),ya(Bl(l,o),s,v.type),vr(v)?(im(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===c?null:{"":-1};if(null!==g){h=!0,sw(l,s.data.length,g.length);for(let F=0;F<g.length;F++){const G=g[F];G.providersResolver&&G.providersResolver(G)}let b=!1,I=!1,k=Bf(s,o,g.length,null);for(let F=0;F<g.length;F++){const G=g[F];l.mergedAttrs=R(l.mergedAttrs,G.hostAttrs),ow(s,l,o,k,G),WS(k,G,v),null!==G.contentQueries&&(l.flags|=8),(null!==G.hostBindings||null!==G.hostAttrs||0!==G.hostVars)&&(l.flags|=128);const Y=G.type.prototype;!b&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),b=!0),!I&&(Y.ngOnChanges||Y.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),I=!0),k++}!function QC(s,o){const c=o.directiveEnd,h=s.data,g=o.attrs,v=[];let b=null,I=null;for(let k=o.directiveStart;k<c;k++){const F=h[k],G=F.inputs,Y=null===g||O0(o)?null:YS(G,g);v.push(Y),b=ew(G,k,b),I=ew(F.outputs,k,I)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=16),b.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=b,o.outputs=I}(s,l)}v&&function qS(s,o,l){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=l[o[h+1]];if(null==g)throw new Be(-301,!1);c.push(o[h],g)}}}(l,c,v)}return l.mergedAttrs=R(l.mergedAttrs,l.attrs),h}function iw(s,o,l,c,h,g){const v=g.hostBindings;if(v){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const I=~o.index;(function rw(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(b)!=I&&b.push(I),b.push(c,h,v)}}function ex(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function im(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function WS(s,o,l){if(l){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)l[o.exportAs[c]]=s;vr(o)&&(l[""]=s)}}function sw(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function ow(s,o,l,c,h){s.data[c]=h;const g=h.factory||(h.factory=Ti(h.type)),v=new Qi(g,vr(h),null);s.blueprint[c]=v,l[c]=v,iw(s,o,0,c,Bf(s,l,h.hostVars,qt),h)}function KS(s,o,l){const c=_i(o,s),h=Y0(l),g=s[10],v=Ws(s,fh(s,h,null,l.onPush?64:16,c,o,g,g.createRenderer(c,l),null,null));s[o.index]=v}function ec(s,o,l,c,h,g){const v=_i(s,o);!function aw(s,o,l,c,h,g,v){if(null==g)un(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const b=null==v?Se(g):v(g,c||"",h);un(s)?s.setAttribute(o,h,b,l):l?o.setAttributeNS(l,h,b):o.setAttribute(h,b)}}(o[11],v,g,s.value,l,c,h)}function QS(s,o,l,c,h,g){const v=g[o];if(null!==v){const b=c.setInput;for(let I=0;I<v.length;){const k=v[I++],F=v[I++],G=v[I++];null!==b?c.setInput(l,G,k,F):l[F]=G}}}function YS(s,o){let l=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return l}function nx(s,o,l,c){return new Array(s,!0,!1,o,null,0,c,l,null,null)}function lw(s,o){const l=ni(o,s);if(ps(l)){const c=l[1];80&l[2]?Vf(c,l,c.template,l[8]):l[5]>0&&B_(l)}}function B_(s){for(let c=di(s);null!==c;c=Zr(c))for(let h=10;h<c.length;h++){const g=c[h];if(1024&g[2]){const v=g[1];Vf(v,g,v.template,g[8])}else g[5]>0&&B_(g)}const l=s[1].components;if(null!==l)for(let c=0;c<l.length;c++){const h=ni(l[c],s);ps(h)&&h[5]>0&&B_(h)}}function ix(s,o){const l=ni(o,s),c=l[1];(function lr(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(c,l),Xg(c,l,l[8])}function Ws(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function ph(s){for(;s;){s[2]|=64;const o=ot(s);if(tr(s)&&!o)return s;s=o}return null}function U_(s,o,l){const c=o[10];c.begin&&c.begin();try{Vf(s,o,s.template,l)}catch(h){throw rm(o,h),h}finally{c.end&&c.end()}}function cw(s){!function G_(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],c=Ru(l),h=c[1];WC(h,c,h.template,l)}}(s[8])}function H_(s,o,l){go(0),o(s,l)}const sx=(()=>Promise.resolve(null))();function Jr(s){return s[7]||(s[7]=[])}function Gf(s){return s.cleanup||(s.cleanup=[])}function rm(s,o){const l=s[9],c=l?l.get(Fu,null):null;c&&c.handleError(o)}function Uf(s,o,l,c,h){for(let g=0;g<l.length;){const v=l[g++],b=l[g++],I=o[v],k=s.data[v];null!==k.setInput?k.setInput(I,h,c,b):I[b]=h}}function ka(s,o,l){const c=fs(o,s);!function Mf(s,o,l){un(s)?s.setValue(o,l):o.textContent=l}(s[11],c,l)}function gh(s,o,l){let c=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const b=o[v];"number"==typeof b?g=b:1==g?h=we(h,b):2==g&&(c=we(c,b+": "+o[++v]+";"))}l?s.styles=c:s.stylesWithoutHost=c,l?s.classes=h:s.classesWithoutHost=h}const z_=new Vn("INJECTOR",-1);class dw{get(o,l=kc){if(l===kc){const c=new Error(`NullInjectorError: No provider for ${_e(o)}!`);throw c.name="NullInjectorError",c}return l}}const ju=new Vn("Set Injector scope."),mh={},sm={};let om;function hw(){return void 0===om&&(om=new dw),om}function fw(s,o=null,l=null,c){const h=pw(s,o,l,c);return h._resolveInjectorDefTypes(),h}function pw(s,o=null,l=null,c){return new lx(s,l,o||hw(),c)}class lx{constructor(o,l,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&Dr(l,b=>this.processProvider(b,o,l)),Dr([o],b=>this.processInjectorType(b,[],g)),this.records.set(z_,zu(void 0,this));const v=this.records.get(ju);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:_e(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=kc,c=ft.Default){this.assertNotDestroyed();const h=wg(this),g=Nn(void 0);try{if(!(c&ft.SkipSelf)){let b=this.records.get(o);if(void 0===b){const I=function yw(s){return"function"==typeof s||"object"==typeof s&&s instanceof Vn}(o)&&Ht(o);b=I&&this.injectableDefInScope(I)?zu(am(o),mh):null,this.records.set(o,b)}if(null!=b)return this.hydrate(o,b)}return(c&ft.Self?hw():this.parent).get(o,l=c&ft.Optional&&l===kc?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[ba]=v[ba]||[]).unshift(_e(o)),h)throw v;return function Xe(s,o,l,c){const h=s[ba];throw o[ol]&&h.unshift(o[ol]),s.message=function xt(s,o,l,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=_e(o);if(Array.isArray(o))h=o.map(_e).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let b=o[v];g.push(v+":"+("string"==typeof b?JSON.stringify(b):_e(b)))}h=`{${g.join(", ")}}`}return`${l}${c?"("+c+")":""}[${h}]: ${s.replace(Rc,"\n  ")}`}("\n"+s.message,h,l,c),s.ngTokenPath=h,s[ba]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Nn(g),wg(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,h)=>o.push(_e(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processInjectorType(o,l,c){if(!(o=ae(o)))return!1;let h=xi(o);const g=null==h&&o.ngModule||void 0,v=void 0===g?o:g,b=-1!==c.indexOf(v);if(void 0!==g&&(h=xi(g)),null==h)return!1;if(null!=h.imports&&!b){let F;c.push(v);try{Dr(h.imports,G=>{this.processInjectorType(G,l,c)&&(void 0===F&&(F=[]),F.push(G))})}finally{}if(void 0!==F)for(let G=0;G<F.length;G++){const{ngModule:Y,providers:le}=F[G];Dr(le,Te=>this.processProvider(Te,Y,le||_t))}}this.injectorDefTypes.add(v);const I=Ti(v)||(()=>new v);this.records.set(v,zu(I,mh));const k=h.providers;if(null!=k&&!b){const F=o;Dr(k,G=>this.processProvider(G,F,k))}return void 0!==g&&void 0!==o.providers}processProvider(o,l,c){let h=$u(o=ae(o))?o:ae(o&&o.provide);const g=function gw(s,o,l){return yh(s)?zu(void 0,s.useValue):zu(lm(s),mh)}(o);if($u(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=zu(void 0,mh,!0),v.factory=()=>oe(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,g)}hydrate(o,l){return l.value===mh&&(l.value=sm,l.value=l.factory()),"object"==typeof l.value&&l.value&&function mw(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=ae(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function am(s){const o=Ht(s),l=null!==o?o.factory:Ti(s);if(null!==l)return l;if(s instanceof Vn)throw new Be(204,!1);if(s instanceof Function)return function $_(s){const o=s.length;if(o>0)throw function jl(s,o){const l=[];for(let c=0;c<s;c++)l.push(o);return l}(o,"?"),new Be(204,!1);const l=function Ji(s){const o=s&&(s[zi]||s[Yn]);if(o){const l=function oi(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Be(204,!1)}function lm(s,o,l){let c;if($u(s)){const h=ae(s);return Ti(h)||am(h)}if(yh(s))c=()=>ae(s.useValue);else if(function q_(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...oe(s.deps||[]));else if(function cx(s){return!(!s||!s.useExisting)}(s))c=()=>T(ae(s.useExisting));else{const h=ae(s&&(s.useClass||s.provide));if(!function W_(s){return!!s.deps}(s))return Ti(h)||am(h);c=()=>new h(...oe(s.deps))}return c}function zu(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function yh(s){return null!==s&&"object"==typeof s&&jd in s}function $u(s){return"function"==typeof s}let Co=(()=>{class s{static create(l,c){var h;if(Array.isArray(l))return fw({name:""},c,l,"");{const g=null!==(h=l.name)&&void 0!==h?h:"";return fw({name:g},l.parent,l.providers,g)}}}return s.THROW_IF_NOT_FOUND=kc,s.NULL=new dw,s.\u0275prov=Qt({token:s,providedIn:"any",factory:()=>T(z_)}),s.__NG_ELEMENT_ID__=-1,s})();function yx(s,o){Cc(Ru(s)[1],wn())}function dm(s){let o=function eA(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const c=[s];for(;o;){let h;if(vr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Be(903,"");h=o.\u0275dir}if(h){if(l){c.push(h);const v=s;v.inputs=hm(s.inputs),v.declaredInputs=hm(s.declaredInputs),v.outputs=hm(s.outputs);const b=h.hostBindings;b&&rM(s,b);const I=h.viewQuery,k=h.contentQueries;if(I&&iM(s,I),k&&Ax(s,k),de(s.inputs,h.inputs),de(s.declaredInputs,h.declaredInputs),de(s.outputs,h.outputs),vr(h)&&h.data.animation){const F=s.data;F.animation=(F.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const b=g[v];b&&b.ngInherit&&b(s),b===dm&&(l=!1)}}o=Object.getPrototypeOf(o)}!function Iw(s){let o=0,l=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=R(h.hostAttrs,l=R(l,h.hostAttrs))}}(c)}function hm(s){return s===mi?{}:s===_t?[]:s}function iM(s,o){const l=s.viewQuery;s.viewQuery=l?(c,h)=>{o(c,h),l(c,h)}:o}function Ax(s,o){const l=s.contentQueries;s.contentQueries=l?(c,h,g)=>{o(c,h,g),l(c,h,g)}:o}function rM(s,o){const l=s.hostBindings;s.hostBindings=l?(c,h)=>{o(c,h),l(c,h)}:o}let fm=null;function qu(){if(!fm){const s=Yt.Symbol;if(s&&s.iterator)fm=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const c=o[l];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(fm=c)}}}return fm}function _h(s){return!!Dw(s)&&(Array.isArray(s)||!(s instanceof Map)&&qu()in s)}function Dw(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Qo(s,o,l){return s[o]=l}function Xr(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Ah(s,o,l,c){const h=Xr(s,o,l);return Xr(s,o+1,c)||h}function Tw(s,o,l,c){const h=Fe();return Xr(h,Fs(),o)&&($t(),ec(Rn(),h,s,o,l,c)),Tw}function $f(s,o,l,c,h,g){const b=Ah(s,function gs(){return Et.lFrame.bindingIndex}(),l,h);return sr(2),b?o+Se(l)+c+Se(h)+g:qt}function Pw(s,o,l,c,h,g,v,b){const I=Fe(),k=$t(),F=s+20,G=k.firstCreatePass?function bx(s,o,l,c,h,g,v,b,I){const k=o.consts,F=Hu(o,s,4,v||null,wr(k,b));L_(o,l,F,wr(k,I)),Cc(o,F);const G=F.tViews=em(2,F,c,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,k);return null!==o.queries&&(o.queries.template(o,F),G.queries=o.queries.embeddedTView(F)),F}(F,k,I,o,l,c,h,g,v):k.data[F];rr(G,!1);const Y=I[11].createComment("");$g(k,I,Y,G),Mi(Y,I),Ws(I,I[F]=nx(Y,I,Y,G)),Gr(G)&&P_(k,I,G),null!=v&&N_(I,G,b)}function Ch(s,o=ft.Default){const l=Fe();return null===l?T(s,o):vu(wn(),l,ae(s),o)}function tp(s,o,l){const c=Fe();return Xr(c,Fs(),o)&&function qs(s,o,l,c,h,g,v,b){const I=_i(o,l);let F,k=o.inputs;!b&&null!=k&&(F=k[c])?(Uf(s,l,F,c,h),gc(o)&&function tw(s,o){const l=ni(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(c=function tm(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=v?v(h,o.value||"",c):h,un(g)?g.setProperty(I,c,h):x(c)||(I.setProperty?I.setProperty(c,h):I[c]=h))}($t(),Rn(),c,s,o,c[11],l,!1),tp}function uA(s,o,l,c,h){const v=h?"class":"style";Uf(s,l,o.inputs[v],v,c)}function nc(s,o,l,c){const h=Fe(),g=$t(),v=20+s,b=h[11],I=h[v]=Ia(b,o,function Pl(){return Et.lFrame.currentNamespace}()),k=g.firstCreatePass?function Ox(s,o,l,c,h,g,v){const b=o.consts,k=Hu(o,s,2,h,wr(b,g));return L_(o,l,k,wr(b,v)),null!==k.attrs&&gh(k,k.attrs,!1),null!==k.mergedAttrs&&gh(k,k.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,k),k}(v,g,h,0,o,l,c):g.data[v];rr(k,!0);const F=k.mergedAttrs;null!==F&&zn(b,I,F);const G=k.classes;null!==G&&b_(b,I,G);const Y=k.styles;return null!==Y&&k0(b,I,Y),64!=(64&k.flags)&&$g(g,h,I,k),0===function Ka(){return Et.lFrame.elementDepthCount}()&&Mi(I,h),function Rs(){Et.lFrame.elementDepthCount++}(),Gr(k)&&(P_(g,h,k),function Q0(s,o,l){if($a(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}(g,k,h)),null!==c&&N_(h,k),nc}function np(){let s=wn();la()?function Rl(){Et.lFrame.isParent=!1}():(s=s.parent,rr(s,!1));const o=s;!function Ml(){Et.lFrame.elementDepthCount--}();const l=$t();return l.firstCreatePass&&(Cc(l,s),$a(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Nl(s){return 0!=(16&s.flags)}(o)&&uA(l,o,Fe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Ld(s){return 0!=(32&s.flags)}(o)&&uA(l,o,Fe(),o.stylesWithoutHost,!1),np}function ip(s,o,l,c){return nc(s,o,l,c),np(),ip}function wm(){return Fe()}function rp(s){return!!s&&"function"==typeof s.then}function qw(s){return!!s&&"function"==typeof s.subscribe}const Ww=qw;function sp(s,o,l,c){const h=Fe(),g=$t(),v=wn();return function Kw(s,o,l,c,h,g,v,b){const I=Gr(c),F=s.firstCreatePass&&Gf(s),G=o[8],Y=Jr(o);let le=!0;if(3&c.type||b){const Je=_i(c,o),dt=b?b(Je):Je,ke=Y.length,Dt=b?Jt=>b(an(Jt[c.index])):c.index;if(un(l)){let Jt=null;if(!b&&I&&(Jt=function Nx(s,o,l,c){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===l&&h[g+1]===c){const b=o[7],I=h[g+2];return b.length>I?b[I]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,c.index)),null!==Jt)(Jt.__ngLastListenerFn__||Jt).__ngNextListenerFn__=g,Jt.__ngLastListenerFn__=g,le=!1;else{g=Wu(c,o,G,g,!1);const yn=l.listen(dt,h,g);Y.push(g,yn),F&&F.push(h,Dt,ke,ke+1)}}else g=Wu(c,o,G,g,!0),dt.addEventListener(h,g,v),Y.push(g),F&&F.push(h,Dt,ke,v)}else g=Wu(c,o,G,g,!1);const Te=c.outputs;let qe;if(le&&null!==Te&&(qe=Te[h])){const Je=qe.length;if(Je)for(let dt=0;dt<Je;dt+=2){const to=o[qe[dt]][qe[dt+1]].subscribe(g),no=Y.length;Y.push(g,to),F&&F.push(h,c.index,no,-(no+1))}}}(g,h,h[11],v,s,o,!!l,c),sp}function Or(s,o,l,c){try{return!1!==l(c)}catch(h){return rm(s,h),!1}}function Wu(s,o,l,c,h){return function g(v){if(v===Function)return c;const b=2&s.flags?ni(s.index,o):o;0==(32&o[2])&&ph(b);let I=Or(o,0,c,v),k=g.__ngNextListenerFn__;for(;k;)I=Or(o,0,k,v)&&I,k=k.__ngNextListenerFn__;return h&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function Qw(s=1){return function $r(s){return(Et.lFrame.contextLView=function mu(s,o){for(;s>0;)o=o[15],s--;return o}(s,Et.lFrame.contextLView))[8]}(s)}function Jw(s,o,l,c,h){const g=s[l+1],v=null===o;let b=c?Sa(g):pl(g),I=!1;for(;0!==b&&(!1===I||v);){const F=s[b+1];mA(s[b],o)&&(I=!0,s[b+1]=c?I_(F):Uu(F)),b=c?Sa(F):pl(F)}I&&(s[l+1]=c?Uu(g):I_(g))}function mA(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Gs(s,o)>=0}const ki={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Im(s){return s.substring(ki.key,ki.keyEnd)}function dr(s){return s.substring(ki.value,ki.valueEnd)}function Xw(s,o){const l=ki.textEnd;let c=ki.key=Ku(s,o,l);return l===c?-1:(c=ki.keyEnd=function Ux(s,o,l){let c;for(;o<l&&(45===(c=s.charCodeAt(o))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)o++;return o}(s,c,l),c=Dm(s,c,l),c=ki.value=Ku(s,c,l),c=ki.valueEnd=function _A(s,o,l){let c=-1,h=-1,g=-1,v=o,b=v;for(;v<l;){const I=s.charCodeAt(v++);if(59===I)return b;34===I||39===I?b=v=tb(s,I,v,l):o===v-4&&85===g&&82===h&&76===c&&40===I?b=v=tb(s,41,v,l):I>32&&(b=v),g=h,h=c,c=-33&I}return b}(s,c,l),Dm(s,c,l))}function Ku(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function Dm(s,o,l,c){return(o=Ku(s,o,l))<l&&o++,o}function tb(s,o,l,c){let h=-1,g=l;for(;g<c;){const v=s.charCodeAt(g++);if(v==o&&92!==h)return g;h=92==v&&92===h?0:v}throw new Error}function vA(s,o){return function Pa(s,o,l,c){const h=Fe(),g=$t(),v=sr(2);g.firstUpdatePass&&CA(g,s,v,c),o!==qt&&Xr(h,v,o)&&up(g,g.data[li()],h,h[11],s,h[v+1]=function sb(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=_e(Wo(s)))),s}(o,l),c,v)}(s,o,null,!0),vA}function Qs(s){!function ws(s,o,l,c){const h=$t(),g=sr(2);h.firstUpdatePass&&CA(h,null,g,c);const v=Fe();if(l!==qt&&Xr(v,g,l)){const b=h.data[li()];if(ts(b,c)&&!EA(h,g)){let I=c?b.classesWithoutHost:b.stylesWithoutHost;null!==I&&(l=we(I,l||"")),uA(h,b,v,l,c)}else!function rb(s,o,l,c,h,g,v,b){h===qt&&(h=_t);let I=0,k=0,F=0<h.length?h[0]:null,G=0<g.length?g[0]:null;for(;null!==F||null!==G;){const Y=I<h.length?h[I+1]:void 0,le=k<g.length?g[k+1]:void 0;let qe,Te=null;F===G?(I+=2,k+=2,Y!==le&&(Te=G,qe=le)):null===G||null!==F&&F<G?(I+=2,Te=F):(k+=2,Te=G,qe=le),null!==Te&&up(s,o,l,c,Te,qe,v,b),F=I<h.length?h[I]:null,G=k<g.length?g[k]:null}}(h,b,v,v[11],v[g+1],v[g+1]=function zx(s,o,l){if(null==l||""===l)return _t;const c=[],h=Wo(l);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(c,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(c,g,h[g]);else"string"==typeof h&&o(c,h);return c}(s,o,l),c,g)}}(Wc,wA,s,!1)}function wA(s,o){for(let l=function yA(s){return function eb(s){ki.key=0,ki.keyEnd=0,ki.value=0,ki.valueEnd=0,ki.textEnd=s.length}(s),Xw(s,Ku(s,0,ki.textEnd))}(o);l>=0;l=Xw(o,l))Wc(s,Im(o),dr(o))}function EA(s,o){return o>=s.expandoStartIndex}function CA(s,o,l,c){const h=s.data;if(null===h[l+1]){const g=h[li()],v=EA(s,l);ts(g,c)&&null===o&&!v&&(o=!1),o=function ib(s,o,l,c){const h=function po(s){const o=Et.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(l=cp(l=qc(null,s,o,l,c),o.attrs,c),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=qc(h,s,o,l,c),null===g){let I=function Tm(s,o,l){const c=l?o.classBindings:o.styleBindings;if(0!==pl(c))return s[Sa(c)]}(s,o,c);void 0!==I&&Array.isArray(I)&&(I=qc(null,s,o,I[1],c),I=cp(I,o.attrs,c),function Hx(s,o,l,c){s[Sa(l?o.classBindings:o.styleBindings)]=c}(s,o,c,I))}else g=function jx(s,o,l){let c;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)c=cp(c,s[g].hostAttrs,l);return cp(c,o.attrs,l)}(s,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),l}(h,g,o,c),function gA(s,o,l,c,h,g){let v=g?o.classBindings:o.styleBindings,b=Sa(v),I=pl(v);s[c]=l;let F,k=!1;if(Array.isArray(l)){const G=l;F=G[1],(null===F||Gs(G,F)>0)&&(k=!0)}else F=l;if(h)if(0!==I){const Y=Sa(s[b+1]);s[c+1]=Gu(Y,b),0!==Y&&(s[Y+1]=C_(s[Y+1],c)),s[b+1]=function ch(s,o){return 131071&s|o<<17}(s[b+1],c)}else s[c+1]=Gu(b,0),0!==b&&(s[b+1]=C_(s[b+1],c)),b=c;else s[c+1]=Gu(I,0),0===b?b=c:s[I+1]=C_(s[I+1],c),I=c;k&&(s[c+1]=Uu(s[c+1])),Jw(s,F,c,!0),Jw(s,F,c,!1),function Zw(s,o,l,c,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Gs(g,o)>=0&&(l[c+1]=I_(l[c+1]))}(o,F,s,c,g),v=Gu(b,I),g?o.classBindings=v:o.styleBindings=v}(h,g,o,l,v,c)}}function qc(s,o,l,c,h){let g=null;const v=l.directiveEnd;let b=l.directiveStylingLast;for(-1===b?b=l.directiveStart:b++;b<v&&(g=o[b],c=cp(c,g.hostAttrs,h),g!==s);)b++;return null!==s&&(l.directiveStylingLast=b),c}function cp(s,o,l){const c=l?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Bi(s,v,!!l||o[++g]))}return void 0===s?null:s}function Wc(s,o,l){Bi(s,o,Wo(l))}function up(s,o,l,c,h,g,v,b){if(!(3&o.type))return;const I=s.data,k=I[b+1];Kc(function x_(s){return 1==(1&s)}(k)?xA(I,o,l,h,pl(k),v):void 0)||(Kc(g)||function U0(s){return 2==(2&s)}(k)&&(g=xA(I,null,l,h,b,v)),function M0(s,o,l,c,h){const g=un(s);if(o)h?g?s.addClass(l,c):l.classList.add(c):g?s.removeClass(l,c):l.classList.remove(c);else{let v=-1===c.indexOf("-")?void 0:M.DashCase;if(null==h)g?s.removeStyle(l,c,v):l.style.removeProperty(c);else{const b="string"==typeof h&&h.endsWith("!important");b&&(h=h.slice(0,-10),v|=M.Important),g?s.setStyle(l,c,h,v):l.style.setProperty(c,h,b?"important":"")}}}(c,v,fs(li(),l),h,g))}function xA(s,o,l,c,h,g){const v=null===o;let b;for(;h>0;){const I=s[h],k=Array.isArray(I),F=k?I[1]:I,G=null===F;let Y=l[h+1];Y===qt&&(Y=G?_t:void 0);let le=G?wo(Y,c):F===c?Y:void 0;if(k&&!Kc(le)&&(le=wo(I,c)),Kc(le)&&(b=le,v))return b;const Te=s[h+1];h=v?Sa(Te):pl(Te)}if(null!==o){let I=g?o.residualClasses:o.residualStyles;null!=I&&(b=wo(I,c))}return b}function Kc(s){return void 0!==s}function ts(s,o){return 0!=(s.flags&(o?16:32))}function IA(s,o=""){const l=Fe(),c=$t(),h=s+20,g=c.firstCreatePass?Hu(c,h,1,o,null):c.data[h],v=l[h]=function Lu(s,o){return un(s)?s.createText(o):s.createTextNode(o)}(l[11],o);$g(c,l,v,g),rr(g,!1)}function Qu(s){return Yu("",s,""),Qu}function Yu(s,o,l){const c=Fe(),h=function vh(s,o,l,c){return Xr(s,Fs(),l)?o+Se(l)+c:qt}(c,s,o,l);return h!==qt&&ka(c,li(),h),Yu}function Sm(s,o,l,c,h){const g=Fe(),v=$f(g,s,o,l,c,h);return v!==qt&&ka(g,li(),v),Sm}const Zc=void 0;var Vm=["en",[["a","p"],["AM","PM"],Zc],[["AM","PM"],Zc,Zc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zc,"{1} 'at' {0}",Zc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ri(s){const l=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let Th={};function Xu(s){const o=function Kx(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=OA(o);if(l)return l;const c=o.split("-")[0];if(l=OA(c),l)return l;if("en"===c)return Vm;throw new Error(`Missing locale data for the locale "${s}".`)}function hb(s){return Xu(s)[Pt.PluralCase]}function OA(s){return s in Th||(Th[s]=Yt.ng&&Yt.ng.common&&Yt.ng.common.locales&&Yt.ng.common.locales[s]),Th[s]}var Pt=(()=>((Pt=Pt||{})[Pt.LocaleId=0]="LocaleId",Pt[Pt.DayPeriodsFormat=1]="DayPeriodsFormat",Pt[Pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pt[Pt.DaysFormat=3]="DaysFormat",Pt[Pt.DaysStandalone=4]="DaysStandalone",Pt[Pt.MonthsFormat=5]="MonthsFormat",Pt[Pt.MonthsStandalone=6]="MonthsStandalone",Pt[Pt.Eras=7]="Eras",Pt[Pt.FirstDayOfWeek=8]="FirstDayOfWeek",Pt[Pt.WeekendRange=9]="WeekendRange",Pt[Pt.DateFormat=10]="DateFormat",Pt[Pt.TimeFormat=11]="TimeFormat",Pt[Pt.DateTimeFormat=12]="DateTimeFormat",Pt[Pt.NumberSymbols=13]="NumberSymbols",Pt[Pt.NumberFormats=14]="NumberFormats",Pt[Pt.CurrencyCode=15]="CurrencyCode",Pt[Pt.CurrencySymbol=16]="CurrencySymbol",Pt[Pt.CurrencyName=17]="CurrencyName",Pt[Pt.Currencies=18]="Currencies",Pt[Pt.Directionality=19]="Directionality",Pt[Pt.PluralCase=20]="PluralCase",Pt[Pt.ExtraData=21]="ExtraData",Pt))();const Na="en-US";let pb=Na;function ut(s,o,l,c,h){if(s=ae(s),Array.isArray(s))for(let g=0;g<s.length;g++)ut(s[g],o,l,c,h);else{const g=$t(),v=Fe();let b=$u(s)?s:ae(s.provide),I=lm(s);const k=wn(),F=1048575&k.providerIndexes,G=k.directiveStart,Y=k.providerIndexes>>20;if($u(s)||!s.multi){const le=new Qi(I,h,Ch),Te=it(b,o,h?F:F+Y,G);-1===Te?(ya(Bl(k,v),g,b),Lt(g,s,o.length),o.push(b),k.directiveStart++,k.directiveEnd++,h&&(k.providerIndexes+=1048576),l.push(le),v.push(le)):(l[Te]=le,v[Te]=le)}else{const le=it(b,o,F+Y,G),Te=it(b,o,F,F+Y),qe=le>=0&&l[le],Je=Te>=0&&l[Te];if(h&&!Je||!h&&!qe){ya(Bl(k,v),g,b);const dt=function Nb(s,o,l,c,h){const g=new Qi(s,l,Ch);return g.multi=[],g.index=o,g.componentProviders=0,Pb(g,h,c&&!l),g}(h?He:Ce,l.length,h,c,I);!h&&Je&&(l[Te].providerFactory=dt),Lt(g,s,o.length,0),o.push(b),k.directiveStart++,k.directiveEnd++,h&&(k.providerIndexes+=1048576),l.push(dt),v.push(dt)}else Lt(g,s,le>-1?le:Te,Pb(l[h?Te:le],I,!h&&c));!h&&c&&Je&&l[Te].componentProviders++}}}function Lt(s,o,l,c){const h=$u(o),g=function ux(s){return!!s.useClass}(o);if(h||g){const I=(g?ae(o.useClass):o).prototype.ngOnDestroy;if(I){const k=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const F=k.indexOf(l);-1===F?k.push(l,[c,I]):k[F+1].push(c,I)}else k.push(l,I)}}}function Pb(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function it(s,o,l,c){for(let h=l;h<c;h++)if(o[h]===s)return h;return-1}function Ce(s,o,l,c){return Ui(this.multi,[])}function He(s,o,l,c){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,b=Gl(l,l[1],this.providerFactory.index,c);g=b.slice(0,v),Ui(h,g);for(let I=v;I<b.length;I++)g.push(b[I])}else g=[],Ui(h,g);return g}function Ui(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function Lb(s,o=[]){return l=>{l.providersResolver=(c,h)=>function WA(s,o,l){const c=$t();if(c.firstCreatePass){const h=vr(s);ut(l,c.data,c.blueprint,h,!0),ut(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class Bb{}class hI{resolveComponentFactory(o){throw function uI(s){const o=Error(`No component factory found for ${_e(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let KA=(()=>{class s{}return s.NULL=new hI,s})();function fI(){return id(wn(),Fe())}function id(s,o){return new Bt(_i(s,o))}let Bt=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=fI,s})();function kh(s){return s instanceof Bt?s.nativeElement:s}class Kn{}let Vt=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function dn(){const s=Fe(),l=ni(wn().index,s);return function Tp(s){return s[11]}(Ki(l)?l:s)}(),s})(),gI=(()=>{class s{}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:()=>null}),s})();class hi{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const et=new hi("13.2.7"),Rh={};function Oh(s,o,l,c,h=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&c.push(an(g)),Vr(g))for(let b=10;b<g.length;b++){const I=g[b],k=I[1].firstChild;null!==k&&Oh(I[1],I,k,c)}const v=l.type;if(8&v)Oh(s,o,l.child,c);else if(32&v){const b=ne(l,o);let I;for(;I=b();)c.push(I)}else if(16&v){const b=I0(o,l);if(Array.isArray(b))c.push(...b);else{const I=ot(o[16]);Oh(I[1],I,b,c,!0)}}l=h?l.projectionNext:l.next}return c}class La{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Oh(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Vr(o)){const l=o[8],c=l?l.indexOf(this):-1;c>-1&&(m_(o,c),va(l,c))}this._attachedToViewContainer=!1}w0(this._lView[1],this._lView)}onDestroy(o){KC(this._lView[1],this._lView,null,o)}markForCheck(){ph(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){U_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function uw(s,o,l){Za(!0);try{U_(s,o,l)}finally{Za(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Be(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Uc(s,o){Vu(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Be(902,"");this._appRef=o}}class mI extends La{constructor(o){super(o),this._view=o}detectChanges(){cw(this._view)}checkNoChanges(){!function rx(s){Za(!0);try{cw(s)}finally{Za(!1)}}(this._view)}get context(){return null}}class Sp extends KA{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Xn(o);return new Zm(l,this.ngModule)}}function Gb(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class Zm extends Bb{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function B0(s){return s.map(E_).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Gb(this.componentDef.inputs)}get outputs(){return Gb(this.componentDef.outputs)}create(o,l,c,h){const g=(h=h||this.ngModule)?function Ub(s,o){return{get:(l,c,h)=>{const g=s.get(l,Rh,h);return g!==Rh||c===Rh?g:o.get(l,c,h)}}}(o,h.injector):o,v=g.get(Kn,Lo),b=g.get(gI,null),I=v.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",F=c?function X0(s,o,l){if(un(s))return s.selectRootElement(o,l===St.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(I,c,this.componentDef.encapsulation):Ia(v.createRenderer(null,this.componentDef),k,function Mp(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(k)),G=this.componentDef.onPush?576:528,Y=function xw(s,o){return{components:[],scheduler:s||On,clean:sx,playerHandler:o||null,flags:0}}(),le=em(0,null,null,1,0,null,null,null,null,null),Te=fh(null,le,Y,G,null,null,v,I,b,g);let qe,Je;Ps(Te);try{const dt=function um(s,o,l,c,h,g){const v=l[1];l[20]=s;const I=Hu(v,20,2,"#host",null),k=I.mergedAttrs=o.hostAttrs;null!==k&&(gh(I,k,!0),null!==s&&(zn(h,s,k),null!==I.classes&&b_(h,s,I.classes),null!==I.styles&&k0(h,s,I.styles)));const F=c.createRenderer(s,o),G=fh(l,Y0(o),null,o.onPush?64:16,l[20],I,c,F,g||null,null);return v.firstCreatePass&&(ya(Bl(I,l),v,o.type),im(v,I),sw(I,l.length,1)),Ws(l,G),l[20]=G}(F,this.componentDef,Te,v,I);if(F)if(c)zn(I,F,["ng-version",et.full]);else{const{attrs:ke,classes:Dt}=function V0(s){const o=[],l=[];let c=1,h=2;for(;c<s.length;){let g=s[c];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++c]):8===h&&l.push(g);else{if(!Wn(h))break;h=g}c++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);ke&&zn(I,F,ke),Dt&&Dt.length>0&&b_(I,F,Dt.join(" "))}if(Je=Dn(le,20),void 0!==l){const ke=Je.projection=[];for(let Dt=0;Dt<this.ngContentSelectors.length;Dt++){const Jt=l[Dt];ke.push(null!=Jt?Array.from(Jt):null)}}qe=function Cw(s,o,l,c,h){const g=l[1],v=function JC(s,o,l){const c=wn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),ow(s,c,o,Bf(s,o,1,null),l));const h=Gl(o,s,c.directiveStart,c);Mi(h,o);const g=_i(c,o);return g&&Mi(g,o),h}(g,l,o);if(c.components.push(v),s[8]=v,h&&h.forEach(I=>I(v,o)),o.contentQueries){const I=wn();o.contentQueries(1,v,I.directiveStart)}const b=wn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(br(b.index),iw(l[1],b,0,b.directiveStart,b.directiveEnd,o),ex(o,v)),v}(dt,this.componentDef,Te,Y,[yx]),Xg(le,Te,null)}finally{Go()}return new jb(this.componentType,qe,id(Je,Te),Te,Je)}}class jb extends class cI{}{constructor(o,l,c,h,g){super(),this.location=c,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new mI(h),this.componentType=o}get injector(){return new Cr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Io{}const he=new Map;class nu extends Io{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Sp(this);const c=ei(o);this._bootstrapComponents=kr(c.bootstrap),this._r3Injector=pw(o,l,[{provide:Io,useValue:this},{provide:KA,useValue:this.componentFactoryResolver}],_e(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=Co.THROW_IF_NOT_FOUND,c=ft.Default){return o===Co||o===Io||o===z_?this:this._r3Injector.get(o,l,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Xm extends class QA{}{constructor(o){super(),this.moduleType=o,null!==ei(o)&&function yI(s){const o=new Set;!function l(c){const h=ei(c,!0),g=h.id;null!==g&&(function Zo(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${_e(o)} vs ${_e(o.name)}`)}(g,he.get(g),c),he.set(g,c));const v=kr(h.imports);for(const b of v)o.has(b)||(o.add(b),l(b))}(s)}(o)}create(o){return new nu(this.moduleType,o)}}function ey(s,o,l){const c=Bn()+s,h=Fe();return h[c]===qt?Qo(h,c,l?o.call(l):o()):function pm(s,o){return s[o]}(h,c)}function $b(s,o,l,c){return function ZA(s,o,l,c,h,g){const v=o+l;return Xr(s,v,h)?Qo(s,v+1,g?c.call(g,h):c(h)):vn(s,v+1)}(Fe(),Bn(),s,o,l,c)}function qb(s,o,l,c,h){return function sd(s,o,l,c,h,g,v){const b=o+l;return Ah(s,b,h,g)?Qo(s,b+2,v?c.call(v,h,g):c(h,g)):vn(s,b+2)}(Fe(),Bn(),s,o,l,c,h)}function bs(s,o,l,c,h,g){return function Zs(s,o,l,c,h,g,v,b){const I=o+l;return function gm(s,o,l,c,h){const g=Ah(s,o,l,c);return Xr(s,o+2,h)||g}(s,I,h,g,v)?Qo(s,I+3,b?c.call(b,h,g,v):c(h,g,v)):vn(s,I+3)}(Fe(),Bn(),s,o,l,c,h,g)}function vn(s,o){const l=s[o];return l===qt?void 0:l}function ad(s){return o=>{setTimeout(s,void 0,o)}}const Js=class oc extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,c){var h,g,v;let b=o,I=l||(()=>null),k=c;if(o&&"object"==typeof o){const G=o;b=null===(h=G.next)||void 0===h?void 0:h.bind(G),I=null===(g=G.error)||void 0===g?void 0:g.bind(G),k=null===(v=G.complete)||void 0===v?void 0:v.bind(G)}this.__isAsync&&(I=ad(I),b&&(b=ad(b)),k&&(k=ad(k)));const F=super.subscribe({next:b,error:I,complete:k});return o instanceof se.w0&&o.add(F),F}};function Zb(){return this._results[qu()]()}class ml{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=qu(),c=ml.prototype;c[l]||(c[l]=Zb)}get changes(){return this._changes||(this._changes=new Js)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const c=this;c.dirty=!1;const h=Ir(o);(this._changesDetected=!function Sc(s,o,l){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],g=o[c];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(c._results,h,l))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ru=(()=>{class s{}return s.__NG_ELEMENT_ID__=Op,s})();const ld=ru,yl=class extends ld{constructor(o,l,c){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=c}createEmbeddedView(o){const l=this._declarationTContainer.tViews,c=fh(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(c[19]=g.createEmbeddedView(l)),Xg(l,c,o),new La(c)}};function Op(){return Ba(wn(),Fe())}function Ba(s,o){return 4&s.type?new yl(o,s,id(s,o)):null}let Fp=(()=>{class s{}return s.__NG_ELEMENT_ID__=Fh,s})();function Fh(){return ev(wn(),Fe())}const XA=Fp,su=class extends XA{constructor(o,l,c){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=c}get element(){return id(this._hostTNode,this._hostLView)}get injector(){return new Cr(this._hostTNode,this._hostLView)}get parentInjector(){const o=Bs(this._hostTNode,this._hostLView);if(be(o)){const l=en(o,this._hostLView),c=Le(o);return new Cr(l[1].data[c+8],l)}return new Cr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=ny(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,c){const h=o.createEmbeddedView(l||{});return this.insert(h,c),h}createComponent(o,l,c,h,g){const v=o&&!function vo(s){return"function"==typeof s}(o);let b;if(v)b=l;else{const G=l||{};b=G.index,c=G.injector,h=G.projectableNodes,g=G.ngModuleRef}const I=v?o:new Zm(Xn(o)),k=c||this.parentInjector;if(!g&&null==I.ngModule){const Y=(v?k:this.parentInjector).get(Io,null);Y&&(g=Y)}const F=I.create(k,h,void 0,g);return this.insert(F.hostView,b),F}insert(o,l){const c=o._lView,h=c[1];if(function oa(s){return Vr(s[3])}(c)){const F=this.indexOf(o);if(-1!==F)this.detach(F);else{const G=c[3],Y=new su(G,G[6],G[3]);Y.detach(Y.indexOf(o))}}const g=this._adjustIndex(l),v=this._lContainer;!function Vi(s,o,l,c){const h=10+c,g=l.length;c>0&&(l[h-1][4]=o),c<g-10?(o[4]=l[h],zo(l,10+c,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function g_(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const b=o[19];null!==b&&b.insertView(s),o[2]|=128}(h,c,v,g);const b=w_(g,v),I=c[11],k=jg(I,v[7]);return null!==k&&function lh(s,o,l,c,h,g){c[0]=h,c[6]=o,Vu(s,c,l,1,h,g)}(h,v[6],I,c,k,b),o.attachToViewContainerRef(),zo(cd(v),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=ny(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),c=m_(this._lContainer,l);c&&(va(cd(this._lContainer),l),w0(c[1],c))}detach(o){const l=this._adjustIndex(o,-1),c=m_(this._lContainer,l);return c&&null!=va(cd(this._lContainer),l)?new La(c):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function ny(s){return s[8]}function cd(s){return s[8]||(s[8]=[])}function ev(s,o){let l;const c=o[s.index];if(Vr(c))l=c;else{let h;if(8&s.type)h=an(c);else{const g=o[11];h=g.createComment("");const v=_i(s,o);Yl(g,jg(g,v),h,function zg(s,o){return un(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=l=nx(c,o,h,s),Ws(o,l)}return new su(l,s,o)}class sy{constructor(o){this.queryList=o,this.matches=null}clone(){return new sy(this.queryList)}setDirty(){this.queryList.setDirty()}}class tv{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const c=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let g=0;g<c;g++){const v=l.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new tv(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==iE(o,l).matches&&this.queries[l].setDirty()}}class Xb{constructor(o,l,c=null){this.predicate=o,this.flags=l,this.read=c}}class oy{constructor(o=[]){this.queries=o}elementStart(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let c=0;c<this.length;c++){const h=null!==l?l.length:0,g=this.getByIndex(c).embeddedTView(o,h);g&&(g.indexInDeclarationView=c,null!==l?l.push(g):l=[g])}return null!==l?new oy(l):null}template(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ay{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new ay(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const g=c[h];this.matchTNodeWithReadOption(o,l,Nr(l,g)),this.matchTNodeWithReadOption(o,l,Vl(l,o,g,!1,!1))}else c===ru?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,Vl(l,o,c,!1,!1))}matchTNodeWithReadOption(o,l,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Bt||h===Fp||h===ru&&4&l.type)this.addMatch(l.index,-2);else{const g=Vl(l,o,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,c)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function Nr(s,o){const l=s.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===o)return l[c+1];return null}function Hn(s,o,l,c){return-1===l?function eE(s,o){return 11&s.type?id(s,o):4&s.type?Ba(s,o):null}(o,s):-2===l?function AI(s,o,l){return l===Bt?id(o,s):l===ru?Ba(o,s):l===Fp?ev(o,s):void 0}(s,o,c):Gl(s,s[1],l,o)}function nv(s,o,l,c){const h=o[19].queries[c];if(null===h.matches){const g=s.data,v=l.matches,b=[];for(let I=0;I<v.length;I+=2){const k=v[I];b.push(k<0?null:Hn(o,g[k],v[I+1],l.metadata.read))}h.matches=b}return h.matches}function ac(s,o,l,c){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const v=nv(s,o,h,l);for(let b=0;b<g.length;b+=2){const I=g[b];if(I>0)c.push(v[b/2]);else{const k=g[b+1],F=o[-I];for(let G=10;G<F.length;G++){const Y=F[G];Y[17]===Y[3]&&ac(Y[1],Y,k,c)}if(null!==F[9]){const G=F[9];for(let Y=0;Y<G.length;Y++){const le=G[Y];ac(le[1],le,k,c)}}}}}return c}function tE(s){const o=Fe(),l=$t(),c=Fl();go(c+1);const h=iE(l,c);if(s.dirty&&ks(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?ac(l,o,c,[]):nv(l,o,h,c);s.reset(g,kh),s.notifyOnChanges()}return!0}return!1}function Ph(s,o,l){const c=$t();c.firstCreatePass&&(function fr(s,o,l){null===s.queries&&(s.queries=new oy),s.queries.track(new ay(o,l))}(c,new Xb(s,o,l),-1),2==(2&o)&&(c.staticViewQueries=!0)),function iv(s,o,l){const c=new ml(4==(4&l));KC(s,o,c,c.destroy),null===o[19]&&(o[19]=new tv),o[19].queries.push(new sy(c))}(c,Fe(),o)}function Pp(){return function nE(s,o){return s[19].queries[o].queryList}(Fe(),Fl())}function iE(s,o){return s.queries.getByIndex(o)}function Xo(...s){}const mv=new Vn("Application Initializer");let gy=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Xo,this.reject=Xo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(rp(g))l.push(g);else if(Ww(g)){const v=new Promise((b,I)=>{g.subscribe({complete:b,error:I})});l.push(v)}}Promise.all(l).then(()=>{c()}).catch(h=>{this.reject(h)}),0===l.length&&c(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(T(mv,8))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const fd=new Vn("AppId",{providedIn:"root",factory:function my(){return`${bi()}${bi()}${bi()}`}});function bi(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ln=new Vn("Platform Initializer"),yv=new Vn("Platform ID"),_v=new Vn("appBootstrapListener");let SI=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})();const yy=new Vn("LocaleId",{providedIn:"root",factory:()=>H(yy,ft.Optional|ft.SkipSelf)||function Xs(){return"undefined"!=typeof $localize&&$localize.locale||Na}()}),Hp=new Vn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"}),OI=(()=>Promise.resolve(0))();function Uh(s){"undefined"==typeof Zone?OI.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Cs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Js(!1),this.onMicrotaskEmpty=new Js(!1),this.onStable=new Js(!1),this.onError=new Js(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&l,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function zp(){let s=Yt.requestAnimationFrame,o=Yt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function uE(s){const o=()=>{!function cE(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Yt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Av(s),s.isCheckStableRunning=!0,Ay(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Av(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,h,g,v,b)=>{try{return vv(s),l.invokeTask(h,g,v,b)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),wv(s)}},onInvoke:(l,c,h,g,v,b,I)=>{try{return vv(s),l.invoke(h,g,v,b,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),wv(s)}},onHasTask:(l,c,h,g)=>{l.hasTask(h,g),c===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Av(s),Ay(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,c,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Cs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,c){return this._inner.run(o,l,c)}runTask(o,l,c,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,_y,Xo,Xo);try{return g.runTask(v,l,c)}finally{g.cancelTask(v)}}runGuarded(o,l,c){return this._inner.runGuarded(o,l,c)}runOutsideAngular(o){return this._outer.run(o)}}const _y={};function Ay(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Av(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function vv(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function wv(s){s._nesting--,Ay(s)}class FI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Js,this.onMicrotaskEmpty=new Js,this.onStable=new Js,this.onError=new Js}run(o,l,c){return o.apply(l,c)}runGuarded(o,l,c){return o.apply(l,c)}runOutsideAngular(o){return o()}runTask(o,l,c,h){return o.apply(l,c)}}let dE=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cs.assertNotInAngularZone(),Uh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Uh(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,h){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,c,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(T(Cs))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})(),hE=(()=>{class s{constructor(){this._applications=new Map,bv.addToWindow(this)}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){return bv.findTestabilityInTree(this,l,c)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})();class $p{addToWindow(o){}findTestabilityInTree(o,l,c){return null}}function fE(s){bv=s}let kn,bv=new $p;const Va=new Vn("AllowMultipleToken");function Hh(s,o,l=[]){const c=`Platform: ${o}`,h=new Vn(c);return(g=[])=>{let v=Cv();if(!v||v.injector.get(Va,!1))if(s)s(l.concat(g).concat({provide:h,useValue:!0}));else{const b=l.concat(g).concat({provide:h,useValue:!0},{provide:ju,useValue:"platform"});!function gE(s){if(kn&&!kn.destroyed&&!kn.injector.get(Va,!1))throw new Be(400,"");kn=s.get(yE);const o=s.get(ln,null);o&&o.forEach(l=>l())}(Co.create({providers:b,name:c}))}return function mE(s){const o=Cv();if(!o)throw new Be(401,"");return o}()}}function Cv(){return kn&&!kn.destroyed?kn:null}let yE=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,c){const b=function LI(s,o){let l;return l="noop"===s?new FI:("zone.js"===s?void 0:s)||new Cs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),I=[{provide:Cs,useValue:b}];return b.run(()=>{const k=Co.create({providers:I,parent:this.injector,name:l.moduleType.name}),F=l.create(k),G=F.injector.get(Fu,null);if(!G)throw new Be(402,"");return b.runOutsideAngular(()=>{const Y=b.onError.subscribe({next:le=>{G.handleError(le)}});F.onDestroy(()=>{wy(this._modules,F),Y.unsubscribe()})}),function Wp(s,o,l){try{const c=l();return rp(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(G,b,()=>{const Y=F.injector.get(gy);return Y.runInitializers(),Y.donePromise.then(()=>(function gb(s){jt(s,"Expected localeId to be defined"),"string"==typeof s&&(pb=s.toLowerCase().replace(/_/g,"-"))}(F.injector.get(yy,Na)||Na),this._moduleDoBootstrap(F),F))})})}bootstrapModule(l,c=[]){const h=vy({},c);return function Ev(s,o,l){const c=new Xm(l);return Promise.resolve(c)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const c=l.injector.get(xv);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Be(403,"");l.instance.ngDoBootstrap(c)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(T(Co))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})();function vy(s,o){return Array.isArray(o)?o.reduce(vy,s):Object.assign(Object.assign({},s),o)}let xv=(()=>{class s{constructor(l,c,h,g,v){this._zone=l,this._injector=c,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new B.y(k=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{k.next(this._stable),k.complete()})}),I=new B.y(k=>{let F;this._zone.runOutsideAngular(()=>{F=this._zone.onStable.subscribe(()=>{Cs.assertNotInAngularZone(),Uh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,k.next(!0))})})});const G=this._zone.onUnstable.subscribe(()=>{Cs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{k.next(!1)}))});return()=>{F.unsubscribe(),G.unsubscribe()}});this.isStable=(0,ge.T)(b,I.pipe((0,fe.B)()))}bootstrap(l,c){if(!this._initStatus.done)throw new Be(405,"");let h;h=l instanceof Bb?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const g=function qp(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Io),b=h.create(Co.NULL,[],c||h.selector,g),I=b.location.nativeElement,k=b.injector.get(dE,null),F=k&&b.injector.get(hE);return k&&F&&F.registerApplication(I,k),b.onDestroy(()=>{this.detachView(b.hostView),wy(this.components,b),F&&F.unregisterApplication(I)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Be(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){const c=l;wy(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(_v,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(T(Cs),T(Co),T(Fu),T(KA),T(gy))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function wy(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let AE=!0,Dv=!1;function BI(){return Dv=!0,AE}function VI(){if(Dv)throw new Error("Cannot enable prod mode after platform setup.");AE=!1}let GI=(()=>{class s{}return s.__NG_ELEMENT_ID__=UI,s})();function UI(s){return function wE(s,o,l){if(gc(s)&&!l){const c=ni(s.index,o);return new La(c,c)}return 47&s.type?new La(o[16],o):null}(wn(),Fe(),16==(16&s))}class Rv{constructor(){}supports(o){return _h(o)}create(o){return new CE(o)}}const WI=(s,o)=>o;class CE{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||WI}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,c=this._removalsHead,h=0,g=null;for(;l||c;){const v=!c||l&&l.currentIndex<Yi(c,h,g)?l:c,b=Yi(v,h,g),I=v.currentIndex;if(v===c)h--,c=c._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{g||(g=[]);const k=b-h,F=I-h;if(k!=F){for(let Y=0;Y<k;Y++){const le=Y<g.length?g[Y]:g[Y]=0,Te=le+Y;F<=Te&&Te<k&&(g[Y]=le+1)}g[v.previousIndex]=F-k}}b!==I&&o(v,b,I)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!_h(o))throw new Be(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,l=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let b=0;b<this.length;b++)g=o[b],v=this._trackByFn(b,g),null!==l&&Object.is(l.trackById,v)?(c&&(l=this._verifyReinsertion(l,g,v,b)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,b),c=!0),l=l._next}else h=0,function jf(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[qu()]();let c;for(;!(c=l.next()).done;)o(c.value)}}(o,b=>{v=this._trackByFn(h,b),null!==l&&Object.is(l.trackById,v)?(c&&(l=this._verifyReinsertion(l,b,v,h)),Object.is(l.item,b)||this._addIdentityChange(l,b)):(l=this._mismatch(l,b,v,h),c=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,c,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,h)):o=this._addAfter(new xE(l,c),g,h),o}_verifyReinsertion(o,l,c,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,l,c),this._addToMoves(o,c),o}_moveAfter(o,l,c){return this._unlink(o),this._insertAfter(o,l,c),this._addToMoves(o,c),o}_addAfter(o,l,c){return this._insertAfter(o,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,c){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new Cy),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,c=o._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Cy),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class xE{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KI{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const l=o._prevDup,c=o._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class Cy{constructor(){this.map=new Map}put(o){const l=o.trackById;let c=this.map.get(l);c||(c=new KI,this.map.set(l,c)),c.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Yi(s,o,l){const c=s.previousIndex;if(null===c)return c;let h=0;return l&&c<l.length&&(h=l[c]),c+o+h}class xy{constructor(){}supports(o){return o instanceof Map||Dw(o)}create(){return new Ov}}class Ov{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Dw(o)))throw new Be(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,c);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const c=o._prev;return l._next=o,l._prev=c,o._prev=l,c&&(c._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const c=new Fv(o);return this._records.set(o,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(c=>l(o[c],c))}}class Fv{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dc(){return new Iy([new Rv])}let Iy=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(null!=c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||dc()),deps:[[s,new Tn,new Ft]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(null!=c)return c;throw new Be(901,"")}}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:dc}),s})();function Pv(){return new jh([new xy])}let jh=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||Pv()),deps:[[s,new Tn,new Ft]]}}find(l){const c=this.factories.find(g=>g.supports(l));if(c)return c;throw new Be(901,"")}}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:Pv}),s})();const Nv=Hh(null,"core",[{provide:yv,useValue:"unknown"},{provide:yE,deps:[Co]},{provide:hE,deps:[]},{provide:SI,deps:[]}]);let Lv=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(T(xv))},s.\u0275mod=zt({type:s}),s.\u0275inj=tn({}),s})()},3942:(rt,ye,L)=>{"use strict";L.d(ye,{Z:()=>Be});var d=L(2090),se=L(4859),B=L(9681),ge=L(1877);class fe{constructor(Se,Re){this._delegate=Se,this.firebase=Re,(0,B._addComponent)(Se,new se.wA("app-compat",()=>this,"PUBLIC")),this.container=Se.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this._delegate.automaticDataCollectionEnabled=Se}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Se=>{this._delegate.checkDestroyed(),Se()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(Se,Re=B._DEFAULT_ENTRY_NAME){var lt;this._delegate.checkDestroyed();const ht=this._delegate.container.getProvider(Se);return!ht.isInitialized()&&"EXPLICIT"===(null===(lt=ht.getComponent())||void 0===lt?void 0:lt.instantiationMode)&&ht.initialize(),ht.getImmediate({identifier:Re})}_removeServiceInstance(Se,Re=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Se).clearInstance(Re)}_addComponent(Se){(0,B._addComponent)(this._delegate,Se)}_addOrOverwriteComponent(Se){(0,B._addOrOverwriteComponent)(this._delegate,Se)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function we(){const yt=function _e(yt){const Se={},Re={__esModule:!0,initializeApp:function Ve(te,X={}){const Ae=B.initializeApp(te,X);if((0,d.r3)(Se,Ae.name))return Se[Ae.name];const ie=new yt(Ae,Re);return Se[Ae.name]=ie,ie},app:ht,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function Oe(te){const X=te.name,Ae=X.replace("-compat","");if(B._registerComponent(te)&&"PUBLIC"===te.type){const ie=(ce=ht())=>{if("function"!=typeof ce[Ae])throw de.create("invalid-app-argument",{appName:X});return ce[Ae]()};void 0!==te.serviceProps&&(0,d.ZB)(ie,te.serviceProps),Re[Ae]=ie,yt.prototype[Ae]=function(...ce){return this._getService.bind(this,X).apply(this,te.multipleInstances?ce:[])}}return"PUBLIC"===te.type?Re[Ae]:null},removeApp:function lt(te){delete Se[te]},useAsService:function Qe(te,X){return"serverAuth"===X?null:X},modularAPIs:B}};function ht(te){if(!(0,d.r3)(Se,te=te||B._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:te});return Se[te]}return Re.default=Re,Object.defineProperty(Re,"apps",{get:function Me(){return Object.keys(Se).map(te=>Se[te])}}),ht.App=yt,Re}(fe);return yt.INTERNAL=Object.assign(Object.assign({},yt.INTERNAL),{createFirebaseNamespace:we,extendNamespace:function Se(Re){(0,d.ZB)(yt,Re)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),yt}(),J=new ge.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){J.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const yt=self.firebase.SDK_VERSION;yt&&yt.indexOf("LITE")>=0&&J.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=K;!function Ge(yt){(0,B.registerVersion)("@firebase/app-compat","0.1.31",yt)}()},9681:(rt,ye,L)=>{"use strict";L.r(ye),L.d(ye,{FirebaseError:()=>ge.ZR,SDK_VERSION:()=>zi,_DEFAULT_ENTRY_NAME:()=>jt,_addComponent:()=>rn,_addOrOverwriteComponent:()=>Qt,_apps:()=>Kt,_clearComponents:()=>mr,_components:()=>Pn,_getProvider:()=>tn,_registerComponent:()=>Qn,_removeServiceInstance:()=>Ht,deleteApp:()=>ft,getApp:()=>Yn,getApps:()=>xn,initializeApp:()=>xs,onLog:()=>Nn,registerVersion:()=>sn,setLogLevel:()=>yr});var d=L(5861),se=L(4859),B=L(1877),ge=L(2090),fe=L(8766);class Ee{constructor(Q){this.container=Q}getPlatformInfoString(){return this.container.getProviders().map(ee=>{if(function de($){const Q=$.getComponent();return"VERSION"===(null==Q?void 0:Q.type)}(ee)){const Pe=ee.getImmediate();return`${Pe.library}/${Pe.version}`}return null}).filter(ee=>ee).join(" ")}}const _e="@firebase/app",K=new B.Yd("@firebase/app"),jt="[DEFAULT]",Ye={[_e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Kt=new Map,Pn=new Map;function rn($,Q){try{$.container.addComponent(Q)}catch(ee){K.debug(`Component ${Q.name} failed to register with FirebaseApp ${$.name}`,ee)}}function Qt($,Q){$.container.addOrOverwriteComponent(Q)}function Qn($){const Q=$.name;if(Pn.has(Q))return K.debug(`There were multiple attempts to register component ${Q}.`),!1;Pn.set(Q,$);for(const ee of Kt.values())rn(ee,$);return!0}function tn($,Q){const ee=$.container.getProvider("heartbeat").getImmediate({optional:!0});return ee&&ee.triggerHeartbeat(),$.container.getProvider(Q)}function Ht($,Q,ee=jt){tn($,Q).clearInstance(ee)}function mr(){Pn.clear()}const oi=new ge.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xi{constructor(Q,ee,Pe){this._isDeleted=!1,this._options=Object.assign({},Q),this._config=Object.assign({},ee),this._name=ee.name,this._automaticDataCollectionEnabled=ee.automaticDataCollectionEnabled,this._container=Pe,this.container.addComponent(new se.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this.checkDestroyed(),this._automaticDataCollectionEnabled=Q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Q){this._isDeleted=Q}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}const zi="9.9.2";function xs($,Q={}){"object"!=typeof Q&&(Q={name:Q});const ee=Object.assign({name:jt,automaticDataCollectionEnabled:!1},Q),Pe=ee.name;if("string"!=typeof Pe||!Pe)throw oi.create("bad-app-name",{appName:String(Pe)});const $e=Kt.get(Pe);if($e){if((0,ge.vZ)($,$e.options)&&(0,ge.vZ)(ee,$e.config))return $e;throw oi.create("duplicate-app",{appName:Pe})}const gt=new se.H0(Pe);for(const nn of Pn.values())gt.addComponent(nn);const fn=new xi($,ee,gt);return Kt.set(Pe,fn),fn}function Yn($=jt){const Q=Kt.get($);if(!Q)throw oi.create("no-app",{appName:$});return Q}function xn(){return Array.from(Kt.values())}function ft($){return $i.apply(this,arguments)}function $i(){return($i=(0,d.Z)(function*($){const Q=$.name;Kt.has(Q)&&(Kt.delete(Q),yield Promise.all($.container.getProviders().map(ee=>ee.delete())),$.isDeleted=!0)})).apply(this,arguments)}function sn($,Q,ee){var Pe;let $e=null!==(Pe=Ye[$])&&void 0!==Pe?Pe:$;ee&&($e+=`-${ee}`);const gt=$e.match(/\s|\//),fn=Q.match(/\s|\//);if(gt||fn){const nn=[`Unable to register library "${$e}" with version "${Q}":`];return gt&&nn.push(`library name "${$e}" contains illegal characters (whitespace or "/")`),gt&&fn&&nn.push("and"),fn&&nn.push(`version name "${Q}" contains illegal characters (whitespace or "/")`),void K.warn(nn.join(" "))}Qn(new se.wA(`${$e}-version`,()=>({library:$e,version:Q}),"VERSION"))}function Nn($,Q){if(null!==$&&"function"!=typeof $)throw oi.create("invalid-log-argument");(0,B.Am)($,Q)}function yr($){(0,B.Ub)($)}const cn="firebase-heartbeat-store";let Zn=null;function _r(){return Zn||(Zn=(0,fe.X3)("firebase-heartbeat-database",1,{upgrade:($,Q)=>{0===Q&&$.createObjectStore(cn)}}).catch($=>{throw oi.create("idb-open",{originalErrorMessage:$.message})})),Zn}function nt(){return(nt=(0,d.Z)(function*($){var Q;try{return(yield _r()).transaction(cn).objectStore(cn).get(En($))}catch(ee){if(ee instanceof ge.ZR)K.warn(ee.message);else{const Pe=oi.create("idb-get",{originalErrorMessage:null===(Q=ee)||void 0===Q?void 0:Q.message});K.warn(Pe.message)}}})).apply(this,arguments)}function Mt($,Q){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,d.Z)(function*($,Q){var ee;try{const $e=(yield _r()).transaction(cn,"readwrite");return yield $e.objectStore(cn).put(Q,En($)),$e.done}catch(Pe){if(Pe instanceof ge.ZR)K.warn(Pe.message);else{const $e=oi.create("idb-set",{originalErrorMessage:null===(ee=Pe)||void 0===ee?void 0:ee.message});K.warn($e.message)}}})).apply(this,arguments)}function En($){return`${$.name}!${$.options.appId}`}class gi{constructor(Q){this.container=Q,this._heartbeatsCache=null;const ee=this.container.getProvider("app").getImmediate();this._storage=new as(ee),this._heartbeatsCachePromise=this._storage.read().then(Pe=>(this._heartbeatsCache=Pe,Pe))}triggerHeartbeat(){var Q=this;return(0,d.Z)(function*(){const Pe=Q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$e=mi();if(null===Q._heartbeatsCache&&(Q._heartbeatsCache=yield Q._heartbeatsCachePromise),Q._heartbeatsCache.lastSentHeartbeatDate!==$e&&!Q._heartbeatsCache.heartbeats.some(gt=>gt.date===$e))return Q._heartbeatsCache.heartbeats.push({date:$e,agent:Pe}),Q._heartbeatsCache.heartbeats=Q._heartbeatsCache.heartbeats.filter(gt=>{const fn=new Date(gt.date).valueOf();return Date.now()-fn<=2592e6}),Q._storage.overwrite(Q._heartbeatsCache)})()}getHeartbeatsHeader(){var Q=this;return(0,d.Z)(function*(){if(null===Q._heartbeatsCache&&(yield Q._heartbeatsCachePromise),null===Q._heartbeatsCache||0===Q._heartbeatsCache.heartbeats.length)return"";const ee=mi(),{heartbeatsToSend:Pe,unsentEntries:$e}=function _t($,Q=1024){const ee=[];let Pe=$.slice();for(const $e of $){const gt=ee.find(fn=>fn.agent===$e.agent);if(gt){if(gt.dates.push($e.date),W(ee)>Q){gt.dates.pop();break}}else if(ee.push({agent:$e.agent,dates:[$e.date]}),W(ee)>Q){ee.pop();break}Pe=Pe.slice(1)}return{heartbeatsToSend:ee,unsentEntries:Pe}}(Q._heartbeatsCache.heartbeats),gt=(0,ge.L)(JSON.stringify({version:2,heartbeats:Pe}));return Q._heartbeatsCache.lastSentHeartbeatDate=ee,$e.length>0?(Q._heartbeatsCache.heartbeats=$e,yield Q._storage.overwrite(Q._heartbeatsCache)):(Q._heartbeatsCache.heartbeats=[],Q._storage.overwrite(Q._heartbeatsCache)),gt})()}}function mi(){return(new Date).toISOString().substring(0,10)}class as{constructor(Q){this.app=Q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ge.hl)()&&(0,ge.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Q=this;return(0,d.Z)(function*(){return(yield Q._canUseIndexedDBPromise)&&(yield function St($){return nt.apply(this,arguments)}(Q.app))||{heartbeats:[]}})()}overwrite(Q){var ee=this;return(0,d.Z)(function*(){var Pe;if(yield ee._canUseIndexedDBPromise){const gt=yield ee.read();return Mt(ee.app,{lastSentHeartbeatDate:null!==(Pe=Q.lastSentHeartbeatDate)&&void 0!==Pe?Pe:gt.lastSentHeartbeatDate,heartbeats:Q.heartbeats})}})()}add(Q){var ee=this;return(0,d.Z)(function*(){var Pe;if(yield ee._canUseIndexedDBPromise){const gt=yield ee.read();return Mt(ee.app,{lastSentHeartbeatDate:null!==(Pe=Q.lastSentHeartbeatDate)&&void 0!==Pe?Pe:gt.lastSentHeartbeatDate,heartbeats:[...gt.heartbeats,...Q.heartbeats]})}})()}}function W($){return(0,ge.L)(JSON.stringify({version:2,heartbeats:$})).length}!function z($){Qn(new se.wA("platform-logger",Q=>new Ee(Q),"PRIVATE")),Qn(new se.wA("heartbeat",Q=>new gi(Q),"PRIVATE")),sn(_e,"0.7.30",$),sn(_e,"0.7.30","esm2017"),sn("fire-js","")}("")},4859:(rt,ye,L)=>{"use strict";L.d(ye,{wA:()=>B,H0:()=>_e});var d=L(5861),se=L(2090);class B{constructor(K,J,ae){this.name=K,this.instanceFactory=J,this.type=ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const ge="[DEFAULT]";class fe{constructor(K,J){this.name=K,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const J=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(J)){const ae=new se.BH;if(this.instancesDeferred.set(J,ae),this.isInitialized(J)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:J});Ke&&ae.resolve(Ke)}catch(Ke){}}return this.instancesDeferred.get(J).promise}getImmediate(K){var J;const ae=this.normalizeInstanceIdentifier(null==K?void 0:K.identifier),Ke=null!==(J=null==K?void 0:K.optional)&&void 0!==J&&J;if(!this.isInitialized(ae)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ae})}catch(Ge){if(Ke)return null;throw Ge}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function de(we){return"EAGER"===we.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:ge})}catch(J){}for(const[J,ae]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(J);try{const Ge=this.getOrInitializeService({instanceIdentifier:Ke});ae.resolve(Ge)}catch(Ge){}}}}clearInstance(K=ge){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,d.Z)(function*(){const J=Array.from(K.instances.values());yield Promise.all([...J.filter(ae=>"INTERNAL"in ae).map(ae=>ae.INTERNAL.delete()),...J.filter(ae=>"_delete"in ae).map(ae=>ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=ge){return this.instances.has(K)}getOptions(K=ge){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:J={}}=K,ae=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(ae))throw Error(`${this.name}(${ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:ae,options:J});for(const[Ge,Be]of this.instancesDeferred.entries())ae===this.normalizeInstanceIdentifier(Ge)&&Be.resolve(Ke);return Ke}onInit(K,J){var ae;const Ke=this.normalizeInstanceIdentifier(J),Ge=null!==(ae=this.onInitCallbacks.get(Ke))&&void 0!==ae?ae:new Set;Ge.add(K),this.onInitCallbacks.set(Ke,Ge);const Be=this.instances.get(Ke);return Be&&K(Be,Ke),()=>{Ge.delete(K)}}invokeOnInitCallbacks(K,J){const ae=this.onInitCallbacks.get(J);if(ae)for(const Ke of ae)try{Ke(K,J)}catch(Ge){}}getOrInitializeService({instanceIdentifier:K,options:J={}}){let ae=this.instances.get(K);if(!ae&&this.component&&(ae=this.component.instanceFactory(this.container,{instanceIdentifier:(we=K,we===ge?void 0:we),options:J}),this.instances.set(K,ae),this.instancesOptions.set(K,J),this.invokeOnInitCallbacks(ae,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,ae)}catch(Ke){}var we;return ae||null}normalizeInstanceIdentifier(K=ge){return this.component?this.component.multipleInstances?K:ge:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const J=this.getProvider(K.name);if(J.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);J.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const J=new fe(K,this);return this.providers.set(K,J),J}getProviders(){return Array.from(this.providers.values())}}},1877:(rt,ye,L)=>{"use strict";L.d(ye,{in:()=>se,Yd:()=>de,Ub:()=>_e,Am:()=>we});const d=[];var se=(()=>{return(K=se||(se={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",se;var K})();const B={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},ge=se.INFO,fe={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},Ee=(K,J,...ae)=>{if(J<K.logLevel)return;const Ke=(new Date).toISOString(),Ge=fe[J];if(!Ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${J})`);console[Ge](`[${Ke}]  ${K.name}:`,...ae)};class de{constructor(J){this.name=J,this._logLevel=ge,this._logHandler=Ee,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(J){if(!(J in se))throw new TypeError(`Invalid value "${J}" assigned to \`logLevel\``);this._logLevel=J}setLogLevel(J){this._logLevel="string"==typeof J?B[J]:J}get logHandler(){return this._logHandler}set logHandler(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J}get userLogHandler(){return this._userLogHandler}set userLogHandler(J){this._userLogHandler=J}debug(...J){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...J),this._logHandler(this,se.DEBUG,...J)}log(...J){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...J),this._logHandler(this,se.VERBOSE,...J)}info(...J){this._userLogHandler&&this._userLogHandler(this,se.INFO,...J),this._logHandler(this,se.INFO,...J)}warn(...J){this._userLogHandler&&this._userLogHandler(this,se.WARN,...J),this._logHandler(this,se.WARN,...J)}error(...J){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...J),this._logHandler(this,se.ERROR,...J)}}function _e(K){d.forEach(J=>{J.setLogLevel(K)})}function we(K,J){for(const ae of d){let Ke=null;J&&J.level&&(Ke=B[J.level]),ae.userLogHandler=null===K?null:(Ge,Be,...yt)=>{const Se=yt.map(Re=>{if(null==Re)return null;if("string"==typeof Re)return Re;if("number"==typeof Re||"boolean"==typeof Re)return Re.toString();if(Re instanceof Error)return Re.message;try{return JSON.stringify(Re)}catch(lt){return null}}).filter(Re=>Re).join(" ");Be>=(null!=Ke?Ke:Ge.logLevel)&&K({level:se[Be].toLowerCase(),message:Se,args:yt,type:Ge.name})}}}},8766:(rt,ye,L)=>{"use strict";L.d(ye,{Lj:()=>Ve,X3:()=>ht});var d=L(5861);let B,ge;const de=new WeakMap,_e=new WeakMap,we=new WeakMap,K=new WeakMap,J=new WeakMap;let Ge={get(X,Ae,ie){if(X instanceof IDBTransaction){if("done"===Ae)return _e.get(X);if("objectStoreNames"===Ae)return X.objectStoreNames||we.get(X);if("store"===Ae)return ie.objectStoreNames[1]?void 0:ie.objectStore(ie.objectStoreNames[0])}return Re(X[Ae])},set:(X,Ae,ie)=>(X[Ae]=ie,!0),has:(X,Ae)=>X instanceof IDBTransaction&&("done"===Ae||"store"===Ae)||Ae in X};function Se(X){return"function"==typeof X?function yt(X){return X!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(X)?function(...Ae){return X.apply(lt(this),Ae),Re(de.get(this))}:function(...Ae){return Re(X.apply(lt(this),Ae))}:function(Ae,...ie){const ce=X.call(lt(this),Ae,...ie);return we.set(ce,Ae.sort?Ae.sort():[Ae]),Re(ce)}}(X):(X instanceof IDBTransaction&&function Ke(X){if(_e.has(X))return;const Ae=new Promise((ie,ce)=>{const re=()=>{X.removeEventListener("complete",xe),X.removeEventListener("error",me),X.removeEventListener("abort",me)},xe=()=>{ie(),re()},me=()=>{ce(X.error||new DOMException("AbortError","AbortError")),re()};X.addEventListener("complete",xe),X.addEventListener("error",me),X.addEventListener("abort",me)});_e.set(X,Ae)}(X),((X,Ae)=>Ae.some(ie=>X instanceof ie))(X,function fe(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(X,Ge):X)}function Re(X){if(X instanceof IDBRequest)return function ae(X){const Ae=new Promise((ie,ce)=>{const re=()=>{X.removeEventListener("success",xe),X.removeEventListener("error",me)},xe=()=>{ie(Re(X.result)),re()},me=()=>{ce(X.error),re()};X.addEventListener("success",xe),X.addEventListener("error",me)});return Ae.then(ie=>{ie instanceof IDBCursor&&de.set(ie,X)}).catch(()=>{}),J.set(Ae,X),Ae}(X);if(K.has(X))return K.get(X);const Ae=Se(X);return Ae!==X&&(K.set(X,Ae),J.set(Ae,X)),Ae}const lt=X=>J.get(X);function ht(X,Ae,{blocked:ie,upgrade:ce,blocking:re,terminated:xe}={}){const me=indexedDB.open(X,Ae),je=Re(me);return ce&&me.addEventListener("upgradeneeded",pt=>{ce(Re(me.result),pt.oldVersion,pt.newVersion,Re(me.transaction))}),ie&&me.addEventListener("blocked",()=>ie()),je.then(pt=>{xe&&pt.addEventListener("close",()=>xe()),re&&pt.addEventListener("versionchange",()=>re())}).catch(()=>{}),je}function Ve(X,{blocked:Ae}={}){const ie=indexedDB.deleteDatabase(X);return Ae&&ie.addEventListener("blocked",()=>Ae()),Re(ie).then(()=>{})}const Me=["get","getKey","getAll","getAllKeys","count"],Oe=["put","add","delete","clear"],Qe=new Map;function te(X,Ae){if(!(X instanceof IDBDatabase)||Ae in X||"string"!=typeof Ae)return;if(Qe.get(Ae))return Qe.get(Ae);const ie=Ae.replace(/FromIndex$/,""),ce=Ae!==ie,re=Oe.includes(ie);if(!(ie in(ce?IDBIndex:IDBObjectStore).prototype)||!re&&!Me.includes(ie))return;const xe=function(){var me=(0,d.Z)(function*(je,...pt){const Xt=this.transaction(je,re?"readwrite":"readonly");let jt=Xt.store;return ce&&(jt=jt.index(pt.shift())),(yield Promise.all([jt[ie](...pt),re&&Xt.done]))[0]});return function(pt){return me.apply(this,arguments)}}();return Qe.set(Ae,xe),xe}!function Be(X){Ge=X(Ge)}(X=>iF(nF({},X),{get:(Ae,ie,ce)=>te(Ae,ie)||X.get(Ae,ie,ce),has:(Ae,ie)=>!!te(Ae,ie)||X.has(Ae,ie)}))},5861:(rt,ye,L)=>{"use strict";function d(B,ge,fe,Ee,de,_e,we){try{var K=B[_e](we),J=K.value}catch(ae){return void fe(ae)}K.done?ge(J):Promise.resolve(J).then(Ee,de)}function se(B){return function(){var ge=this,fe=arguments;return new Promise(function(Ee,de){var _e=B.apply(ge,fe);function we(J){d(_e,Ee,de,we,K,"next",J)}function K(J){d(_e,Ee,de,we,K,"throw",J)}we(void 0)})}}L.d(ye,{Z:()=>se})}},rt=>{rt(rt.s=5234)}]);